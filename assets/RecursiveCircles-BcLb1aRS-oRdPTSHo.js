
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{ar as R,L as x,c as n,o as t,R as v,F as i,A as u,z as F,f as U,Y as _,r as h,m as f,h as w}from"./index-DXZKKOp8.js";const H=["cx","cy","r","fill","stroke","stroke-width","onClick","onMouseover"],M=["x","y","height","width","onClick","onMouseover"],$={__name:"RecursiveCircles",props:{color:{type:String,default:"#000000"},dataset:{type:Array,default:()=>[]},hoveredUid:{type:String,default:null},linkColor:{type:String,default:"#CCCCCC"},stroke:{type:String,default:"#FFFFFF"},strokeHovered:{type:String,default:"#000000"}},emits:["click","hover"],setup(o,{emit:y}){const p=o,k=y;function a(r){k("click",r)}function l(r){k("hover",r)}return R(p,"dataset").value.forEach(r=>{r.nodes&&r.nodes.length>0&&r.nodes.forEach(s=>{s.ancestor=r})}),(r,s)=>{const C=x("RecursiveCircles",!0);return t(!0),n(i,null,v(o.dataset,(e,g)=>(t(),n(i,null,[e.polygonPath&&e.polygonPath.coordinates?(t(),n(i,{key:0},[(t(!0),n(i,null,v(e.polygonPath.coordinates,(d,m)=>(t(),n(i,{key:"node_".concat(g,"_").concat(m)},[U("circle",{cx:d.x,cy:d.y,r:e.circleRadius,fill:"url(#gradient_".concat(e.color,")"),stroke:o.hoveredUid&&o.hoveredUid===e.uid?o.strokeHovered:o.stroke,"stroke-width":o.hoveredUid&&o.hoveredUid===e.uid?e.circleRadius/6:e.circleRadius/12,style:{cursor:"pointer"},onClick:c=>a(e),onMouseover:c=>l(e),onMouseleave:s[0]||(s[0]=c=>l(null))},null,40,H),r.$slots.node?(t(),n("foreignObject",{key:0,x:d.x-e.circleRadius,y:d.y-e.circleRadius,height:e.circleRadius*2,width:e.circleRadius*2,style:{overflow:"visible"},onClick:_(c=>a(e),["stop"]),onMouseover:c=>l(e),onMouseleave:s[1]||(s[1]=c=>l(null))},[h(r.$slots,"node",f({ref_for:!0},{node:e}))],40,M)):u("",!0)],64))),128)),e.nodes&&e.nodes.length>0?(t(),F(C,{key:0,dataset:e.nodes,color:o.color,stroke:o.stroke,strokeHovered:o.strokeHovered,hoveredUid:o.hoveredUid,onClick:a,onHover:l},{node:w(({node:d})=>[h(r.$slots,"node",f({ref_for:!0},{node:d}))]),_:2},1032,["dataset","color","stroke","strokeHovered","hoveredUid"])):u("",!0)],64)):u("",!0)],64))),256)}}};export{$ as default};
