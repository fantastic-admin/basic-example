
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{e as w,K as x,L as F,c as l,o as t,R as v,F as n,A as u,z as U,f as _,Z as M,r as h,m as y,h as H}from"./index-CJB5jCfL.js";const S=["cx","cy","r","fill","stroke","stroke-width","onClick","onMouseover"],$=["x","y","height","width","onClick","onMouseover"],P={__name:"RecursiveCircles",props:{color:{type:String,default:"#000000"},dataset:{type:Array,default:()=>[]},hoveredUid:{type:String,default:null},linkColor:{type:String,default:"#CCCCCC"},stroke:{type:String,default:"#FFFFFF"},strokeHovered:{type:String,default:"#000000"}},emits:["click","hover"],setup(o,{emit:f}){const p=o,k=f;function a(r){k("click",r)}function d(r){k("hover",r)}const C=w([]);return x(()=>p.dataset,r=>{C.value=r||[]},{immediate:!0}),(r,c)=>{const g=F("RecursiveCircles",!0);return t(!0),l(n,null,v(o.dataset,(e,m)=>(t(),l(n,null,[e.polygonPath&&e.polygonPath.coordinates?(t(),l(n,{key:0},[(t(!0),l(n,null,v(e.polygonPath.coordinates,(s,R)=>(t(),l(n,{key:"node_".concat(m,"_").concat(R)},[_("circle",{cx:s.x,cy:s.y,r:e.circleRadius,fill:"url(#gradient_".concat(e.color,")"),stroke:o.hoveredUid&&o.hoveredUid===e.uid?o.strokeHovered:o.stroke,"stroke-width":o.hoveredUid&&o.hoveredUid===e.uid?e.circleRadius/6:e.circleRadius/12,style:{cursor:"pointer"},onClick:i=>a(e),onMouseover:i=>d(e),onMouseleave:c[0]||(c[0]=i=>d(null))},null,40,S),r.$slots.node?(t(),l("foreignObject",{key:0,x:s.x-e.circleRadius,y:s.y-e.circleRadius,height:e.circleRadius*2,width:e.circleRadius*2,style:{overflow:"visible"},onClick:M(i=>a(e),["stop"]),onMouseover:i=>d(e),onMouseleave:c[1]||(c[1]=i=>d(null))},[h(r.$slots,"node",y({ref_for:!0},{node:e}))],40,$)):u("",!0)],64))),128)),e.nodes&&e.nodes.length>0?(t(),U(g,{key:0,dataset:e.nodes,color:o.color,stroke:o.stroke,strokeHovered:o.strokeHovered,hoveredUid:o.hoveredUid,onClick:a,onHover:d},{node:H(({node:s})=>[h(r.$slots,"node",y({ref_for:!0},{node:s}))]),_:2},1032,["dataset","color","stroke","strokeHovered","hoveredUid"])):u("",!0)],64)):u("",!0)],64))),256)}}};export{P as default};
