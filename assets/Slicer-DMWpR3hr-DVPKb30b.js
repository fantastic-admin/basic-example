
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{c0 as Xl,J as s,e as h,E as tl,aw as Le,K as J,aa as ce,bZ as Jl,c as r,o as n,f as N,A as c,r as Gl,O as R,g as Ul,w as al,u as he,F as x,R as $,j as Wl,m as Zl,n as G,ak as il,t as Ve}from"./index-CJB5jCfL.js";import{s as Kl,J as Ql,O as ql,d as Yl,m as Fe,r as ul,Q as rl,t as nl,Z as ol,y as sl}from"./vue-data-ui-8Gmf-dDN.js";import{E as vl,S as et,M as lt}from"./useResponsive-DfdjqQps-DzVAt69W.js";const tt={class:"vue-data-ui-slicer-labels",style:{position:"relative","z-index":"1","pointer-events":"none"}},at={key:0,style:{width:"100%",position:"relative"}},it={key:0,class:"minimap",style:{width:"100%"}},ut=["xmlns","viewBox"],rt=["id"],nt=["stop-color"],ot=["width","height","stroke"],st=["d","stroke"],vt=["x","width","y","height","fill"],mt=["d","stroke"],ct=["cx","cy","fill","stroke"],ht=["x","width","height","fill","rx"],dt=["x","width","height","rx","fill"],pt=["x","width","height","fill","rx"],ft=["x2","y1","y2","stroke"],yt=["d","fill"],gt=["d","stroke"],xt={key:6},Mt=["x","width","y","height","fill"],bt=["d","stroke"],kt=["x","height","fill","stroke"],wt=["x","height","fill","stroke"],Ct=["cx","cy","stroke","fill"],St=["cx","cy","fill"],Nt=["cx","cy","stroke","fill"],Pt=["cx","cy","fill"],$t={key:10},Rt=["cx","cy","fill","stroke"],Lt=["cx","cy","stroke","fill"],Vt=["cx","cy","fill"],Ft=["cx","cy","stroke","fill"],Bt=["cx","cy","fill"],Et=["height","x","width","onMouseenter"],At=["min","max"],zt=["min","max"],Be=48,Ht={__name:"Slicer",props:{background:{type:String,default:"#FFFFFF"},borderColor:{type:String,default:"#FFFFFF"},fontSize:{type:Number,default:14},labelLeft:{type:[String,Number],default:""},labelRight:{type:[String,Number],default:""},textColor:{type:String,default:"#1A1A1A"},inputColor:{type:String,default:"#1A1A1A"},max:{type:Number,default:0},min:{type:Number,default:0},selectColor:{type:String,default:"#4A4A4A"},useResetSlot:{type:Boolean,default:!1},valueStart:{type:[Number,String],default:0},valueEnd:{type:[Number,String],default:0},minimap:{type:Array,default:[]},smoothMinimap:{type:Boolean,default:!1},minimapSelectedColor:{type:String,default:"#1f77b4"},minimapSelectionRadius:{type:Number,default:12},minimapLineColor:{type:String,default:"#2D353C"},minimapSelectedColorOpacity:{type:Number,default:.2},minimapSelectedIndex:{type:Number,default:null},minimapIndicatorColor:{type:String,default:"#2D353C"},refreshStartPoint:{type:Number,default:0},refreshEndPoint:{type:Number,default:null},enableRangeHandles:{type:Boolean,default:!1},enableSelectionDrag:{type:Boolean,default:!0},verticalHandles:{type:Boolean,default:!1},minimapCompact:{type:Boolean,default:!1},allMinimaps:{type:Array,default(){return[]}},minimapMerged:{type:Boolean,default:!1},minimapFrameColor:{type:String,default:"#e1e5e8"},cutNullValues:{type:Boolean,default:!1},focusOnDrag:{type:Boolean,default:!1},focusRangeRatio:{type:Number,default:.1}},emits:["update:start","update:end","reset","trapMouse"],setup(i,{expose:ml,emit:cl}){Xl(e=>({v703bd703:fl.value,v08315f77:y.value,v784637a8:gl.value,v2f32beb2:i.selectColor,v147c5fb5:yl.value}));const a=i,k=h(null),w=h(a.min),C=h(a.max),M=s(()=>!!a.minimap.length),Ee=h(Ql()),L=s(()=>M.value&&a.minimapCompact),de=h(0);tl(()=>{const e=()=>{k.value&&(de.value=k.value.getBoundingClientRect().width)};e();const t=vl(e,50);window.addEventListener("resize",t),Le(()=>{window.removeEventListener("resize",t)})});const hl=s(()=>a.refreshEndPoint===null?a.max:a.refreshEndPoint),U=cl,W=s(()=>{if(L.value){const t=Math.max(1,ue.value-1);return xe.value/t*100}const e=Math.max(1,a.max-a.min);return(w.value-a.min)/e*100}),oe=s(()=>{if(L.value){const t=Math.max(1,ue.value-1);return Me.value/t*100}const e=Math.max(1,a.max-a.min);return(C.value-a.min)/e*100}),pe=s(()=>(W.value+oe.value)/2),fe=s(()=>{if(!k.value)return!1;const e=k.value.getBoundingClientRect().width;return W.value/100*e-$e.value/2<0}),ye=s(()=>{if(!k.value)return!1;const e=k.value.getBoundingClientRect().width;return oe.value/100*e+ve.value/2>e}),P=s(()=>{const e=ye.value?"calc(".concat(pe.value,"% - ").concat(ie.value.width,"px - 2px)"):fe.value?"calc(".concat(pe.value,"% - 8px)"):"calc(".concat(pe.value,"% - ").concat(ie.value.width/2,"px - 4px)");return{left:"".concat(W.value,"%"),width:"".concat(Math.max(0,oe.value-W.value),"%"),background:a.selectColor,tooltipLeft:"calc(".concat(W.value,"% - ").concat(fe.value?9:$e.value/2+3.5,"px)"),tooltipRight:"calc(".concat(oe.value,"% - ").concat(ye.value?ve.value-9:ve.value/2-3.5,"px)"),tooltipCenter:e,arrowLeft:!fe.value,arrowRight:!ye.value}}),Z=s(()=>Math.max(0,(K.value||1)-1)),ge=s(()=>Math.max(0,(ue.value||1)-1));function se(e){return ge.value===0?0:Math.round(e/ge.value*Z.value)}function Ae(e){return Z.value===0?0:Math.round(e/Z.value*ge.value)}const dl=e=>Math.floor(a.min+e),pl=e=>Math.ceil(a.min+e),xe=s({get(){return L.value?se(H.value):Number(w.value)},set(e){if(L.value){const t=Math.round(+e||0),l=Math.max(0,se(Math.max(0,I.value-1))),o=Math.min(Math.max(0,t),l),u=Ae(o);q(dl(u))}else{let t=Math.round(+e||0);const l=Number(C.value)-1,o=Math.min(Math.max(a.min,t),l);q(o)}}}),Me=s({get(){return L.value?se(Math.max(H.value,I.value-1)):Number(C.value)},set(e){if(L.value){const t=Math.round(+e||0),l=se(H.value),o=Math.max(t,l),u=Ae(o);Y(pl(u+1))}else{let t=Math.round(+e||0);const l=Number(w.value)+1,o=Math.max(l,Math.min(t,a.max));Y(o)}}}),fl=s(()=>a.inputColor),yl=s(()=>a.background),gl=s(()=>"".concat(a.selectColor,"33")),y=s(()=>a.borderColor),ze=s(()=>{const e=[];for(let t=0;t<a.max;t+=1)e.push(t);return e});function He(){U("reset")}J(()=>a.min,e=>{Number(w.value)<Number(e)&&(w.value=Number(e)),Number(C.value)<Number(e)&&(C.value=Number(e))}),J(()=>a.max,e=>{Number(w.value)>Number(e)&&(w.value=Number(e)),Number(C.value)>Number(e)&&(C.value=Number(e))});const be=h(null),f=h({width:1,height:1}),O=h(null);tl(()=>{if(M.value){const e=vl(()=>{const{width:t,height:l}=lt({chart:be.value});f.value.width=t,f.value.height=l-47});O.value=new ResizeObserver(e),O.value.observe(be.value)}}),Le(()=>{O.value&&O.value.disconnect()});const K=s(()=>Math.max(...a.allMinimaps.map(e=>e.series.length),a.minimap.length||0)),b=s(()=>{if(!K.value)return 0;const e=Math.max(1,K.value-(a.minimapCompact?1:0));return f.value.width/e}),De=s(()=>{const e=[];if(Array.isArray(a.minimap)&&a.minimap.length&&a.minimapMerged&&e.push(...a.minimap.filter(Number.isFinite)),Array.isArray(a.allMinimaps)&&a.allMinimaps.length)for(const t of a.allMinimaps)t!=null&&t.isVisible&&Array.isArray(t==null?void 0:t.series)&&e.push(...t.series.filter(Number.isFinite));return e.length?{min:Math.min(...e),max:Math.max(...e)}:{min:0,max:1}}),j=s(()=>De.value.min),X=s(()=>De.value.max),xl=s(()=>j.value<0&&X.value>0||X.value<=0?j.value:0),Ml=s(()=>Math.max(1e-9,Math.max(Math.abs(j.value),Math.abs(X.value)))),bl=s(()=>j.value<0&&X.value>0),kl=e=>{const t=Math.max(1,f.value.height);if(bl.value){const l=Ml.value;return(1-(Math.max(-1,Math.min(1,e/l))+1)/2)*t}else{const l=Math.min(0,j.value),o=Math.max(0,X.value);return t-(e-l)/Math.max(1e-9,o-l)*t}},Ie=s(()=>kl(0)),Te=s(()=>a.allMinimaps.length?a.allMinimaps.filter(e=>e.type==="bar").length:0),ke=s(()=>b.value/(Te.value||1)*.8);function _e(e,t,l){const o=ke.value,u=Math.max(1,Te.value),v=K.value-1;return l===0?e+o/2*t:l===v?e-o/2*(u-t):e-u*o/2+t*o}function Oe(e,t){return[0,K.value-1].includes(t)?ke.value/2:ke.value}function wl(e,t,l){const o=(v,g,d)=>Math.max(g,Math.min(d,v));if(t<=0){const v=Math.max(1e-9,0-e);return g=>l-(g-e)/v*l}if(e>=0){const v=Math.max(1e-9,t-0);return g=>l-(g-0)/v*l}const u=Math.max(1e-9,Math.max(Math.abs(e),Math.abs(t)));return v=>(1-(o(v/u,-1,1)+1)/2)*l}function je(e,t=!1){if(!e||!e.length)return{fullSet:"",points:[],selectionSet:"",sliced:[],firstPlot:null,lastPlot:null,hasFull:!1,hasSelection:!1,fullMarkers:[],selectionMarkers:[]};const l=Math.max(1,f.value.height),o=wl(j.value,X.value,l),u=e.length,v=Math.min(Math.max(0,H.value),Math.max(0,u-1)),g=Math.min(u,Math.max(v+1,I.value)),d=e.map((p,re)=>{const ne=p,ll=Number.isFinite(ne),Ol=b.value*re+(a.minimapCompact?0:b.value/2),jl=o(0);return{x:Ol,y:ll?o(ne):NaN,v:ne,value:ne==null?null:ll?ne:null,y0:jl,i:re}}),me=p=>{var re;return p>=0&&p<d.length&&Number.isFinite((re=d[p])==null?void 0:re.value)},T=d.filter(p=>Number.isFinite(p.value)&&!me(p.i-1)&&!me(p.i+1)),Re=T.filter(p=>p.i>=v&&p.i<g),_=d.slice(v,g),Tl=d.length>=2?a.smoothMinimap||t?a.cutNullValues?ul(d):rl(d.filter(p=>p.value!=null)):a.cutNullValues?nl(d):ol(d.filter(p=>p.value!=null)):"",_l=_.length>=2?a.smoothMinimap||t?a.cutNullValues?ul(_):rl(_.filter(p=>p.value!=null)):a.cutNullValues?nl(_):ol(_.filter(p=>p.value!=null)):"";return{fullSet:Tl,points:d,selectionSet:_l,sliced:_,firstPlot:d[v]||null,lastPlot:d[Math.max(0,g-1)]||null,hasFull:d.length>=2,hasSelection:_.length>=2,fullMarkers:T,selectionMarkers:Re}}const m=s(()=>a.minimap.length?je(a.minimap):{fullSet:"",selectionSet:"",sliced:[],firstPlot:null,lastPlot:null,hasFull:!1,hasSelection:!1}),Q=s(()=>a.allMinimaps.length?a.allMinimaps.map((e,t)=>{var u,v;const l=je((e==null?void 0:e.series)||[],!!e.smooth),o=(v=(u=e==null?void 0:e.id)!=null?u:e==null?void 0:e.name)!=null?v:t;return{key:typeof o=="object"?JSON.stringify(o):String(o),color:e==null?void 0:e.color,...l,isVisible:e.isVisible,type:e.type||"line"}}):[]),S=s(()=>{const e=H.value,t=Math.max(e+1,I.value);return{x:b.value*e+(a.minimapCompact?0:b.value/2),width:b.value*(t-e)-b.value}}),V=h(a.minimapSelectedIndex);function Cl(e){V.value=el(a.valueStart)+e}const Sl=et(Cl,60);J(()=>a.minimapSelectedIndex,(e,t)=>{if([null,void 0].includes(e)){V.value=null;return}e!==t&&Sl(e)},{immediate:!0});function Nl(e){V.value=e;const t=H.value,l=I.value;e>=t&&e<l&&!z.value&&U("trapMouse",e-t)}const we=h(null),Ce=h(null);function q(e){w.value=e,we.value&&(we.value.value=e),U("update:start",Number(w.value))}function Y(e){C.value=e,Ce.value&&(Ce.value.value=e),U("update:end",Number(C.value))}const Se=s(()=>a.valueEnd-a.valueStart),Pl=s(()=>Se.value<a.max-a.min),ee=h(!1);let $l=h(null);const Rl=s(()=>(de.value-48)/(a.max-a.min)*Se.value),Ll=s(()=>Math.max(1,de.value-Be-Rl.value)),Vl=s(()=>Math.max(1,a.max-a.min-Se.value)),Fl=s(()=>Vl.value/Ll.value),Xe=h(0),Ne=h(0),Je=h(0),Bl=h(0);let F=null,B=null,E=null,A=null;const Ge=h(a.min);function Pe(e){if(!k.value)return a.min;const t=k.value.getBoundingClientRect(),l=t.left+Be/2,o=t.right-Be/2,u=Math.max(1,o-l),v=(Math.max(l,Math.min(e,o))-l)/u,g=Math.max(1,a.max-a.min);return Math.round(a.min+v*g)}const Ue=async e=>{if(D.value=!0,!a.enableSelectionDrag)return;const t=e.type==="touchstart";t||e.stopPropagation();const l=t&&e.targetTouches&&e.targetTouches[0]?e.targetTouches[0]:null,o=t?l?l.target:null:e.target;if(!o||!(o instanceof Element)||o.classList&&o.classList.contains("range-handle"))return;ee.value=!0;const u=t?l?l.clientX:0:e.clientX;if($l.value=u,Xe.value=u,a.focusOnDrag&&!Pl.value&&k.value){Ge.value=Pe(u);const v=Math.min(.95,Math.max(.05,a.focusRangeRatio)),g=a.max-a.min,d=Math.max(1,Math.round(g*v)),me=Math.floor(d/2);let T=Ge.value-me;T=Math.max(a.min,Math.min(T,a.max-d));const Re=Math.min(a.max,T+d);q(T),Y(Re),sl(k.value,"mouseup"),await ce(),sl(k.value,"mousedown",{clientX:u})}Ne.value=Number(w.value),Je.value=Number(C.value),Bl.value=Fl.value,F=t?"touchmove":"mousemove",B=t?"touchend":"mouseup",E=t?Al:El,A=t?Hl:zl,window.addEventListener(F,E,{passive:!1}),window.addEventListener(B,A)};function El(e){ee.value&&We(e.clientX)}function Al(e){if(!ee.value||!k.value)return;const t=e.target;if(!(t instanceof Element)||!k.value.contains(t)||t.classList&&t.classList.contains("range-handle"))return;e.preventDefault();const l=e.targetTouches&&e.targetTouches[0]?e.targetTouches[0]:null;l&&We(l.clientX)}function We(e){if(!ee.value)return;const t=Pe(Xe.value),l=Pe(e)-t,o=Math.max(1,Je.value-Ne.value);let u=Math.round(Ne.value+l);const v=a.min,g=a.max-o;u<v&&(u=v),u>g&&(u=g);const d=u+o;q(u),Y(d)}function zl(){Ze()}function Hl(){Ze()}function Ze(){ee.value=!1,F&&E&&window.removeEventListener(F,E),B&&A&&window.removeEventListener(B,A),F=B=null,E=A=null}const z=h(!1),le=h(null),te=h(null),$e=h(1),ve=h(1),D=h(!1);function Ke(){le.value&&($e.value=le.value.getBoundingClientRect().width)}function Qe(){te.value&&(ve.value=te.value.getBoundingClientRect().width)}const qe=h(0);function Ye(e){qe.value=e==="start"?1:0}const ae=h(!1),ie=h({width:0,left:0});J([w,C],async()=>{if(await ce(),!le.value||!te.value){ae.value=!1,ie.value={width:0,left:0};return}const e=le.value.getBoundingClientRect(),t=te.value.getBoundingClientRect();ae.value=e.x+e.width>t.x;const l=e.x+e.width/2,o=t.x+t.width/2,u=e.width+t.width,v=(l+o)/2;ie.value={width:u,left:v-u/2}}),Jl(()=>{Ke(),Qe()}),J(()=>a.labelLeft,()=>{ce(Ke)},{deep:!0}),J(()=>a.labelRight,()=>{ce(Qe)},{deep:!0}),ml({setStartValue:q,setEndValue:Y}),Le(()=>{O.value&&O.value.disconnect(),F&&E&&window.removeEventListener(F,E),B&&A&&window.removeEventListener(B,A),F=B=null,E=A=null});const ue=s(()=>Math.max(1,a.max-a.min));function el(e){const t=Math.floor(e-a.min);return Math.min(Math.max(0,t),ue.value)}function Dl(e){const t=Math.ceil(e-a.min);return Math.min(Math.max(0,t),ue.value)}const H=s(()=>el(w.value)),I=s(()=>Dl(C.value)),Il=s(()=>{if(!ze.value.length)return null;if(V.value>=H.value&&V.value<I.value){const e=V.value;return{x1:b.value*e+(a.minimapCompact?0:b.value/2),x2:b.value*e+(a.minimapCompact?0:b.value/2),y1:0,y2:Math.max(f.value.height,0),stroke:a.minimapIndicatorColor,"stroke-linecap":"round","stroke-dasharray":2,"stroke-width":1}}else return null});return(e,t)=>(n(),r("div",{"data-dom-to-png-ignore":"",style:{padding:"0 24px"},class:"vue-data-ui-zoom",ref_key:"zoomWrapper",ref:k,onMousedown:Ue,onTouchstart:Ue,onTouchend:t[11]||(t[11]=l=>D.value=!1)},[N("div",tt,[i.valueStart!==i.refreshStartPoint||i.valueEnd!==hl.value?(n(),r("div",at,[i.useResetSlot?Gl(e.$slots,"reset-action",{key:1,reset:He},void 0,!0):(n(),r("button",{key:0,tabindex:"0",role:"button",class:"vue-data-ui-refresh-button",style:R({top:M.value?"36px":"-16px",pointerEvents:"all !important"}),onClick:He},[Ul(ql,{name:"refresh",stroke:i.textColor},null,8,["stroke"])],4))])):c("",!0)]),N("div",{class:"double-range-slider",ref_key:"minimapWrapper",ref:be,style:{"z-index":"0"},onMouseenter:t[9]||(t[9]=l=>D.value=!0),onMouseleave:t[10]||(t[10]=l=>D.value=!1)},[M.value?(n(),r("div",it,[(n(),r("svg",{key:"mm-".concat(i.minimapMerged?"merged":"split","-").concat(i.minimapCompact?"compact":"normal"),xmlns:he(Yl),viewBox:"0 0 ".concat(Math.max(0,f.value.width)," ").concat(Math.max(0,f.value.height))},[N("defs",null,[N("linearGradient",{id:Ee.value,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[N("stop",{offset:"0%","stop-color":"".concat(i.minimapLineColor,"50")},null,8,nt),t[12]||(t[12]=N("stop",{offset:"100%","stop-color":"transparent"},null,-1))],8,rt)]),i.minimapCompact?(n(),r("rect",{key:0,class:"vue-ui-zoom-minimap-frame",x:0,y:0,width:f.value.width,height:f.value.height,fill:"none",stroke:i.minimapFrameColor,rx:3},null,8,ot)):c("",!0),i.minimapMerged?(n(),r("path",{key:1,d:"M".concat(m.value.fullSet),stroke:"".concat(i.minimapLineColor),fill:"none","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",style:{opacity:"0.6"}},null,8,st)):(n(),r(x,{key:2},[(n(!0),r(x,null,$(Q.value.filter(l=>l.type==="bar"),(l,o)=>(n(),r("g",null,[(n(!0),r(x,null,$(l.points,(u,v)=>(n(),r(x,null,[l.isVisible&&!isNaN(u.y)?(n(),r("rect",{key:0,x:_e(u.x,o,v),width:Oe(o,v),y:u.v>=0?u.y:u.y0,height:u.v>=0?u.y0-u.y:u.y-u.y0,fill:l.color,style:{opacity:"0.6"}},null,8,vt)):c("",!0)],64))),256))]))),256)),(n(!0),r(x,null,$(Q.value.filter(l=>l.type==="line"),l=>(n(),r("g",{key:String(l.key)},[l.isVisible?(n(),r("path",{key:0,d:"M ".concat(l.fullSet),fill:"none",stroke:l.color,style:{opacity:"0.6"}},null,8,mt)):c("",!0),l.isVisible?(n(!0),r(x,{key:1},$(l.fullMarkers,o=>(n(),r("circle",{key:"sel-dot-under-".concat(l.key,"-").concat(o.i),cx:o.x,cy:o.y,r:"2",fill:l.color,stroke:y.value,"stroke-width":"0.5",style:{opacity:"0.6"}},null,8,ct))),128)):c("",!0)]))),128))],64)),N("rect",{x:S.value.x,width:S.value.width<0?0:S.value.width,height:Math.max(f.value.height,0),y:0,fill:y.value,rx:i.minimapSelectionRadius,stroke:"none"},null,8,ht),N("rect",{x:S.value.x,width:S.value.width<0?0:S.value.width,height:Math.max(f.value.height,0),y:0,rx:i.minimapSelectionRadius,fill:y.value},null,8,dt),N("rect",{x:S.value.x,width:S.value.width<0?0:S.value.width,height:Math.max(f.value.height,0),y:0,fill:i.minimapSelectedColor,rx:i.minimapSelectionRadius,style:R({opacity:i.minimapSelectedColorOpacity})},null,12,pt),V.value!==null&&!z.value?(n(),r("line",Wl(Zl({key:3},Il.value)),null,16)):c("",!0),!i.minimapMerged&&xl.value<0?(n(),r("line",{key:4,class:"slicer-minimap-zero-line",x1:0,x2:f.value.width,y1:Ie.value,y2:Ie.value,stroke:i.minimapFrameColor,"stroke-width":"0.5"},null,8,ft)):c("",!0),i.minimapMerged?(n(),r(x,{key:5},[m.value&&m.value.sliced&&m.value.sliced.length?(n(),r(x,{key:0},[m.value.selectionSet?(n(),r("path",{key:0,d:"M".concat(m.value.sliced[0].x,",").concat(Math.max(f.value.height,0)," ").concat(m.value.selectionSet," L").concat(m.value.sliced[m.value.sliced.length-1].x,",").concat(Math.max(f.value.height,0),"Z"),fill:"url(#".concat(Ee.value,")"),stroke:"none",style:{opacity:"1"}},null,8,yt)):c("",!0),m.value.selectionSet?(n(),r("path",{key:1,d:"M ".concat(m.value.selectionSet),stroke:"".concat(i.minimapLineColor),fill:"transparent","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,gt)):c("",!0)],64)):c("",!0)],64)):(n(),r("g",xt,[(n(!0),r(x,null,$(Q.value.filter(l=>l.type==="bar"),(l,o)=>(n(),r("g",null,[(n(!0),r(x,null,$(l.points,(u,v)=>(n(),r(x,null,[l.isVisible&&!isNaN(u.y)?(n(),r("rect",{key:0,x:_e(u.x,o,v),width:Oe(o,v),y:u.v>=0?u.y:u.y0,height:u.v>=0?u.y0-u.y:u.y-u.y0,fill:l.color,style:R({opacity:v>=i.valueStart&&v<=i.valueEnd-1?1:0})},null,12,Mt)):c("",!0)],64))),256))]))),256)),(n(!0),r(x,null,$(Q.value.filter(l=>l.type==="line"),l=>(n(),r("g",{key:String(l.key)},[l&&l.hasSelection&&l.selectionSet&&l.isVisible?(n(),r("path",{key:0,d:"M ".concat(l.selectionSet),stroke:l.color,fill:"transparent","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,bt)):c("",!0)]))),128))])),M.value&&i.minimapCompact?(n(),r("rect",{key:7,class:"vue-ui-zoom-compact-minimap-handle",x:S.value.x-8,y:0,width:8,height:f.value.height,fill:y.value,stroke:i.textColor,rx:3},null,8,kt)):c("",!0),M.value&&i.minimapCompact?(n(),r("rect",{key:8,class:"vue-ui-zoom-compact-minimap-handle",x:S.value.x+S.value.width,y:0,width:8,height:f.value.height,fill:y.value,stroke:i.textColor,rx:3},null,8,wt)):c("",!0),i.minimapMerged?(n(),r(x,{key:9},[m.value&&m.value.firstPlot&&m.value.firstPlot.value!==null?(n(),r("circle",{key:0,cx:m.value.firstPlot.x,cy:m.value.firstPlot.y,"stroke-width":"0.5",stroke:y.value,r:"4",fill:i.minimapLineColor},null,8,Ct)):c("",!0),m.value&&m.value.firstPlot&&m.value.firstPlot.value!==null?(n(),r("circle",{key:1,cx:m.value.firstPlot.x,cy:m.value.firstPlot.y,r:"2",fill:y.value},null,8,St)):c("",!0),m.value&&m.value.lastPlot&&m.value.lastPlot.value!==null?(n(),r("circle",{key:2,cx:m.value.lastPlot.x,cy:m.value.lastPlot.y,"stroke-width":"0.5",stroke:y.value,r:"4",fill:i.minimapLineColor},null,8,Nt)):c("",!0),m.value&&m.value.lastPlot&&m.value.lastPlot.value!==null?(n(),r("circle",{key:3,cx:m.value.lastPlot.x,cy:m.value.lastPlot.y,r:"2",fill:y.value},null,8,Pt)):c("",!0)],64)):(n(),r("g",$t,[(n(!0),r(x,null,$(Q.value.filter(l=>l.type==="line"),l=>(n(),r("g",{key:String(l.key)},[l.isVisible?(n(!0),r(x,{key:0},$(l.selectionMarkers,o=>(n(),r("circle",{key:"sel-dot-".concat(l.key,"-").concat(o.i),cx:o.x,cy:o.y,r:"2.5",fill:l.color,stroke:y.value,"stroke-width":"0.5"},null,8,Rt))),128)):c("",!0),l&&l.firstPlot&&l.isVisible&&l.firstPlot.value!==null?(n(),r("circle",{key:1,cx:l.firstPlot.x,cy:l.firstPlot.y,"stroke-width":"0.5",stroke:y.value,r:"4",fill:l.color},null,8,Lt)):c("",!0),l&&l.firstPlot&&l.isVisible&&l.firstPlot.value!==null?(n(),r("circle",{key:2,cx:l.firstPlot.x,cy:l.firstPlot.y,r:"2",fill:y.value},null,8,Vt)):c("",!0),l&&l.lastPlot&&l.isVisible&&l.lastPlot.value!==null?(n(),r("circle",{key:3,cx:l.lastPlot.x,cy:l.lastPlot.y,"stroke-width":"0.5",stroke:y.value,r:"4",fill:l.color},null,8,Ft)):c("",!0),l&&l.lastPlot&&l.isVisible&&l.lastPlot.value!==null?(n(),r("circle",{key:4,cx:l.lastPlot.x,cy:l.lastPlot.y,r:"2",fill:y.value},null,8,Bt)):c("",!0)]))),128))])),(n(!0),r(x,null,$(ze.value,(l,o)=>(n(),r("rect",{y:0,height:Math.max(f.value.height,0),fill:"transparent",style:R([{"pointer-events":"all !important"},{cursor:l>=H.value&&l<I.value&&i.enableSelectionDrag?z.value?"grabbing":"grab":"default"}]),x:b.value*o-(i.minimapCompact?b.value/2:0),width:b.value<0?0:b.value,onMousedown:t[0]||(t[0]=u=>z.value=!0),onMouseup:t[1]||(t[1]=u=>z.value=!1),onMouseenter:u=>Nl(l),onMouseleave:t[2]||(t[2]=u=>{V.value=null,U("trapMouse",null)})},null,44,Et))),256))],8,ut))])):c("",!0),N("div",{class:"slider-track",style:R({visibility:M.value&&i.minimapCompact?"hidden":"visible"})},null,4),N("div",{class:G({"range-highlight":!0,move:i.enableSelectionDrag}),onMousedown:t[3]||(t[3]=l=>z.value=!0),onMouseup:t[4]||(t[4]=l=>z.value=!1),style:R({...P.value,cursor:z.value?"grabbing":"grab",visibility:M.value&&i.minimapCompact?"hidden":"visible"})},null,38),i.enableRangeHandles?al((n(),r("input",{key:1,ref_key:"rangeStart",ref:we,type:"range",class:G({"range-left":!0,"range-handle":!0,"range-minimap":M.value&&i.verticalHandles,"range-invisible":M.value&&i.minimapCompact}),min:i.min,max:L.value&&i.minimapCompact?Z.value:i.max,step:1,"onUpdate:modelValue":t[5]||(t[5]=l=>xe.value=l),onMouseenter:t[6]||(t[6]=l=>Ye("start"))},null,42,At)),[[il,xe.value,void 0,{number:!0}]]):c("",!0),i.enableRangeHandles?al((n(),r("input",{key:2,ref_key:"rangeEnd",ref:Ce,type:"range",class:G({"range-right":!0,"range-handle":!0,"range-minimap":M.value&&i.verticalHandles,"range-invisible":M.value&&i.minimapCompact}),min:i.min,max:L.value&&i.minimapCompact?Z.value:i.max,step:1,"onUpdate:modelValue":t[7]||(t[7]=l=>Me.value=l),onMouseenter:t[8]||(t[8]=l=>Ye("end"))},null,42,zt)),[[il,Me.value,void 0,{number:!0}]]):c("",!0),i.labelLeft?(n(),r("div",{key:3,ref_key:"tooltipLeft",ref:le,class:G({"range-tooltip":!0,"range-tooltip-visible":D.value,"range-tooltip-arrow":P.value.arrowLeft&&!i.verticalHandles,"range-tooltip-arrow-left":!P.value.arrowLeft&&!i.verticalHandles}),style:R({left:P.value.tooltipLeft,color:he(Fe)(i.selectColor),backgroundColor:i.selectColor,border:"1px solid ".concat(y.value),zIndex:"".concat(qe.value+4),visibility:ae.value||i.labelLeft===i.labelRight?"hidden":"visible",top:M.value&&i.minimapCompact?"calc(-100% - 18px)":"-100%"})},Ve(i.labelLeft),7)):c("",!0),(ae.value||i.labelLeft===i.labelRight)&&(i.labelLeft||i.labelRight)?(n(),r("div",{key:4,ref:"tooltipMerge",class:G({"range-tooltip":!0,"range-tooltip-visible":D.value,"range-tooltip-arrow":!0,"range-tooltip-arrow-left":!P.value.arrowLeft&&!i.verticalHandles,"range-tooltip-arrow-right":!P.value.arrowRight&&!i.verticalHandles}),style:R({left:P.value.tooltipCenter,width:ie.value.width+"px",color:he(Fe)(i.selectColor),backgroundColor:i.selectColor,border:"1px solid ".concat(y.value),zIndex:"4",top:M.value&&i.minimapCompact?"calc(-100% - 18px)":"-100%"})},Ve(i.labelLeft===i.labelRight?i.labelLeft:"".concat(i.labelLeft," - ").concat(i.labelRight)),7)):c("",!0),i.labelRight?(n(),r("div",{key:5,ref_key:"tooltipRight",ref:te,class:G({"range-tooltip":!0,"range-tooltip-visible":D.value,"range-tooltip-arrow":P.value.arrowRight&&!i.verticalHandles,"range-tooltip-arrow-right":!P.value.arrowRight&&!i.verticalHandles}),style:R({left:P.value.tooltipRight,color:he(Fe)(i.selectColor),backgroundColor:i.selectColor,border:"1px solid ".concat(y.value),zIndex:"4",visibility:ae.value||i.labelLeft===i.labelRight?"hidden":"visible",top:M.value&&i.minimapCompact?"calc(-100% - 18px)":"-100%"})},Ve(i.labelRight),7)):c("",!0)],544)],544))}},_t=Kl(Ht,[["__scopeId","data-v-a7df6c49"]]);export{_t as G};
