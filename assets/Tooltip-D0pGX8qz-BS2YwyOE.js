
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{w as B}from"./vue-data-ui-8Gmf-dDN.js";import{e as c,K as g,aa as C,af as k,J as h,z as N,o as S,c as T,A as Y,r as y,f as $,O,n as z,bq as M,E as R}from"./index-CJB5jCfL.js";import"./alert-I_0TAljB.js";function W({tooltip:a,chart:r,clientPosition:e,positionPreference:p="center",defaultOffsetY:v=24,blockShiftY:m=!1}){const t=c(0),l=c(v);if(a&&r){const{width:n,height:i}=a.getBoundingClientRect(),{right:s,left:d,bottom:f}=r.getBoundingClientRect();p==="center"&&(e.x+n/2>s?t.value=-n+(s-e.x):e.x-n/2<d?t.value=-n+(n-(e.x-d)):t.value=-n/2),p==="right"&&(e.x+n>s?t.value=-n+(s-e.x):t.value=0),p==="left"&&(e.x<d+n?t.value=-n+(n-(e.x-d)):t.value=-n),e.y+i>f&&!m&&(l.value=-i-v)}return{top:e.y+l.value,left:e.x+t.value}}function E(a,r,e){R(()=>a.addEventListener(r,e)),k(()=>a.removeEventListener(r,e))}function L(){const a=c(0),r=c(0);return E(window,"mousemove",e=>{a.value=e.clientX,r.value=e.clientY}),{x:a,y:r}}const A=["aria-hidden"],P=["innerHTML"],H={__name:"Tooltip",props:{backgroundColor:{type:String,default:"#FFFFFF"},color:{type:String,default:"#000000"},content:String,maxWidth:{type:String,default:"300px"},parent:{type:Object},show:{type:Boolean,default:!1},isCustom:{type:Boolean,default:!1},fontSize:{type:[Number,String],default:14},borderRadius:{type:Number,default:4},borderColor:{type:String,default:"#e1e5e8"},borderWidth:{type:Number,default:1},backgroundOpacity:{type:Number,default:100},position:{type:String,default:"center"},offsetY:{type:Number,default:24},blockShiftY:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},smooth:{type:Boolean,default:!0},backdropFilter:{type:Boolean,default:!0},smoothForce:{type:Number,default:.18},smoothSnapThreshold:{type:Number,default:.25}},setup(a,{expose:r}){const e=a,p=c(null),{x:v,y:m}=L(e.parent),t=c({x:0,y:0}),l=c({x:0,y:0});function n({x:o,y:u}){v.value=o,m.value=u}let i=null;function s(){if(!e.show){f();return}if(!e.smooth){l.value.x=t.value.x,l.value.y=t.value.y,f();return}const o=t.value.x-l.value.x,u=t.value.y-l.value.y;if(Math.abs(o)<=e.smoothSnapThreshold&&Math.abs(u)<=e.smoothSnapThreshold){l.value.x=t.value.x,l.value.y=t.value.y,f();return}l.value.x+=o*e.smoothForce,l.value.y+=u*e.smoothForce,i=requestAnimationFrame(s)}function d(){i==null&&e.show&&e.smooth&&(i=requestAnimationFrame(s))}function f(){i!=null&&(cancelAnimationFrame(i),i=null)}g([v,m],([o,u])=>{t.value.x=o,t.value.y=u,e.smooth?d():(l.value.x=o,l.value.y=u)}),g(()=>e.show,async o=>{if(o){const u=v.value,b=m.value;t.value.x=u,t.value.y=b,l.value.x=u,l.value.y=b,await C(),d()}else f()}),k(()=>{f()});const x=h(()=>{const o=W({tooltip:p.value,chart:e.parent,clientPosition:l.value,positionPreference:e.position,defaultOffsetY:e.offsetY,blockShiftY:e.blockShiftY});return{top:Math.round(o.top),left:Math.round(o.left)}}),F=h(()=>B(e.backgroundColor,e.backgroundOpacity)),w=h(()=>{const o={pointerEvents:"none",position:"fixed",top:"0px",left:"0px",transform:"translate3d(".concat(x.value.left,"px, ").concat(x.value.top,"px, 0)"),borderRadius:"".concat(e.borderRadius,"px"),border:"".concat(e.borderWidth,"px solid ").concat(e.borderColor),zIndex:2147483647};return e.isCustom||Object.assign(o,{background:F.value,color:e.color,maxWidth:e.maxWidth,fontSize:"".concat(e.fontSize,"px")}),o});return r({placeTooltip:n}),(o,u)=>(S(),N(M,{to:a.isFullscreen?a.parent:"body"},[a.show?(S(),T("div",{key:0,ref_key:"tooltip",ref:p,role:"tooltip","aria-hidden":!a.show,"aria-live":"polite",class:z({"vue-data-ui-custom-tooltip":a.isCustom,"vue-data-ui-tooltip":!a.isCustom,"vue-data-ui-tooltip-backdrop":a.backdropFilter}),style:O(w.value)},[y(o.$slots,"tooltip-before"),y(o.$slots,"default"),$("div",{innerHTML:a.content},null,8,P),y(o.$slots,"tooltip-after")],14,A)):Y("",!0)],8,["to"]))}};export{H as default};
