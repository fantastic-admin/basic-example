
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{e as y,J as O,E as Q,av as Z,w as tt,u as ot,c as i,o as e,f as P,r as v,g as et,j as S,k as lt,X as nt,Y as st,O as f,A as a,F as m,z as c,n as g,t as k,m as F}from"./index-DXZKKOp8.js";import{i as it}from"./vClickOutside-C6WiFswA-B2BXHGcD.js";import{s as at,u as r}from"./vue-data-ui-BN9YfUec.js";import L from"./img-BecE5qXd-CsL1o-EN.js";import"./alert-l5XlVwCh.js";import"./dom-to-png--BNgrTZV-DTUrW_sQ.js";const ut=["title"],rt=["data-open"],ct={__name:"UserOptions",props:{hasPdf:{type:Boolean,default:!0},hasXls:{type:Boolean,default:!0},hasImg:{type:Boolean,default:!1},hasSvg:{type:Boolean,default:!1},hasLabel:{type:Boolean,default:!1},isLabelActive:{type:Boolean,default:!1},hasTable:{type:Boolean,default:!1},hasSort:{type:Boolean,default:!1},hasStack:{type:Boolean,default:!1},hasTooltip:{type:Boolean,default:!1},color:{type:String},backgroundColor:{type:String},isPrinting:{type:Boolean,default:!1},isImaging:{type:Boolean,default:!1},title:{type:String},uid:{type:String},hasFullscreen:{type:Boolean,default:!1},chartElement:{type:HTMLElement,default:null},isFullscreen:{type:Boolean,default:!1},isStacked:{type:Boolean,default:!1},isTooltip:{type:Boolean,default:!1},hasAnimation:{type:Boolean,default:!1},isAnimation:{type:Boolean,default:!1},titles:{type:Object,default(){return{}}},showTooltips:{type:Boolean,default:!0},zIndex:{type:Number,default:1},noOffset:{type:Boolean,default:!0},position:{type:String,default:"right"},offsetX:{type:Number,default:0},hasAnnotator:{type:Boolean,default:!1},isAnnotation:{type:Boolean,default:!1},callbacks:{type:Object,default(){return{}}},printScale:{type:Number,default:2},tableDialog:{type:Boolean,default:!1}},emits:["generatePdf","generateCsv","generateImage","toggleTable","toggleLabels","toggleSort","toggleFullscreen","toggleStack","toggleTooltip","toggleAnimation","toggleAnnotator","generateSvg"],setup(t,{expose:D,emit:X}){const s=t,p=X;async function z(){if(s.callbacks.pdf){const{imageUri:l,base64:o}=await L({domElement:s.chartElement,base64:!0,img:!0,scale:s.printScale});s.callbacks.pdf({domElement:s.chartElement,base64:o,imageUri:l})}else p("generatePdf")}function U(){p("generateCsv",s.callbacks.csv)}async function N(){if(s.callbacks.img){const{imageUri:l,base64:o}=await L({domElement:s.chartElement,base64:!0,img:!0,scale:s.printScale});s.callbacks.img({domElement:s.chartElement,imageUri:l,base64:o})}else p("generateImage")}function j(){p("generateSvg",{isCb:!!s.callbacks.svg})}const h=y(!1);function V(){s.callbacks.table?s.callbacks.table():(h.value=!h.value,p("toggleTable"))}function _(l){h.value=l}D({setTableIconState:_});const d=y(!1),K=y(!0);function A(){b.value=window.innerWidth>600,d.value=!d.value,d.value&&(K.value=!1)}function W(){s.isPrinting||s.isImaging||(d.value=!1)}function q(){d.value&&W()}const x=y(s.isLabelActive);function H(){s.callbacks.labels?s.callbacks.labels():(x.value=!x.value,p("toggleLabels"))}const $=y(s.isAnimation);function T(){s.callbacks.animation?s.callbacks.animation():($.value=!$.value,p("toggleAnimation"))}const C=O({get:()=>s.isAnnotation,set:l=>l});function E(){s.callbacks.annotator?s.callbacks.annotator():(C.value=!C.value,p("toggleAnnotator"))}function J(){s.callbacks.sort?s.callbacks.sort():p("toggleSort")}const B=y(s.isStacked);function R(){s.callbacks.stack?s.callbacks.stack():(B.value=!B.value,p("toggleStack"))}const M=y(s.isTooltip);function Y(){s.callbacks.tooltip?s.callbacks.tooltip():(M.value=!M.value,p("toggleTooltip"))}const G=O({get:()=>s.isFullscreen,set:l=>p("toggleFullscreen",l)});function I(){if(!s.chartElement)return;const l=!s.isFullscreen;G.value=l,l?s.chartElement.requestFullscreen():document.exitFullscreen()}function w(){const l=!!document.fullscreenElement;p("toggleFullscreen",l)}Q(()=>{document.addEventListener("fullscreenchange",w)}),Z(()=>{document.removeEventListener("fullscreenchange",w)});const b=y(window.innerWidth>600),n=y({tooltip:!1,pdf:!1,csv:!1,img:!1,table:!1,labels:!1,sort:!1,stack:!1,fullscreen:!1,animation:!1,annotator:!1,svg:!1});return(l,o)=>tt((e(),i("div",{"data-dom-to-png-ignore":"",class:"vue-ui-user-options",style:f("z-index: ".concat(t.zIndex,"; height: 34px; position: ").concat(t.isFullscreen?"fixed":"absolute","; top: 0; ").concat(t.position==="right"?"right:".concat(t.isFullscreen?"12px":"0"):"left:".concat(t.isFullscreen?"12px":"0"),"; padding: 4px; background:transparent;"))},[P("div",{tabindex:"0",title:d.value?t.titles.close||"":t.titles.open||"",style:f("width:32px; position: absolute; top: 0;".concat(t.position==="right"?"right: ".concat(t.offsetX?t.offsetX:t.noOffset?0:4,"px"):"left: ".concat(t.noOffset?0:4,"px"),"; padding: 0 0px; display: flex; align-items:center;justify-content:center;height: 36px;  cursor:pointer; background:transparent")),onClick:st(A,["stop"]),onKeypress:nt(A,["enter"])},[v(l.$slots,"menuIcon",S(lt({isOpen:d.value,color:t.color})),()=>[et(r,{name:d.value?"close":"menu",stroke:t.color,"stroke-width":2},null,8,["name","stroke"])],!0)],44,ut),P("div",{"data-open":d.value,class:g({"vue-ui-user-options-drawer":!0}),style:f("background:".concat(t.backgroundColor,"; ").concat(t.position==="right"?"right: ".concat(t.offsetX?t.offsetX:t.noOffset?0:4,"px"):"left: ".concat(t.noOffset?0:4,"px")))},[t.hasTooltip?(e(),i("button",{key:0,tabindex:"0",class:"vue-ui-user-options-button",onClick:Y,onMouseenter:o[0]||(o[0]=u=>n.value.tooltip=!0),onMouseout:o[1]||(o[1]=u=>n.value.tooltip=!1)},[l.$slots.optionTooltip?v(l.$slots,"optionTooltip",{key:0},void 0,!0):(e(),i(m,{key:1},[M.value?(e(),c(r,{key:0,name:"tooltip",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"])):(e(),c(r,{key:1,name:"tooltipDisabled",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"]))],64)),b.value&&t.titles.tooltip&&!l.$slots.optionTooltip?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":t.position==="left","button-info-right":t.position==="right","button-info-left-visible":t.position==="left"&&n.value.tooltip,"button-info-right-visible":t.position==="right"&&n.value.tooltip}),style:f({background:t.backgroundColor,color:t.color})},k(t.titles.tooltip),7)):a("",!0)],32)):a("",!0),t.hasPdf?(e(),i("button",{key:1,tabindex:"0",class:"vue-ui-user-options-button",onClick:z,onMouseenter:o[2]||(o[2]=u=>n.value.pdf=!0),onMouseout:o[3]||(o[3]=u=>n.value.pdf=!1)},[l.$slots.optionPdf?v(l.$slots,"optionPdf",{key:0},void 0,!0):(e(),i(m,{key:1},[t.isPrinting?(e(),c(r,{key:0,name:"spin",isSpin:"",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"])):(e(),c(r,{key:1,name:"pdf",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"]))],64)),b.value&&t.titles.pdf&&!l.$slots.optionPdf?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":t.position==="left","button-info-right":t.position==="right","button-info-right-visible":t.position==="right"&&n.value.pdf,"button-info-left-visible":t.position==="left"&&n.value.pdf}),style:f({background:t.backgroundColor,color:t.color})},k(t.titles.pdf),7)):a("",!0)],32)):a("",!0),t.hasXls?(e(),i("button",{key:2,tabindex:"0",class:"vue-ui-user-options-button",onClick:U,onMouseenter:o[4]||(o[4]=u=>n.value.csv=!0),onMouseout:o[5]||(o[5]=u=>n.value.csv=!1)},[l.$slots.optionCsv?v(l.$slots,"optionCsv",{key:0},void 0,!0):(e(),c(r,{key:1,name:"excel",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"])),b.value&&t.titles.csv&&!l.$slots.optionCsv?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":t.position==="left","button-info-right":t.position==="right","button-info-right-visible":t.position==="right"&&n.value.csv,"button-info-left-visible":t.position==="left"&&n.value.csv}),style:f({background:t.backgroundColor,color:t.color})},k(t.titles.csv),7)):a("",!0)],32)):a("",!0),t.hasImg?(e(),i("button",{key:3,tabindex:"0",class:"vue-ui-user-options-button",onClick:N,onMouseenter:o[6]||(o[6]=u=>n.value.img=!0),onMouseout:o[7]||(o[7]=u=>n.value.img=!1)},[l.$slots.optionImg?v(l.$slots,"optionImg",{key:0},void 0,!0):(e(),i(m,{key:1},[t.isImaging?(e(),c(r,{key:0,name:"spin",isSpin:"",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"])):(e(),c(r,{key:1,name:"image",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"]))],64)),b.value&&t.titles.img&&!l.$slots.optionImg?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":t.position==="left","button-info-right":t.position==="right","button-info-right-visible":t.position==="right"&&n.value.img,"button-info-left-visible":t.position==="left"&&n.value.img}),style:f({background:t.backgroundColor,color:t.color})},k(t.titles.img),7)):a("",!0)],32)):a("",!0),t.hasSvg?(e(),i("button",{key:4,tabindex:"0",class:"vue-ui-user-options-button",onClick:j,onMouseenter:o[8]||(o[8]=u=>n.value.svg=!0),onMouseout:o[9]||(o[9]=u=>n.value.svg=!1)},[l.$slots.optionSvg?v(l.$slots,"optionSvg",{key:0},void 0,!0):(e(),c(r,{key:1,name:"svg",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"])),b.value&&t.titles.svg&&!l.$slots.optionSvg?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":t.position==="left","button-info-right":t.position==="right","button-info-right-visible":t.position==="right"&&n.value.svg,"button-info-left-visible":t.position==="left"&&n.value.svg}),style:f({background:t.backgroundColor,color:t.color})},k(t.titles.svg),7)):a("",!0)],32)):a("",!0),t.hasTable?(e(),i("button",{key:5,tabindex:"0",class:"vue-ui-user-options-button",onClick:V,onMouseenter:o[10]||(o[10]=u=>n.value.table=!0),onMouseout:o[11]||(o[11]=u=>n.value.table=!1)},[l.$slots.optionTable?v(l.$slots,"optionTable",{key:0},void 0,!0):(e(),i(m,{key:1},[t.tableDialog?(e(),c(r,{key:0,name:h.value?"tableDialogClose":"tableDialogOpen",stroke:t.color,style:{"pointer-events":"none"}},null,8,["name","stroke"])):(e(),c(r,{key:1,name:h.value?"tableClose":"tableOpen",stroke:t.color,style:{"pointer-events":"none"}},null,8,["name","stroke"]))],64)),b.value&&t.titles.table&&!l.$slots.optionTable?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":t.position==="left","button-info-right":t.position==="right","button-info-right-visible":t.position==="right"&&n.value.table,"button-info-left-visible":t.position==="left"&&n.value.table}),style:f({background:t.backgroundColor,color:t.color})},k(t.titles.table),7)):a("",!0)],32)):a("",!0),t.hasLabel?(e(),i("button",{key:6,tabindex:"0",class:"vue-ui-user-options-button",onClick:H,onMouseenter:o[12]||(o[12]=u=>n.value.labels=!0),onMouseout:o[13]||(o[13]=u=>n.value.labels=!1)},[l.$slots.optionLabels?v(l.$slots,"optionLabels",{key:0},void 0,!0):(e(),c(r,{key:1,name:x.value?"labelClose":"labelOpen",stroke:t.color,style:{"pointer-events":"none"}},null,8,["name","stroke"])),b.value&&t.titles.labels&&!l.$slots.optionLabels?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":t.position==="left","button-info-right":t.position==="right","button-info-right-visible":t.position==="right"&&n.value.labels,"button-info-left-visible":t.position==="left"&&n.value.labels}),style:f({background:t.backgroundColor,color:t.color})},k(t.titles.labels),7)):a("",!0)],32)):a("",!0),t.hasSort?(e(),i("button",{key:7,tabindex:"0",class:"vue-ui-user-options-button",onClick:J,onMouseenter:o[14]||(o[14]=u=>n.value.sort=!0),onMouseout:o[15]||(o[15]=u=>n.value.sort=!1)},[l.$slots.optionSort?v(l.$slots,"optionSort",{key:0},void 0,!0):(e(),c(r,{key:1,name:"sort",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"])),b.value&&t.titles.sort&&!l.$slots.optionSort?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":t.position==="left","button-info-right":t.position==="right","button-info-right-visible":t.position==="right"&&n.value.sort,"button-info-left-visible":t.position==="left"&&n.value.sort}),style:f({background:t.backgroundColor,color:t.color})},k(t.titles.sort),7)):a("",!0)],32)):a("",!0),t.hasStack?(e(),i("button",{key:8,tabindex:"0",class:"vue-ui-user-options-button",onClick:R,onMouseenter:o[16]||(o[16]=u=>n.value.stack=!0),onMouseout:o[17]||(o[17]=u=>n.value.stack=!1)},[l.$slots.optionStack?v(l.$slots,"optionStack",{key:0},void 0,!0):(e(),i(m,{key:1},[B.value?(e(),c(r,{key:0,name:"unstack",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"])):(e(),c(r,{key:1,name:"stack",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"]))],64)),b.value&&t.titles.stack&&!l.$slots.optionStack?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":t.position==="left","button-info-right":t.position==="right","button-info-right-visible":t.position==="right"&&n.value.stack,"button-info-left-visible":t.position==="left"&&n.value.stack}),style:f({background:t.backgroundColor,color:t.color})},k(t.titles.stack),7)):a("",!0)],32)):a("",!0),t.hasFullscreen?(e(),i("button",{key:9,tabindex:"0",class:"vue-ui-user-options-button",onMouseenter:o[18]||(o[18]=u=>n.value.fullscreen=!0),onMouseout:o[19]||(o[19]=u=>n.value.fullscreen=!1),onClick:o[20]||(o[20]=u=>I(t.isFullscreen?"out":"in"))},[l.$slots.optionFullscreen?v(l.$slots,"optionFullscreen",S(F({key:0},{toggleFullscreen:I,isFullscreen:t.isFullscreen})),void 0,!0):(e(),i(m,{key:1},[t.isFullscreen?(e(),c(r,{key:0,name:"exitFullscreen",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"])):a("",!0),t.isFullscreen?a("",!0):(e(),c(r,{key:1,name:"fullscreen",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"]))],64)),b.value&&t.titles.fullscreen&&!l.$slots.optionFullscreen?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":t.position==="left","button-info-right":t.position==="right","button-info-right-visible":t.position==="right"&&n.value.fullscreen,"button-info-left-visible":t.position==="left"&&n.value.fullscreen}),style:f({background:t.backgroundColor,color:t.color})},k(t.titles.fullscreen),7)):a("",!0)],32)):a("",!0),t.hasAnimation?(e(),i("button",{key:10,tabindex:"0",class:"vue-ui-user-options-button",onMouseenter:o[21]||(o[21]=u=>n.value.animation=!0),onMouseout:o[22]||(o[22]=u=>n.value.animation=!1),onClick:T},[l.$slots.optionAnimation?v(l.$slots,"optionAnimation",S(F({key:0},{toggleAnimation:T,isAnimated:$.value})),void 0,!0):(e(),i(m,{key:1},[$.value?(e(),c(r,{key:0,name:"play",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"])):a("",!0),$.value?a("",!0):(e(),c(r,{key:1,name:"pause",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"]))],64)),b.value&&t.titles.fullscreen&&!l.$slots.optionAnimation?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":t.position==="left","button-info-right":t.position==="right","button-info-right-visible":t.position==="right"&&n.value.animation,"button-info-left-visible":t.position==="left"&&n.value.animation}),style:f({background:t.backgroundColor,color:t.color})},k(t.titles.animation),7)):a("",!0)],32)):a("",!0),t.hasAnnotator?(e(),i("button",{key:11,tabindex:"0",class:"vue-ui-user-options-button",onMouseenter:o[23]||(o[23]=u=>n.value.annotator=!0),onMouseout:o[24]||(o[24]=u=>n.value.annotator=!1),onClick:E},[l.$slots.optionAnnotator?v(l.$slots,"optionAnnotator",S(F({key:0},{toggleAnnotator:E,isAnnotator:C.value})),void 0,!0):(e(),i(m,{key:1},[C.value?(e(),c(r,{key:0,name:"annotatorDisabled",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"])):a("",!0),C.value?a("",!0):(e(),c(r,{key:1,name:"annotator",stroke:t.color,style:{"pointer-events":"none"}},null,8,["stroke"]))],64)),b.value&&t.titles.annotator&&!l.$slots.optionAnnotator?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":t.position==="left","button-info-right":t.position==="right","button-info-right-visible":t.position==="right"&&n.value.annotator,"button-info-left-visible":t.position==="left"&&n.value.annotator}),style:f({background:t.backgroundColor,color:t.color})},k(t.titles.annotator),7)):a("",!0)],32)):a("",!0)],12,rt)],4)),[[ot(it),q]])}},dt=at(ct,[["__scopeId","data-v-0627ad5f"]]);export{dt as default};
