
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{e as d,J as Z,E as oo,aw as to,w as eo,u as lo,c as i,o as e,f as L,r as b,g as no,j as h,k as so,Y as io,Z as ao,O as f,A as a,F as m,z as c,n as g,t as k,m as x}from"./index-CJB5jCfL.js";import{i as uo}from"./vClickOutside-C6WiFswA-B2BXHGcD.js";import{s as ro,O as r}from"./vue-data-ui-8Gmf-dDN.js";import P from"./img-CqYIrJ8I-E54QgU9o.js";import"./alert-I_0TAljB.js";import"./dom-to-png-WXGPkYro-BQsfl1t5.js";const co=["title"],fo=["data-open"],po={__name:"UserOptions",props:{hasPdf:{type:Boolean,default:!0},hasXls:{type:Boolean,default:!0},hasImg:{type:Boolean,default:!1},hasSvg:{type:Boolean,default:!1},hasLabel:{type:Boolean,default:!1},isLabelActive:{type:Boolean,default:!1},hasTable:{type:Boolean,default:!1},hasSort:{type:Boolean,default:!1},hasStack:{type:Boolean,default:!1},hasTooltip:{type:Boolean,default:!1},color:{type:String},backgroundColor:{type:String},isPrinting:{type:Boolean,default:!1},isImaging:{type:Boolean,default:!1},title:{type:String},uid:{type:String},hasFullscreen:{type:Boolean,default:!1},chartElement:{type:HTMLElement,default:null},isFullscreen:{type:Boolean,default:!1},isStacked:{type:Boolean,default:!1},isTooltip:{type:Boolean,default:!1},hasAnimation:{type:Boolean,default:!1},isAnimation:{type:Boolean,default:!1},titles:{type:Object,default(){return{}}},showTooltips:{type:Boolean,default:!0},zIndex:{type:Number,default:1},noOffset:{type:Boolean,default:!0},position:{type:String,default:"right"},offsetX:{type:Number,default:0},hasAnnotator:{type:Boolean,default:!1},isAnnotation:{type:Boolean,default:!1},callbacks:{type:Object,default(){return{}}},printScale:{type:Number,default:2},tableDialog:{type:Boolean,default:!1},hasZoom:{type:Boolean,default:!1},isZoom:{type:Boolean,default:!1}},emits:["generatePdf","generateCsv","generateImage","toggleTable","toggleLabels","toggleSort","toggleFullscreen","toggleStack","toggleTooltip","toggleAnimation","toggleAnnotator","generateSvg","toggleZoom"],setup(o,{expose:D,emit:U}){const s=o,p=U;async function X(){if(s.callbacks.pdf){const{imageUri:n,base64:t}=await P({domElement:s.chartElement,base64:!0,img:!0,scale:s.printScale});s.callbacks.pdf({domElement:s.chartElement,base64:t,imageUri:n})}else p("generatePdf")}function N(){p("generateCsv",s.callbacks.csv)}async function j(){if(s.callbacks.img){const{imageUri:n,base64:t}=await P({domElement:s.chartElement,base64:!0,img:!0,scale:s.printScale});s.callbacks.img({domElement:s.chartElement,imageUri:n,base64:t})}else p("generateImage")}function _(){p("generateSvg",{isCb:!!s.callbacks.svg})}const $=d(!1);function V(){s.callbacks.table?s.callbacks.table():($.value=!$.value,p("toggleTable"))}function K(n){$.value=n}D({setTableIconState:K});const y=d(!1),W=d(!0);function A(){v.value=window.innerWidth>600,y.value=!y.value,y.value&&(W.value=!1)}function q(){s.isPrinting||s.isImaging||(y.value=!1)}function H(){y.value&&q()}const M=d(s.isLabelActive);function J(){s.callbacks.labels?s.callbacks.labels():(M.value=!M.value,p("toggleLabels"))}const C=d(s.isAnimation);function z(){s.callbacks.animation?s.callbacks.animation():(C.value=!C.value,p("toggleAnimation"))}const E=d(s.isZoom);function T(){s.callbacks.zoom?s.callbacks.zoom():(E.value=!E.value,p("toggleZoom"))}const S=Z({get:()=>s.isAnnotation,set:n=>n});function w(){s.callbacks.annotator?s.callbacks.annotator():(S.value=!S.value,p("toggleAnnotator"))}function R(){s.callbacks.sort?s.callbacks.sort():p("toggleSort")}const B=d(s.isStacked);function Y(){s.callbacks.stack?s.callbacks.stack():(B.value=!B.value,p("toggleStack"))}const F=d(s.isTooltip);function G(){s.callbacks.tooltip?s.callbacks.tooltip():(F.value=!F.value,p("toggleTooltip"))}const Q=Z({get:()=>s.isFullscreen,set:n=>p("toggleFullscreen",n)});function I(){if(!s.chartElement)return;const n=!s.isFullscreen;Q.value=n,n?s.chartElement.requestFullscreen():document.exitFullscreen()}function O(){const n=!!document.fullscreenElement;p("toggleFullscreen",n)}oo(()=>{document.addEventListener("fullscreenchange",O)}),to(()=>{document.removeEventListener("fullscreenchange",O)});const v=d(window.innerWidth>600),l=d({tooltip:!1,pdf:!1,csv:!1,img:!1,table:!1,labels:!1,sort:!1,stack:!1,fullscreen:!1,animation:!1,annotator:!1,svg:!1,zoom:!1});return(n,t)=>eo((e(),i("div",{"data-dom-to-png-ignore":"",class:"vue-ui-user-options",style:f("z-index: ".concat(o.zIndex,"; height: 34px; position: ").concat(o.isFullscreen?"fixed":"absolute","; top: 0; ").concat(o.position==="right"?"right:".concat(o.isFullscreen?"12px":"0"):"left:".concat(o.isFullscreen?"12px":"0"),"; padding: 4px; background:transparent;"))},[L("div",{tabindex:"0",title:y.value?o.titles.close||"":o.titles.open||"",style:f("width:32px; position: absolute; top: 0;".concat(o.position==="right"?"right: ".concat(o.offsetX?o.offsetX:o.noOffset?0:4,"px"):"left: ".concat(o.noOffset?0:4,"px"),"; padding: 0 0px; display: flex; align-items:center;justify-content:center;height: 36px;  cursor:pointer; background:transparent")),onClick:ao(A,["stop"]),onKeypress:io(A,["enter"])},[b(n.$slots,"menuIcon",h(so({isOpen:y.value,color:o.color})),()=>[no(r,{name:y.value?"close":"menu",stroke:o.color,"stroke-width":2},null,8,["name","stroke"])],!0)],44,co),L("div",{"data-open":y.value,class:g({"vue-ui-user-options-drawer":!0}),style:f("background:".concat(o.backgroundColor,"; ").concat(o.position==="right"?"right: ".concat(o.offsetX?o.offsetX:o.noOffset?0:4,"px"):"left: ".concat(o.noOffset?0:4,"px")))},[o.hasTooltip?(e(),i("button",{key:0,tabindex:"0",class:"vue-ui-user-options-button",onClick:G,onMouseenter:t[0]||(t[0]=u=>l.value.tooltip=!0),onMouseout:t[1]||(t[1]=u=>l.value.tooltip=!1)},[n.$slots.optionTooltip?b(n.$slots,"optionTooltip",{key:0},void 0,!0):(e(),i(m,{key:1},[F.value?(e(),c(r,{key:0,name:"tooltip",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"])):(e(),c(r,{key:1,name:"tooltipDisabled",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"]))],64)),v.value&&o.titles.tooltip?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":o.position==="left","button-info-right":o.position==="right","button-info-left-visible":o.position==="left"&&l.value.tooltip,"button-info-right-visible":o.position==="right"&&l.value.tooltip}),style:f({background:o.backgroundColor,color:o.color})},k(o.titles.tooltip),7)):a("",!0)],32)):a("",!0),o.hasPdf?(e(),i("button",{key:1,tabindex:"0",class:"vue-ui-user-options-button",onClick:X,onMouseenter:t[2]||(t[2]=u=>l.value.pdf=!0),onMouseout:t[3]||(t[3]=u=>l.value.pdf=!1)},[n.$slots.optionPdf?b(n.$slots,"optionPdf",{key:0},void 0,!0):(e(),i(m,{key:1},[o.isPrinting?(e(),c(r,{key:0,name:"spin",isSpin:"",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"])):(e(),c(r,{key:1,name:"pdf",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"]))],64)),v.value&&o.titles.pdf?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":o.position==="left","button-info-right":o.position==="right","button-info-right-visible":o.position==="right"&&l.value.pdf,"button-info-left-visible":o.position==="left"&&l.value.pdf}),style:f({background:o.backgroundColor,color:o.color})},k(o.titles.pdf),7)):a("",!0)],32)):a("",!0),o.hasXls?(e(),i("button",{key:2,tabindex:"0",class:"vue-ui-user-options-button",onClick:N,onMouseenter:t[4]||(t[4]=u=>l.value.csv=!0),onMouseout:t[5]||(t[5]=u=>l.value.csv=!1)},[n.$slots.optionCsv?b(n.$slots,"optionCsv",{key:0},void 0,!0):(e(),c(r,{key:1,name:"excel",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"])),v.value&&o.titles.csv?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":o.position==="left","button-info-right":o.position==="right","button-info-right-visible":o.position==="right"&&l.value.csv,"button-info-left-visible":o.position==="left"&&l.value.csv}),style:f({background:o.backgroundColor,color:o.color})},k(o.titles.csv),7)):a("",!0)],32)):a("",!0),o.hasImg?(e(),i("button",{key:3,tabindex:"0",class:"vue-ui-user-options-button",onClick:j,onMouseenter:t[6]||(t[6]=u=>l.value.img=!0),onMouseout:t[7]||(t[7]=u=>l.value.img=!1)},[n.$slots.optionImg?b(n.$slots,"optionImg",{key:0},void 0,!0):(e(),i(m,{key:1},[o.isImaging?(e(),c(r,{key:0,name:"spin",isSpin:"",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"])):(e(),c(r,{key:1,name:"image",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"]))],64)),v.value&&o.titles.img?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":o.position==="left","button-info-right":o.position==="right","button-info-right-visible":o.position==="right"&&l.value.img,"button-info-left-visible":o.position==="left"&&l.value.img}),style:f({background:o.backgroundColor,color:o.color})},k(o.titles.img),7)):a("",!0)],32)):a("",!0),o.hasSvg?(e(),i("button",{key:4,tabindex:"0",class:"vue-ui-user-options-button",onClick:_,onMouseenter:t[8]||(t[8]=u=>l.value.svg=!0),onMouseout:t[9]||(t[9]=u=>l.value.svg=!1)},[n.$slots.optionSvg?b(n.$slots,"optionSvg",{key:0},void 0,!0):(e(),c(r,{key:1,name:"svg",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"])),v.value&&o.titles.svg?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":o.position==="left","button-info-right":o.position==="right","button-info-right-visible":o.position==="right"&&l.value.svg,"button-info-left-visible":o.position==="left"&&l.value.svg}),style:f({background:o.backgroundColor,color:o.color})},k(o.titles.svg),7)):a("",!0)],32)):a("",!0),o.hasTable?(e(),i("button",{key:5,tabindex:"0",class:"vue-ui-user-options-button",onClick:V,onMouseenter:t[10]||(t[10]=u=>l.value.table=!0),onMouseout:t[11]||(t[11]=u=>l.value.table=!1)},[n.$slots.optionTable?b(n.$slots,"optionTable",{key:0},void 0,!0):(e(),i(m,{key:1},[o.tableDialog?(e(),c(r,{key:0,name:$.value?"tableDialogClose":"tableDialogOpen",stroke:o.color,style:{"pointer-events":"none"}},null,8,["name","stroke"])):(e(),c(r,{key:1,name:$.value?"tableClose":"tableOpen",stroke:o.color,style:{"pointer-events":"none"}},null,8,["name","stroke"]))],64)),v.value&&o.titles.table?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":o.position==="left","button-info-right":o.position==="right","button-info-right-visible":o.position==="right"&&l.value.table,"button-info-left-visible":o.position==="left"&&l.value.table}),style:f({background:o.backgroundColor,color:o.color})},k(o.titles.table),7)):a("",!0)],32)):a("",!0),o.hasLabel?(e(),i("button",{key:6,tabindex:"0",class:"vue-ui-user-options-button",onClick:J,onMouseenter:t[12]||(t[12]=u=>l.value.labels=!0),onMouseout:t[13]||(t[13]=u=>l.value.labels=!1)},[n.$slots.optionLabels?b(n.$slots,"optionLabels",{key:0},void 0,!0):(e(),c(r,{key:1,name:M.value?"labelClose":"labelOpen",stroke:o.color,style:{"pointer-events":"none"}},null,8,["name","stroke"])),v.value&&o.titles.labels?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":o.position==="left","button-info-right":o.position==="right","button-info-right-visible":o.position==="right"&&l.value.labels,"button-info-left-visible":o.position==="left"&&l.value.labels}),style:f({background:o.backgroundColor,color:o.color})},k(o.titles.labels),7)):a("",!0)],32)):a("",!0),o.hasSort?(e(),i("button",{key:7,tabindex:"0",class:"vue-ui-user-options-button",onClick:R,onMouseenter:t[14]||(t[14]=u=>l.value.sort=!0),onMouseout:t[15]||(t[15]=u=>l.value.sort=!1)},[n.$slots.optionSort?b(n.$slots,"optionSort",{key:0},void 0,!0):(e(),c(r,{key:1,name:"sort",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"])),v.value&&o.titles.sort?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":o.position==="left","button-info-right":o.position==="right","button-info-right-visible":o.position==="right"&&l.value.sort,"button-info-left-visible":o.position==="left"&&l.value.sort}),style:f({background:o.backgroundColor,color:o.color})},k(o.titles.sort),7)):a("",!0)],32)):a("",!0),o.hasStack?(e(),i("button",{key:8,tabindex:"0",class:"vue-ui-user-options-button",onClick:Y,onMouseenter:t[16]||(t[16]=u=>l.value.stack=!0),onMouseout:t[17]||(t[17]=u=>l.value.stack=!1)},[n.$slots.optionStack?b(n.$slots,"optionStack",h(x({key:0},{isStack:B.value})),void 0,!0):(e(),i(m,{key:1},[B.value?(e(),c(r,{key:0,name:"unstack",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"])):(e(),c(r,{key:1,name:"stack",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"]))],64)),v.value&&o.titles.stack?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":o.position==="left","button-info-right":o.position==="right","button-info-right-visible":o.position==="right"&&l.value.stack,"button-info-left-visible":o.position==="left"&&l.value.stack}),style:f({background:o.backgroundColor,color:o.color})},k(o.titles.stack),7)):a("",!0)],32)):a("",!0),o.hasFullscreen?(e(),i("button",{key:9,tabindex:"0",class:"vue-ui-user-options-button",onMouseenter:t[18]||(t[18]=u=>l.value.fullscreen=!0),onMouseout:t[19]||(t[19]=u=>l.value.fullscreen=!1),onClick:t[20]||(t[20]=u=>I(o.isFullscreen?"out":"in"))},[n.$slots.optionFullscreen?b(n.$slots,"optionFullscreen",h(x({key:0},{toggleFullscreen:I,isFullscreen:o.isFullscreen})),void 0,!0):(e(),i(m,{key:1},[o.isFullscreen?(e(),c(r,{key:0,name:"exitFullscreen",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"])):a("",!0),o.isFullscreen?a("",!0):(e(),c(r,{key:1,name:"fullscreen",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"]))],64)),v.value&&o.titles.fullscreen?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":o.position==="left","button-info-right":o.position==="right","button-info-right-visible":o.position==="right"&&l.value.fullscreen,"button-info-left-visible":o.position==="left"&&l.value.fullscreen}),style:f({background:o.backgroundColor,color:o.color})},k(o.titles.fullscreen),7)):a("",!0)],32)):a("",!0),o.hasZoom?(e(),i("button",{key:10,tabindex:"0",class:"vue-ui-user-options-button",onMouseenter:t[21]||(t[21]=u=>l.value.zoom=!0),onMouseout:t[22]||(t[22]=u=>l.value.zoom=!1),onClick:t[23]||(t[23]=u=>T())},[n.$slots.optionZoom?b(n.$slots,"optionZoom",h(x({key:0},{toggleZoom:T,isZoomLocked:!o.isZoom})),void 0,!0):(e(),i(m,{key:1},[o.isZoom?(e(),c(r,{key:0,name:"zoomUnlock",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"])):a("",!0),o.isZoom?a("",!0):(e(),c(r,{key:1,name:"zoomLock",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"]))],64)),v.value&&o.titles.zoom?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":o.position==="left","button-info-right":o.position==="right","button-info-right-visible":o.position==="right"&&l.value.zoom,"button-info-left-visible":o.position==="left"&&l.value.zoom}),style:f({background:o.backgroundColor,color:o.color})},k(o.titles.zoom),7)):a("",!0)],32)):a("",!0),o.hasAnimation?(e(),i("button",{key:11,tabindex:"0",class:"vue-ui-user-options-button",onMouseenter:t[24]||(t[24]=u=>l.value.animation=!0),onMouseout:t[25]||(t[25]=u=>l.value.animation=!1),onClick:z},[n.$slots.optionAnimation?b(n.$slots,"optionAnimation",h(x({key:0},{toggleAnimation:z,isAnimated:C.value})),void 0,!0):(e(),i(m,{key:1},[C.value?(e(),c(r,{key:0,name:"play",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"])):a("",!0),C.value?a("",!0):(e(),c(r,{key:1,name:"pause",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"]))],64)),v.value&&o.titles.fullscreen?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":o.position==="left","button-info-right":o.position==="right","button-info-right-visible":o.position==="right"&&l.value.animation,"button-info-left-visible":o.position==="left"&&l.value.animation}),style:f({background:o.backgroundColor,color:o.color})},k(o.titles.animation),7)):a("",!0)],32)):a("",!0),o.hasAnnotator?(e(),i("button",{key:12,tabindex:"0",class:"vue-ui-user-options-button",onMouseenter:t[26]||(t[26]=u=>l.value.annotator=!0),onMouseout:t[27]||(t[27]=u=>l.value.annotator=!1),onClick:w},[n.$slots.optionAnnotator?b(n.$slots,"optionAnnotator",h(x({key:0},{toggleAnnotator:w,isAnnotator:S.value})),void 0,!0):(e(),i(m,{key:1},[S.value?(e(),c(r,{key:0,name:"annotatorDisabled",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"])):a("",!0),S.value?a("",!0):(e(),c(r,{key:1,name:"annotator",stroke:o.color,style:{"pointer-events":"none"}},null,8,["stroke"]))],64)),v.value&&o.titles.annotator?(e(),i("div",{key:2,dir:"auto",class:g({"button-info-left":o.position==="left","button-info-right":o.position==="right","button-info-right-visible":o.position==="right"&&l.value.annotator,"button-info-left-visible":o.position==="left"&&l.value.annotator}),style:f({background:o.backgroundColor,color:o.color})},k(o.titles.annotator),7)):a("",!0)],32)):a("",!0)],12,fo)],4)),[[lo(uo),H]])}},ho=ro(po,[["__scopeId","data-v-fd5fc9ca"]]);export{ho as default};
