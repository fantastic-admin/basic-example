
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as v,V as S,X as j,a8 as z,W as F,z as _,o as p,h as i,r as m,u as e,a0 as R,a9 as L,e as b,J as x,K as U,aa as J,E as K,ab as Q,g as f,m as T,A,a1 as W,a4 as X,j as D,k as E,B as G,a6 as Y,ac as Z,c as k,Q as ee,f as C,F as w,R as P,t as g,p as ae,l as M,P as te,i as oe,C as N}from"./index-CJB5jCfL.js";const[H,se]=S("CollapsibleRoot");var le=v({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:open"],setup(r,{expose:a,emit:l}){const t=r,s=j(t,"open",l,{defaultValue:t.defaultOpen,passive:t.open===void 0}),{disabled:u,unmountOnHide:c}=z(t);return se({contentId:"",disabled:u,open:s,unmountOnHide:c,onOpenToggle:()=>{u.value||(s.value=!s.value)}}),a({open:s}),F(),(d,h)=>(p(),_(e(R),{as:d.as,"as-child":t.asChild,"data-state":e(s)?"open":"closed","data-disabled":e(u)?"":void 0},{default:i(()=>[m(d.$slots,"default",{open:e(s)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),ne=le,ie=v({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["contentFound"],setup(r,{emit:a}){const l=r,t=a,o=H();o.contentId||(o.contentId=L(void 0,"reka-collapsible-content"));const s=b(),{forwardRef:u,currentElement:c}=F(),d=b(0),h=b(0),q=x(()=>o.open.value),B=b(q.value),y=b();U(()=>{var n;return[q.value,(n=s.value)==null?void 0:n.present]},async()=>{await J();const n=c.value;if(!n)return;y.value=y.value||{transitionDuration:n.style.transitionDuration,animationName:n.style.animationName},n.style.transitionDuration="0s",n.style.animationName="none";const $=n.getBoundingClientRect();h.value=$.height,d.value=$.width,B.value||(n.style.transitionDuration=y.value.transitionDuration,n.style.animationName=y.value.animationName)},{immediate:!0});const I=x(()=>B.value&&o.open.value);return K(()=>{requestAnimationFrame(()=>{B.value=!1})}),Q(c,"beforematch",n=>{requestAnimationFrame(()=>{o.onOpenToggle(),t("contentFound")})}),(n,$)=>(p(),_(e(W),{ref_key:"presentRef",ref:s,present:n.forceMount||e(o).open.value,"force-mount":!0},{default:i(({present:V})=>{var O;return[f(e(R),T(n.$attrs,{id:e(o).contentId,ref:e(u),"as-child":l.asChild,as:n.as,hidden:V?void 0:e(o).unmountOnHide.value?"":"until-found","data-state":I.value?void 0:e(o).open.value?"open":"closed","data-disabled":(O=e(o).disabled)!=null&&O.value?"":void 0,style:{"--reka-collapsible-content-height":"".concat(h.value,"px"),"--reka-collapsible-content-width":"".concat(d.value,"px")}}),{default:i(()=>[!e(o).unmountOnHide.value||V?m(n.$slots,"default",{key:0}):A("v-if",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]}),_:3},8,["present"]))}}),de=ie,re=v({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(r){const a=r;F();const l=H();return(t,o)=>{var s,u;return p(),_(e(R),{type:t.as==="button"?"button":void 0,as:t.as,"as-child":a.asChild,"aria-controls":e(l).contentId,"aria-expanded":e(l).open.value,"data-state":e(l).open.value?"open":"closed","data-disabled":(s=e(l).disabled)!=null&&s.value?"":void 0,disabled:(u=e(l).disabled)==null?void 0:u.value,onClick:e(l).onOpenToggle},{default:i(()=>[m(t.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"])}}}),ue=re;const pe=v({__name:"Collapsible",props:{defaultOpen:{type:Boolean},open:{type:Boolean},disabled:{type:Boolean},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:open"],setup(r,{emit:a}){const o=X(r,a);return(s,u)=>(p(),_(e(ne),D(E(e(o))),{default:i(({open:c})=>[m(s.$slots,"default",{open:c})]),_:3},16))}}),ce=v({__name:"CollapsibleContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(r){const a=r;return(l,t)=>(p(),_(e(de),T(a,{class:"CollapsibleContent"}),{default:i(()=>[m(l.$slots,"default",{},void 0,!0)]),_:3},16))}}),fe=G(ce,[["__scopeId","data-v-f3de1457"]]),_e=v({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean},as:{}},setup(r){const a=r;return(l,t)=>(p(),_(e(ue),D(E(a)),{default:i(()=>[m(l.$slots,"default")]),_:3},16))}}),me=v({name:"FaCollapsible",__name:"index",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(r){const a=Y(r,"modelValue"),l=Z();return(t,o)=>(p(),_(e(pe),{open:a.value,"onUpdate:open":o[0]||(o[0]=s=>a.value=s)},{default:i(()=>[e(l).trigger?(p(),_(e(_e),{key:0},{default:i(()=>[m(t.$slots,"trigger",{open:a.value})]),_:3})):A("",!0),f(e(fe),null,{default:i(()=>[m(t.$slots,"default")]),_:3})]),_:3},8,["open"]))}}),ve={class:"mt-4 space-y-2"},be={class:"mt-4 space-y-2"},ye=v({__name:"collapsible",setup(r){const a=b(!1);return(l,t)=>{const o=ee,s=ae,u=me,c=te;return p(),k("div",null,[f(o,{title:"折叠面板",description:"FaCollapsible"}),f(c,null,{default:i(()=>[f(u,null,{trigger:i(({open:d})=>[f(s,null,{default:i(()=>[M(g(d?"收起":"展开"),1)]),_:2},1024)]),default:i(()=>[C("div",ve,[(p(),k(w,null,P(10,d=>C("div",{key:d,class:"border rounded-md px-4 py-2"},g(d),1)),64))])]),_:1})]),_:1}),f(c,{title:"手动控制"},{default:i(()=>[f(s,{onClick:t[0]||(t[0]=d=>a.value=!e(a))},{default:i(()=>[M(g(e(a)?"收起":"展开"),1)]),_:1}),f(u,{modelValue:e(a),"onUpdate:modelValue":t[1]||(t[1]=d=>oe(a)?a.value=d:null)},{default:i(()=>[C("div",be,[(p(),k(w,null,P(10,d=>C("div",{key:d,class:"border rounded-md px-4 py-2"},g(d),1)),64))])]),_:1},8,["modelValue"])]),_:1})])}}});typeof N=="function"&&N(ye);export{ye as default};
