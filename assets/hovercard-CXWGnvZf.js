
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as m,V as $,a8 as N,W as B,X as I,e as h,z as y,o as v,h as i,r as c,u as e,aF as L,aD as F,bJ as U,au as z,E as M,af as W,g as p,aG as V,m as D,Z as j,aI as A,aa as K,a4 as x,a1 as G,j as R,k as T,aJ as J,a0 as Q,aL as X,a3 as Z,a as Y,n as ee,B as te,c as ae,Q as oe,p as re,l as se,f as P,G as ne,P as le,C as H}from"./index-CJB5jCfL.js";import{u as ie}from"./useGraceArea-DlHm-kvF.js";import{_ as de}from"./index.vue_vue_type_script_setup_true_lang-DMl0j_o7.js";const[k,ue]=$("HoverCardRoot");var pe=m({__name:"HoverCardRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},openDelay:{type:Number,required:!1,default:700},closeDelay:{type:Number,required:!1,default:300}},emits:["update:open"],setup(a,{emit:t}){const n=a,o=t,{openDelay:u,closeDelay:d}=N(n);B();const r=I(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0}),s=h(0),C=h(0),q=h(!1),_=h(!1),b=h(!1),w=h();function g(){clearTimeout(C.value),s.value=window.setTimeout(()=>r.value=!0,u.value)}function l(){clearTimeout(s.value),!q.value&&!_.value&&(C.value=window.setTimeout(()=>r.value=!1,d.value))}function f(){r.value=!1}return ue({open:r,onOpenChange(O){r.value=O},onOpen:g,onClose:l,onDismiss:f,hasSelectionRef:q,isPointerDownOnContentRef:_,isPointerInTransitRef:b,triggerElement:w}),(O,Te)=>(v(),y(e(L),null,{default:i(()=>[c(O.$slots,"default",{open:e(r)})]),_:3}))}}),fe=pe;function S(a){return t=>t.pointerType==="touch"?void 0:a()}function ce(a){const t=[],n=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var ve=m({__name:"HoverCardContentImpl",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(a,{emit:t}){const n=a,o=t,u=F(n),{forwardRef:d,currentElement:r}=B(),s=k(),{isPointerInTransit:C,onPointerExit:q}=ie(s.triggerElement,r);U(s.isPointerInTransitRef,C,{direction:"rtl"}),q(()=>{s.onClose()});const _=h(!1);let b;z(g=>{if(_.value){const l=document.body;b=l.style.userSelect||l.style.webkitUserSelect,l.style.userSelect="none",l.style.webkitUserSelect="none",g(()=>{l.style.userSelect=b,l.style.webkitUserSelect=b})}});function w(){_.value=!1,s.isPointerDownOnContentRef.value=!1,K(()=>{var l;((l=document.getSelection())==null?void 0:l.toString())!==""&&(s.hasSelectionRef.value=!0)})}return M(()=>{r.value&&(document.addEventListener("pointerup",w),ce(r.value).forEach(l=>l.setAttribute("tabindex","-1")))}),W(()=>{document.removeEventListener("pointerup",w),s.hasSelectionRef.value=!1,s.isPointerDownOnContentRef.value=!1}),(g,l)=>(v(),y(e(A),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:l[1]||(l[1]=f=>o("escapeKeyDown",f)),onPointerDownOutside:l[2]||(l[2]=f=>o("pointerDownOutside",f)),onFocusOutside:l[3]||(l[3]=j(f=>o("focusOutside",f),["prevent"])),onDismiss:e(s).onDismiss},{default:i(()=>[p(e(V),D({...e(u),...g.$attrs},{ref:e(d),"data-state":e(s).open.value?"open":"closed",style:{userSelect:_.value?"text":void 0,WebkitUserSelect:_.value?"text":void 0,"--reka-hover-card-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-hover-card-content-available-width":"var(--reka-popper-available-width)","--reka-hover-card-content-available-height":"var(--reka-popper-available-height)","--reka-hover-card-trigger-width":"var(--reka-popper-anchor-width)","--reka-hover-card-trigger-height":"var(--reka-popper-anchor-height)"},onPointerdown:l[0]||(l[0]=f=>{f.currentTarget.contains(f.target)&&(_.value=!0),e(s).hasSelectionRef.value=!1,e(s).isPointerDownOnContentRef.value=!0})}),{default:i(()=>[c(g.$slots,"default")]),_:3},16,["data-state","style"])]),_:3},8,["onDismiss"]))}}),me=ve,ye=m({__name:"HoverCardContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(a,{emit:t}){const u=x(a,t),{forwardRef:d}=B(),r=k();return(s,C)=>(v(),y(e(G),{present:s.forceMount||e(r).open.value},{default:i(()=>[p(me,D(e(u),{ref:e(d),onPointerenter:C[0]||(C[0]=q=>e(S)(e(r).onOpen)(q))}),{default:i(()=>[c(s.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),_e=ye,ge=m({__name:"HoverCardPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(a){const t=a;return(n,o)=>(v(),y(e(J),R(T(t)),{default:i(()=>[c(n.$slots,"default")]),_:3},16))}}),Ce=ge,he=m({__name:"HoverCardTrigger",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"a"}},setup(a){const{forwardRef:t,currentElement:n}=B(),o=k();o.triggerElement=n;function u(){setTimeout(()=>{!o.isPointerInTransitRef.value&&!o.open.value&&o.onClose()},0)}return(d,r)=>(v(),y(e(X),{"as-child":"",reference:d.reference},{default:i(()=>[p(e(Q),{ref:e(t),"as-child":d.asChild,as:d.as,"data-state":e(o).open.value?"open":"closed","data-grace-area-trigger":"",onPointerenter:r[0]||(r[0]=s=>e(S)(e(o).onOpen)(s)),onPointerleave:r[1]||(r[1]=s=>e(S)(u)(s)),onFocus:r[2]||(r[2]=s=>e(o).onOpen()),onBlur:r[3]||(r[3]=s=>e(o).onClose())},{default:i(()=>[c(d.$slots,"default")]),_:3},8,["as-child","as","data-state"])]),_:3},8,["reference"]))}}),qe=he;const Pe=m({__name:"HoverCard",props:{defaultOpen:{type:Boolean},open:{type:Boolean},openDelay:{},closeDelay:{}},emits:["update:open"],setup(a,{emit:t}){const u=x(a,t);return(d,r)=>(v(),y(e(fe),R(T(e(u))),{default:i(()=>[c(d.$slots,"default")]),_:3},16))}}),be=m({__name:"HoverCardContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},setup(a){const t=a,n=Z(t,"class"),o=F(n);return(u,d)=>(v(),y(e(Ce),null,{default:i(()=>[p(e(_e),D(e(o),{class:e(Y)("z-2000 min-w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:i(()=>[c(u.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),we=m({__name:"HoverCardTrigger",props:{reference:{},asChild:{type:Boolean},as:{}},setup(a){const t=a;return(n,o)=>(v(),y(e(qe),R(T(t)),{default:i(()=>[c(n.$slots,"default")]),_:3},16))}}),Be=m({name:"FaHoverCard",__name:"index",props:{align:{},alignOffset:{},side:{},sideOffset:{},collisionPadding:{},class:{}},setup(a){const t=a;return(n,o)=>(v(),y(e(Pe),null,{default:i(()=>[p(e(we),{"as-child":""},{default:i(()=>[c(n.$slots,"default")]),_:3}),p(e(be),{align:a.align,"align-offset":a.alignOffset,side:a.side,"side-offset":a.sideOffset,"collision-padding":a.collisionPadding,class:ee(t.class)},{default:i(()=>[c(n.$slots,"card")]),_:3},8,["align","align-offset","side","side-offset","collision-padding","class"])]),_:3}))}}),E={},Oe={class:"flex space-x-4"},Se={class:"space-y-1"},De={class:"flex items-center pt-2"};function Re(a,t){const n=oe,o=re,u=de,d=ne,r=Be,s=le;return v(),ae("div",null,[p(n,{title:"悬浮卡片",description:"FaHoverCard"}),p(s,null,{default:i(()=>[p(r,{class:"min-w-auto"},{card:i(()=>[P("div",Oe,[p(u,{shape:"circle",src:"https://github.com/vuejs.png"}),P("div",Se,[t[2]||(t[2]=P("h4",{class:"text-sm font-semibold"}," @hooray ",-1)),t[3]||(t[3]=P("p",{class:"text-sm"}," 一个前端开发工程师 ",-1)),P("div",De,[p(d,{name:"i-ci:calendar-days",class:"mr-2 h-4 w-4 opacity-70"}),t[1]||(t[1]=P("span",{class:"text-xs text-muted-foreground"}," 2020 年注册 ",-1))])])])]),default:i(()=>[p(o,{variant:"link"},{default:i(()=>[...t[0]||(t[0]=[se(" @hooray ",-1)])]),_:1})]),_:1})]),_:1})])}typeof H=="function"&&H(E);const xe=te(E,[["render",Re]]);export{xe as default};
