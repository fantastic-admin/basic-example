
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{_ as Z}from"./index-ZvCUGY3F.js";import{d as _,bK as L,bm as G,W as V,z as v,o as c,h as o,r as y,u as e,a0 as H,A as I,g as t,m as w,a1 as T,a4 as R,a$ as J,j as Q,k as ee,a3 as C,b1 as ae,b2 as te,a as B,b3 as se,f as z,b4 as oe,aD as S,b5 as ne,b6 as le,a5 as ie,a6 as re,e as h,J as ue,K as de,E as ce,af as pe,aH as fe,c as me,Z as _e,O as ve,n as ge,F as he,t as A,p as ye,G as be,bL as xe,aj as ze}from"./index-CJB5jCfL.js";var we=_({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const s=L();return G(!0),V(),(n,a)=>(c(),v(e(H),{as:n.as,"as-child":n.asChild,"data-state":e(s).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:o(()=>[y(n.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),De=we,Ce=_({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const s=L(),{forwardRef:n}=V();return(a,l)=>{var u;return(u=e(s))!=null&&u.modal.value?(c(),v(e(T),{key:0,present:a.forceMount||e(s).open.value},{default:o(()=>[t(De,w(a.$attrs,{ref:e(n),as:a.as,"as-child":a.asChild}),{default:o(()=>[y(a.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):I("v-if",!0)}}}),Be=Ce;const $e=_({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(i,{emit:s}){const l=R(i,s);return(u,x)=>(c(),v(e(J),Q(ee(e(l))),{default:o(()=>[y(u.$slots,"default")]),_:3},16))}}),ke=_({__name:"DialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus","animationEnd"],setup(i,{emit:s}){const n=i,a=s,l=C(n,"class"),u=R(l,a);return(x,r)=>(c(),v(e(ae),null,{default:o(()=>[t(e(Be),{class:"fixed inset-0 z-2000 bg-black/80 data-[state=closed]:animate-out data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0"}),t(e(te),w(e(u),{class:e(B)("fixed z-2000 inset-0 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",n.class),onAnimationend:r[0]||(r[0]=p=>a("animationEnd"))}),{default:o(()=>[y(x.$slots,"default"),t(e(se),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ring"},{default:o(()=>[t(e(oe),{class:"h-8 w-8"}),r[1]||(r[1]=z("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),Oe=_({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(i){const s=i,n=C(s,"class"),a=S(n);return(l,u)=>(c(),v(e(ne),w(e(a),{class:e(B)("text-sm text-muted-foreground",s.class)}),{default:o(()=>[y(l.$slots,"default")]),_:3},16,["class"]))}}),Pe=_({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(i){const s=i,n=C(s,"class"),a=S(n);return(l,u)=>(c(),v(e(le),w(e(a),{class:e(B)("text-lg font-semibold leading-none tracking-tight",s.class)}),{default:o(()=>[y(l.$slots,"default")]),_:3},16,["class"]))}}),Me=["src"],Ee={class:"absolute bottom-20 left-1/2 text-sm text-muted-foreground -translate-x-1/2"},Fe=_({__name:"preview",props:ie({src:{},index:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(i){var E;const s=i,n=re(i,"modelValue"),a=h((E=s.index)!=null?E:0),l=ue(()=>Array.isArray(s.src)?s.src:[s.src]);function u(){a.value=a.value-1,a.value<0&&(a.value=l.value.length-1)}function x(){a.value=a.value+1,a.value>=l.value.length&&(a.value=0)}de(a,M);const r=h(1),p=h(0),g=h({x:0,y:0}),b=h(!1),D=h({x:0,y:0});function $(){r.value=Math.min(r.value+.25,3)}function k(){r.value=Math.max(r.value-.25,.5)}function q(){r.value=1}function j(){p.value=p.value-90}function N(){p.value=p.value+90}function K(d){d.preventDefault(),d.deltaY<0?$():k()}function U(d){b.value=!0,D.value={x:d.clientX-g.value.x,y:d.clientY-g.value.y}}function O(d){b.value&&(g.value={x:d.clientX-D.value.x,y:d.clientY-D.value.y})}function P(){b.value=!1}function M(){r.value=1,p.value=0,g.value={x:0,y:0}}ce(()=>{window.addEventListener("mousemove",O),window.addEventListener("mouseup",P)}),pe(()=>{window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",P)});function W(){n.value||M()}return(d,F)=>{const f=be,m=ye,X=Z;return c(),v(e($e),{open:n.value,"onUpdate:open":F[0]||(F[0]=Y=>n.value=Y)},{default:o(()=>[t(e(ke),{class:"size-full",onAnimationEnd:W},{default:o(()=>[t(e(fe),null,{default:o(()=>[t(e(Pe)),t(e(Oe))]),_:1}),z("div",{class:"relative size-full flex-center",onWheel:K},[z("img",{src:e(l)[e(a)],class:ge(["mx-auto max-h-full max-w-full object-contain",{"transition-all duration-300":!e(b)}]),style:ve({transform:"translate(".concat(e(g).x,"px, ").concat(e(g).y,"px) scale(").concat(e(r),") rotate(").concat(e(p),"deg)"),cursor:e(b)?"grabbing":"grab"}),onMousedown:_e(U,["prevent"])},null,46,Me),e(l).length>1?(c(),me(he,{key:0},[z("div",Ee,A(e(a)+1)+" / "+A(e(l).length),1),t(m,{variant:"ghost",size:"icon",class:"absolute left-4 top-1/2 rounded-full bg-muted/50 -translate-y-1/2",onClick:u},{default:o(()=>[t(f,{name:"i-lucide:chevron-left",class:"size-6"})]),_:1}),t(m,{variant:"ghost",size:"icon",class:"absolute right-4 top-1/2 rounded-full bg-muted/50 -translate-y-1/2",onClick:x},{default:o(()=>[t(f,{name:"i-lucide:chevron-right",class:"size-6"})]),_:1})],64)):I("",!0),t(X,{class:"absolute bottom-4 left-1/2 scale-125 -translate-x-1/2"},{default:o(()=>[t(m,{variant:"outline",size:"icon",class:"border-none bg-muted/50",onClick:$},{default:o(()=>[t(f,{name:"i-carbon:zoom-in",class:"size-5"})]),_:1}),t(m,{variant:"outline",size:"icon",class:"border-none bg-muted/50",onClick:k},{default:o(()=>[t(f,{name:"i-carbon:zoom-out",class:"size-5"})]),_:1}),t(m,{variant:"outline",size:"icon",class:"border-none bg-muted/50",onClick:q},{default:o(()=>[t(f,{name:"i-lucide:maximize",class:"size-5"})]),_:1}),t(m,{variant:"outline",size:"icon",class:"border-none bg-muted/50",onClick:j},{default:o(()=>[t(f,{name:"i-carbon:rotate",class:"size-5"})]),_:1}),t(m,{variant:"outline",size:"icon",class:"border-none bg-muted/50",onClick:N},{default:o(()=>[t(f,{name:"i-carbon:rotate-180",class:"size-5"})]),_:1})]),_:1})],32)]),_:1})]),_:1},8,["open"])}}});function Ve(){function i(s,n=0){const a=document.createElement("div");xe({render(){return ze(Fe,{modelValue:!0,src:s,index:n})}}).mount(a)}return{open:i}}export{Fe as _,Ve as u};
