
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as N,J as H,bO as $,c as m,o as i,r as S,u as l,x as J,y as K,b as L,bP as M,g as n,z as k,A as g,Q as O,h as s,l as t,P as Q,f as o,F as U,R as j,p as q,t as A,w as C,am as x,C as B}from"./index-DXZKKOp8.js";import{_ as G}from"./index.vue_vue_type_script_setup_true_lang-D4ztVb3N.js";const I={class:"contents"},W=N({name:"FaAuth",__name:"index",props:{value:{},all:{type:Boolean}},setup(P){const a=P,u=H(()=>a.all?$().authAll(typeof a.value=="string"?[a.value]:a.value):$().auth(a.value));return(d,F)=>(i(),m("div",I,[l(u)?S(d.$slots,"default",{key:0}):S(d.$slots,"no-auth",{key:1})]))}}),X={class:"space-y-2"},Y={class:"space-x-2"},Z={class:"flex-col-start space-y-2"},c={class:"text-sm space-y-2"},h={class:"space-y-2"},ee={class:"space-x-2"},se={class:"space-x-2"},te=N({name:"PermissionExample",__name:"index",setup(P){const a=J(),u=K(),d=L(),{auth:F,authAll:V}=$();async function D(f){await d.login({account:f,password:""}),location.reload()}function E(){a.push({name:"permissionExampleTest"})}function _(f){F(f)?x.success("校验通过",{position:"top-center"}):x.error("校验不通过",{position:"top-center"})}function T(f){V(f)?x.success("校验通过",{position:"top-center"}):x.error("校验不通过",{position:"top-center"})}return(f,e)=>{const R=O,v=Q,b=q,r=G,w=W,y=M("auth");return i(),m("div",null,[n(R,{title:"权限验证"}),l(u).settings.app.enablePermission?(i(),k(v,{key:1,title:"切换账号"},{default:s(()=>[o("div",X,[o("div",Y,[(i(),m(U,null,j([{label:"admin",value:"admin"},{label:"test",value:"test"},{label:"hooray(无权限)",value:"hooray"}],(p,z)=>n(b,{key:z,variant:l(d).account===p.value?"default":"outline",onClick:ne=>D(p.value)},{default:s(()=>[t(A(p.label),1)]),_:2},1032,["variant","onClick"])),64))]),o("div",null,"当前账号权限："+A(l(d).permissions),1)])]),_:1})):(i(),k(v,{key:0},{default:s(()=>[...e[4]||(e[4]=[t(" 请到 settings.ts 里设置并开启权限功能，再进入该页面查看演示 ",-1)])]),_:1})),l(u).settings.app.enablePermission?(i(),k(v,{key:2,title:"路由鉴权"},{default:s(()=>[n(b,{onClick:E},{default:s(()=>[...e[5]||(e[5]=[t(" 跳转页面 ",-1)])]),_:1})]),_:1})):g("",!0),l(u).settings.app.enablePermission?(i(),k(v,{key:3,title:"鉴权指令"},{default:s(()=>[o("div",Z,[C((i(),m("div",null,[...e[6]||(e[6]=[t(" 如果你有 permission.browse 权限则能看到这句话 ",-1)])])),[[y,"permission.browse"]]),C((i(),m("div",null,[...e[7]||(e[7]=[t(" 如果你有 permission.create 权限则能看到这句话 ",-1)])])),[[y,"permission.create"]]),C((i(),m("div",null,[...e[8]||(e[8]=[t(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ",-1)])])),[[y,["permission.browse","permission.create"]]]),C((i(),m("div",null,[...e[9]||(e[9]=[t(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ",-1)])])),[[y,["permission.browse","permission.create"],void 0,{all:!0}]])])]),_:1})):g("",!0),l(u).settings.app.enablePermission?(i(),k(v,{key:4,title:"鉴权组件"},{default:s(()=>[o("div",c,[o("div",null,[e[12]||(e[12]=t(" 你 ",-1)),n(w,{value:"permission.browse"},{"no-auth":s(()=>[n(r,null,{default:s(()=>[...e[11]||(e[11]=[t("没有",-1)])]),_:1})]),default:s(()=>[n(r,null,{default:s(()=>[...e[10]||(e[10]=[t("有",-1)])]),_:1})]),_:1}),e[13]||(e[13]=t(" permission.browse 权限 ",-1))]),o("div",null,[e[16]||(e[16]=t(" 你 ",-1)),n(w,{value:"permission.create"},{"no-auth":s(()=>[n(r,null,{default:s(()=>[...e[15]||(e[15]=[t("没有",-1)])]),_:1})]),default:s(()=>[n(r,null,{default:s(()=>[...e[14]||(e[14]=[t("有",-1)])]),_:1})]),_:1}),e[17]||(e[17]=t(" permission.create 权限 ",-1))]),o("div",null,[e[20]||(e[20]=t(" 你 ",-1)),n(w,{value:["permission.browse","permission.create"]},{"no-auth":s(()=>[n(r,null,{default:s(()=>[...e[19]||(e[19]=[t("没有",-1)])]),_:1})]),default:s(()=>[n(r,null,{default:s(()=>[...e[18]||(e[18]=[t("有",-1)])]),_:1})]),_:1}),e[21]||(e[21]=t(" permission.browse 或 permission.create 权限 ",-1))]),o("div",null,[e[24]||(e[24]=t(" 你 ",-1)),n(w,{value:["permission.browse","permission.create"],all:""},{"no-auth":s(()=>[n(r,null,{default:s(()=>[...e[23]||(e[23]=[t("没有",-1)])]),_:1})]),default:s(()=>[n(r,null,{default:s(()=>[...e[22]||(e[22]=[t("有",-1)])]),_:1})]),_:1}),e[25]||(e[25]=t(" permission.browse 和 permission.create 权限 ",-1))])])]),_:1})):g("",!0),l(u).settings.app.enablePermission?(i(),k(v,{key:5,title:"鉴权函数"},{default:s(()=>[o("div",h,[o("div",ee,[n(b,{variant:"outline",onClick:e[0]||(e[0]=p=>_("permission.browse"))},{default:s(()=>[...e[26]||(e[26]=[t(" 校验 permission.browse 权限 ",-1)])]),_:1}),n(b,{variant:"outline",onClick:e[1]||(e[1]=p=>_("permission.create"))},{default:s(()=>[...e[27]||(e[27]=[t(" 校验 permission.create 权限 ",-1)])]),_:1})]),o("div",se,[n(b,{variant:"outline",onClick:e[2]||(e[2]=p=>_(["permission.browse","permission.create"]))},{default:s(()=>[...e[28]||(e[28]=[t(" 校验 permission.browse 或 permission.create 权限 ",-1)])]),_:1}),n(b,{variant:"outline",onClick:e[3]||(e[3]=p=>T(["permission.browse","permission.create"]))},{default:s(()=>[...e[29]||(e[29]=[t(" 校验 permission.browse 和 permission.create 权限 ",-1)])]),_:1})])])]),_:1})):g("",!0)])}}});typeof B=="function"&&B(te);export{te as default};
