
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as _,U as L,a7 as z,V as b,ay as G,e as w,K as N,z as p,o as r,h as l,r as f,u as e,bp as V,a3 as O,m as B,bq as U,j as C,k as x,br as j,bs as K,bt as W,bu as H,bv as J,bw as X,J as F,E as Y,c as M,g as h,bx as Q,$ as Z,F as P,a9 as E,a2 as D,a as S,aC as ee,ab as te,A as $,R as I,l as ae,G as oe,t as ne}from"./index-DXZKKOp8.js";const[A,se]=L("ContextMenuRoot");var re=_({inheritAttrs:!1,__name:"ContextMenuRoot",props:{pressOpenDelay:{type:Number,required:!1,default:700},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(t,{emit:o}){const a=t,s=o,{dir:i,modal:u,pressOpenDelay:n}=z(a);b();const c=G(i),m=w(!1),y=w();return se({open:m,onOpenChange:v=>{m.value=v},dir:c,modal:u,triggerElement:y,pressOpenDelay:n}),N(m,v=>{s("update:open",v)}),(v,g)=>(r(),p(e(V),{open:m.value,"onUpdate:open":g[0]||(g[0]=q=>m.value=q),dir:e(c),modal:e(u)},{default:l(()=>[f(v.$slots,"default")]),_:3},8,["open","dir","modal"]))}}),le=re,ue=_({__name:"ContextMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1,default:0},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},sticky:{type:String,required:!1,default:"partial"},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:o}){const i=O(t,o);b();const u=A(),n=w(!1);return(c,m)=>(r(),p(e(U),B(e(i),{side:"right","side-offset":2,align:"start","update-position-strategy":"always",style:{"--reka-context-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-context-menu-content-available-width":"var(--reka-popper-available-width)","--reka-context-menu-content-available-height":"var(--reka-popper-available-height)","--reka-context-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-context-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:m[0]||(m[0]=y=>{!y.defaultPrevented&&n.value&&y.preventDefault(),n.value=!1}),onInteractOutside:m[1]||(m[1]=y=>{y.detail.originalEvent.button===2&&y.target===e(u).triggerElement.value&&y.preventDefault(),!y.defaultPrevented&&!e(u).modal.value&&(n.value=!0)})}),{default:l(()=>[f(c.$slots,"default")]),_:3},16))}}),ie=ue,de=_({__name:"ContextMenuGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const o=t;return b(),(a,s)=>(r(),p(e(j),C(x(o)),{default:l(()=>[f(a.$slots,"default")]),_:3},16))}}),pe=de,ce=_({__name:"ContextMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(t,{emit:o}){const a=t,i=K(o);return b(),(u,n)=>(r(),p(e(W),C(x({...a,...e(i)})),{default:l(()=>[f(u.$slots,"default")]),_:3},16))}}),fe=ce,_e=_({__name:"ContextMenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const o=t;return b(),(a,s)=>(r(),p(e(H),C(x(o)),{default:l(()=>[f(a.$slots,"default")]),_:3},16))}}),me=_e,ye=_({__name:"ContextMenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const o=t;return(a,s)=>(r(),p(e(J),C(x(o)),{default:l(()=>[f(a.$slots,"default")]),_:3},16))}}),ve=ye,ge=_({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const o=t;return b(),(a,s)=>(r(),p(e(X),C(x(o)),{default:l(()=>[f(a.$slots,"default")]),_:3},16))}}),he=ge;function R(t){return t.pointerType!=="mouse"}var Ce=_({inheritAttrs:!1,__name:"ContextMenuTrigger",props:{disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const o=t,{disabled:a}=z(o),{forwardRef:s,currentElement:i}=b(),u=A(),n=w({x:0,y:0}),c=F(()=>({getBoundingClientRect:()=>({width:0,height:0,left:n.value.x,right:n.value.x,top:n.value.y,bottom:n.value.y,...n.value})})),m=w(0);function y(){window.clearTimeout(m.value)}function v(d){n.value={x:d.clientX,y:d.clientY},u.onOpenChange(!0)}async function g(d){a.value||(await E(),d.defaultPrevented||(y(),v(d),d.preventDefault()))}async function q(d){a.value||(await E(),R(d)&&!d.defaultPrevented&&(y(),m.value=window.setTimeout(()=>v(d),u.pressOpenDelay.value)))}async function k(d){a.value||(await E(),R(d)&&!d.defaultPrevented&&y())}return Y(()=>{i.value&&(u.triggerElement.value=i.value)}),(d,$e)=>(r(),M(P,null,[h(e(Q),{as:"template",reference:c.value},null,8,["reference"]),h(e(Z),B({ref:e(s),as:d.as,"as-child":d.asChild,"data-state":e(u).open.value?"open":"closed","data-disabled":e(a)?"":void 0,style:{WebkitTouchCallout:"none",pointerEvents:"auto"}},d.$attrs,{onContextmenu:g,onPointerdown:q,onPointermove:k,onPointercancel:k,onPointerup:k}),{default:l(()=>[f(d.$slots,"default")]),_:3},16,["as","as-child","data-state","data-disabled"])],64))}}),xe=Ce;const be=_({__name:"ContextMenu",props:{pressOpenDelay:{},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:o}){const i=O(t,o);return(u,n)=>(r(),p(e(le),C(x(e(i))),{default:l(()=>[f(u.$slots,"default")]),_:3},16))}}),Me=_({__name:"ContextMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideFlip:{type:Boolean},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:o}){const a=t,s=o,i=D(a,"class"),u=O(i,s);return(n,c)=>(r(),p(e(ve),null,{default:l(()=>[h(e(ie),B(e(u),{class:e(S)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a.class)}),{default:l(()=>[f(n.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Be=_({__name:"ContextMenuGroup",props:{asChild:{type:Boolean},as:{}},setup(t){const o=t;return(a,s)=>(r(),p(e(pe),C(x(o)),{default:l(()=>[f(a.$slots,"default")]),_:3},16))}}),qe=_({__name:"ContextMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},emits:["select"],setup(t,{emit:o}){const a=t,s=o,i=D(a,"class"),u=O(i,s);return(n,c)=>(r(),p(e(fe),B(e(u),{class:e(S)("relative flex cursor-default select-none items-center rounded-sm gap-2 px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t.inset&&"pl-8",a.class)}),{default:l(()=>[f(n.$slots,"default")]),_:3},16,["class"]))}}),Pe=_({__name:"ContextMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(t){const o=t,a=D(o,"class");return(s,i)=>(r(),p(e(me),B(e(a),{class:e(S)("px-2 py-1.5 text-sm font-semibold text-foreground",t.inset&&"pl-8",o.class)}),{default:l(()=>[f(s.$slots,"default")]),_:3},16,["class"]))}}),T=_({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const o=t,a=D(o,"class");return(s,i)=>(r(),p(e(he),B(e(a),{class:e(S)("-mx-1 my-1 h-px bg-border",o.class)}),null,16,["class"]))}}),we=_({__name:"ContextMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const a=ee(t);return(s,i)=>(r(),p(e(xe),C(x(e(a))),{default:l(()=>[f(s.$slots,"default")]),_:3},16))}}),ke={key:0,class:"size-4 flex-center"},De=_({name:"FaContextMenu",__name:"index",props:{items:{}},setup(t){const o=t,a=te(),s=F(()=>o.items.map(n=>n.filter(c=>!c.hide)).filter(n=>n.length)),i=F(()=>s.value.some(n=>n.some(c=>c.icon)));function u(n){var c;(c=n.handle)==null||c.call(n)}return(n,c)=>{const m=oe;return r(),p(e(be),{modal:!1},{default:l(()=>[h(e(we),{"as-child":""},{default:l(()=>[f(n.$slots,"default")]),_:3}),h(e(Me),{class:"z-2050"},{default:l(()=>[a.label?(r(),M(P,{key:0},[h(e(Pe),null,{default:l(()=>[f(n.$slots,"label")]),_:3}),h(e(T))],64)):$("",!0),(r(!0),M(P,null,I(e(s),(y,v)=>(r(),M(P,{key:v},[h(e(Be),null,{default:l(()=>[(r(!0),M(P,null,I(y,(g,q)=>(r(),p(e(qe),{key:q,disabled:g.disabled,class:"cursor-pointer",onClick:k=>u(g)},{default:l(()=>[e(i)?(r(),M("div",ke,[g.icon?(r(),p(m,{key:0,name:g.icon,class:"size-4"},null,8,["name"])):$("",!0)])):$("",!0),ae(" "+ne(g.label),1)]),_:2},1032,["disabled","onClick"]))),128))]),_:2},1024),v!==e(s).length-1?(r(),p(e(T),{key:0})):$("",!0)],64))),128))]),_:3})]),_:3})}}});export{De as _};
