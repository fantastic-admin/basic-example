
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{_ as se}from"./index.vue_vue_type_script_setup_true_lang-BJb9cEwK.js";import{V as Q,d as q,a8 as X,W as k,e as I,J as b,z as D,o as C,h as B,r as R,O as W,u as e,az as ue,b8 as j,X as de,N as me,m as T,A as fe,b9 as ve,a0 as Y,ba as pe,bb as ce,E as ge,af as ye,g as O,a3 as be,a4 as Se,a as he,c as we,F as _e,R as Ce,a5 as Ve,a6 as xe}from"./index-CJB5jCfL.js";import{c as Z}from"./clamp-BstbYvQo.js";import{u as Ee}from"./useFormControl-Ps3NLZdi.js";import{V as De}from"./VisuallyHiddenInput-rvnVI6Ml.js";function Be(l=[],a,t){const n=[...l];return n[t]=a,n.sort((s,d)=>s-d)}function ee(l,a,t){const d=100/(t-a)*(l-a);return Z(d,0,100)}function Ke(l,a){return a>2?"Value ".concat(l+1," of ").concat(a):a===2?["Minimum","Maximum"][l]:void 0}function qe(l,a){if(l.length===1)return 0;const t=l.map(s=>Math.abs(s-a)),n=Math.min(...t);return t.indexOf(n)}function Ae(l,a,t){const n=l/2,d=G([0,50],[0,n]);return(n-d(a)*t)*t}function Me(l){return l.slice(0,-1).map((a,t)=>l[t+1]-a)}function Re(l,a){if(a>0){const t=Me(l);return Math.min(...t)>=a}return!0}function G(l,a){return t=>{if(l[0]===l[1]||a[0]===a[1])return a[0];const n=(a[1]-a[0])/(l[1]-l[0]);return a[0]+n*(t-l[0])}}function Pe(l){return(String(l).split(".")[1]||"").length}function Ie(l,a){const t=10**a;return Math.round(l*t)/t}const te=["PageUp","PageDown"],ae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ne={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageUp","ArrowUp","ArrowLeft"]},[le,oe]=Q(["SliderVertical","SliderHorizontal"]);var ke=q({__name:"SliderHorizontal",props:{dir:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(l,{emit:a}){const t=l,n=a,{max:s,min:d,dir:i,inverted:o}=X(t),{forwardRef:g,currentElement:y}=k(),S=z(),V=I(),_=I(),x=b(()=>(i==null?void 0:i.value)!=="rtl"&&!o.value||(i==null?void 0:i.value)!=="ltr"&&o.value);function f(u,r){var p;const m=_.value||y.value.getBoundingClientRect(),w=[...S.thumbElements.value][S.valueIndexToChangeRef.value],M=S.thumbAlignment.value==="contain"?w.clientWidth:0;!V.value&&!r&&S.thumbAlignment.value==="contain"&&(V.value=u.clientX-w.getBoundingClientRect().left);const H=[0,m.width-M],A=x.value?[d.value,s.value]:[s.value,d.value],$=G(H,A);_.value=m;const v=r?u.clientX-m.left-M/2:u.clientX-m.left-((p=V.value)!=null?p:0);return $(v)}const c=b(()=>x.value?"left":"right"),K=b(()=>x.value?"right":"left"),h=b(()=>x.value?1:-1);return oe({startEdge:c,endEdge:K,direction:h,size:"width"}),(u,r)=>(C(),D(re,{ref:e(g),dir:e(i),"data-orientation":"horizontal",style:W({"--reka-slider-thumb-transform":!x.value&&e(S).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:r[0]||(r[0]=m=>{const w=f(m,!0);n("slideStart",w)}),onSlideMove:r[1]||(r[1]=m=>{const w=f(m);n("slideMove",w)}),onSlideEnd:r[2]||(r[2]=()=>{_.value=void 0,V.value=void 0,n("slideEnd")}),onStepKeyDown:r[3]||(r[3]=m=>{const w=x.value?"from-left":"from-right",M=e(ne)[w].includes(m.key);n("stepKeyDown",m,M?-1:1)}),onEndKeyDown:r[4]||(r[4]=m=>n("endKeyDown",m)),onHomeKeyDown:r[5]||(r[5]=m=>n("homeKeyDown",m))},{default:B(()=>[R(u.$slots,"default")]),_:3},8,["dir","style"]))}}),$e=ke,Te=q({__name:"SliderVertical",props:{min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(l,{emit:a}){const t=l,n=a,{max:s,min:d,inverted:i}=X(t),o=z(),{forwardRef:g,currentElement:y}=k(),S=I(),V=I(),_=b(()=>!i.value);function x(h,u){var v;const r=V.value||y.value.getBoundingClientRect(),m=[...o.thumbElements.value][o.valueIndexToChangeRef.value],w=o.thumbAlignment.value==="contain"?m.clientHeight:0;!S.value&&!u&&o.thumbAlignment.value==="contain"&&(S.value=h.clientY-m.getBoundingClientRect().top);const M=[0,r.height-w],H=_.value?[s.value,d.value]:[d.value,s.value],A=G(M,H),$=u?h.clientY-r.top-w/2:h.clientY-r.top-((v=S.value)!=null?v:0);return V.value=r,A($)}const f=b(()=>_.value?"bottom":"top"),c=b(()=>_.value?"top":"bottom"),K=b(()=>_.value?1:-1);return oe({startEdge:f,endEdge:c,direction:K,size:"height"}),(h,u)=>(C(),D(re,{ref:e(g),"data-orientation":"vertical",style:W({"--reka-slider-thumb-transform":!_.value&&e(o).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:u[0]||(u[0]=r=>{const m=x(r,!0);n("slideStart",m)}),onSlideMove:u[1]||(u[1]=r=>{const m=x(r);n("slideMove",m)}),onSlideEnd:u[2]||(u[2]=()=>{V.value=void 0,S.value=void 0,n("slideEnd")}),onStepKeyDown:u[3]||(u[3]=r=>{const m=_.value?"from-bottom":"from-top",w=e(ne)[m].includes(r.key);n("stepKeyDown",r,w?-1:1)}),onEndKeyDown:u[4]||(u[4]=r=>n("endKeyDown",r)),onHomeKeyDown:u[5]||(u[5]=r=>n("homeKeyDown",r))},{default:B(()=>[R(h.$slots,"default")]),_:3},8,["style"]))}}),ze=Te;const[z,He]=Q("SliderRoot");var Fe=q({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{type:Array,required:!1,default:()=>[0]},modelValue:{type:[Array,null],required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},inverted:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1,default:0},thumbAlignment:{type:String,required:!1,default:"contain"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","valueCommit"],setup(l,{emit:a}){const t=l,n=a,{min:s,max:d,step:i,minStepsBetweenThumbs:o,orientation:g,disabled:y,thumbAlignment:S,dir:V}=X(t),_=ue(V),{forwardRef:x,currentElement:f}=k(),c=Ee(f),{CollectionSlot:K}=j({isProvider:!0}),h=de(t,"modelValue",n,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),u=b(()=>Array.isArray(h.value)?[...h.value]:[]),r=I(0),m=I(u.value);function w(v){const p=qe(u.value,v);A(v,p)}function M(v){A(v,r.value)}function H(){const v=m.value[r.value];u.value[r.value]!==v&&n("valueCommit",ve(u.value))}function A(v,p,{commit:E}={commit:!1}){var F;const L=Pe(i.value),J=Ie(Math.round((v-s.value)/i.value)*i.value+s.value,L),U=Z(J,s.value,d.value),P=Be(u.value,U,p);if(Re(P,o.value*i.value)){r.value=P.indexOf(U);const N=String(P)!==String(h.value);N&&E&&n("valueCommit",P),N&&((F=$.value[r.value])==null||F.focus(),h.value=P)}}const $=I([]);return He({modelValue:h,currentModelValue:u,valueIndexToChangeRef:r,thumbElements:$,orientation:g,min:s,max:d,disabled:y,thumbAlignment:S}),(v,p)=>(C(),D(e(K),null,{default:B(()=>[(C(),D(me(e(g)==="horizontal"?$e:ze),T(v.$attrs,{ref:e(x),"as-child":v.asChild,as:v.as,min:e(s),max:e(d),dir:e(_),inverted:v.inverted,"aria-disabled":e(y),"data-disabled":e(y)?"":void 0,onPointerdown:p[0]||(p[0]=()=>{e(y)||(m.value=u.value)}),onSlideStart:p[1]||(p[1]=E=>!e(y)&&w(E)),onSlideMove:p[2]||(p[2]=E=>!e(y)&&M(E)),onSlideEnd:p[3]||(p[3]=E=>!e(y)&&H()),onHomeKeyDown:p[4]||(p[4]=E=>!e(y)&&A(e(s),0,{commit:!0})),onEndKeyDown:p[5]||(p[5]=E=>!e(y)&&A(e(d),u.value.length-1,{commit:!0})),onStepKeyDown:p[6]||(p[6]=(E,L)=>{if(!e(y)){const P=e(te).includes(E.key)||E.shiftKey&&e(ae).includes(E.key)?10:1,F=r.value,N=u.value[F],ie=e(i)*P*L;A(N+ie,F,{commit:!0})}})}),{default:B(()=>[R(v.$slots,"default",{modelValue:e(h)}),e(c)&&v.name?(C(),D(e(De),{key:0,type:"number",value:e(h),name:v.name,required:v.required,disabled:e(y),step:e(i)},null,8,["value","name","required","disabled","step"])):fe("v-if",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),Ne=Fe,Oe=q({__name:"SliderImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(l,{emit:a}){const t=l,n=a,s=z();return(d,i)=>(C(),D(e(Y),T({"data-slider-impl":""},t,{onKeydown:i[0]||(i[0]=o=>{o.key==="Home"?(n("homeKeyDown",o),o.preventDefault()):o.key==="End"?(n("endKeyDown",o),o.preventDefault()):e(te).concat(e(ae)).includes(o.key)&&(n("stepKeyDown",o),o.preventDefault())}),onPointerdown:i[1]||(i[1]=o=>{const g=o.target;g.setPointerCapture(o.pointerId),o.preventDefault(),e(s).thumbElements.value.includes(g)?g.focus():n("slideStart",o)}),onPointermove:i[2]||(i[2]=o=>{o.target.hasPointerCapture(o.pointerId)&&n("slideMove",o)}),onPointerup:i[3]||(i[3]=o=>{const g=o.target;g.hasPointerCapture(o.pointerId)&&(g.releasePointerCapture(o.pointerId),n("slideEnd",o))})}),{default:B(()=>[R(d.$slots,"default")]),_:3},16))}}),re=Oe,Ye=q({__name:"SliderRange",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(l){const a=z(),t=le();k();const n=b(()=>a.currentModelValue.value.map(i=>ee(i,a.min.value,a.max.value))),s=b(()=>a.currentModelValue.value.length>1?Math.min(...n.value):0),d=b(()=>100-Math.max(...n.value,0));return(i,o)=>(C(),D(e(Y),{"data-disabled":e(a).disabled.value?"":void 0,"data-orientation":e(a).orientation.value,"as-child":i.asChild,as:i.as,style:W({[e(t).startEdge.value]:"".concat(s.value,"%"),[e(t).endEdge.value]:"".concat(d.value,"%")})},{default:B(()=>[R(i.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),Le=Ye,Ue=q({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const a=l,t=z(),n=le(),{forwardRef:s,currentElement:d}=k(),{CollectionItem:i}=j(),o=b(()=>{var f,c;return(c=(f=t.modelValue)==null?void 0:f.value)==null?void 0:c[a.index]}),g=b(()=>{var f,c;return o.value===void 0?0:ee(o.value,(f=t.min.value)!=null?f:0,(c=t.max.value)!=null?c:100)}),y=b(()=>{var f,c,K;return Ke(a.index,(K=(c=(f=t.modelValue)==null?void 0:f.value)==null?void 0:c.length)!=null?K:0)}),S=pe(d),V=b(()=>S[n.size].value),_=b(()=>t.thumbAlignment.value==="overflow"||!V.value?0:Ae(V.value,g.value,n.direction.value)),x=ce();return ge(()=>{t.thumbElements.value.push(d.value)}),ye(()=>{var c;const f=(c=t.thumbElements.value.findIndex(K=>K===d.value))!=null?c:-1;t.thumbElements.value.splice(f,1)}),(f,c)=>(C(),D(e(i),null,{default:B(()=>[O(e(Y),T(f.$attrs,{ref:e(s),role:"slider",tabindex:e(t).disabled.value?void 0:0,"aria-label":f.$attrs["aria-label"]||y.value,"data-disabled":e(t).disabled.value?"":void 0,"data-orientation":e(t).orientation.value,"aria-valuenow":o.value,"aria-valuemin":e(t).min.value,"aria-valuemax":e(t).max.value,"aria-orientation":e(t).orientation.value,"as-child":f.asChild,as:f.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[e(n).startEdge.value]:"calc(".concat(g.value,"% + ").concat(_.value,"px)"),display:!e(x)&&o.value===void 0?"none":void 0},onFocus:c[0]||(c[0]=()=>{e(t).valueIndexToChangeRef.value=f.index})}),{default:B(()=>[R(f.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),Xe=Ue,We=q({__name:"SliderThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(l){const a=l,{getItems:t}=j(),{forwardRef:n,currentElement:s}=k(),d=b(()=>s.value?t(!0).findIndex(i=>i.ref===s.value):-1);return(i,o)=>(C(),D(Xe,T({ref:e(n)},a,{index:d.value}),{default:B(()=>[R(i.$slots,"default")]),_:3},16,["index"]))}}),je=We,Ge=q({__name:"SliderTrack",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(l){const a=z();return k(),(t,n)=>(C(),D(e(Y),{"as-child":t.asChild,as:t.as,"data-disabled":e(a).disabled.value?"":void 0,"data-orientation":e(a).orientation.value},{default:B(()=>[R(t.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),Je=Ge;const Qe=q({__name:"Slider",props:{defaultValue:{},modelValue:{},disabled:{type:Boolean},orientation:{},dir:{},inverted:{type:Boolean},min:{},max:{},step:{},minStepsBetweenThumbs:{},thumbAlignment:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{},tooltip:{type:Boolean}},emits:["update:modelValue","valueCommit"],setup(l,{emit:a}){const t=l,n=a,s=be(t,"class"),d=Se(s,n);return(i,o)=>{const g=se;return C(),D(e(Ne),T({class:e(he)("relative flex w-full touch-none select-none items-center data-[orientation=vertical]:flex-col data-[orientation=vertical]:w-2 data-[orientation=vertical]:h-full",t.class)},e(d)),{default:B(()=>[O(e(Je),{class:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary data-[orientation=vertical]:w-2"},{default:B(()=>[O(e(Le),{class:"absolute h-full bg-primary data-[orientation=vertical]:w-full"})]),_:1}),(C(!0),we(_e,null,Ce(l.modelValue,(y,S)=>(C(),D(g,{key:S,text:y.toString(),"disable-closing-trigger":"",disabled:!t.tooltip},{default:B(()=>[O(e(je),{class:"block h-5 w-5 border-2 border-primary rounded-full bg-background ring-offset-background transition-colors disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring"})]),_:1},8,["text","disabled"]))),128))]),_:1},16,["class"])}}}),lt=q({name:"FaSlider",__name:"index",props:Ve({defaultValue:{default:()=>[0]},disabled:{type:Boolean,default:!1},inverted:{type:Boolean,default:!1},max:{default:100},min:{default:0},step:{default:1},orientation:{default:"horizontal"},thumbAlignment:{default:"contain"},tooltip:{type:Boolean,default:!0},class:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const a=l,t=xe(l,"modelValue");return(n,s)=>(C(),D(e(Qe),T(a,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=d=>t.value=d)}),null,16,["modelValue"]))}});export{lt as _};
