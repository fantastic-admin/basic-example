
/**
 * ç”± Fantastic-admin æä¾›æŠ€æœ¯æ”¯æŒ
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{_ as K}from"./index.vue_vue_type_script_setup_true_lang-JKAbtLxW.js";import{d as z,c as B,o as $,n as M,u as e,a as Q,r as W,b as Y,e as F,f as o,w as E,t as H,g as t,_ as tt,i as et,v as G,h as s,m as L,T as S,j as st,k as at,l as f,p as D,q as ot,s as lt,x as nt,y as it,z as O,A as X,F as rt,B as ct,C as Z}from"./index-CJB5jCfL.js";import{i as ut}from"./logo-A4CMGNjt.js";import{_ as dt}from"./login-banner-QOEVdAqA.js";import{_ as mt}from"./index.vue_vue_type_script_setup_true_lang-B_mtxw3w.js";import{_ as q}from"./index-nxIJQMZp.js";import{u as pt,a as U,t as j,o as A,b as ft,s as I,F as k,_ as P,c as R,d as V}from"./FormMessage.vue_vue_type_script_setup_true_lang-Cw6SYoqu.js";import{_ as vt}from"./index.vue_vue_type_script_setup_true_lang-DvCQLJ-I.js";import{_ as _t}from"./index.vue_vue_type_script_setup_true_lang-DfcgrAQ8.js";import{_ as gt}from"./index.vue_vue_type_script_setup_true_lang-BLZ12p_Y.js";import"./check-DCcBWiiy.js";import"./useFormControl-Ps3NLZdi.js";import"./VisuallyHiddenInput-rvnVI6Ml.js";import"./index.vue_vue_type_script_setup_true_lang-BJb9cEwK.js";import"./useGraceArea-DlHm-kvF.js";const bt=["id"],xt=z({__name:"FormDescription",props:{class:{}},setup(C){const b=C,{formDescriptionId:x}=pt();return(p,_)=>($(),B("p",{id:e(x),class:M(e(Q)("text-sm text-muted-foreground",b.class))},[W(p.$slots,"default")],10,bt))}}),yt={class:"min-h-500px w-full flex-col-stretch-center p-12"},wt={class:"mb-4"},$t={class:"mb-4 flex-center-between"},Ft={class:"flex-center-start"},St={class:"mt-4 flex-center gap-2 text-sm"},kt={class:"mt-4 text-center -mb-4"},Pt={class:"space-x-2"},Rt="Fantastic-admin åŸºç¡€ç‰ˆ",Ct=z({name:"LoginForm",__name:"LoginForm",props:{account:{}},emits:["onLogin","onRegister","onResetPassword"],setup(C,{emit:b}){var n,y;const x=C,p=b,_=Y(),u=F(!1),i=F("default"),r=U({validationSchema:j(A({account:I().min(1,"è¯·è¾“å…¥ç”¨æˆ·å"),password:I().min(1,"è¯·è¾“å…¥å¯†ç "),remember:ft()})),initialValues:{account:(y=(n=x.account)!=null?n:localStorage.getItem("login_account"))!=null?y:"",password:"",remember:!!localStorage.getItem("login_account")}}),d=r.handleSubmit(l=>{u.value=!0,_.login(l).then(()=>{l.remember?localStorage.setItem("login_account",l.account):localStorage.removeItem("login_account"),p("onLogin",l.account)}).finally(()=>{u.value=!1})});function c(l){r.setFieldValue("account",l),r.setFieldValue("password","123456"),d()}return(l,a)=>{const w=tt,h=q,g=mt,v=D,N=ot;return $(),B("div",yt,[o("div",{class:"mb-6 space-y-2"},[a[6]||(a[6]=o("h3",{class:"text-4xl color-[var(--el-text-color-primary)] font-bold"}," æ¬¢è¿Žä½¿ç”¨ ðŸ‘‹ðŸ» ",-1)),o("p",{class:"text-sm text-muted-foreground lg:text-base"},H(Rt))]),o("div",wt,[t(w,{modelValue:e(i),"onUpdate:modelValue":a[0]||(a[0]=m=>et(i)?i.value=m:null),list:[{label:"è´¦å·å¯†ç ç™»å½•",value:"default"},{label:"æ‰«ç ç™»å½•",value:"qrcode"}],class:"inline-flex"},null,8,["modelValue"])]),E(o("div",null,[o("form",{onSubmit:a[3]||(a[3]=(...m)=>e(d)&&e(d)(...m))},[t(e(k),{name:"account"},{default:s(({componentField:m,errors:T})=>[t(e(P),{class:"relative pb-6 space-y-0"},{default:s(()=>[t(e(R),null,{default:s(()=>[t(h,L({type:"text",placeholder:"è¯·è¾“å…¥ç”¨æˆ·å",class:["w-full",T.length&&"border-destructive"]},m),null,16,["class"])]),_:2},1024),t(S,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:s(()=>[t(e(V),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),t(e(k),{name:"password"},{default:s(({componentField:m,errors:T})=>[t(e(P),{class:"relative pb-6 space-y-0"},{default:s(()=>[t(e(R),null,{default:s(()=>[t(h,L({type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ",class:["w-full",T.length&&"border-destructive"]},m),null,16,["class"])]),_:2},1024),t(S,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:s(()=>[t(e(V),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),o("div",$t,[o("div",Ft,[t(e(k),{type:"checkbox",name:"remember"},{default:s(({componentField:m})=>[t(e(P),null,{default:s(()=>[t(e(R),null,{default:s(()=>[t(g,st(at(m)),{default:s(()=>[...a[7]||(a[7]=[f(" è®°ä½æˆ‘ ",-1)])]),_:1},16)]),_:2},1024)]),_:2},1024)]),_:1})]),t(v,{variant:"link",class:"h-auto p-0",type:"button",onClick:a[1]||(a[1]=m=>p("onResetPassword",e(r).values.account))},{default:s(()=>[...a[8]||(a[8]=[f(" å¿˜è®°å¯†ç äº†? ",-1)])]),_:1})]),t(v,{loading:e(u),size:"lg",class:"w-full",type:"submit"},{default:s(()=>[...a[9]||(a[9]=[f(" ç™»å½• ",-1)])]),_:1},8,["loading"]),o("div",St,[a[11]||(a[11]=o("span",{class:"text-secondary-foreground op-50"},"è¿˜æ²¡æœ‰å¸å·?",-1)),t(v,{variant:"link",class:"h-auto p-0",type:"button",onClick:a[2]||(a[2]=m=>p("onRegister",e(r).values.account))},{default:s(()=>[...a[10]||(a[10]=[f(" æ³¨å†Œæ–°å¸å· ",-1)])]),_:1})])],32),o("div",kt,[t(N,null,{default:s(()=>[...a[12]||(a[12]=[f("æ¼”ç¤ºè´¦å·ä¸€é”®ç™»å½•",-1)])]),_:1}),o("div",Pt,[t(v,{variant:"default",size:"sm",plain:"",onClick:a[4]||(a[4]=m=>c("admin"))},{default:s(()=>[...a[13]||(a[13]=[f(" admin ",-1)])]),_:1}),t(v,{variant:"outline",size:"sm",plain:"",onClick:a[5]||(a[5]=m=>c("test"))},{default:s(()=>[...a[14]||(a[14]=[f(" test ",-1)])]),_:1})])])],512),[[G,e(i)==="default"]]),E(o("div",null,[...a[15]||(a[15]=[o("div",{class:"flex-col-center"},[o("img",{src:"https://s2.loli.net/2024/04/26/GsahtuIZ9XOg5jr.png",class:"h-[250px] w-[250px]"}),o("div",{class:"mt-2 text-sm text-secondary-foreground op-50"}," è¯·ä½¿ç”¨å¾®ä¿¡æ‰«ç ç™»å½• ")],-1)])],512),[[G,e(i)==="qrcode"]])])}}}),ht={class:"min-h-500px w-full flex-col-stretch-center p-12"},It={class:"mt-4 flex-center gap-2 text-sm"},Vt=z({name:"RegisterForm",__name:"RegisterForm",props:{account:{}},emits:["onLogin","onRegister"],setup(C,{emit:b}){var r;const x=C,p=b,_=F(!1),u=U({validationSchema:j(A({account:I().min(1,"è¯·è¾“å…¥ç”¨æˆ·å"),password:I().min(1,"è¯·è¾“å…¥å¯†ç ").min(6,"å¯†ç é•¿åº¦ä¸º6åˆ°18ä½").max(18,"å¯†ç é•¿åº¦ä¸º6åˆ°18ä½"),checkPassword:I().min(1,"è¯·å†æ¬¡è¾“å…¥å¯†ç ")}).refine(d=>d.password===d.checkPassword,{message:"ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´",path:["checkPassword"]})),initialValues:{account:(r=x.account)!=null?r:"",password:"",checkPassword:""}}),i=u.handleSubmit(d=>{_.value=!0,p("onRegister",d.account)});return(d,c)=>{const n=q,y=vt,l=D;return $(),B("div",ht,[o("form",{onSubmit:c[1]||(c[1]=(...a)=>e(i)&&e(i)(...a))},[c[5]||(c[5]=o("div",{class:"mb-8 space-y-2"},[o("h3",{class:"text-4xl color-[var(--el-text-color-primary)] font-bold"}," æŽ¢ç´¢ä»Žè¿™é‡Œå¼€å§‹ ðŸš€ "),o("p",{class:"text-sm text-muted-foreground lg:text-base"}," æ¼”ç¤ºç³»ç»Ÿæœªæä¾›è¯¥åŠŸèƒ½ ")],-1)),t(e(k),{name:"account"},{default:s(({componentField:a,errors:w})=>[t(e(P),{class:"relative pb-6 space-y-0"},{default:s(()=>[t(e(R),null,{default:s(()=>[t(n,L({type:"text",placeholder:"è¯·è¾“å…¥ç”¨æˆ·å",class:["w-full",w.length&&"border-destructive"]},a),null,16,["class"])]),_:2},1024),t(S,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:s(()=>[t(e(V),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),t(e(k),{name:"password"},{default:s(({componentField:a,value:w,errors:h})=>[t(e(P),{class:"relative pb-6 space-y-0"},{default:s(()=>[t(e(R),null,{default:s(()=>[t(n,L({type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ",class:["w-full",h.length&&"border-destructive"]},a),null,16,["class"])]),_:2},1024),t(e(xt),null,{default:s(()=>[t(y,{password:w,class:"mt-2"},null,8,["password"])]),_:2},1024),t(S,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:s(()=>[t(e(V),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),t(e(k),{name:"checkPassword"},{default:s(({componentField:a,errors:w})=>[t(e(P),{class:"relative pb-6 space-y-0"},{default:s(()=>[t(e(R),null,{default:s(()=>[t(n,L({type:"password",placeholder:"è¯·å†æ¬¡è¾“å…¥å¯†ç ",class:["w-full",w.length&&"border-destructive"]},a),null,16,["class"])]),_:2},1024),t(S,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:s(()=>[t(e(V),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),t(l,{loading:e(_),size:"lg",class:"mt-4 w-full",type:"submit"},{default:s(()=>[...c[2]||(c[2]=[f(" æ³¨å†Œ ",-1)])]),_:1},8,["loading"]),o("div",It,[c[4]||(c[4]=o("span",{class:"text-secondary-foreground op-50"},"å·²ç»æœ‰å¸å·?",-1)),t(l,{variant:"link",class:"h-auto p-0",onClick:c[0]||(c[0]=a=>p("onLogin",e(u).values.account))},{default:s(()=>[...c[3]||(c[3]=[f(" åŽ»ç™»å½• ",-1)])]),_:1})])],32)])}}}),Lt={class:"min-h-500px w-full flex-col-stretch-center p-12"},zt={class:"flex-start-between gap-2"},Bt={class:"mt-4 flex-center gap-2 text-sm color-[var(--el-text-color-secondary)]"},Ot=z({name:"ResetPasswordForm",__name:"ResetPasswordForm",props:{account:{}},emits:["onLogin","onResetPassword"],setup(C,{emit:b}){var n;const x=C,p=b,_=F(!1),u=U({validationSchema:j(A({account:I().min(1,"è¯·è¾“å…¥ç”¨æˆ·å"),captcha:I().min(6,"è¯·è¾“å…¥éªŒè¯ç "),newPassword:I().min(1,"è¯·è¾“å…¥æ–°å¯†ç ").min(6,"å¯†ç é•¿åº¦ä¸º6åˆ°18ä½").max(18,"å¯†ç é•¿åº¦ä¸º6åˆ°18ä½")})),initialValues:{account:(n=x.account)!=null?n:"",captcha:"",newPassword:""}}),i=u.handleSubmit(y=>{_.value=!0,p("onResetPassword",y.account)}),r=F(0),d=F(Number.NaN);function c(){r.value=60,d.value=window.setInterval(()=>{r.value--,r.value===0&&clearInterval(d.value)},1e3)}return(y,l)=>{const a=q,w=_t,h=D;return $(),B("div",Lt,[o("form",{onSubmit:l[1]||(l[1]=(...g)=>e(i)&&e(i)(...g))},[l[4]||(l[4]=o("div",{class:"mb-8 space-y-2"},[o("h3",{class:"text-4xl color-[var(--el-text-color-primary)] font-bold"}," å¿˜è®°å¯†ç äº†? ðŸ”’ "),o("p",{class:"text-sm text-muted-foreground lg:text-base"}," æ¼”ç¤ºç³»ç»Ÿæœªæä¾›è¯¥åŠŸèƒ½ ")],-1)),t(e(k),{name:"account"},{default:s(({componentField:g,errors:v})=>[t(e(P),{class:"relative pb-6 space-y-0"},{default:s(()=>[t(e(R),null,{default:s(()=>[t(a,L({type:"text",placeholder:"è¯·è¾“å…¥ç”¨æˆ·å",class:["w-full",v.length&&"border-destructive"]},g),null,16,["class"])]),_:2},1024),t(S,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:s(()=>[t(e(V),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),o("div",zt,[t(e(k),{name:"captcha"},{default:s(({componentField:g,value:v,setValue:N})=>[t(e(P),{class:"relative pb-6 space-y-0"},{default:s(()=>[t(e(R),null,{default:s(()=>[t(w,{"model-value":v,name:g.name,length:6,class:"border-destructive","onUpdate:modelValue":m=>N(m)},null,8,["model-value","name","onUpdate:modelValue"])]),_:2},1024),t(S,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:s(()=>[t(e(V),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),t(h,{variant:"outline",size:"lg",disabled:e(r)>0,class:"flex-1 px-4",onClick:c},{default:s(()=>[f(H(e(r)===0?"å‘é€éªŒè¯ç ":"".concat(e(r)," ç§’åŽå¯é‡æ–°å‘é€")),1)]),_:1},8,["disabled"])]),t(e(k),{name:"newPassword"},{default:s(({componentField:g,errors:v})=>[t(e(P),{class:"relative pb-6 space-y-0"},{default:s(()=>[t(e(R),null,{default:s(()=>[t(a,L({type:"password",placeholder:"è¯·è¾“å…¥æ–°å¯†ç ",class:["w-full",v.length&&"border-destructive"]},g),null,16,["class"])]),_:2},1024),t(S,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:s(()=>[t(e(V),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),t(h,{loading:e(_),size:"lg",class:"mt-4 w-full",type:"submit"},{default:s(()=>[...l[2]||(l[2]=[f(" ç¡®è®¤ ",-1)])]),_:1},8,["loading"]),o("div",Bt,[t(h,{variant:"link",class:"h-auto p-0",onClick:l[0]||(l[0]=g=>p("onLogin",e(u).values.account))},{default:s(()=>[...l[3]||(l[3]=[f(" åŽ»ç™»å½• ",-1)])]),_:1})])],32)])}}}),Nt={class:"absolute right-4 top-4 z-1 flex-center border rounded-lg bg-background p-1 text-base"},Tt={class:"login-box"},Dt={class:"login-form flex-col-center"},J=z({name:"Login",__name:"login",setup(C){var r,d;const b=lt(),x=nt(),p=it(),_=F((d=(r=b.query.redirect)==null?void 0:r.toString())!=null?d:p.settings.home.fullPath),u=F(),i=F("login");return(c,n)=>{const y=K;return $(),B(rt,null,[n[8]||(n[8]=o("div",{class:"bg-banner"},null,-1)),o("div",Nt,[e(p).settings.toolbar.colorScheme?($(),O(gt,{key:0})):X("",!0)]),o("div",Tt,[n[7]||(n[7]=o("div",{class:"login-banner"},[o("img",{src:ut,class:"absolute inset-s-4 inset-t-4 h-8 rounded"}),o("img",{src:dt,class:"banner"})],-1)),o("div",Dt,[t(S,{name:"fade",mode:"out-in"},{default:s(()=>[e(i)==="login"?($(),O(Ct,{key:0,account:e(u),onOnLogin:n[0]||(n[0]=l=>e(x).push(e(_))),onOnRegister:n[1]||(n[1]=l=>{i.value="register",u.value=l}),onOnResetPassword:n[2]||(n[2]=l=>{i.value="resetPassword",u.value=l})},null,8,["account"])):e(i)==="register"?($(),O(Vt,{key:1,account:e(u),onOnRegister:n[3]||(n[3]=l=>{i.value="login",u.value=l}),onOnLogin:n[4]||(n[4]=l=>i.value="login")},null,8,["account"])):e(i)==="resetPassword"?($(),O(Ot,{key:2,account:e(u),onOnResetPassword:n[5]||(n[5]=l=>{i.value="login",u.value=l}),onOnLogin:n[6]||(n[6]=l=>i.value="login")},null,8,["account"])):X("",!0)]),_:1})])]),t(y,{class:"copyright"})],64)}}});typeof Z=="function"&&Z(J);const te=ct(J,[["__scopeId","data-v-bb797091"]]);export{te as default};
