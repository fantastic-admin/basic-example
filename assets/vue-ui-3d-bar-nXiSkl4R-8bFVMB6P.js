
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./vue-data-ui-8Gmf-dDN.js","./index-CJB5jCfL.js","./index-D6D_bXIl.css","./alert-I_0TAljB.js","./vue-data-ui-C46fMXq5.css","./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js","./useNestedProp-DaR1dBmj-yWXLkJlG.js","./DataTable-BfEbVwm4-B-GxLkq-.js","./Shape-12_eh8zD-Cy1mu6XW.js","./PenAndPaper--ADXtx65-ugytqLuo.js","./ColorPicker-BYn8PF2Z-DkxHqz9_.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-Cy-iNhZU-CnpDVImt.js","./img-CqYIrJ8I-E54QgU9o.js","./dom-to-png-WXGPkYro-BQsfl1t5.js","./PackageVersion-By5ZZJ0U-Cc8IPeAX.js","./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"])))=>i.map(i=>d[i]);
import{J as T,e as y,a8 as Lt,aa as Ye,K as _e,E as Nt,c1 as q,c as v,o as s,z as le,A as f,h as x,r as $,j as z,k as I,u as n,c3 as Qe,O as j,n as et,g as tt,f as u,F as A,R as F,t as L,Y as lt,Z as ot,m as Ae,l as at,N as Vt,c4 as J}from"./index-CJB5jCfL.js";import{s as Rt,J as rt,x as Wt,v as Gt,o as he,$ as Ut,u as Zt,E as Ht,A as pe,a as Fe,b as G,H as nt,c as qt,F as E,d as Jt,w as k,l as X,L as fe,n as st,V as ge,W as U,e as Xt,f as Kt}from"./vue-data-ui-8Gmf-dDN.js";import{E as Yt,M as Qt}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{s as el,i as De}from"./useNestedProp-DaR1dBmj-yWXLkJlG.js";import{T as tl,j as ll}from"./BaseScanner-BMpwQAfz-mc47WWxo.js";import{m as ol}from"./usePrinter-ChVMpU2f-B27PF0nl.js";import{O as al}from"./useSvgExport-ByUukOZt-XO0OK7cR.js";import{i as rl}from"./useThemeCheck-DGJ31Vi5-GRZcYzX8.js";import{a as nl}from"./useUserOptionState-BIvW1Kz7-D70wY835.js";import{o as sl}from"./useChartAccessibility-9icAAmYg-CuAxjhEs.js";import ul from"./img-CqYIrJ8I-E54QgU9o.js";import il from"./Title-D0nD-PMs-DAiwElB_.js";import"./alert-I_0TAljB.js";import"./dom-to-png-WXGPkYro-BQsfl1t5.js";const ut={style:{chart:{backgroundColor:"#1A1A1A",color:"#CCCCCC",box:{stroke:"#5A5A5A"},title:{color:"#CCCCCC",subtitle:{color:"#757575"}},legend:{color:"#CCCCCC"},dataLabel:{color:"#CCCCCC"}}},table:{th:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},td:{backgroundColor:"#1A1A1A",color:"#CCCCCC"}}},it={style:{chart:{backgroundColor:"#FFF8E1",color:"#424242",bar:{color:"#D32F2F"},box:{stroke:"#5D4037"},title:{color:"#424242",subtitle:{color:"#757575"}},legend:{color:"#424242"},dataLabel:{color:"#424242"}}},table:{th:{backgroundColor:"#FFF8E1",color:"#424242"},td:{backgroundColor:"#FFF8E1",color:"#424242"}}},dt={style:{chart:{backgroundColor:"#1E1E1E",color:"#BDBDBD",bar:{color:"#D32F2F"},box:{stroke:"#5D4037"},title:{color:"#FFF8E1",subtitle:{color:"#BDBDBD"}},legend:{color:"#BDBDBD"},dataLabel:{color:"#BDBDBD"}}},table:{th:{backgroundColor:"#1E1E1E",color:"#BDBDBD"},td:{backgroundColor:"#1E1E1E",color:"#BDBDBD"}}},ct={style:{chart:{backgroundColor:"#1A1A1A",color:"#99AA99",bar:{color:"#66CC66"},box:{stroke:"#333333"},title:{color:"#66CC66",subtitle:{color:"#99AA99"}},legend:{color:"#99AA99"},dataLabel:{color:"#AACCAA"}}},table:{th:{backgroundColor:"#1A1A1A",color:"#99AA99"},td:{backgroundColor:"#1A1A1A",color:"#AACCAA"}}},vt={style:{chart:{backgroundColor:"#fbfafa",color:"#8A9892",bar:{color:"#B9B99D"},box:{stroke:"#DCDFE7"},title:{color:"#8A9892",subtitle:{color:"#99AA99"}},legend:{color:"#99AA99"},dataLabel:{color:"#A0AC94"}}},table:{th:{backgroundColor:"#fbfafa",color:"#8F837A"},td:{backgroundColor:"#fbfafa",color:"#8F837A"}}},ht={style:{chart:{backgroundColor:"#f6f6fb",color:"#50606C",bar:{color:"#4A6A75"},box:{stroke:"#DEE1DE"},title:{color:"#50606C",subtitle:{color:"#718890"}},legend:{color:"#61747E"},dataLabel:{color:"#61747E"}}},table:{th:{backgroundColor:"#f6f6fb",color:"#50606C"},td:{backgroundColor:"#f6f6fb",color:"#50606C"}}},pt={default:{},dark:ut,celebration:it,celebrationNight:dt,hack:ct,zen:vt,concrete:ht},wa=Object.freeze(Object.defineProperty({__proto__:null,celebration:it,celebrationNight:dt,concrete:ht,dark:ut,default:pt,hack:ct,zen:vt},Symbol.toStringTag,{value:"Module"})),dl=["id"],cl=["xmlns","viewBox"],vl=["width","height"],hl=["id"],pl=["stop-color"],fl=["stop-color"],gl=["id"],bl=["stop-color"],kl=["stop-color"],yl=["id"],$l=["stop-color"],ml=["stop-color"],xl=["id"],Cl=["stop-color"],wl=["stop-color"],_l=["id"],Al=["stop-color"],Fl=["stop-color"],Dl=["stop-color"],Ml=["stop-color"],Tl=["stop-color"],Pl={key:1},Sl=["id"],Bl=["stop-color"],El=["stop-color"],Ol=["id"],zl=["stop-color"],Il=["stop-color"],jl=["id"],Ll=["stop-color"],Nl=["stop-color"],Vl=["id"],Rl=["x","y","font-size","font-weight","fill"],Wl=["x","y"],Gl=["cx","cy","stroke","opacity"],Ul=["d","stroke"],Zl=["d","stroke"],Hl={key:4},ql={key:0},Jl=["stroke-dasharray","d","stroke","stroke-width"],Xl=["stroke-dasharray","d","stroke","stroke-width"],Kl=["stroke-dasharray","d","stroke","stroke-width"],Yl=["stroke-dasharray","d","stroke","stroke-width"],Ql={key:1},eo=["d","stroke","stroke-width","fill"],to=["d","stroke","stroke-width","fill"],lo=["d","stroke","stroke-width","fill"],oo={key:2},ao=["d","fill","onMouseenter","onClick","onMouseout"],ro=["d","fill","onMouseenter","onClick","onMouseout"],no=["d","fill","onMouseenter","onClick","onMouseout"],so=["d","onMouseenter","onClick","onMouseout"],uo=["d"],io=["d","stroke"],co=["onClick"],vo=["stroke","d"],ho=["cx","cy","fill","stroke"],po=["x","y","width","height"],fo=["x","y","width","height"],go={key:3},bo=["d","stroke"],ko=["d","fill","stroke"],yo={key:0},$o=["text-anchor","x","y","fill","font-size","font-weight"],mo=["text-anchor","x","y","fill","font-size","font-weight"],xo={key:4},Co=["d","fill","stroke"],wo={key:5},_o={key:0},Ao=["stroke-dasharray","d","stroke","stroke-width"],Fo=["stroke-dasharray","d","stroke","stroke-width"],Do=["stroke-dasharray","d","stroke","stroke-width"],Mo=["stroke-dasharray","d","stroke","stroke-width"],To=["d","stroke","stroke-width","fill"],Po=["d","stroke","stroke-width","fill"],So=["d"],Bo={key:1},Eo=["onClick"],Oo=["id"],zo=["stop-color"],Io=["stop-color"],jo=["id"],Lo=["stop-color"],No=["stop-color"],Vo=["stop-color"],Ro=["stop-color"],Wo=["stop-color"],Go=["onMouseenter","onClick","onMouseout","d","fill"],Uo=["onMouseenter","onClick","onMouseout","d"],Zo=["onMouseenter","onClick","onMouseout","d","fill"],Ho=["onClick"],qo=["stroke","d"],Jo=["cx","cy","fill","stroke"],Xo=["x","y","width","height"],Ko=["x","y","width","height"],Yo={key:3},Qo=["d","stroke"],ea=["d","fill","stroke"],ta={key:0},la=["text-anchor","x","y","fill","font-size","font-weight"],oa=["text-anchor","x","y","fill","font-size","font-weight"],aa={key:4},ra=["d","fill","stroke"],na={key:3,class:"vue-data-ui-watermark"},sa=["innerHTML"],ua={__name:"vue-ui-3d-bar",props:{config:{type:Object,default(){return{}}},dataset:{type:Object,default(){return{}}}},emits:["selectDatapoint"],setup(ft,{expose:gt,emit:bt}){const kt=q(()=>J(()=>import("./vue-data-ui-8Gmf-dDN.js").then(a=>a.aA),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),yt=q(()=>J(()=>import("./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js"),__vite__mapDeps([5,1,2,0,3,4,6]),import.meta.url)),$t=q(()=>J(()=>import("./DataTable-BfEbVwm4-B-GxLkq-.js"),__vite__mapDeps([7,1,2,8,0,3,4]),import.meta.url)),mt=q(()=>J(()=>import("./PenAndPaper--ADXtx65-ugytqLuo.js"),__vite__mapDeps([9,1,2,0,3,4,10,11]),import.meta.url)),xt=q(()=>J(()=>import("./UserOptions-Cy-iNhZU-CnpDVImt.js"),__vite__mapDeps([12,1,2,11,0,3,4,13,14]),import.meta.url)),Ct=q(()=>J(()=>import("./PackageVersion-By5ZZJ0U-Cc8IPeAX.js"),__vite__mapDeps([15,1,2]),import.meta.url)),wt=q(()=>J(()=>import("./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"),__vite__mapDeps([16,1,2,0,3,4]),import.meta.url)),{vue_ui_3d_bar:_t}=el(),{isThemeValid:At,warnInvalidTheme:Ft}=rl(),S=ft,se=bt,Me=T(()=>!!S.dataset&&Object.keys(S.dataset).length),D=y(rt()),N=y(null),O=y(!1),Te=y(0),Pe=y(0),Se=y(null),oe=y(null),ue=y(null),Be=y(null),ae=y(!1),re=y(null),be=y(null),e=y($e()),{loading:K,FINAL_DATASET:B}=tl({...Lt(S),FINAL_CONFIG:e,prepareConfig:$e,callback:()=>{Promise.resolve().then(async()=>{await Ye(),Ve()})},skeletonDataset:{series:[{name:"_",value:21,breakdown:[{name:"_",value:13},{name:"_",value:8}]},{name:"_",value:13,breakdown:[{name:"_",value:8},{name:"_",value:5}]},{name:"_",value:8,breakdown:[{name:"_",value:5},{name:"_",value:3}]}]},skeletonConfig:Wt({defaultConfig:e.value,userConfig:{customPalette:["#808080","#ADADAD","#DBDBDB"],userOptions:{show:!1},table:{show:!1},style:{chart:{backgroundColor:"#99999930",color:"#6A6A6A",bar:{color:"#ADADAD",stroke:"#6A6A6A"},box:{stroke:"#6A6A6A"}}}}})}),{userOptionsVisible:ke,setUserOptionsVisibility:Ee,keepUserOptionState:Oe}=nl({config:e.value}),{svgRef:ye}=sl({config:e.value.style.chart.title});function $e(){const a=De({userConfig:S.config,defaultConfig:_t}),o=a.theme;if(!o)return a;if(!At.value(a))return Ft(a),a;const t=De({userConfig:pt[o]||S.config,defaultConfig:a}),i=De({userConfig:S.config,defaultConfig:t});return{...i,customPalette:i.customPalette.length?i.customPalette:Gt[o]||he}}_e(()=>S.config,a=>{K.value||(e.value=$e()),ke.value=!e.value.userOptions.showOnChartHover,Re(),Te.value+=1,Pe.value+=1,Z.value.showTable=e.value.table.show},{deep:!0});const{isPrinting:ze,isImaging:Ie,generatePdf:je,generateImage:Le}=ol({elementId:"3d_bar_".concat(D.value),fileName:e.value.style.chart.title.text||"vue-ui-3d-bar",options:e.value.userOptions.print}),Dt=T(()=>Ut(e.value.customPalette)),Z=y({showTable:e.value.table.show});_e(e,()=>{Z.value={showTable:e.value.table.show}},{immediate:!0});const w=T(()=>B.value.series&&B.value.series.length),me=y(e.value.style.chart.box.dimensions.width*(w.value?2:1)),Ne=y(e.value.style.chart.box.dimensions.height),r=T(()=>({height:Ne.value,width:me.value,absoluteWidth:me.value,top:e.value.style.chart.box.dimensions.top,bottom:e.value.style.chart.box.dimensions.bottom,left:e.value.style.chart.box.dimensions.left,right:e.value.style.chart.box.dimensions.right,perspective:e.value.style.chart.box.dimensions.perspective})),_=T(()=>{if(w.value){const a=B.value.series.map(l=>l.value||0).reduce((l,c)=>l+c,0),o=B.value.series.map((l,c)=>({...l,seriesIndex:c,id:rt(),proportion:(l.value||0)/a,color:Zt(l.color)||Dt.value[c]||he[c]||he[c%he.length],breakdown:l.breakdown?l.breakdown.sort((d,b)=>b.value-d.value):null})).sort((l,c)=>c.value-l.value),t=[];let i=0;for(let l=0;l<o.length;l+=1)t.push({...o[l],fill:Mt(i,o[l].proportion,o[l].breakdown,o[l].color)}),i+=o[l].proportion;return t}return null}),V=T(()=>{const a=r.value.width/2;return{right:"M".concat(a,",").concat(r.value.top," ").concat(r.value.width-r.value.right,", ").concat(r.value.top+r.value.perspective," ").concat(r.value.width-r.value.right,",").concat(r.value.height-r.value.bottom-r.value.perspective," ").concat(a,",").concat(r.value.height-r.value.bottom),left:"M".concat(a,",").concat(r.value.top," ").concat(r.value.left,",").concat(r.value.top+r.value.perspective," ").concat(r.value.left,",").concat(r.value.height-r.value.bottom-r.value.perspective," ").concat(a,",").concat(r.value.height-r.value.bottom),side:"M".concat(a,",").concat(r.value.height-r.value.bottom," ").concat(a,",").concat(r.value.top+r.value.perspective*2),topSides:"M".concat(r.value.left,",").concat(r.value.top+r.value.perspective," ").concat(a,",").concat(r.value.top+r.value.perspective*2," ").concat(r.value.width-r.value.right,",").concat(r.value.top+r.value.perspective),tubeTop:"M".concat(r.value.left,",").concat(r.value.top+r.value.perspective," C ").concat(r.value.left,",").concat(r.value.top-r.value.perspective/3," ").concat(r.value.width-r.value.right,",").concat(r.value.top-r.value.perspective/3," ").concat(r.value.width-r.value.right,",").concat(r.value.top+r.value.perspective," C ").concat(r.value.width-r.value.right,",").concat(r.value.top+r.value.perspective*2.3," ").concat(r.value.left,",").concat(r.value.top+r.value.perspective*2.3," ").concat(r.value.left,",").concat(r.value.top+r.value.perspective),tubeLeft:"M".concat(r.value.left,",").concat(r.value.top+r.value.perspective," ").concat(r.value.left,",").concat(r.value.height-r.value.bottom-r.value.perspective),tubeRight:"M".concat(r.value.width-r.value.right,",").concat(r.value.top+r.value.perspective," ").concat(r.value.width-r.value.right,",").concat(r.value.height-r.value.bottom-r.value.perspective),tubeBottom:"M".concat(r.value.width-r.value.right,",").concat(r.value.height-r.value.bottom-r.value.perspective," C ").concat(r.value.width-r.value.right,",").concat(r.value.height," ").concat(r.value.left,",").concat(r.value.height," ").concat(r.value.left,",").concat(r.value.height-r.value.bottom-r.value.perspective)}}),Y=y(e.value.style.chart.animation.use?0:B.value.percentage);function Ve(){let a=0,o=e.value.style.chart.animation.speed,t=.005*e.value.style.chart.animation.acceleration;function i(){Y.value+=o+a,a+=t,Y.value<B.value.percentage?requestAnimationFrame(i):Y.value=B.value.percentage}e.value.style.chart.animation.use&&(Y.value=0,i())}Nt(()=>{Re(),Ve()});const ie=T(()=>!!e.value.debug);function Re(){if(Ht(S.dataset)?pe({componentName:"VueUi3dBar",type:"dataset",debug:ie.value}):S.dataset.series?S.dataset.series.forEach((a,o)=>{Fe({datasetObject:a,requiredAttributes:["name","value"]}).forEach(t=>{pe({componentName:"VueUi3dBar",type:"datasetSerieAttribute",property:t,index:o,debug:ie.value})}),a.breakdown&&a.breakdown.forEach((t,i)=>{Fe({datasetObject:t,requiredAttributes:["name","value"]}).forEach(l=>{pe({componentName:"VueUi3dBar",type:"datasetSerieAttribute",property:l,index:"".concat(o," - ").concat(i),debug:ie.value})})})}):Fe({datasetObject:S.dataset,requiredAttributes:["percentage"]}).forEach(a=>{pe({componentName:"VueUi3dBar",type:"datasetAttribute",property:a,debug:ie.value})}),e.value.responsive){const a=Yt(()=>{const{width:o,height:t}=Qt({chart:N.value,title:e.value.style.chart.title.text?Se.value:null,source:Be.value});requestAnimationFrame(()=>{Ne.value=t-12,me.value=o})});oe.value&&(ue.value&&oe.value.unobserve(ue.value),oe.value.disconnect()),oe.value=new ResizeObserver(a),ue.value=N.value.parentNode,oe.value.observe(ue.value)}}const Q=T(()=>r.value.width/4);function Mt(a,o,t,i){const l=r.value.height-r.value.bottom-r.value.top-r.value.perspective*2,{width:c,height:d,bottom:b,right:W,left:g,perspective:h}=r.value,P=w.value?c/4:c/2,C=P*2+g,p=b+l*a,we=d-p-h-l*o/2,zt=we>r.value.height/2?"top":"bottom",qe=d*.25,It=!!t;let Je=null,Xe=null;return It&&(t=t.map((Ke,jt)=>({...Ke,value:Ke.value||0,color:G(i,jt/t.length)})),Je=nt({series:t},c/2+c/5,zt==="top"?we-qe:we+qe,c/10,c/10,1.99999,2,1,360,105.25,c/20),Xe=nt({series:t},c-C+c/14,d-p-h-l*o/2,c/40,c/40,1.99999,2,1,360,105.25,c/40)),{donut:Je,miniDonut:Xe,donutR:c/20,CENTER_X:P,sidePointer:{x:c-C,x2:c-C+c/14,xText:c-C+c/9,y:d-p-h-l*o/2,topY:d-p-h-l*o,height:l*o},apexBottom:{y:d-p,x:P},apexTop:{y:d-p-l*o,x:P},right:"M".concat(P,",").concat(d-p," ").concat(P,",").concat(d-p-l*o," ").concat(c-C,",").concat(d-p-h-l*o," ").concat(c-C,",").concat(d-p-h,"Z"),left:"M".concat(P,",").concat(d-p," ").concat(P,",").concat(d-p-l*o," ").concat(g,", ").concat(d-p-h-l*o," ").concat(g,",").concat(d-p-h,"Z"),liningTop:"M".concat(g,",").concat(d-p-h-l*o," ").concat(P,",").concat(d-p-l*o," ").concat(c-C,",").concat(d-p-h-l*o),liningTopShade:"M".concat(g,",").concat(d-p-h-l*o-.5," ").concat(P,",").concat(d-p-l*o-.5," ").concat(c-C,",").concat(d-p-h-l*o-.5),top:"M".concat(P,",").concat(d-p-l*o," ").concat(g,",").concat(d-p-h-l*o," ").concat(P,",").concat(d-p-h*2-l*o," ").concat(c-C,",").concat(d-p-h-l*o," Z"),tubeTop:"M".concat(g,",").concat(d-p-l*o-h," C ").concat(g,",").concat(d-p-l*o-h*2.5," ").concat(c-C,",").concat(d-p-l*o-h*2.5," ").concat(c-C,",").concat(d-p-l*o-h," C ").concat(c-C,",").concat(d-p-l*o+h/2," ").concat(g,",").concat(d-p-l*o+h/2," ").concat(g,",").concat(d-p-l*o-h),bottomTubeTop:"M ".concat(c-C-.5,",").concat(d-p-h," C ").concat(c-C-.5,",").concat(d-p+h/2," ").concat(g,",").concat(d-p+h/2," ").concat(g+.5,",").concat(d-p-h),tubeBody:"M\n        ".concat(g,",").concat(d-p-l*o-h," \n        C ").concat(g,",").concat(d-p-l*o+h/2," \n        ").concat(c-C,",").concat(d-p-l*o+h/2," \n        ").concat(c-C,",").concat(d-p-l*o-h," \n        L").concat(c-C,",").concat(d-p-h,"\n        C \n        ").concat(c-C,",").concat(d-p+h/2,"\n        ").concat(g,",").concat(d-p+h/2,"\n        ").concat(g,",").concat(d-p-h,"Z")}}const ee=T(()=>{const a=qt(Y.value/100),o=r.value.height-r.value.bottom-r.value.top-r.value.perspective*2,{width:t,height:i,bottom:l,right:c,left:d,perspective:b}=r.value,W=w.value?t/4:t/2,g=w.value?W*2+d:c,h=l+o*0;return{right:"M".concat(W,",").concat(i-h," ").concat(W,",").concat(i-h-o*a," ").concat(t-g,",").concat(i-h-b-o*a," ").concat(t-g,",").concat(i-h-b,"Z"),left:"M".concat(W,",").concat(i-h," ").concat(W,",").concat(i-h-o*a," ").concat(d,", ").concat(i-h-b-o*a," ").concat(d,",").concat(i-h-b,"Z"),top:"M".concat(W,",").concat(i-h-o*a," ").concat(d,",").concat(i-h-b-o*a," ").concat(W,",").concat(i-h-b*2-o*a," ").concat(t-g,",").concat(i-h-b-o*a," Z"),tubeTop:"M".concat(d,",").concat(i-h-o*a-b," C ").concat(d,",").concat(i-h-o*a-b*2.5," ").concat(t-g,",").concat(i-h-o*a-b*2.5," ").concat(t-g,",").concat(i-h-o*a-b," C ").concat(t-g,",").concat(i-h-o*a+b/2," ").concat(d,",").concat(i-h-o*a+b/2," ").concat(d,",").concat(i-h-o*a-b),tubeBody:"M\n        ".concat(d,",").concat(i-h-o*a-b," \n        C ").concat(d,",").concat(i-h-o*a+b/2," \n        ").concat(t-g,",").concat(i-h-o*a+b/2," \n        ").concat(t-g,",").concat(i-h-o*a-b," \n        L").concat(t-g,",").concat(i-b*1.5,"\n        C \n        ").concat(t-g,",").concat(i,"\n        ").concat(d,",").concat(i,"\n        ").concat(d,",").concat(i-h-b,"Z")}}),m=y(null);function M(a,o=!1){e.value.events.datapointEnter&&!o&&e.value.events.datapointEnter({datapoint:a,seriesIndex:a.seriesIndex}),e.value.events.datapointClick&&o&&e.value.events.datapointClick({datapoint:a,seriesIndex:a.seriesIndex}),se("selectDatapoint",a),o||(m.value=a.id),o&&O.value&&(O.value=!1),o&&!O.value&&(O.value=!0)}function H(a){e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:a,seriesIndex:a.seriesIndex}),!O.value&&(m.value=null)}function te(a,o,t=!1){const i=B.value.series.map(d=>d.value||0).reduce((d,b)=>d+b,0),l=isNaN(a.value/i)?0:a.value/i*100,c=isNaN(a.value/We(o))?0:a.value/We(o)*100;return t?c:l.toFixed(0)+"%"}function We(a){return[...a].map(o=>o.value).reduce((o,t)=>o+t,0)}const de=y(!1);function Ge(a){de.value=a}function Tt(){return w.value?_.value:B.value.percentage}const R=T(()=>{if(w.value){const a=_.value.flatMap(t=>t.breakdown&&t.breakdown.length?[{name:t.name,color:t.color},...t.breakdown.map((i,l)=>({name:i.name,color:G(t.color,l/t.breakdown.length)}))]:{name:t.name,color:t.color}),o=_.value.flatMap(t=>t.breakdown&&t.breakdown.length?[t.value,...t.breakdown.map(i=>i.value)]:t.value);return{head:a,body:o}}else return null});function xe(a=null){if(!w.value){console.warn("VueUi3dBar : CSV download is only available in stack mode (providing dataset.series instead of dataset.percentage)");return}Ye(()=>{const o=_.value.map(c=>c.value).reduce((c,d)=>c+d,0),t=R.value.head.map((c,d)=>[[c.name],[R.value.body[d]],[isNaN(R.value.body[d]/o)?"-":R.value.body[d]/o*100]]),i=[[e.value.style.chart.title.text],[e.value.style.chart.title.subtitle.text],[[""],["val"],["%"]]].concat(t),l=Xt(i);a?a(l):Kt({csvContent:l,title:e.value.style.chart.title.text||"vue-ui-3d-bar"})})}const ce=T(()=>{const a=_.value.map(l=>l.value).reduce((l,c)=>l+c,0),o=[' <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>',E({p:e.value.style.chart.legend.prefix,v:a,s:e.value.style.chart.legend.suffix,r:e.value.table.td.roundingValue}),"100%"],t=R.value.head.map((l,c)=>{const d=E({p:e.value.style.chart.legend.prefix,v:R.value.body[c],s:e.value.style.chart.legend.suffix,r:e.value.table.td.roundingValue});return[{color:l.color,name:l.name},d,isNaN(R.value.body[c]/a)?"-":E({v:R.value.body[c]/a*100,s:"%",r:e.value.table.td.roundingPercentage})]}),i={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint,shape:e.value.style.shape==="tube"?"circle":"square"};return{colNames:[e.value.table.columnNames.series,e.value.table.columnNames.value,e.value.table.columnNames.percentage],head:o,body:t,config:i}});function Ue(){Z.value.showTable=!Z.value.showTable}const ve=y(!1);function Ce(){ve.value=!ve.value}async function Pt({scale:a=2}={}){if(!N.value)return;const{width:o,height:t}=N.value.getBoundingClientRect(),i=o/t,{imageUri:l,base64:c}=await ul({domElement:N.value,base64:!0,img:!0,scale:a});return{imageUri:l,base64:c,title:e.value.style.chart.title.text,width:o,height:t,aspectRatio:i}}const ne=T(()=>{const a=e.value.table.useDialog&&!e.value.table.show,o=Z.value.showTable;return{component:a?wt:yt,title:"".concat(e.value.style.chart.title.text).concat(e.value.style.chart.title.subtitle.text?": ".concat(e.value.style.chart.title.subtitle.text):""),props:a?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:de.value,fullscreenParent:N.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:o,maxHeight:1e4,body:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color},head:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color}}}}});_e(()=>Z.value.showTable,a=>{e.value.table.show||(a&&e.value.table.useDialog&&re.value?re.value.open():"close"in re.value&&re.value.close())});function Ze(){Z.value.showTable=!1,be.value&&be.value.setTableIconState(!1)}const St=T(()=>e.value.style.chart.backgroundColor),Bt=T(()=>e.value.style.chart.title),{exportSvg:Et,getSvg:Ot}=al({svg:ye,title:Bt,backgroundColor:St});async function He({isCb:a}){if(a){const{blob:o,url:t,text:i,dataUrl:l}=await Ot();e.value.userOptions.callbacks.svg({blob:o,url:t,text:i,dataUrl:l})}else Et()}return gt({getImage:Pt,generateCsv:xe,generatePdf:je,generateImage:Le,generateSvg:He,getData:Tt,toggleTable:Ue,toggleAnnotator:Ce,toggleFullscreen:Ge}),(a,o)=>(s(),v("div",{ref_key:"bar3dChart",ref:N,class:et("vue-data-ui-component vue-ui-3d-bar"),style:j("font-family:".concat(e.value.style.fontFamily,";width:100%; text-align:center;background:").concat(e.value.style.chart.backgroundColor)),id:"3d_bar_".concat(D.value),onMouseenter:o[8]||(o[8]=()=>n(Ee)(!0)),onMouseleave:o[9]||(o[9]=()=>n(Ee)(!1))},[e.value.userOptions.buttons.annotator?(s(),le(n(mt),{key:0,svgRef:n(ye),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,active:ve.value,onClose:Ce},{"annotator-action-close":x(()=>[$(a.$slots,"annotator-action-close",{},void 0,!0)]),"annotator-action-color":x(({color:t})=>[$(a.$slots,"annotator-action-color",z(I({color:t})),void 0,!0)]),"annotator-action-draw":x(({mode:t})=>[$(a.$slots,"annotator-action-draw",z(I({mode:t})),void 0,!0)]),"annotator-action-undo":x(({disabled:t})=>[$(a.$slots,"annotator-action-undo",z(I({disabled:t})),void 0,!0)]),"annotator-action-redo":x(({disabled:t})=>[$(a.$slots,"annotator-action-redo",z(I({disabled:t})),void 0,!0)]),"annotator-action-delete":x(({disabled:t})=>[$(a.$slots,"annotator-action-delete",z(I({disabled:t})),void 0,!0)]),_:3},8,["svgRef","backgroundColor","color","active"])):f("",!0),e.value.style.chart.title.text?(s(),v("div",{key:1,ref_key:"chartTitle",ref:Se,style:"width:100%;background:transparent"},[(s(),le(il,{key:"title_".concat(Te.value),config:{title:{cy:"3dBar-div-title",...e.value.style.chart.title},subtitle:{cy:"3dBar-div-subtitle",...e.value.style.chart.title.subtitle}}},null,8,["config"]))],512)):f("",!0),e.value.userOptions.show&&Me.value&&(n(Oe)||n(ke))?(s(),le(n(xt),{key:2,ref_key:"userOptionsRef",ref:be,backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isPrinting:n(ze),isImaging:n(Ie),uid:D.value,hasPdf:e.value.userOptions.buttons.pdf,hasTable:!!w.value&&e.value.userOptions.buttons.table,hasXls:!!w.value&&e.value.userOptions.buttons.csv,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasFullscreen:e.value.userOptions.buttons.fullscreen,titles:{...e.value.userOptions.buttonTitles},chartElement:N.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:ve.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:Ge,onGeneratePdf:n(je),onGenerateCsv:xe,onGenerateImage:n(Le),onGenerateSvg:He,onToggleTable:Ue,onToggleAnnotator:Ce,style:j({visibility:n(Oe)?n(ke)?"visible":"hidden":"visible"})},Qe({_:2},[a.$slots.menuIcon?{name:"menuIcon",fn:x(({isOpen:t,color:i})=>[$(a.$slots,"menuIcon",z(I({isOpen:t,color:i})),void 0,!0)]),key:"0"}:void 0,a.$slots.optionPdf?{name:"optionPdf",fn:x(()=>[$(a.$slots,"optionPdf",{},void 0,!0)]),key:"1"}:void 0,a.$slots.optionCsv?{name:"optionCsv",fn:x(()=>[$(a.$slots,"optionCsv",{},void 0,!0)]),key:"2"}:void 0,a.$slots.optionImg?{name:"optionImg",fn:x(()=>[$(a.$slots,"optionImg",{},void 0,!0)]),key:"3"}:void 0,a.$slots.optionSvg?{name:"optionSvg",fn:x(()=>[$(a.$slots,"optionSvg",{},void 0,!0)]),key:"4"}:void 0,a.$slots.optionTable?{name:"optionTable",fn:x(()=>[$(a.$slots,"optionTable",{},void 0,!0)]),key:"5"}:void 0,a.$slots.optionFullscreen?{name:"optionFullscreen",fn:x(({toggleFullscreen:t,isFullscreen:i})=>[$(a.$slots,"optionFullscreen",z(I({toggleFullscreen:t,isFullscreen:i})),void 0,!0)]),key:"6"}:void 0,a.$slots.optionAnnotator?{name:"optionAnnotator",fn:x(({toggleAnnotator:t,isAnnotator:i})=>[$(a.$slots,"optionAnnotator",z(I({toggleAnnotator:t,isAnnotator:i})),void 0,!0)]),key:"7"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasPdf","hasTable","hasXls","hasImg","hasSvg","hasFullscreen","titles","chartElement","position","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):f("",!0),(s(),v("svg",{ref_key:"svgRef",ref:ye,xmlns:n(Jt),class:et({"vue-data-ui-fullscreen--on":de.value,"vue-data-ui-fulscreen--off":!de.value,animated:e.value.useCssAnimation}),viewBox:"0 0 ".concat(r.value.absoluteWidth," ").concat(r.value.height),style:j("max-width:100%; overflow: visible; background:transparent;color:".concat(e.value.style.chart.color))},[tt(n(Ct)),a.$slots["chart-background"]?(s(),v("foreignObject",{key:0,x:0,y:0,width:r.value.absoluteWidth,height:r.value.height,style:{pointerEvents:"none"}},[$(a.$slots,"chart-background",{},void 0,!0)],8,vl)):f("",!0),u("defs",null,[u("radialGradient",{id:"gradient_top".concat(D.value)},[u("stop",{offset:"0%","stop-color":n(k)(e.value.style.chart.backgroundColor,0)},null,8,pl),u("stop",{offset:"100%","stop-color":e.value.style.chart.bar.color},null,8,fl)],8,hl),u("radialGradient",{id:"gradient_tube_top".concat(D.value)},[u("stop",{offset:"0%","stop-color":n(k)(n(G)(e.value.style.chart.bar.color,.5),80)},null,8,bl),u("stop",{offset:"100%","stop-color":n(k)(n(X)(e.value.style.chart.bar.color,.1),80)},null,8,kl)],8,gl),u("radialGradient",{id:"gradient_left".concat(D.value)},[u("stop",{offset:"0%","stop-color":n(k)(e.value.style.chart.backgroundColor,0)},null,8,$l),u("stop",{offset:"100%","stop-color":n(k)(e.value.style.chart.bar.color,20)},null,8,ml)],8,yl),u("radialGradient",{id:"gradient_right".concat(D.value)},[u("stop",{offset:"0%","stop-color":n(k)(e.value.style.chart.backgroundColor,0)},null,8,Cl),u("stop",{offset:"100%","stop-color":n(k)(e.value.style.chart.bar.color,20)},null,8,wl)],8,xl),u("linearGradient",{id:"gradient_tube_body".concat(D.value),x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[u("stop",{offset:"0%","stop-color":"".concat(e.value.style.chart.bar.color)},null,8,Al),u("stop",{offset:"10%","stop-color":n(k)(n(X)(e.value.style.chart.bar.color,.7),100)},null,8,Fl),u("stop",{offset:"25%","stop-color":n(k)(n(X)(e.value.style.chart.bar.color,.5),100)},null,8,Dl),u("stop",{offset:"75%","stop-color":n(k)(e.value.style.chart.bar.color,80)},null,8,Ml),u("stop",{offset:"100%","stop-color":n(k)(n(G)(e.value.style.chart.bar.color,.7),100)},null,8,Tl)],8,_l)]),w.value?(s(),v("defs",Pl,[(s(!0),v(A,null,F(_.value,t=>(s(),v("radialGradient",{id:"grad_top_".concat(t.id)},[u("stop",{offset:"0%","stop-color":n(k)(n(G)(t.color,.5),80)},null,8,Bl),u("stop",{offset:"100%","stop-color":t.color},null,8,El)],8,Sl))),256)),(s(!0),v(A,null,F(_.value,t=>(s(),v("linearGradient",{id:"grad_left_".concat(t.id)},[u("stop",{offset:"0%","stop-color":n(k)(t.color,80)},null,8,zl),u("stop",{offset:"100%","stop-color":n(k)(n(X)(t.color,.5),100)},null,8,Il)],8,Ol))),256)),(s(!0),v(A,null,F(_.value,t=>(s(),v("linearGradient",{id:"grad_right_".concat(t.id)},[u("stop",{offset:"2%","stop-color":n(k)(n(G)(t.color,.5),100)},null,8,Ll),u("stop",{offset:"100%","stop-color":n(k)(t.color,80)},null,8,Nl)],8,jl))),256)),u("linearGradient",{x1:"0%",y1:"0%",x2:"0%",y2:"100%",id:"vertical_line_".concat(D.value)},[...o[10]||(o[10]=[u("stop",{offset:"0%","stop-color":"#FFFFFF"},null,-1),u("stop",{offset:"100%","stop-color":"#FFFFFF33"},null,-1)])],8,Vl)])):f("",!0),e.value.style.chart.dataLabel.show&&![null,void 0].includes(n(B).percentage)&&[null,void 0].includes(n(B).series)?(s(),v("text",{key:2,x:r.value.width/2,y:r.value.top-e.value.style.chart.dataLabel.fontSize/2,"font-size":e.value.style.chart.dataLabel.fontSize,"font-weight":e.value.style.chart.dataLabel.bold?"bold":"normal",fill:e.value.style.chart.dataLabel.color,"text-anchor":"middle"},L(n(E)({v:Y.value,s:"%",r:e.value.style.chart.dataLabel.rounding})),9,Rl)):f("",!0),O.value?(s(),v("g",{key:3,role:"button",tabindex:"0","aria-label":"Clear selection",onClick:o[0]||(o[0]=t=>{O.value=!1,m.value=null}),onKeydown:[o[1]||(o[1]=lt(ot(t=>{O.value=!1,m.value=null},["prevent"]),["enter"])),o[2]||(o[2]=lt(ot(t=>{O.value=!1,m.value=null},["prevent"]),["space"]))],onFocus:o[3]||(o[3]=t=>ae.value=!0),onBlur:o[4]||(o[4]=t=>ae.value=!1),onMouseenter:o[5]||(o[5]=t=>ae.value=!0),onMouseleave:o[6]||(o[6]=t=>ae.value=!1),class:"svg-btn","data-dom-to-png-ignore":"",style:{cursor:"pointer",outline:"none"}},[o[11]||(o[11]=u("title",null,"Clear selection",-1)),u("rect",{x:Q.value-12,y:r.value.top-24,width:24,height:24,fill:"transparent","pointer-events":"all"},null,8,Wl),u("circle",{cx:Q.value,cy:r.value.top-12,r:"10",fill:"none",stroke:e.value.style.chart.color,"stroke-width":"2","vector-effect":"non-scaling-stroke",opacity:ae.value?.5:0},null,8,Gl),u("path",{d:"M".concat(Q.value-6,",").concat(r.value.top-18," ").concat(Q.value+6,",").concat(r.value.top-6),stroke:e.value.style.chart.color,"stroke-linecap":"round","stroke-width":"2","vector-effect":"non-scaling-stroke"},null,8,Ul),u("path",{d:"M".concat(Q.value+6,",").concat(r.value.top-18," ").concat(Q.value-6,",").concat(r.value.top-6),stroke:e.value.style.chart.color,"stroke-linecap":"round","stroke-width":"2","vector-effect":"non-scaling-stroke"},null,8,Zl)],32)):f("",!0),!e.value.style.shape||e.value.style.shape==="bar"?(s(),v("g",Hl,[w.value?f("",!0):(s(),v("g",ql,[u("path",{"stroke-dasharray":e.value.style.chart.box.strokeDasharray,d:V.value.right,stroke:e.value.style.chart.box.stroke,"stroke-width":e.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Jl),u("path",{"stroke-dasharray":e.value.style.chart.box.strokeDasharray,d:V.value.left,stroke:e.value.style.chart.box.stroke,"stroke-width":e.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Xl),u("path",{"stroke-dasharray":e.value.style.chart.box.strokeDasharray,d:V.value.side,stroke:e.value.style.chart.box.stroke,"stroke-width":e.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Kl),u("path",{"stroke-dasharray":e.value.style.chart.box.strokeDasharray,d:V.value.topSides,stroke:e.value.style.chart.box.stroke,"stroke-width":e.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Yl)])),w.value?f("",!0):(s(),v("g",Ql,[u("path",{d:ee.value.right,stroke:e.value.style.chart.bar.stroke,"stroke-width":e.value.style.chart.bar.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"url(#gradient_right".concat(D.value,")")},null,8,eo),u("path",{d:ee.value.left,stroke:e.value.style.chart.bar.stroke,"stroke-width":e.value.style.chart.bar.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"url(#gradient_left".concat(D.value,")")},null,8,to),u("path",{d:ee.value.top,stroke:e.value.style.chart.bar.stroke,"stroke-width":e.value.style.chart.bar.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"url(#gradient_top".concat(D.value,")")},null,8,lo)])),w.value?(s(),v("g",oo,[(s(!0),v(A,null,F(_.value,(t,i)=>(s(),v("g",{style:j("opacity:".concat(m.value?m.value===t.id?1:.3:1)),class:"vue-ui-3d-bar-stack"},[u("path",{d:t.fill.right,fill:"url(#grad_right_".concat(t.id,")"),onMouseenter:l=>M(t),onClick:l=>M(t,!0),onMouseout:l=>H(t)},null,40,ao),u("path",{d:t.fill.left,fill:"url(#grad_left_".concat(t.id,")"),onMouseenter:l=>M(t),onClick:l=>M(t,!0),onMouseout:l=>H(t)},null,40,ro),u("path",{d:t.fill.top,fill:"url(#grad_top_".concat(t.id,")"),onMouseenter:l=>M(t),onClick:l=>M(t,!0),onMouseout:l=>H(t)},null,40,no),u("path",{d:t.fill.liningTop,stroke:"#FFFFFF","stroke-width":"0.5","stroke-linecap":"round",fill:"none",onMouseenter:l=>M(t),onClick:l=>M(t,!0),onMouseout:l=>H(t)},null,40,so),u("path",{d:"M ".concat(t.fill.apexTop.x,",").concat(t.fill.apexTop.y," ").concat(t.fill.apexBottom.x,",").concat(t.fill.apexBottom.y),stroke:"#FFFFFF","stroke-width":"0.5","stroke-linecap":"round"},null,8,uo)],4))),256)),(s(!0),v(A,null,F(_.value,(t,i)=>(s(),v("g",null,[i!==_.value.length-1?(s(),v("path",{key:0,d:t.fill.liningTopShade,stroke:e.value.style.chart.bar.shadeColor,"stroke-width":"0.5","stroke-linecap":"round",fill:"none",style:{"pointer-events":"none"}},null,8,io)):f("",!0)]))),256)),(s(!0),v(A,null,F(_.value,(t,i)=>(s(),v("g",{style:j("opacity:".concat(m.value?m.value===t.id?1:0:t.proportion*100>e.value.style.chart.legend.hideUnderPercentage?1:0)),onClick:l=>se("selectDatapoint",t)},[u("path",{stroke:e.value.style.chart.color,"stroke-dasharray":"1","stroke-width":"0.5","stroke-linecap":"round",d:"M".concat(t.fill.sidePointer.x,",").concat(t.fill.sidePointer.y," ").concat(t.fill.sidePointer.x2,",").concat(t.fill.sidePointer.y)},null,8,vo),!t.fill.miniDonut||m.value?(s(),v("circle",{key:0,cx:t.fill.sidePointer.x2,cy:t.fill.sidePointer.y,r:2,fill:t.color,stroke:e.value.style.chart.backgroundColor},null,8,ho)):f("",!0),n(K)?(s(),v("rect",{key:1,x:t.fill.sidePointer.xText,y:t.fill.sidePointer.y-e.value.style.chart.legend.fontSize/2,width:r.value.width/3,height:e.value.style.chart.legend.fontSize,fill:"#6A6A6A80",rx:"3"},null,8,po)):f("",!0),n(K)?f("",!0):(s(),v("foreignObject",{key:2,x:t.fill.sidePointer.xText,y:t.fill.sidePointer.y-e.value.style.chart.legend.fontSize,width:r.value.absoluteWidth/3,height:e.value.style.chart.legend.fontSize*2,style:{overflow:"visible",position:"relative"}},[e.value.style.chart.legend.showDefault?(s(),v("div",{key:0,style:j("height: 100%; width: 100%; display: flex; flex-direction: row; flex-wrap: wrap; align-items:center;justify-content: flex-start; font-size:".concat(e.value.style.chart.legend.fontSize,"px; text-align:left; line-height: ").concat(e.value.style.chart.legend.fontSize,"px; color:").concat(e.value.style.chart.legend.color,"; font-weight:").concat(e.value.style.chart.legend.bold?"bold":"normal"))},L(n(fe)(e.value.style.chart.dataLabel.formatter,t.value,"".concat(t.name,": ").concat(n(E)({v:t.proportion*100,s:"%",r:e.value.style.chart.legend.roundingPercentage})," (").concat(n(E)({p:e.value.style.chart.legend.prefix,v:t.value,s:e.value.style.chart.legend.suffix,r:e.value.style.chart.legend.roundingValue}),")"),{datapoint:t,seriesIndex:i,type:"barDatapoint"})),5)):f("",!0),$(a.$slots,"legend",Ae({ref_for:!0},{datapoint:t,config:e.value,dataset:_.value}),void 0,!0)],8,fo)),t.fill.donut&&m.value===t.id?(s(),v("g",go,[(s(!0),v(A,null,F(t.fill.donut,(l,c)=>(s(),v("g",null,[te(l,t.fill.donut,!0)>6?(s(),v("path",{key:0,d:n(st)(l,{x:l.cx,y:l.cy},0,8,!1,!0,10),stroke:l.color,class:"vue-ui-donut-arc-path","stroke-width":"0.5","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,bo)):f("",!0)]))),256)),(s(!0),v(A,null,F(t.fill.donut,(l,c)=>(s(),v("path",{class:"vue-ui-donut-arc-path",d:l.arcSlice,fill:"".concat(l.color),stroke:e.value.style.chart.backgroundColor,"stroke-width":1},null,8,ko))),256)),(s(!0),v(A,null,F(t.fill.donut,(l,c)=>(s(),v("g",null,[te(l,t.fill.donut,!0)>6?(s(),v("g",yo,[u("text",{"text-anchor":n(U)(l,!0,0).anchor,x:n(U)(l,!0,2).x,y:n(ge)(l,12,12),fill:e.value.style.chart.legend.color,"font-size":e.value.style.chart.legend.fontSize/1.5,"font-weight":e.value.style.chart.legend.bold?"bold":"normal"},L(n(fe)(e.value.style.chart.dataLabel.formatter,l.value,"".concat(te(l,t.fill.donut)," (").concat(n(E)({p:e.value.style.chart.legend.prefix,v:l.value,s:e.value.style.chart.legend.suffix,r:e.value.style.chart.legend.roundingValue}),")"),{datapoint:l,seriesIndex:c,type:"donutDatapoint"})),9,$o),u("text",{"text-anchor":n(U)(l).anchor,x:n(U)(l,!0,2).x,y:n(ge)(l,12,12)+e.value.style.chart.legend.fontSize/1.5,fill:e.value.style.chart.legend.color,"font-size":e.value.style.chart.legend.fontSize/1.5,"font-weight":e.value.style.chart.legend.bold?"bold":"normal"},L(l.name),9,mo)])):f("",!0)]))),256))])):f("",!0),t.fill.miniDonut&&!m.value?(s(),v("g",xo,[(s(!0),v(A,null,F(t.fill.miniDonut,(l,c)=>(s(),v("path",{class:"vue-ui-donut-arc-path",d:l.arcSlice,fill:"".concat(l.color),stroke:e.value.style.chart.backgroundColor,"stroke-width":.5},null,8,Co))),256))])):f("",!0)],12,co))),256))])):f("",!0)])):f("",!0),e.value.style.shape==="tube"?(s(),v("g",wo,[w.value?f("",!0):(s(),v("g",_o,[u("path",{"stroke-dasharray":e.value.style.chart.box.strokeDasharray,d:V.value.tubeTop,stroke:e.value.style.chart.box.stroke,"stroke-width":e.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Ao),u("path",{"stroke-dasharray":e.value.style.chart.box.strokeDasharray,d:V.value.tubeLeft,stroke:e.value.style.chart.box.stroke,"stroke-width":e.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Fo),u("path",{"stroke-dasharray":e.value.style.chart.box.strokeDasharray,d:V.value.tubeRight,stroke:e.value.style.chart.box.stroke,"stroke-width":e.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Do),u("path",{"stroke-dasharray":e.value.style.chart.box.strokeDasharray,d:V.value.tubeBottom,stroke:e.value.style.chart.box.stroke,"stroke-width":e.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Mo),u("path",{d:ee.value.tubeTop,stroke:e.value.style.chart.bar.stroke,"stroke-width":e.value.style.chart.bar.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"url(#gradient_tube_top".concat(D.value,")")},null,8,To),u("path",{d:ee.value.tubeBody,stroke:e.value.style.chart.bar.stroke,"stroke-width":e.value.style.chart.bar.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"url(#gradient_tube_body".concat(D.value,")")},null,8,Po),u("path",{d:ee.value.tubeTop,stroke:"#FFFFFF","stroke-width":.5,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,So)])),w.value?(s(),v("g",Bo,[(s(!0),v(A,null,F(_.value,(t,i)=>(s(),v("g",{style:j("opacity:".concat(m.value?m.value===t.id?1:.3:1)),class:"vue-ui-3d-bar-stack",onClick:l=>se("selectDatapoint",t)},[u("defs",null,[u("radialGradient",{id:"gradient_tube_top_".concat(t.id),fx:"10%",cy:"55%"},[u("stop",{offset:"0%","stop-color":n(k)(n(G)(t.color,.5),80)},null,8,zo),u("stop",{offset:"100%","stop-color":n(k)(n(X)(t.color,.1),80)},null,8,Io)],8,Oo),u("linearGradient",{id:"gradient_tube_body_".concat(t.id),x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[u("stop",{offset:"0%","stop-color":"".concat(t.color)},null,8,Lo),u("stop",{offset:"10%","stop-color":n(k)(n(X)(t.color,.7),100)},null,8,No),u("stop",{offset:"25%","stop-color":n(k)(n(X)(t.color,.5),100)},null,8,Vo),u("stop",{offset:"75%","stop-color":n(k)(t.color,80)},null,8,Ro),u("stop",{offset:"100%","stop-color":n(k)(n(G)(t.color,.7),100)},null,8,Wo)],8,jo)]),u("path",{onMouseenter:l=>M(t),onClick:l=>M(t,!0),onMouseout:l=>H(t),d:t.fill.tubeBody,stroke:"#FFFFFF","stroke-width":.5,"stroke-linejoin":"round","stroke-linecap":"round",fill:"url(#gradient_tube_body_".concat(t.id,")")},null,40,Go),i>0?(s(),v("path",{key:0,onMouseenter:l=>M(t),onClick:l=>M(t,!0),onMouseout:l=>H(t),d:t.fill.bottomTubeTop,stroke:"#000000","stroke-width":.5,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,40,Uo)):f("",!0),u("path",{onMouseenter:l=>M(t),onClick:l=>M(t,!0),onMouseout:l=>H(t),d:t.fill.tubeTop,stroke:"#FFFFFF","stroke-width":.5,"stroke-linejoin":"round","stroke-linecap":"round",fill:"url(#gradient_tube_top_".concat(t.id,")")},null,40,Zo)],12,Eo))),256)),(s(!0),v(A,null,F(_.value,(t,i)=>(s(),v("g",{style:j("opacity:".concat(m.value?m.value===t.id?1:0:t.proportion*100>e.value.style.chart.legend.hideUnderPercentage?1:0)),onClick:l=>se("selectDatapoint",t)},[u("path",{stroke:e.value.style.chart.color,"stroke-dasharray":"1","stroke-width":"0.5","stroke-linecap":"round",d:"M".concat(t.fill.sidePointer.x,",").concat(t.fill.sidePointer.y," ").concat(t.fill.sidePointer.x2,",").concat(t.fill.sidePointer.y)},null,8,qo),!t.fill.miniDonut||m.value?(s(),v("circle",{key:0,cx:t.fill.sidePointer.x2,cy:t.fill.sidePointer.y,r:2,fill:t.color,stroke:e.value.style.chart.backgroundColor},null,8,Jo)):f("",!0),n(K)?(s(),v("rect",{key:1,x:t.fill.sidePointer.xText,y:t.fill.sidePointer.y-e.value.style.chart.legend.fontSize/2,width:r.value.width/3,height:e.value.style.chart.legend.fontSize,fill:"#6A6A6A80",rx:"3"},null,8,Xo)):f("",!0),n(K)?f("",!0):(s(),v("foreignObject",{key:2,x:t.fill.sidePointer.xText,y:t.fill.sidePointer.y-e.value.style.chart.legend.fontSize,width:r.value.absoluteWidth/3,height:e.value.style.chart.legend.fontSize*2,style:{overflow:"visible",position:"relative"}},[e.value.style.chart.legend.showDefault?(s(),v("div",{key:0,style:j("height: 100%; width: 100%; display: flex; flex-direction: row; flex-wrap: wrap; align-items:center;justify-content: flex-start; font-size:".concat(e.value.style.chart.legend.fontSize,"px; text-align:left; line-height: ").concat(e.value.style.chart.legend.fontSize,"px; color:").concat(e.value.style.chart.legend.color,";font-weight:").concat(e.value.style.chart.legend.bold?"bold":"normal"))},L(n(fe)(e.value.style.chart.dataLabel.formatter,t.value,"".concat(t.name,": ").concat(n(E)({v:t.proportion*100,s:"%",r:e.value.style.chart.legend.roundingPercentage})," (").concat(n(E)({p:e.value.style.chart.legend.prefix,v:t.value,s:e.value.style.chart.legend.suffix,r:e.value.style.chart.legend.roundingValue}),")"),{datapoint:t,seriesIndex:i,type:"barDatapoint"})),5)):f("",!0),$(a.$slots,"legend",Ae({ref_for:!0},{datapoint:t,config:e.value,dataset:_.value}),void 0,!0)],8,Ko)),t.fill.donut&&m.value===t.id?(s(),v("g",Yo,[(s(!0),v(A,null,F(t.fill.donut,(l,c)=>(s(),v("g",null,[te(l,t.fill.donut,!0)>6?(s(),v("path",{key:0,d:n(st)(l,{x:l.cx,y:l.cy},0,8,!1,!0,10),stroke:l.color,class:"vue-ui-donut-arc-path","stroke-width":"0.5","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,Qo)):f("",!0)]))),256)),(s(!0),v(A,null,F(t.fill.donut,(l,c)=>(s(),v("path",{class:"vue-ui-donut-arc-path",d:l.arcSlice,fill:"".concat(l.color),stroke:e.value.style.chart.backgroundColor,"stroke-width":1},null,8,ea))),256)),(s(!0),v(A,null,F(t.fill.donut,(l,c)=>(s(),v("g",null,[te(l,t.fill.donut,!0)>6?(s(),v("g",ta,[u("text",{"text-anchor":n(U)(l,!0,0).anchor,x:n(U)(l,!0,2).x,y:n(ge)(l,12,12),fill:e.value.style.chart.legend.color,"font-size":e.value.style.chart.legend.fontSize/1.5,"font-weight":e.value.style.chart.legend.bold?"bold":"normal"},L(n(fe)(e.value.style.chart.dataLabel.formatter,l.value,"".concat(te(l,t.fill.donut)," (").concat(n(E)({p:e.value.style.chart.legend.prefix,v:l.value,s:e.value.style.chart.legend.suffix,r:e.value.style.chart.legend.roundingValue}),")"),{datapoint:l,seriesIndex:c,type:"donutDatapoint"})),9,la),u("text",{"text-anchor":n(U)(l).anchor,x:n(U)(l,!0,2).x,y:n(ge)(l,12,12)+e.value.style.chart.legend.fontSize/1.5,fill:e.value.style.chart.legend.color,"font-size":e.value.style.chart.legend.fontSize/1.5,"font-weight":e.value.style.chart.legend.bold?"bold":"normal"},L(l.name),9,oa)])):f("",!0)]))),256))])):f("",!0),t.fill.miniDonut&&!m.value?(s(),v("g",aa,[(s(!0),v(A,null,F(t.fill.miniDonut,(l,c)=>(s(),v("path",{class:"vue-ui-donut-arc-path",d:l.arcSlice,fill:"".concat(l.color),stroke:e.value.style.chart.backgroundColor,"stroke-width":.5},null,8,ra))),256))])):f("",!0)],12,Ho))),256))])):f("",!0)])):f("",!0),$(a.$slots,"svg",{svg:r.value},void 0,!0)],14,cl)),a.$slots.watermark?(s(),v("div",na,[$(a.$slots,"watermark",z(I({isPrinting:n(ze)||n(Ie)})),void 0,!0)])):f("",!0),a.$slots.source?(s(),v("div",{key:4,ref_key:"source",ref:Be,dir:"auto"},[$(a.$slots,"source",{},void 0,!0)],512)):f("",!0),Me.value&&w.value&&e.value.userOptions.buttons.table?(s(),le(Vt(ne.value.component),Ae({key:5},ne.value.props,{ref_key:"tableUnit",ref:re,onClose:Ze}),Qe({content:x(()=>[(s(),le(n($t),{key:"table_".concat(Pe.value),colNames:ce.value.colNames,head:ce.value.head,body:ce.value.body,config:ce.value.config,title:e.value.table.useDialog?"":ne.value.title,withCloseButton:!e.value.table.useDialog,onClose:Ze},{th:x(({th:t})=>[u("div",{innerHTML:t,style:{display:"flex","align-items":"center"}},null,8,sa)]),td:x(({td:t})=>[at(L(t.name||t),1)]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))]),_:2},[e.value.table.useDialog?{name:"title",fn:x(()=>[at(L(ne.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:x(()=>[u("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:o[7]||(o[7]=t=>xe(e.value.userOptions.callbacks.csv))},[tt(n(kt),{name:"excel",stroke:ne.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):f("",!0),n(K)?(s(),le(ll,{key:6})):f("",!0)],44,dl))}},ia=Rt(ua,[["__scopeId","data-v-e8c0c9f3"]]),_a=Object.freeze(Object.defineProperty({__proto__:null,default:ia},Symbol.toStringTag,{value:"Module"}));export{wa as a,_a as b,ia as v};
