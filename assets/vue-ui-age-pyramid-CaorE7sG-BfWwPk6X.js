
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Tooltip-D0pGX8qz-BS2YwyOE.js","./vue-data-ui-8Gmf-dDN.js","./index-CJB5jCfL.js","./index-D6D_bXIl.css","./alert-I_0TAljB.js","./vue-data-ui-C46fMXq5.css","./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js","./useNestedProp-DaR1dBmj-yWXLkJlG.js","./DataTable-BfEbVwm4-B-GxLkq-.js","./Shape-12_eh8zD-Cy1mu6XW.js","./PenAndPaper--ADXtx65-ugytqLuo.js","./ColorPicker-BYn8PF2Z-DkxHqz9_.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-Cy-iNhZU-CnpDVImt.js","./img-CqYIrJ8I-E54QgU9o.js","./dom-to-png-WXGPkYro-BQsfl1t5.js","./PackageVersion-By5ZZJ0U-Cc8IPeAX.js","./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"])))=>i.map(i=>d[i]);
import{J as g,e as d,a8 as wt,K as Y,av as ze,E as _t,aw as Ie,au as Lt,c1 as $,c as n,o as i,z as P,A as h,r as v,g as ie,h as y,j as C,k as A,u as r,c3 as Be,O as re,n as Re,f as c,F,R as D,t as _,l as ue,m as Tt,N as $t,c4 as S,aa as Ft}from"./index-CJB5jCfL.js";import{s as St,J as Et,x as Ot,E as Pe,A as Dt,c as p,d as zt,w as ne,X as Me,L as z,F as I,e as It,f as Bt,g as Rt,p as Pt}from"./vue-data-ui-8Gmf-dDN.js";import{E as Ne,M as Mt}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{s as Nt,i as de}from"./useNestedProp-DaR1dBmj-yWXLkJlG.js";import{T as Vt,j as jt}from"./BaseScanner-BMpwQAfz-mc47WWxo.js";import{m as Gt}from"./usePrinter-ChVMpU2f-B27PF0nl.js";import{O as Ut}from"./useSvgExport-ByUukOZt-XO0OK7cR.js";import{i as Wt}from"./useThemeCheck-DGJ31Vi5-GRZcYzX8.js";import{a as Xt}from"./useUserOptionState-BIvW1Kz7-D70wY835.js";import{o as Yt}from"./useChartAccessibility-9icAAmYg-CuAxjhEs.js";import{S as Jt}from"./useTimeLabelCollider-CIsgDrl9-BAa7N0ra.js";import Ht from"./img-CqYIrJ8I-E54QgU9o.js";import qt from"./Title-D0nD-PMs-DAiwElB_.js";import"./alert-I_0TAljB.js";import"./dom-to-png-WXGPkYro-BQsfl1t5.js";const Ve={style:{backgroundColor:"#1A1A1A",color:"#CCCCCC",layout:{grid:{stroke:"#5A5A5A"},dataLabels:{sideTitles:{color:"#CCCCCC"},xAxis:{color:"#CCCCCC"},yAxis:{color:"#CCCCCC"}}},highlighter:{color:"#CCCCCC"},title:{color:"#CCCCCC",subtitle:{color:"#757575"}},tooltip:{backgroundColor:"#1A1A1A",backgroundOpacity:70,color:"#CCCCCC",borderColor:"#5A5A5A"}},table:{th:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},td:{backgroundColor:"#1A1A1A",color:"#CCCCCC"}}},je={style:{backgroundColor:"#FFF8E1",color:"#424242",layout:{grid:{stroke:"#5D4037"},dataLabels:{sideTitles:{color:"#424242"},xAxis:{color:"#424242"},yAxis:{color:"#424242"}},bars:{borderRadius:0,gap:1,left:{color:"#F57C00"},right:{color:"#D32F2F"},gradient:{show:!1}}},highlighter:{color:"#424242"},title:{color:"#424242",subtitle:{color:"#757575"}},tooltip:{backgroundColor:"#FFECB3",backgroundOpacity:30,color:"#424242",borderColor:"#FF8A65"}},table:{th:{backgroundColor:"#FFF8E1",color:"#424242"},td:{backgroundColor:"#FFF8E1",color:"#424242"}}},Ge={style:{backgroundColor:"#1E1E1E",color:"#BDBDBD",layout:{grid:{stroke:"#5D4037"},dataLabels:{sideTitles:{color:"#BDBDBD"},xAxis:{color:"#BDBDBD"},yAxis:{color:"#BDBDBD"}},bars:{borderRadius:0,gap:1,left:{color:"#F57C00"},right:{color:"#D32F2F"},gradient:{show:!1}}},highlighter:{color:"#FFF8E1"},title:{color:"#FFF8E1",subtitle:{color:"#BDBDBD"}},tooltip:{backgroundColor:"#1E1E1E",backgroundOpacity:30,color:"#FFF8E1",borderColor:"#FF8A65"}},table:{th:{backgroundColor:"#1E1E1E",color:"#BDBDBD"},td:{backgroundColor:"#1E1E1E",color:"#BDBDBD"}}},Ue={style:{backgroundColor:"#1A1A1A",color:"#99AA99",layout:{grid:{stroke:"#5F6A5F"},dataLabels:{sideTitles:{color:"#AACCAA"},xAxis:{color:"#5F6A5F"},yAxis:{color:"#5F6A5F"}},bars:{borderRadius:0,gap:1,left:{color:"#668066"},right:{color:"#66CC66"},gradient:{show:!1}}},highlighter:{color:"#66CC66"},title:{color:"#66CC66",subtitle:{color:"#99AA99"}},tooltip:{backgroundColor:"#2A2F2A",color:"#AACCAA",borderColor:"#66CC66"}},table:{th:{backgroundColor:"#1A1A1A",color:"#99AA99"},td:{backgroundColor:"#1A1A1A",color:"#AACCAA"}}},We={style:{backgroundColor:"#fbfafa",color:"#8A9892",layout:{grid:{stroke:"#5F6A5F"},dataLabels:{sideTitles:{color:"#8A9892"},xAxis:{show:!1},yAxis:{show:!1}},bars:{borderRadius:6,gap:1,left:{color:"#DCB482"},right:{color:"#B9B99D"},gradient:{show:!0}}},highlighter:{color:"#8F837A"},title:{color:"#8A9892",subtitle:{color:"#99AA99"}},tooltip:{backgroundColor:"#fbfafa",color:"#8A9892"}},table:{th:{backgroundColor:"#fbfafa",color:"#8F837A"},td:{backgroundColor:"#fbfafa",color:"#8F837A"}}},Xe={style:{backgroundColor:"#f6f6fb",color:"#50606C",layout:{grid:{stroke:"#5F6A5F"},dataLabels:{sideTitles:{color:"#61747E"},xAxis:{color:"#61747E"},yAxis:{color:"#61747E"}},bars:{borderRadius:0,gap:1,left:{color:"#A1B5A3"},right:{color:"#7DA9B5"},gradient:{show:!0,intensity:10}}},highlighter:{color:"#7DA9B5"},title:{color:"#50606C",subtitle:{color:"#718890"}},tooltip:{backgroundColor:"#f6f6fb",color:"#50606C"}},table:{th:{backgroundColor:"#f6f6fb",color:"#50606C"},td:{backgroundColor:"#f6f6fb",color:"#50606C"}}},Ye={default:{},dark:Ve,celebration:je,celebrationNight:Ge,hack:Ue,zen:We,concrete:Xe},Gl=Object.freeze(Object.defineProperty({__proto__:null,celebration:je,celebrationNight:Ge,concrete:Xe,dark:Ve,default:Ye,hack:Ue,zen:We},Symbol.toStringTag,{value:"Module"})),Kt=["id"],Qt=["xmlns","viewBox"],Zt=["x","y","width","height"],el=["id"],tl=["stop-color"],ll=["stop-color"],al=["id"],ol=["stop-color"],sl=["stop-color"],il=["x","y","width","height","fill","rx"],rl=["x","y","width","height","fill","rx"],ul=["x","y","width","height","fill","rx"],nl=["x","y","width","height","fill","rx"],dl={key:0},vl=["x","y","fill","font-size","font-weight"],yl=["x","y","fill","font-size","font-weight"],cl={key:1},gl=["x","y","font-size","fill","font-weight"],hl={key:2},bl={key:0},fl=["x1","x2","y1","y2","stroke","stroke-width"],pl=["x1","x2","y1","y2","stroke","stroke-width"],xl=["x1","x2","y1","y2","stroke","stroke-width"],ml=["x1","x2","y1","y2","stroke","stroke-width"],Cl=["font-size","fill","text-anchor","font-weight","transform"],Al=["font-size","fill","text-anchor","font-weight","transform"],kl=["x","y","font-size","fill","font-weight"],wl=["x","y","width","height","fill","onMouseover","onMouseleave","onClick"],_l={key:4,class:"vue-data-ui-watermark"},Ll={__name:"vue-ui-age-pyramid",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},setup(ve,{expose:Je}){const He=$(()=>S(()=>import("./Tooltip-D0pGX8qz-BS2YwyOE.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),qe=$(()=>S(()=>import("./vue-data-ui-8Gmf-dDN.js").then(t=>t.aA),__vite__mapDeps([1,2,3,4,5]),import.meta.url)),Ke=$(()=>S(()=>import("./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js"),__vite__mapDeps([6,2,3,1,4,5,7]),import.meta.url)),Qe=$(()=>S(()=>import("./DataTable-BfEbVwm4-B-GxLkq-.js"),__vite__mapDeps([8,2,3,9,1,4,5]),import.meta.url)),Ze=$(()=>S(()=>import("./PenAndPaper--ADXtx65-ugytqLuo.js"),__vite__mapDeps([10,2,3,1,4,5,11,12]),import.meta.url)),et=$(()=>S(()=>import("./UserOptions-Cy-iNhZU-CnpDVImt.js"),__vite__mapDeps([13,2,3,12,1,4,5,14,15]),import.meta.url)),tt=$(()=>S(()=>import("./PackageVersion-By5ZZJ0U-Cc8IPeAX.js"),__vite__mapDeps([16,2,3]),import.meta.url)),lt=$(()=>S(()=>import("./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"),__vite__mapDeps([17,2,3,1,4,5]),import.meta.url)),{vue_ui_age_pyramid:at}=Nt(),{isThemeValid:ot,warnInvalidTheme:st}=Wt(),x=ve,ye=g(()=>!!x.dataset&&x.dataset.length),k=d(Et()),J=d(!1),H=d(""),j=d(null),ce=d(0),w=d(null),ge=d(null),he=d(null),be=d(null),fe=d(0),pe=d(0),q=d(null),M=d(null),K=d(null),e=d(te()),{loading:xe,FINAL_DATASET:G,manualLoading:Q}=Vt({...wt(x),FINAL_CONFIG:e,prepareConfig:te,skeletonDataset:[["_",9,2,2],["_",8,3,3],["_",7,5,5],["_",6,8,8],["_",5,13,13],["_",4,21,21],["_",3,34,34],["_",2,55,55],["_",1,89,89],["_",0,144,144]],skeletonConfig:Ot({defaultConfig:e.value,userConfig:{userOptions:{show:!1},table:{show:!1},translations:{male:"",female:""},style:{backgroundColor:"#99999930",layout:{bars:{left:{color:"#CACACA"},right:{color:"#999999"}},dataLabels:{xAxis:{fontSize:0,scale:1e3,translation:""},yAxis:{show:!1}},grid:{stroke:"#6A6A6A"}}}}})}),{userOptionsVisible:Z,setUserOptionsVisibility:me,keepUserOptionState:Ce}=Xt({config:e.value}),{svgRef:ee}=Yt({config:e.value.style.title});function te(){const t=de({userConfig:x.config,defaultConfig:at}),a=t.theme;if(!a)return t;if(!ot.value(t))return st(t),t;const l=de({userConfig:Ye[a]||x.config,defaultConfig:t});return de({userConfig:x.config,defaultConfig:l})}Y(()=>x.config,t=>{xe.value||(e.value=te()),Z.value=!e.value.userOptions.showOnChartHover,Ae(),fe.value+=1,pe.value+=1,m.value.showTable=e.value.table.show,m.value.showTooltip=e.value.style.tooltip.show},{deep:!0}),Y(()=>x.dataset,t=>{Array.isArray(t)&&t.length>0&&(Q.value=!1)},{deep:!0});const L=ze(null),B=ze(null);_t(()=>{Ae()});const it=g(()=>!!e.value.debug);function Ae(){if(Pe(x.dataset)&&(Dt({componentName:"VueUiAgePyramid",type:"dataset",debug:it.value}),Q.value=!0),Pe(x.dataset)||(Q.value=e.value.loading),e.value.responsive){const t=Ne(()=>{const{width:a,height:l}=Mt({chart:w.value,title:e.value.style.title.text?ge.value:null,source:he.value,noTitle:be.value});requestAnimationFrame(()=>{b.value.width=a,b.value.height=l})});L.value&&(B.value&&L.value.unobserve(B.value),L.value.disconnect()),L.value=new ResizeObserver(t),B.value=w.value.parentNode,L.value.observe(B.value)}}Ie(()=>{L.value&&(B.value&&L.value.unobserve(B.value),L.value.disconnect())});const{isPrinting:ke,isImaging:we,generatePdf:_e,generateImage:Le}=Gt({elementId:"vue-ui-age-pyramid_".concat(k.value),fileName:e.value.style.title.text||"vue-ui-age-pyramid",options:e.value.userOptions.print}),rt=g(()=>e.value.userOptions.show&&!e.value.style.title.text),m=d({showTable:e.value.table.show,showTooltip:e.value.style.tooltip.show});Y(e,()=>{m.value={showTable:e.value.table.show,showTooltip:e.value.style.tooltip.show}},{immediate:!0});const b=d({height:e.value.style.height,width:e.value.style.width}),ut=g(()=>b.value.width),nt=g(()=>b.value.height),U=d(0),dt=Ne(t=>{U.value=t},100);Lt(t=>{const a=q.value;if(!a)return;const l=new ResizeObserver(o=>{dt(o[0].contentRect.height)});l.observe(a),t(()=>l.disconnect())}),Ie(()=>{U.value=0});const s=g(()=>{const t=b.value.width-e.value.style.layout.padding.right-e.value.style.layout.padding.left,a=e.value.style.layout.padding.left,l=b.value.width-e.value.style.layout.padding.right;return{top:e.value.style.layout.padding.top+e.value.style.layout.dataLabels.sideTitles.fontSize+e.value.style.layout.dataLabels.sideTitles.offsetY+12,left:a,right:l,bottom:b.value.height-e.value.style.layout.padding.bottom-U.value,width:t,height:b.value.height-e.value.style.layout.padding.top-e.value.style.layout.padding.bottom-U.value-e.value.style.layout.dataLabels.sideTitles.fontSize-e.value.style.layout.dataLabels.sideTitles.offsetY-12,centerX:e.value.style.layout.padding.left+t/2,leftChart:{width:t/2-e.value.style.layout.centerSlit.width,right:a+t/2-e.value.style.layout.centerSlit.width},rightChart:{width:t/2-e.value.style.layout.centerSlit.width,left:a+t/2+e.value.style.layout.centerSlit.width}}}),vt=g(()=>G.value.map(t=>e.value.style.layout.dataLabels.yAxis.display==="age"?t[1]:t[0])),T=g(()=>{const t=yt(N.value/5),a=[],l=[];for(let o=0;o<=5;o+=1){const u=t*o,f=t*(o-5);a.push({value:u,x:s.value.left+s.value.width/2+e.value.style.layout.centerSlit.width+u/N.value*s.value.leftChart.width}),l.push({value:Math.abs(f),x:s.value.left+s.value.width/2+f/N.value*s.value.leftChart.width-e.value.style.layout.centerSlit.width})}return{right:a,left:l}});function yt(t){if(t===0)return 0;const a=10**Math.floor(Math.log10(Math.abs(t)));let l;return l=Math.round(t/a)*a,l}const N=g(()=>Math.max(...G.value.flatMap(t=>t.slice(-2).map(a=>p(a))))),R=g(()=>G.value.length),ct=g(()=>G.value.map(t=>({segment:t[0],age:t[1],left:{value:t[2],proportionToMax:t[2]/N.value},right:{value:t[3],proportionToMax:t[3]/N.value}}))),E=g(()=>ct.value.map((t,a)=>{const l=s.value.top+s.value.height/R.value*a,o=s.value.height/R.value-e.value.style.layout.bars.gap;return{segment:t.segment,age:t.age,left:{...t.left,y:l,color:e.value.style.layout.bars.left.color,x:s.value.leftChart.right-t.left.proportionToMax*s.value.leftChart.width,width:p(t.left.proportionToMax*s.value.leftChart.width),height:o},right:{...t.right,y:l,color:e.value.style.layout.bars.right.color,x:s.value.rightChart.left,width:p(t.right.proportionToMax*s.value.rightChart.width),height:o}}})),le=d(null);function ae(t){const[a,l,o,u]=t;return{segment:a,index:l,left:o,right:u}}function gt(t,a){e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:ae(a),seriesIndex:t})}function ht(t,a){e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:ae(a),seriesIndex:t}),j.value=null,J.value=!1}function bt(t,a){e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:ae(a),seriesIndex:t}),j.value=t,le.value={datapoint:a,seriesIndex:t,series:E.value,config:e.value};const l=e.value.style.tooltip.customFormat;if(Rt(l)&&Pt(()=>l({seriesIndex:t,datapoint:{segment:a[0],index:a[1],left:a[2],right:a[3]},series:E.value,config:e.value})))H.value=l({seriesIndex:t,datapoint:{segment:a[0],index:a[1],left:a[2],right:a[3]},series:E.value,config:e.value});else{let o="";const u=E.value[t];o+="<div><b>".concat(u.segment,"</b></div>"),o+="<div>".concat(e.value.translations.age,": ").concat(z(e.value.style.layout.dataLabels.yAxis.formatter,p(u.age),I({v:p(u.age)}),{datapoint:a,seriesIndex:t}),"</div>"),o+='<div style="margin-top:6px;padding-top:6px;border-top:1px solid '.concat(e.value.style.tooltip.borderColor,'">'),o+='<div style="display:flex; flex-direction:row;gap:12px">',o+='<div style="display:flex;flex-direction:column;align-items:center;justify-content:center"><svg viewBox="0 0 12 12" height="12" width="12"><rect stroke="none" x="0" y="0" height="12" width="12" rx="2" fill="'.concat(e.value.style.layout.bars.gradient.underlayer,'"/><rect stroke="none" x="0" y="0" height="12" width="12" rx="2" fill="').concat(e.value.style.layout.bars.gradient.show?"url(#age_pyramid_left_".concat(k.value,")"):e.value.style.layout.bars.left.color,'"/></svg><div>').concat(e.value.translations.female,"</div><div><b>").concat(z(e.value.style.layout.dataLabels.xAxis.formatter,p(u.left.value),I({v:p(u.left.value)}),{datapoint:a,seriesIndex:t}),"</b></div></div>"),o+='<div style="display:flex;flex-direction:column;align-items:center;justify-content:center"><svg viewBox="0 0 12 12" height="12" width="12"><rect stroke="none" x="0" y="0" height="12" width="12" rx="2" fill="'.concat(e.value.style.layout.bars.gradient.underlayer,'"/><rect stroke="none" x="0" y="0" height="12" width="12" rx="2" fill="').concat(e.value.style.layout.bars.gradient.show?"url(#age_pyramid_right_".concat(k.value,")"):e.value.style.layout.bars.right.color,'"/></svg><div>').concat(e.value.translations.male,"</div><div><b>").concat(z(e.value.style.layout.dataLabels.xAxis.formatter,p(u.right.value),I({v:p(u.right.value)}),{datapoint:a,seriesIndex:t}),"</b></div></div>"),o+="</div>",o+='<div style="margin-top:6px;padding-top:6px;border-top:1px solid '.concat(e.value.style.tooltip.borderColor,'"><div>').concat(e.value.translations.total,"</div><div><b>").concat(z(e.value.style.layout.dataLabels.xAxis.formatter,p(u.right.value)+p(u.left.value),I({v:p(u.right.value)+p(u.left.value)}),{datapoint:a,seriesIndex:t}),"</b></div></div>"),o+="</div>",H.value="<div>".concat(o,"</div>")}J.value=!0}function oe(t=null){Ft(()=>{const a=[e.value.translations.year,e.value.translations.age,e.value.translations.female,e.value.translations.male,e.value.translations.total],l=x.dataset.map(f=>{var Oe,De;return[f[0],f[1],f[2],f[3],(De=(Oe=f[2])!=null?Oe:0+f[3])!=null?De:0]}),o=[[e.value.style.title.text],[e.value.style.title.subtitle.text],[[""],[""],[""]]].concat([a]).concat(l),u=It(o);t?t(u):Bt({csvContent:u,title:e.value.style.title.text||"vue-ui-heatmap"})})}const W=g(()=>{const t=[e.value.translations.year,e.value.translations.age,e.value.translations.female,e.value.translations.male,e.value.translations.total],a=x.dataset.map(o=>{var u,f;return[o[0],o[1],o[2]==null?"":o[2].toLocaleString(),o[3]==null?"":o[3].toLocaleString(),((f=(u=o[2])!=null?u:0+o[3])!=null?f:0).toLocaleString()]}),l={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint};return{head:t,body:a,config:l,colNames:t}}),O=d(!1);function Te(t){O.value=t,ce.value+=1}function $e(){m.value.showTable=!m.value.showTable}function Fe(){m.value.showTooltip=!m.value.showTooltip}const X=d(!1);function se(){X.value=!X.value}async function ft({scale:t=2}={}){if(!w.value)return;const{width:a,height:l}=w.value.getBoundingClientRect(),o=a/l,{imageUri:u,base64:f}=await Ht({domElement:w.value,base64:!0,img:!0,scale:t});return{imageUri:u,base64:f,title:e.value.style.title.text,width:a,height:l,aspectRatio:o}}const pt=d([]),xt=d({start:0,end:E.value.length});Jt({timeLabelsEls:q,timeLabels:pt,slicer:xt,configRef:e,rotationPath:["style","layout","dataLabels","xAxis","rotation"],autoRotatePath:["style","layout","dataLabels","xAxis","autoRotate","enable"],isAutoSize:!1,width:ut,height:nt,targetClass:".vue-ui-age-pyramid-x-axis-label",rotation:e.value.style.layout.dataLabels.xAxis.autoRotate.angle});const V=g(()=>{const t=e.value.table.useDialog&&!e.value.table.show,a=m.value.showTable;return{component:t?lt:Ke,title:"".concat(e.value.style.title.text).concat(e.value.style.title.subtitle.text?": ".concat(e.value.style.title.subtitle.text):""),props:t?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:O.value,fullscreenParent:w.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:a,maxHeight:1e4,body:{backgroundColor:e.value.style.backgroundColor,color:e.value.style.color},head:{backgroundColor:e.value.style.backgroundColor,color:e.value.style.color}}}}});Y(()=>m.value.showTable,t=>{e.value.table.show||(t&&e.value.table.useDialog&&M.value?M.value.open():"close"in M.value&&M.value.close())});function Se(){m.value.showTable=!1,K.value&&K.value.setTableIconState(!1)}const mt=g(()=>e.value.style.backgroundColor),Ct=g(()=>e.value.style.title),{exportSvg:At,getSvg:kt}=Ut({svg:ee,title:Ct,backgroundColor:mt});async function Ee({isCb:t}){if(t){const{blob:a,url:l,text:o,dataUrl:u}=await kt();e.value.userOptions.callbacks.svg({blob:a,url:l,text:o,dataUrl:u})}else At()}return Je({getImage:ft,generatePdf:_e,generateCsv:oe,generateImage:Le,generateSvg:Ee,toggleTable:$e,toggleTooltip:Fe,toggleAnnotator:se,toggleFullscreen:Te}),(t,a)=>(i(),n("div",{class:Re("vue-data-ui-component vue-ui-age-pyramid ".concat(O.value?"vue-data-ui-wrapper-fullscreen":"")),ref_key:"agePyramid",ref:w,id:"vue-ui-age-pyramid_".concat(k.value),style:re("font-family:".concat(e.value.style.fontFamily,";width:100%; text-align:center;background:").concat(e.value.style.backgroundColor,";").concat(e.value.responsive?"height:100%":"")),onMouseenter:a[1]||(a[1]=()=>r(me)(!0)),onMouseleave:a[2]||(a[2]=()=>r(me)(!1))},[e.value.userOptions.buttons.annotator?(i(),P(r(Ze),{key:0,svgRef:r(ee),backgroundColor:e.value.style.backgroundColor,color:e.value.style.color,active:X.value,onClose:se},{"annotator-action-close":y(()=>[v(t.$slots,"annotator-action-close",{},void 0,!0)]),"annotator-action-color":y(({color:l})=>[v(t.$slots,"annotator-action-color",C(A({color:l})),void 0,!0)]),"annotator-action-draw":y(({mode:l})=>[v(t.$slots,"annotator-action-draw",C(A({mode:l})),void 0,!0)]),"annotator-action-undo":y(({disabled:l})=>[v(t.$slots,"annotator-action-undo",C(A({disabled:l})),void 0,!0)]),"annotator-action-redo":y(({disabled:l})=>[v(t.$slots,"annotator-action-redo",C(A({disabled:l})),void 0,!0)]),"annotator-action-delete":y(({disabled:l})=>[v(t.$slots,"annotator-action-delete",C(A({disabled:l})),void 0,!0)]),_:3},8,["svgRef","backgroundColor","color","active"])):h("",!0),rt.value?(i(),n("div",{key:1,ref_key:"noTitle",ref:be,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):h("",!0),e.value.style.title.text?(i(),n("div",{key:2,ref_key:"chartTitle",ref:ge,style:"width:100%;background:transparent"},[(i(),P(qt,{key:"title_".concat(fe.value),config:{title:{cy:"pyramid-div-title",...e.value.style.title},subtitle:{cy:"pyramid-div-subtitle",...e.value.style.title.subtitle}}},null,8,["config"]))],512)):h("",!0),e.value.userOptions.show&&ye.value&&(r(Ce)||r(Z))?(i(),P(r(et),{ref_key:"userOptionsRef",ref:K,key:"user_options_".concat(ce.value),backgroundColor:e.value.style.backgroundColor,color:e.value.style.color,isImaging:r(we),isPrinting:r(ke),uid:k.value,hasTooltip:e.value.userOptions.buttons.tooltip&&e.value.style.tooltip.show,hasPdf:e.value.userOptions.buttons.pdf,hasXls:e.value.userOptions.buttons.csv,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasTable:e.value.userOptions.buttons.table,hasFullscreen:e.value.userOptions.buttons.fullscreen,isFullscreen:O.value,isTooltip:m.value.showTooltip,titles:{...e.value.userOptions.buttonTitles},chartElement:w.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:X.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:Te,onGeneratePdf:r(_e),onGenerateCsv:oe,onGenerateImage:r(Le),onGenerateSvg:Ee,onToggleTable:$e,onToggleTooltip:Fe,onToggleAnnotator:se,style:re({visibility:r(Ce)?r(Z)?"visible":"hidden":"visible"})},Be({_:2},[t.$slots.menuIcon?{name:"menuIcon",fn:y(({isOpen:l,color:o})=>[v(t.$slots,"menuIcon",C(A({isOpen:l,color:o})),void 0,!0)]),key:"0"}:void 0,t.$slots.optionTooltip?{name:"optionTooltip",fn:y(()=>[v(t.$slots,"optionTooltip",{},void 0,!0)]),key:"1"}:void 0,t.$slots.optionPdf?{name:"optionPdf",fn:y(()=>[v(t.$slots,"optionPdf",{},void 0,!0)]),key:"2"}:void 0,t.$slots.optionCsv?{name:"optionCsv",fn:y(()=>[v(t.$slots,"optionCsv",{},void 0,!0)]),key:"3"}:void 0,t.$slots.optionImg?{name:"optionImg",fn:y(()=>[v(t.$slots,"optionImg",{},void 0,!0)]),key:"4"}:void 0,t.$slots.optionSvg?{name:"optionSvg",fn:y(()=>[v(t.$slots,"optionSvg",{},void 0,!0)]),key:"5"}:void 0,t.$slots.optionTable?{name:"optionTable",fn:y(()=>[v(t.$slots,"optionTable",{},void 0,!0)]),key:"6"}:void 0,t.$slots.optionFullscreen?{name:"optionFullscreen",fn:y(({toggleFullscreen:l,isFullscreen:o})=>[v(t.$slots,"optionFullscreen",C(A({toggleFullscreen:l,isFullscreen:o})),void 0,!0)]),key:"7"}:void 0,t.$slots.optionAnnotator?{name:"optionAnnotator",fn:y(({toggleAnnotator:l,isAnnotator:o})=>[v(t.$slots,"optionAnnotator",C(A({toggleAnnotator:l,isAnnotator:o})),void 0,!0)]),key:"8"}:void 0]),1032,["backgroundColor","color","isImaging","isPrinting","uid","hasTooltip","hasPdf","hasXls","hasImg","hasSvg","hasTable","hasFullscreen","isFullscreen","isTooltip","titles","chartElement","position","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):h("",!0),(i(),n("svg",{ref_key:"svgRef",ref:ee,xmlns:r(zt),class:Re({"vue-data-ui-fullscreen--on":O.value,"vue-data-ui-fulscreen--off":!O.value}),viewBox:"0 0 ".concat(b.value.width<=0?10:b.value.width," ").concat(b.value.height<=0?10:b.value.height),style:re("max-width:100%;overflow:visible;background:transparent;color:".concat(e.value.style.color))},[ie(r(tt)),t.$slots["chart-background"]?(i(),n("foreignObject",{key:0,x:s.value.left,y:s.value.top,width:Math.max(.1,s.value.width),height:Math.max(.1,s.value.height),style:{pointerEvents:"none"}},[v(t.$slots,"chart-background",{},void 0,!0)],8,Zt)):h("",!0),c("defs",null,[c("linearGradient",{id:"age_pyramid_left_".concat(k.value),x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[c("stop",{offset:"0%","stop-color":e.value.style.layout.bars.left.color},null,8,tl),c("stop",{offset:"100%","stop-color":r(ne)(r(Me)(e.value.style.layout.bars.left.color,e.value.style.layout.bars.gradient.shiftHue),100-e.value.style.layout.bars.gradient.intensity)},null,8,ll)],8,el),c("linearGradient",{id:"age_pyramid_right_".concat(k.value),x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[c("stop",{offset:"0%","stop-color":r(ne)(r(Me)(e.value.style.layout.bars.right.color,e.value.style.layout.bars.gradient.shiftHue),100-e.value.style.layout.bars.gradient.intensity)},null,8,ol),c("stop",{offset:"100%","stop-color":e.value.style.layout.bars.right.color},null,8,sl)],8,al)]),(i(!0),n(F,null,D(E.value,(l,o)=>(i(),n("g",null,[c("rect",{x:l.left.x,y:l.left.y,width:r(p)(l.left.width<=0?1e-4:l.left.width),height:l.left.height<=0?1e-4:l.left.height,fill:e.value.style.layout.bars.gradient.underlayer,rx:e.value.style.layout.bars.borderRadius},null,8,il),c("rect",{x:l.left.x,y:l.left.y,width:l.left.width<=0?1e-4:l.left.width,height:l.left.height<=0?1e-4:l.left.height,fill:e.value.style.layout.bars.gradient.show?"url(#age_pyramid_left_".concat(k.value,")"):l.left.color,rx:e.value.style.layout.bars.borderRadius},null,8,rl),c("rect",{x:l.right.x,y:l.right.y,width:l.right.width<=0?1e-4:l.right.width,height:l.right.height<=0?1e-4:l.right.height,fill:e.value.style.layout.bars.gradient.underlayer,rx:e.value.style.layout.bars.borderRadius},null,8,ul),c("rect",{x:l.right.x,y:l.right.y,width:l.right.width<=0?1e-4:l.right.width,height:l.right.height<=0?1e-4:l.right.height,fill:e.value.style.layout.bars.gradient.show?"url(#age_pyramid_right_".concat(k.value,")"):l.right.color,rx:e.value.style.layout.bars.borderRadius},null,8,nl)]))),256)),c("g",null,[e.value.style.layout.dataLabels.sideTitles.show?(i(),n("g",dl,[c("text",{x:s.value.left,y:e.value.style.layout.dataLabels.sideTitles.fontSize,fill:e.value.style.layout.dataLabels.sideTitles.useSideColor?e.value.style.layout.bars.left.color:e.value.style.layout.dataLabels.sideTitles.color,"font-size":e.value.style.layout.dataLabels.sideTitles.fontSize,"text-anchor":"start","font-weight":e.value.style.layout.dataLabels.sideTitles.bold?"bold":"normal"},_(e.value.translations.female),9,vl),c("text",{x:s.value.right,y:e.value.style.layout.dataLabels.sideTitles.fontSize,fill:e.value.style.layout.dataLabels.sideTitles.useSideColor?e.value.style.layout.bars.right.color:e.value.style.layout.dataLabels.sideTitles.color,"font-size":e.value.style.layout.dataLabels.sideTitles.fontSize,"text-anchor":"end","font-weight":e.value.style.layout.dataLabels.sideTitles.bold?"bold":"normal"},_(e.value.translations.male),9,yl)])):h("",!0),e.value.style.layout.dataLabels.yAxis.show?(i(),n("g",cl,[(i(!0),n(F,null,D(vt.value,(l,o)=>(i(),n(F,null,[o%e.value.style.layout.dataLabels.yAxis.showEvery===0?(i(),n("text",{key:0,x:s.value.centerX,y:s.value.top+s.value.height/R.value*o+e.value.style.layout.dataLabels.yAxis.fontSize/3,"text-anchor":"middle","font-size":e.value.style.layout.dataLabels.yAxis.fontSize,fill:e.value.style.layout.dataLabels.yAxis.color,"font-weight":e.value.style.layout.dataLabels.yAxis.bold?"bold":"normal"},_(r(z)(e.value.style.layout.dataLabels.yAxis.formatter,l,r(I)({v:l}),{datapoint:l,seriesIndex:o})),9,gl)):h("",!0)],64))),256))])):h("",!0),e.value.style.layout.dataLabels.xAxis.show?(i(),n("g",hl,[e.value.style.layout.grid.show?(i(),n("g",bl,[c("line",{x1:T.value.right[0].x,x2:T.value.right.at(-1).x,y1:s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2,y2:s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2,stroke:e.value.style.layout.grid.stroke,"stroke-width":e.value.style.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,fl),c("line",{x1:T.value.left[0].x,x2:T.value.left.at(-1).x,y1:s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2,y2:s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2,stroke:e.value.style.layout.grid.stroke,"stroke-width":e.value.style.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,pl)])):h("",!0),(i(!0),n(F,null,D(T.value.right,(l,o)=>(i(),n("g",null,[e.value.style.layout.grid.show?(i(),n("line",{key:0,x1:l.x,x2:l.x,y1:s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2,y2:s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2+4,stroke:e.value.style.layout.grid.stroke,"stroke-width":e.value.style.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,xl)):h("",!0)]))),256)),(i(!0),n(F,null,D(T.value.left,(l,o)=>(i(),n("g",null,[e.value.style.layout.grid.show?(i(),n("line",{key:0,x1:l.x,x2:l.x,y1:s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2,y2:s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2+4,stroke:e.value.style.layout.grid.stroke,"stroke-width":e.value.style.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,ml)):h("",!0)]))),256)),c("g",{ref_key:"xAxisLabels",ref:q},[(i(!0),n(F,null,D(T.value.right,(l,o)=>(i(),n("text",{class:"vue-ui-age-pyramid-x-axis-label","font-size":e.value.style.layout.dataLabels.xAxis.fontSize,fill:e.value.style.layout.dataLabels.xAxis.color,"text-anchor":e.value.style.layout.dataLabels.xAxis.rotation>0?"start":e.value.style.layout.dataLabels.xAxis.rotation<0?"end":"middle","font-weight":e.value.style.layout.dataLabels.xAxis.bold?"bold":"normal",transform:"translate(".concat(l.x,", ").concat(s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize*2,") rotate(").concat(e.value.style.layout.dataLabels.xAxis.rotation,")")},_(r(z)(e.value.style.layout.dataLabels.xAxis.formatter,l.value/e.value.style.layout.dataLabels.xAxis.scale,r(I)({v:l.value/e.value.style.layout.dataLabels.xAxis.scale}),{datapoint:l,seriesIndex:o})),9,Cl))),256)),(i(!0),n(F,null,D(T.value.left,(l,o)=>(i(),n("text",{class:"vue-ui-age-pyramid-x-axis-label","font-size":e.value.style.layout.dataLabels.xAxis.fontSize,fill:e.value.style.layout.dataLabels.xAxis.color,"text-anchor":e.value.style.layout.dataLabels.xAxis.rotation>0?"start":e.value.style.layout.dataLabels.xAxis.rotation<0?"end":"middle","font-weight":e.value.style.layout.dataLabels.xAxis.bold?"bold":"normal",transform:"translate(".concat(l.x,", ").concat(s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize*2,") rotate(").concat(e.value.style.layout.dataLabels.xAxis.rotation,")")},_(r(z)(e.value.style.layout.dataLabels.xAxis.formatter,l.value/e.value.style.layout.dataLabels.xAxis.scale,r(I)({v:l.value/e.value.style.layout.dataLabels.xAxis.scale}),{datapoint:l,seriesIndex:o})),9,Al))),256))],512),c("text",{x:s.value.right,y:b.value.height,"text-anchor":"end","font-size":e.value.style.layout.dataLabels.xAxis.fontSize,fill:e.value.style.layout.dataLabels.xAxis.color,"font-weight":e.value.style.layout.dataLabels.xAxis.bold?"bold":"normal"},_(e.value.style.layout.dataLabels.xAxis.translation),9,kl)])):h("",!0)]),(i(!0),n(F,null,D(ve.dataset,(l,o)=>(i(),n("g",null,[c("rect",{x:s.value.left,y:s.value.top+s.value.height/R.value*o-e.value.style.layout.bars.gap/2,width:s.value.width<=0?1e-4:s.value.width,height:s.value.height/R.value<=0?1e-4:s.value.height/R.value,fill:j.value!==null&&j.value===o?r(ne)(e.value.style.highlighter.color,e.value.style.highlighter.opacity):"transparent",onMouseover:u=>bt(o,l),onMouseleave:u=>ht(o,l),onClick:u=>gt(o,l)},null,40,wl)]))),256)),v(t.$slots,"svg",{svg:b.value},void 0,!0)],14,Qt)),t.$slots.watermark?(i(),n("div",_l,[v(t.$slots,"watermark",C(A({isPrinting:r(ke)||r(we)})),void 0,!0)])):h("",!0),v(t.$slots,"legend",{legend:E.value},void 0,!0),t.$slots.source?(i(),n("div",{key:5,ref_key:"source",ref:he,dir:"auto"},[v(t.$slots,"source",{},void 0,!0)],512)):h("",!0),ie(r(He),{show:m.value.showTooltip&&J.value,backgroundColor:e.value.style.tooltip.backgroundColor,color:e.value.style.tooltip.color,borderRadius:e.value.style.tooltip.borderRadius,borderColor:e.value.style.tooltip.borderColor,borderWidth:e.value.style.tooltip.borderWidth,fontSize:e.value.style.tooltip.fontSize,backgroundOpacity:e.value.style.tooltip.backgroundOpacity,position:e.value.style.tooltip.position,offsetY:e.value.style.tooltip.offsetY,parent:w.value,content:H.value,isFullscreen:O.value,isCustom:e.value.style.tooltip.customFormat&&typeof e.value.style.tooltip.customFormat=="function",smooth:e.value.style.tooltip.smooth,backdropFilter:e.value.style.tooltip.backdropFilter,smoothForce:e.value.style.tooltip.smoothForce,smoothSnapThreshold:e.value.style.tooltip.smoothSnapThreshold},{"tooltip-before":y(()=>[v(t.$slots,"tooltip-before",C(A({...le.value})),void 0,!0)]),"tooltip-after":y(()=>[v(t.$slots,"tooltip-after",C(A({...le.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","borderRadius","borderColor","borderWidth","fontSize","backgroundOpacity","position","offsetY","parent","content","isFullscreen","isCustom","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),ye.value&&e.value.userOptions.buttons.table?(i(),P($t(V.value.component),Tt({key:6},V.value.props,{ref_key:"tableUnit",ref:M,onClose:Se}),Be({content:y(()=>[(i(),P(r(Qe),{key:"table_".concat(pe.value),colNames:W.value.colNames,head:W.value.head,body:W.value.body,config:W.value.config,title:e.value.table.useDialog?"":V.value.title,withCloseButton:!e.value.table.useDialog,onClose:Se},{th:y(({th:l})=>[ue(_(l),1)]),td:y(({td:l})=>[ue(_(l),1)]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))]),_:2},[e.value.table.useDialog?{name:"title",fn:y(()=>[ue(_(V.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:y(()=>[c("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:a[0]||(a[0]=l=>oe(e.value.userOptions.callbacks.csv))},[ie(r(qe),{name:"excel",stroke:V.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):h("",!0),r(xe)?(i(),P(jt,{key:7})):h("",!0)],46,Kt))}},Tl=St(Ll,[["__scopeId","data-v-ef1314b3"]]),Ul=Object.freeze(Object.defineProperty({__proto__:null,default:Tl},Symbol.toStringTag,{value:"Module"}));export{Gl as a,Ul as b,Tl as v};
