
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Tooltip-68Yi_FFl-CRPaJsgv.js","./vue-data-ui-BN9YfUec.js","./index-DXZKKOp8.js","./index-B7kifsnL.css","./alert-l5XlVwCh.js","./vue-data-ui-D1HaM8UR.css","./vue-ui-accordion-UpZ765hd-DndPzmcD.js","./useNestedProp-dJX_8vvZ-BzBW50KN.js","./DataTable-BT7VF2ua-Cw2NNXsE.js","./Shape-CNXKB8O0-BJGuTKHC.js","./PenAndPaper-DSvu9dwa-B6YjX2xm.js","./ColorPicker-J5wOPCeB-sgb_Bfch.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-1OZ3jcm6-BbpzMig3.js","./img-BecE5qXd-CsL1o-EN.js","./dom-to-png--BNgrTZV-DTUrW_sQ.js","./PackageVersion-TgflyMpU-q2MkeeNq.js","./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"])))=>i.map(i=>d[i]);
import{J as y,e as v,a7 as ct,K as H,au as Fe,E as ft,av as Re,at as pt,b_ as C,c as n,o as i,z as P,A as h,r as g,g as ie,u,c0 as Ee,h as c,j as M,k as D,O as ue,n as Pe,f as d,F as $,R as I,t as _,l as re,m as bt,N as xt,c1 as T,a9 as mt}from"./index-DXZKKOp8.js";import{s as wt,Q as kt,A as _t,g as Me,p as At,c as b,y as Lt,O as ne,G as De,I as z,f as F,e as Ct,r as $t,F as Tt,h as St}from"./vue-data-ui-BN9YfUec.js";import{E as Ve,M as Ot}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{t as It,o as Be}from"./useNestedProp-dJX_8vvZ-BzBW50KN.js";import{S as zt,T as Ft}from"./BaseScanner-BgWxam9d-B19ueoDW.js";import{m as Rt}from"./usePrinter-DTzqpYKF-D5mkxXp9.js";import{O as Et}from"./useSvgExport-DrjCWun4-CbW14PXm.js";import{a as Pt}from"./useUserOptionState-BIvW1Kz7-D6llU1BK.js";import{o as Mt}from"./useChartAccessibility-9icAAmYg-BcUQIUvr.js";import{S as Dt}from"./useTimeLabelCollider-CIsgDrl9-CjJy_OeC.js";import Vt from"./img-BecE5qXd-CsL1o-EN.js";import Bt from"./Title-BWp-37K_-BMUMQpSO.js";import{J as Nt}from"./themes-AUNCOb2G-RAhReTPj.js";import"./alert-l5XlVwCh.js";import"./dom-to-png--BNgrTZV-DTUrW_sQ.js";const Gt=["id"],Ut=["xmlns","viewBox"],Wt=["x","y","width","height"],jt=["id"],Yt=["stop-color"],Ht=["stop-color"],Xt=["id"],Jt=["stop-color"],Qt=["stop-color"],qt=["x","y","width","height","fill","rx"],Kt=["x","y","width","height","fill","rx"],Zt=["x","y","width","height","fill","rx"],el=["x","y","width","height","fill","rx"],tl={key:0},ll=["x","y","fill","font-size","font-weight"],al=["x","y","fill","font-size","font-weight"],ol={key:1},sl=["x","y","font-size","fill","font-weight"],il={key:2},ul={key:0},rl=["x1","x2","y1","y2","stroke","stroke-width"],nl=["x1","x2","y1","y2","stroke","stroke-width"],vl=["x1","x2","y1","y2","stroke","stroke-width"],dl=["x1","x2","y1","y2","stroke","stroke-width"],yl=["font-size","fill","text-anchor","font-weight","transform"],hl=["font-size","fill","text-anchor","font-weight","transform"],gl=["x","y","font-size","fill","font-weight"],cl=["x","y","width","height","fill","onMouseover","onMouseleave","onClick"],fl={key:4,class:"vue-data-ui-watermark"},pl={__name:"vue-ui-age-pyramid",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},setup(ve,{expose:Ne}){const Ge=C(()=>T(()=>import("./Tooltip-68Yi_FFl-CRPaJsgv.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),Ue=C(()=>T(()=>import("./vue-data-ui-BN9YfUec.js").then(t=>t.aw),__vite__mapDeps([1,2,3,4,5]),import.meta.url)),We=C(()=>T(()=>import("./vue-ui-accordion-UpZ765hd-DndPzmcD.js"),__vite__mapDeps([6,2,3,1,4,5,7]),import.meta.url)),je=C(()=>T(()=>import("./DataTable-BT7VF2ua-Cw2NNXsE.js"),__vite__mapDeps([8,2,3,9,1,4,5]),import.meta.url)),Ye=C(()=>T(()=>import("./PenAndPaper-DSvu9dwa-B6YjX2xm.js"),__vite__mapDeps([10,2,3,1,4,5,11,12]),import.meta.url)),He=C(()=>T(()=>import("./UserOptions-1OZ3jcm6-BbpzMig3.js"),__vite__mapDeps([13,2,3,12,1,4,5,14,15]),import.meta.url)),Xe=C(()=>T(()=>import("./PackageVersion-TgflyMpU-q2MkeeNq.js"),__vite__mapDeps([16,2,3]),import.meta.url)),Je=C(()=>T(()=>import("./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"),__vite__mapDeps([17,2,3,1,4,5]),import.meta.url)),{vue_ui_age_pyramid:Qe}=It(),m=ve,de=y(()=>!!m.dataset&&m.dataset.length),w=v(kt()),X=v(!1),J=v(""),G=v(null),ye=v(0),k=v(null),he=v(null),ge=v(null),ce=v(null),fe=v(0),pe=v(0),Q=v(null),V=v(null),q=v(null),e=v(te()),{loading:be,FINAL_DATASET:U,manualLoading:K}=zt({...ct(m),FINAL_CONFIG:e,prepareConfig:te,skeletonDataset:[["_",9,2,2],["_",8,3,3],["_",7,5,5],["_",6,8,8],["_",5,13,13],["_",4,21,21],["_",3,34,34],["_",2,55,55],["_",1,89,89],["_",0,144,144]],skeletonConfig:_t({defaultConfig:e.value,userConfig:{userOptions:{show:!1},table:{show:!1},translations:{male:"",female:""},style:{backgroundColor:"#99999930",layout:{bars:{left:{color:"#CACACA"},right:{color:"#999999"}},dataLabels:{xAxis:{fontSize:0,scale:1e3,translation:""},yAxis:{show:!1}},grid:{stroke:"#6A6A6A"}}}}})}),{userOptionsVisible:Z,setUserOptionsVisibility:xe,keepUserOptionState:me}=Pt({config:e.value}),{svgRef:ee}=Mt({config:e.value.style.title});function te(){const t=Be({userConfig:m.config,defaultConfig:Qe});return t.theme?{...Be({userConfig:Nt.vue_ui_age_pyramid[t.theme]||m.config,defaultConfig:t})}:t}H(()=>m.config,t=>{be.value||(e.value=te()),Z.value=!e.value.userOptions.showOnChartHover,we(),fe.value+=1,pe.value+=1,x.value.showTable=e.value.table.show,x.value.showTooltip=e.value.style.tooltip.show},{deep:!0}),H(()=>m.dataset,t=>{Array.isArray(t)&&t.length>0&&(K.value=!1)},{deep:!0});const A=Fe(null),R=Fe(null);ft(()=>{we()});const qe=y(()=>!!e.value.debug);function we(){if(Me(m.dataset)&&(At({componentName:"VueUiAgePyramid",type:"dataset",debug:qe.value}),K.value=!0),Me(m.dataset)||(K.value=e.value.loading),e.value.responsive){const t=Ve(()=>{const{width:o,height:l}=Ot({chart:k.value,title:e.value.style.title.text?he.value:null,source:ge.value,noTitle:ce.value});requestAnimationFrame(()=>{f.value.width=o,f.value.height=l})});A.value&&(R.value&&A.value.unobserve(R.value),A.value.disconnect()),A.value=new ResizeObserver(t),R.value=k.value.parentNode,A.value.observe(R.value)}}Re(()=>{A.value&&(R.value&&A.value.unobserve(R.value),A.value.disconnect())});const{isPrinting:ke,isImaging:_e,generatePdf:Ae,generateImage:Le}=Rt({elementId:"vue-ui-age-pyramid_".concat(w.value),fileName:e.value.style.title.text||"vue-ui-age-pyramid",options:e.value.userOptions.print}),Ke=y(()=>e.value.userOptions.show&&!e.value.style.title.text),x=v({showTable:e.value.table.show,showTooltip:e.value.style.tooltip.show});H(e,()=>{x.value={showTable:e.value.table.show,showTooltip:e.value.style.tooltip.show}},{immediate:!0});const f=v({height:e.value.style.height,width:e.value.style.width}),Ze=y(()=>f.value.width),et=y(()=>f.value.height),W=v(0),tt=Ve(t=>{W.value=t},100);pt(t=>{const o=Q.value;if(!o)return;const l=new ResizeObserver(a=>{tt(a[0].contentRect.height)});l.observe(o),t(()=>l.disconnect())}),Re(()=>{W.value=0});const s=y(()=>{const t=f.value.width-e.value.style.layout.padding.right-e.value.style.layout.padding.left,o=e.value.style.layout.padding.left,l=f.value.width-e.value.style.layout.padding.right;return{top:e.value.style.layout.padding.top+e.value.style.layout.dataLabels.sideTitles.fontSize+e.value.style.layout.dataLabels.sideTitles.offsetY+12,left:o,right:l,bottom:f.value.height-e.value.style.layout.padding.bottom-W.value,width:t,height:f.value.height-e.value.style.layout.padding.top-e.value.style.layout.padding.bottom-W.value-e.value.style.layout.dataLabels.sideTitles.fontSize-e.value.style.layout.dataLabels.sideTitles.offsetY-12,centerX:e.value.style.layout.padding.left+t/2,leftChart:{width:t/2-e.value.style.layout.centerSlit.width,right:o+t/2-e.value.style.layout.centerSlit.width},rightChart:{width:t/2-e.value.style.layout.centerSlit.width,left:o+t/2+e.value.style.layout.centerSlit.width}}}),lt=y(()=>U.value.map(t=>e.value.style.layout.dataLabels.yAxis.display==="age"?t[1]:t[0])),L=y(()=>{const t=at(B.value/5),o=[],l=[];for(let a=0;a<=5;a+=1){const r=t*a,p=t*(a-5);o.push({value:r,x:s.value.left+s.value.width/2+e.value.style.layout.centerSlit.width+r/B.value*s.value.leftChart.width}),l.push({value:Math.abs(p),x:s.value.left+s.value.width/2+p/B.value*s.value.leftChart.width-e.value.style.layout.centerSlit.width})}return{right:o,left:l}});function at(t){if(t===0)return 0;const o=10**Math.floor(Math.log10(Math.abs(t)));let l;return l=Math.round(t/o)*o,l}const B=y(()=>Math.max(...U.value.flatMap(t=>t.slice(-2).map(o=>b(o))))),E=y(()=>U.value.length),ot=y(()=>U.value.map(t=>({segment:t[0],age:t[1],left:{value:t[2],proportionToMax:t[2]/B.value},right:{value:t[3],proportionToMax:t[3]/B.value}}))),S=y(()=>ot.value.map((t,o)=>{const l=s.value.top+s.value.height/E.value*o,a=s.value.height/E.value-e.value.style.layout.bars.gap;return{segment:t.segment,age:t.age,left:{...t.left,y:l,color:e.value.style.layout.bars.left.color,x:s.value.leftChart.right-t.left.proportionToMax*s.value.leftChart.width,width:b(t.left.proportionToMax*s.value.leftChart.width),height:a},right:{...t.right,y:l,color:e.value.style.layout.bars.right.color,x:s.value.rightChart.left,width:b(t.right.proportionToMax*s.value.rightChart.width),height:a}}})),le=v(null);function ae(t){const[o,l,a,r]=t;return{segment:o,index:l,left:a,right:r}}function st(t,o){e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:ae(o),seriesIndex:t})}function it(t,o){e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:ae(o),seriesIndex:t}),G.value=null,X.value=!1}function ut(t,o){e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:ae(o),seriesIndex:t}),G.value=t,le.value={datapoint:o,seriesIndex:t,series:S.value,config:e.value};const l=e.value.style.tooltip.customFormat;if(Tt(l)&&St(()=>l({seriesIndex:t,datapoint:{segment:o[0],index:o[1],left:o[2],right:o[3]},series:S.value,config:e.value})))J.value=l({seriesIndex:t,datapoint:{segment:o[0],index:o[1],left:o[2],right:o[3]},series:S.value,config:e.value});else{let a="";const r=S.value[t];a+="<div><b>".concat(r.segment,"</b></div>"),a+="<div>".concat(e.value.translations.age,": ").concat(z(e.value.style.layout.dataLabels.yAxis.formatter,b(r.age),F({v:b(r.age)}),{datapoint:o,seriesIndex:t}),"</div>"),a+='<div style="margin-top:6px;padding-top:6px;border-top:1px solid '.concat(e.value.style.tooltip.borderColor,'">'),a+='<div style="display:flex; flex-direction:row;gap:12px">',a+='<div style="display:flex;flex-direction:column;align-items:center;justify-content:center"><svg viewBox="0 0 12 12" height="12" width="12"><rect stroke="none" x="0" y="0" height="12" width="12" rx="2" fill="'.concat(e.value.style.layout.bars.gradient.underlayer,'"/><rect stroke="none" x="0" y="0" height="12" width="12" rx="2" fill="').concat(e.value.style.layout.bars.gradient.show?"url(#age_pyramid_left_".concat(w.value,")"):e.value.style.layout.bars.left.color,'"/></svg><div>').concat(e.value.translations.female,"</div><div><b>").concat(z(e.value.style.layout.dataLabels.xAxis.formatter,b(r.left.value),F({v:b(r.left.value)}),{datapoint:o,seriesIndex:t}),"</b></div></div>"),a+='<div style="display:flex;flex-direction:column;align-items:center;justify-content:center"><svg viewBox="0 0 12 12" height="12" width="12"><rect stroke="none" x="0" y="0" height="12" width="12" rx="2" fill="'.concat(e.value.style.layout.bars.gradient.underlayer,'"/><rect stroke="none" x="0" y="0" height="12" width="12" rx="2" fill="').concat(e.value.style.layout.bars.gradient.show?"url(#age_pyramid_right_".concat(w.value,")"):e.value.style.layout.bars.right.color,'"/></svg><div>').concat(e.value.translations.male,"</div><div><b>").concat(z(e.value.style.layout.dataLabels.xAxis.formatter,b(r.right.value),F({v:b(r.right.value)}),{datapoint:o,seriesIndex:t}),"</b></div></div>"),a+="</div>",a+='<div style="margin-top:6px;padding-top:6px;border-top:1px solid '.concat(e.value.style.tooltip.borderColor,'"><div>').concat(e.value.translations.total,"</div><div><b>").concat(z(e.value.style.layout.dataLabels.xAxis.formatter,b(r.right.value)+b(r.left.value),F({v:b(r.right.value)+b(r.left.value)}),{datapoint:o,seriesIndex:t}),"</b></div></div>"),a+="</div>",J.value="<div>".concat(a,"</div>")}X.value=!0}function oe(t=null){mt(()=>{const o=[e.value.translations.year,e.value.translations.age,e.value.translations.female,e.value.translations.male,e.value.translations.total],l=m.dataset.map(p=>{var Ie,ze;return[p[0],p[1],p[2],p[3],(ze=(Ie=p[2])!=null?Ie:0+p[3])!=null?ze:0]}),a=[[e.value.style.title.text],[e.value.style.title.subtitle.text],[[""],[""],[""]]].concat([o]).concat(l),r=Ct(a);t?t(r):$t({csvContent:r,title:e.value.style.title.text||"vue-ui-heatmap"})})}const j=y(()=>{const t=[e.value.translations.year,e.value.translations.age,e.value.translations.female,e.value.translations.male,e.value.translations.total],o=m.dataset.map(a=>{var r,p;return[a[0],a[1],a[2]==null?"":a[2].toLocaleString(),a[3]==null?"":a[3].toLocaleString(),((p=(r=a[2])!=null?r:0+a[3])!=null?p:0).toLocaleString()]}),l={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint};return{head:t,body:o,config:l,colNames:t}}),O=v(!1);function Ce(t){O.value=t,ye.value+=1}function $e(){x.value.showTable=!x.value.showTable}function Te(){x.value.showTooltip=!x.value.showTooltip}const Y=v(!1);function se(){Y.value=!Y.value}async function rt({scale:t=2}={}){if(!k.value)return;const{width:o,height:l}=k.value.getBoundingClientRect(),a=o/l,{imageUri:r,base64:p}=await Vt({domElement:k.value,base64:!0,img:!0,scale:t});return{imageUri:r,base64:p,title:e.value.style.title.text,width:o,height:l,aspectRatio:a}}const nt=v([]),vt=v({start:0,end:S.value.length});Dt({timeLabelsEls:Q,timeLabels:nt,slicer:vt,configRef:e,rotationPath:["style","layout","dataLabels","xAxis","rotation"],autoRotatePath:["style","layout","dataLabels","xAxis","autoRotate","enable"],isAutoSize:!1,width:Ze,height:et,targetClass:".vue-ui-age-pyramid-x-axis-label",rotation:e.value.style.layout.dataLabels.xAxis.autoRotate.angle});const N=y(()=>{const t=e.value.table.useDialog&&!e.value.table.show,o=x.value.showTable;return{component:t?Je:We,title:"".concat(e.value.style.title.text).concat(e.value.style.title.subtitle.text?": ".concat(e.value.style.title.subtitle.text):""),props:t?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:O.value,fullscreenParent:k.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:o,maxHeight:1e4,body:{backgroundColor:e.value.style.backgroundColor,color:e.value.style.color},head:{backgroundColor:e.value.style.backgroundColor,color:e.value.style.color}}}}});H(()=>x.value.showTable,t=>{e.value.table.show||(t&&e.value.table.useDialog&&V.value?V.value.open():"close"in V.value&&V.value.close())});function Se(){x.value.showTable=!1,q.value&&q.value.setTableIconState(!1)}const dt=y(()=>e.value.style.backgroundColor),yt=y(()=>e.value.style.title),{exportSvg:ht,getSvg:gt}=Et({svg:ee,title:yt,backgroundColor:dt});async function Oe({isCb:t}){if(t){const{blob:o,url:l,text:a,dataUrl:r}=await gt();e.value.userOptions.callbacks.svg({blob:o,url:l,text:a,dataUrl:r})}else ht()}return Ne({getImage:rt,generatePdf:Ae,generateCsv:oe,generateImage:Le,generateSvg:Oe,toggleTable:$e,toggleTooltip:Te,toggleAnnotator:se,toggleFullscreen:Ce}),(t,o)=>(i(),n("div",{class:Pe("vue-data-ui-component vue-ui-age-pyramid ".concat(O.value?"vue-data-ui-wrapper-fullscreen":"")),ref_key:"agePyramid",ref:k,id:"vue-ui-age-pyramid_".concat(w.value),style:ue("font-family:".concat(e.value.style.fontFamily,";width:100%; text-align:center;background:").concat(e.value.style.backgroundColor,";").concat(e.value.responsive?"height:100%":"")),onMouseenter:o[1]||(o[1]=()=>u(xe)(!0)),onMouseleave:o[2]||(o[2]=()=>u(xe)(!1))},[e.value.userOptions.buttons.annotator?(i(),P(u(Ye),{key:0,svgRef:u(ee),backgroundColor:e.value.style.backgroundColor,color:e.value.style.color,active:Y.value,onClose:se},null,8,["svgRef","backgroundColor","color","active"])):h("",!0),Ke.value?(i(),n("div",{key:1,ref_key:"noTitle",ref:ce,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):h("",!0),e.value.style.title.text?(i(),n("div",{key:2,ref_key:"chartTitle",ref:he,style:"width:100%;background:transparent"},[(i(),P(Bt,{key:"title_".concat(fe.value),config:{title:{cy:"pyramid-div-title",...e.value.style.title},subtitle:{cy:"pyramid-div-subtitle",...e.value.style.title.subtitle}}},null,8,["config"]))],512)):h("",!0),e.value.userOptions.show&&de.value&&(u(me)||u(Z))?(i(),P(u(He),{ref_key:"userOptionsRef",ref:q,key:"user_options_".concat(ye.value),backgroundColor:e.value.style.backgroundColor,color:e.value.style.color,isImaging:u(_e),isPrinting:u(ke),uid:w.value,hasTooltip:e.value.userOptions.buttons.tooltip&&e.value.style.tooltip.show,hasPdf:e.value.userOptions.buttons.pdf,hasXls:e.value.userOptions.buttons.csv,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasTable:e.value.userOptions.buttons.table,hasFullscreen:e.value.userOptions.buttons.fullscreen,isFullscreen:O.value,isTooltip:x.value.showTooltip,titles:{...e.value.userOptions.buttonTitles},chartElement:k.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:Y.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:Ce,onGeneratePdf:u(Ae),onGenerateCsv:oe,onGenerateImage:u(Le),onGenerateSvg:Oe,onToggleTable:$e,onToggleTooltip:Te,onToggleAnnotator:se,style:ue({visibility:u(me)?u(Z)?"visible":"hidden":"visible"})},Ee({_:2},[t.$slots.menuIcon?{name:"menuIcon",fn:c(({isOpen:l,color:a})=>[g(t.$slots,"menuIcon",M(D({isOpen:l,color:a})),void 0,!0)]),key:"0"}:void 0,t.$slots.optionTooltip?{name:"optionTooltip",fn:c(()=>[g(t.$slots,"optionTooltip",{},void 0,!0)]),key:"1"}:void 0,t.$slots.optionPdf?{name:"optionPdf",fn:c(()=>[g(t.$slots,"optionPdf",{},void 0,!0)]),key:"2"}:void 0,t.$slots.optionCsv?{name:"optionCsv",fn:c(()=>[g(t.$slots,"optionCsv",{},void 0,!0)]),key:"3"}:void 0,t.$slots.optionImg?{name:"optionImg",fn:c(()=>[g(t.$slots,"optionImg",{},void 0,!0)]),key:"4"}:void 0,t.$slots.optionTable?{name:"optionTable",fn:c(()=>[g(t.$slots,"optionTable",{},void 0,!0)]),key:"5"}:void 0,t.$slots.optionFullscreen?{name:"optionFullscreen",fn:c(({toggleFullscreen:l,isFullscreen:a})=>[g(t.$slots,"optionFullscreen",M(D({toggleFullscreen:l,isFullscreen:a})),void 0,!0)]),key:"6"}:void 0,t.$slots.optionAnnotator?{name:"optionAnnotator",fn:c(({toggleAnnotator:l,isAnnotator:a})=>[g(t.$slots,"optionAnnotator",M(D({toggleAnnotator:l,isAnnotator:a})),void 0,!0)]),key:"7"}:void 0]),1032,["backgroundColor","color","isImaging","isPrinting","uid","hasTooltip","hasPdf","hasXls","hasImg","hasSvg","hasTable","hasFullscreen","isFullscreen","isTooltip","titles","chartElement","position","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):h("",!0),(i(),n("svg",{ref_key:"svgRef",ref:ee,xmlns:u(Lt),class:Pe({"vue-data-ui-fullscreen--on":O.value,"vue-data-ui-fulscreen--off":!O.value}),viewBox:"0 0 ".concat(f.value.width<=0?10:f.value.width," ").concat(f.value.height<=0?10:f.value.height),style:ue("max-width:100%;overflow:visible;background:transparent;color:".concat(e.value.style.color))},[ie(u(Xe)),t.$slots["chart-background"]?(i(),n("foreignObject",{key:0,x:s.value.left,y:s.value.top,width:Math.max(.1,s.value.width),height:Math.max(.1,s.value.height),style:{pointerEvents:"none"}},[g(t.$slots,"chart-background",{},void 0,!0)],8,Wt)):h("",!0),d("defs",null,[d("linearGradient",{id:"age_pyramid_left_".concat(w.value),x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[d("stop",{offset:"0%","stop-color":e.value.style.layout.bars.left.color},null,8,Yt),d("stop",{offset:"100%","stop-color":u(ne)(u(De)(e.value.style.layout.bars.left.color,e.value.style.layout.bars.gradient.shiftHue),100-e.value.style.layout.bars.gradient.intensity)},null,8,Ht)],8,jt),d("linearGradient",{id:"age_pyramid_right_".concat(w.value),x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[d("stop",{offset:"0%","stop-color":u(ne)(u(De)(e.value.style.layout.bars.right.color,e.value.style.layout.bars.gradient.shiftHue),100-e.value.style.layout.bars.gradient.intensity)},null,8,Jt),d("stop",{offset:"100%","stop-color":e.value.style.layout.bars.right.color},null,8,Qt)],8,Xt)]),(i(!0),n($,null,I(S.value,(l,a)=>(i(),n("g",null,[d("rect",{x:l.left.x,y:l.left.y,width:u(b)(l.left.width<=0?1e-4:l.left.width),height:l.left.height<=0?1e-4:l.left.height,fill:e.value.style.layout.bars.gradient.underlayer,rx:e.value.style.layout.bars.borderRadius},null,8,qt),d("rect",{x:l.left.x,y:l.left.y,width:l.left.width<=0?1e-4:l.left.width,height:l.left.height<=0?1e-4:l.left.height,fill:e.value.style.layout.bars.gradient.show?"url(#age_pyramid_left_".concat(w.value,")"):l.left.color,rx:e.value.style.layout.bars.borderRadius},null,8,Kt),d("rect",{x:l.right.x,y:l.right.y,width:l.right.width<=0?1e-4:l.right.width,height:l.right.height<=0?1e-4:l.right.height,fill:e.value.style.layout.bars.gradient.underlayer,rx:e.value.style.layout.bars.borderRadius},null,8,Zt),d("rect",{x:l.right.x,y:l.right.y,width:l.right.width<=0?1e-4:l.right.width,height:l.right.height<=0?1e-4:l.right.height,fill:e.value.style.layout.bars.gradient.show?"url(#age_pyramid_right_".concat(w.value,")"):l.right.color,rx:e.value.style.layout.bars.borderRadius},null,8,el)]))),256)),d("g",null,[e.value.style.layout.dataLabels.sideTitles.show?(i(),n("g",tl,[d("text",{x:s.value.left,y:e.value.style.layout.dataLabels.sideTitles.fontSize,fill:e.value.style.layout.dataLabels.sideTitles.useSideColor?e.value.style.layout.bars.left.color:e.value.style.layout.dataLabels.sideTitles.color,"font-size":e.value.style.layout.dataLabels.sideTitles.fontSize,"text-anchor":"start","font-weight":e.value.style.layout.dataLabels.sideTitles.bold?"bold":"normal"},_(e.value.translations.female),9,ll),d("text",{x:s.value.right,y:e.value.style.layout.dataLabels.sideTitles.fontSize,fill:e.value.style.layout.dataLabels.sideTitles.useSideColor?e.value.style.layout.bars.right.color:e.value.style.layout.dataLabels.sideTitles.color,"font-size":e.value.style.layout.dataLabels.sideTitles.fontSize,"text-anchor":"end","font-weight":e.value.style.layout.dataLabels.sideTitles.bold?"bold":"normal"},_(e.value.translations.male),9,al)])):h("",!0),e.value.style.layout.dataLabels.yAxis.show?(i(),n("g",ol,[(i(!0),n($,null,I(lt.value,(l,a)=>(i(),n($,null,[a%e.value.style.layout.dataLabels.yAxis.showEvery===0?(i(),n("text",{key:0,x:s.value.centerX,y:s.value.top+s.value.height/E.value*a+e.value.style.layout.dataLabels.yAxis.fontSize/3,"text-anchor":"middle","font-size":e.value.style.layout.dataLabels.yAxis.fontSize,fill:e.value.style.layout.dataLabels.yAxis.color,"font-weight":e.value.style.layout.dataLabels.yAxis.bold?"bold":"normal"},_(u(z)(e.value.style.layout.dataLabels.yAxis.formatter,l,u(F)({v:l}),{datapoint:l,seriesIndex:a})),9,sl)):h("",!0)],64))),256))])):h("",!0),e.value.style.layout.dataLabels.xAxis.show?(i(),n("g",il,[e.value.style.layout.grid.show?(i(),n("g",ul,[d("line",{x1:L.value.right[0].x,x2:L.value.right.at(-1).x,y1:s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2,y2:s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2,stroke:e.value.style.layout.grid.stroke,"stroke-width":e.value.style.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,rl),d("line",{x1:L.value.left[0].x,x2:L.value.left.at(-1).x,y1:s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2,y2:s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2,stroke:e.value.style.layout.grid.stroke,"stroke-width":e.value.style.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,nl)])):h("",!0),(i(!0),n($,null,I(L.value.right,(l,a)=>(i(),n("g",null,[e.value.style.layout.grid.show?(i(),n("line",{key:0,x1:l.x,x2:l.x,y1:s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2,y2:s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2+4,stroke:e.value.style.layout.grid.stroke,"stroke-width":e.value.style.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,vl)):h("",!0)]))),256)),(i(!0),n($,null,I(L.value.left,(l,a)=>(i(),n("g",null,[e.value.style.layout.grid.show?(i(),n("line",{key:0,x1:l.x,x2:l.x,y1:s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2,y2:s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2+4,stroke:e.value.style.layout.grid.stroke,"stroke-width":e.value.style.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,dl)):h("",!0)]))),256)),d("g",{ref_key:"xAxisLabels",ref:Q},[(i(!0),n($,null,I(L.value.right,(l,a)=>(i(),n("text",{class:"vue-ui-age-pyramid-x-axis-label","font-size":e.value.style.layout.dataLabels.xAxis.fontSize,fill:e.value.style.layout.dataLabels.xAxis.color,"text-anchor":e.value.style.layout.dataLabels.xAxis.rotation>0?"start":e.value.style.layout.dataLabels.xAxis.rotation<0?"end":"middle","font-weight":e.value.style.layout.dataLabels.xAxis.bold?"bold":"normal",transform:"translate(".concat(l.x,", ").concat(s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize*2,") rotate(").concat(e.value.style.layout.dataLabels.xAxis.rotation,")")},_(u(z)(e.value.style.layout.dataLabels.xAxis.formatter,l.value/e.value.style.layout.dataLabels.xAxis.scale,u(F)({v:l.value/e.value.style.layout.dataLabels.xAxis.scale}),{datapoint:l,seriesIndex:a})),9,yl))),256)),(i(!0),n($,null,I(L.value.left,(l,a)=>(i(),n("text",{class:"vue-ui-age-pyramid-x-axis-label","font-size":e.value.style.layout.dataLabels.xAxis.fontSize,fill:e.value.style.layout.dataLabels.xAxis.color,"text-anchor":e.value.style.layout.dataLabels.xAxis.rotation>0?"start":e.value.style.layout.dataLabels.xAxis.rotation<0?"end":"middle","font-weight":e.value.style.layout.dataLabels.xAxis.bold?"bold":"normal",transform:"translate(".concat(l.x,", ").concat(s.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize*2,") rotate(").concat(e.value.style.layout.dataLabels.xAxis.rotation,")")},_(u(z)(e.value.style.layout.dataLabels.xAxis.formatter,l.value/e.value.style.layout.dataLabels.xAxis.scale,u(F)({v:l.value/e.value.style.layout.dataLabels.xAxis.scale}),{datapoint:l,seriesIndex:a})),9,hl))),256))],512),d("text",{x:s.value.right,y:f.value.height,"text-anchor":"end","font-size":e.value.style.layout.dataLabels.xAxis.fontSize,fill:e.value.style.layout.dataLabels.xAxis.color,"font-weight":e.value.style.layout.dataLabels.xAxis.bold?"bold":"normal"},_(e.value.style.layout.dataLabels.xAxis.translation),9,gl)])):h("",!0)]),(i(!0),n($,null,I(ve.dataset,(l,a)=>(i(),n("g",null,[d("rect",{x:s.value.left,y:s.value.top+s.value.height/E.value*a-e.value.style.layout.bars.gap/2,width:s.value.width<=0?1e-4:s.value.width,height:s.value.height/E.value<=0?1e-4:s.value.height/E.value,fill:G.value!==null&&G.value===a?u(ne)(e.value.style.highlighter.color,e.value.style.highlighter.opacity):"transparent",onMouseover:r=>ut(a,l),onMouseleave:r=>it(a,l),onClick:r=>st(a,l)},null,40,cl)]))),256)),g(t.$slots,"svg",{svg:f.value},void 0,!0)],14,Ut)),t.$slots.watermark?(i(),n("div",fl,[g(t.$slots,"watermark",M(D({isPrinting:u(ke)||u(_e)})),void 0,!0)])):h("",!0),g(t.$slots,"legend",{legend:S.value},void 0,!0),t.$slots.source?(i(),n("div",{key:5,ref_key:"source",ref:ge,dir:"auto"},[g(t.$slots,"source",{},void 0,!0)],512)):h("",!0),ie(u(Ge),{show:x.value.showTooltip&&X.value,backgroundColor:e.value.style.tooltip.backgroundColor,color:e.value.style.tooltip.color,borderRadius:e.value.style.tooltip.borderRadius,borderColor:e.value.style.tooltip.borderColor,borderWidth:e.value.style.tooltip.borderWidth,fontSize:e.value.style.tooltip.fontSize,backgroundOpacity:e.value.style.tooltip.backgroundOpacity,position:e.value.style.tooltip.position,offsetY:e.value.style.tooltip.offsetY,parent:k.value,content:J.value,isFullscreen:O.value,isCustom:e.value.style.tooltip.customFormat&&typeof e.value.style.tooltip.customFormat=="function",smooth:e.value.style.tooltip.smooth,backdropFilter:e.value.style.tooltip.backdropFilter,smoothForce:e.value.style.tooltip.smoothForce,smoothSnapThreshold:e.value.style.tooltip.smoothSnapThreshold},{"tooltip-before":c(()=>[g(t.$slots,"tooltip-before",M(D({...le.value})),void 0,!0)]),"tooltip-after":c(()=>[g(t.$slots,"tooltip-after",M(D({...le.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","borderRadius","borderColor","borderWidth","fontSize","backgroundOpacity","position","offsetY","parent","content","isFullscreen","isCustom","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),de.value&&e.value.userOptions.buttons.table?(i(),P(xt(N.value.component),bt({key:6},N.value.props,{ref_key:"tableUnit",ref:V,onClose:Se}),Ee({content:c(()=>[(i(),P(u(je),{key:"table_".concat(pe.value),colNames:j.value.colNames,head:j.value.head,body:j.value.body,config:j.value.config,title:e.value.table.useDialog?"":N.value.title,withCloseButton:!e.value.table.useDialog,onClose:Se},{th:c(({th:l})=>[re(_(l),1)]),td:c(({td:l})=>[re(_(l),1)]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))]),_:2},[e.value.table.useDialog?{name:"title",fn:c(()=>[re(_(N.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:c(()=>[d("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:o[0]||(o[0]=l=>oe(e.value.userOptions.callbacks.csv))},[ie(u(Ue),{name:"excel",stroke:N.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):h("",!0),u(be)?(i(),P(Ft,{key:7})):h("",!0)],46,Gt))}},Fl=wt(pl,[["__scopeId","data-v-060928e4"]]);export{Fl as default};
