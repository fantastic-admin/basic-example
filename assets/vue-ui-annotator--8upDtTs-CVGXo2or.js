
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{L as A,c as w,o as p,f as n,g as k,h as N,O as F,A as u,n as f,z as x,l as I,t as y,w as v,c3 as L,aj as G,r as R,Y as _,F as W,R as E,c1 as H,e as B,J as D,K as U,E as K,av as Y,bn as X}from"./index-DXZKKOp8.js";import{s as j,q as V,A as q,u as J,Q,i as Z}from"./vue-data-ui-BN9YfUec.js";import{t as ee}from"./useNestedProp-dJX_8vvZ-BzBW50KN.js";import{k as te}from"./dom-to-png--BNgrTZV-DTUrW_sQ.js";import{m as oe}from"./usePrinter-DTzqpYKF-D5mkxXp9.js";import ie from"./vue-ui-accordion-UpZ765hd-DndPzmcD.js";import{v as se}from"./ColorPicker-J5wOPCeB-sgb_Bfch.js";import"./alert-l5XlVwCh.js";import"./vClickOutside-C6WiFswA-B2BXHGcD.js";function le(e){const o=c=>e.isMacLike?c.metaKey:c.ctrlKey,l=c=>{const g=c;if(!g)return!1;const C=(g.tagName||"").toLowerCase();return g.isContentEditable||C==="input"||C==="textarea"||C==="select"},r=c=>!!(!e.isSummaryOpen||l(c.target)||e.isWriting),i=()=>{e.isDeleteMode=!1,e.isMoveMode=!1,e.isResizeMode=!1,e.isSelectMode=!1,e.isDrawMode=!1,e.isTextMode=!1,e.activeShape=void 0,e.showCaret=!1},t=c=>{switch(i(),c){case"m":e.isMoveMode=!0;break;case"r":e.isResizeMode=!0;break;case"d":e.isDeleteMode=!0;break;case"g":e.isSelectMode=!0,e.setShapeTo("group"),e.activeShape="group";break;case"t":e.isTextMode=!0,e.isWriting=!1,e.showCaret=!1;break}},a=c=>{switch(c){case"c":e.setShapeTo("circle");break;case"s":e.setShapeTo("rect");break;case"a":e.setShapeTo("arrow");break;case"l":e.setShapeTo("line");break}},d=(c,g)=>{const C=e.lastSelectedShape;if(!C)return;const O=($,M)=>{typeof C[$]=="number"&&(C[$]+=M)};switch(C.type){case"rect":case"circle":case"text":O("x",c),O("y",g);break;case"arrow":O("x",c),O("y",g),O("endX",c),O("endY",g);break}},b=()=>{const c=e.lastSelectedShape;c&&(e.shapes=e.shapes.filter(g=>g.id!==c.id),e.lastSelectedShape=void 0)};let S=!1,h=null;const s=()=>{var c,g;S||(S=!0,(g=(c=e.history)==null?void 0:c.begin)==null||g.call(c,"nudge"))},T=()=>{S&&(clearTimeout(h),h=setTimeout(()=>{var c,g;S=!1,(g=(c=e.history)==null?void 0:c.end)==null||g.call(c)},160))},m=()=>{var c,g;clearTimeout(h),S&&((g=(c=e.history)==null?void 0:c.end)==null||g.call(c)),S=!1},P=c=>{var C,O,$;if(o(c)&&!c.shiftKey&&c.key.toLowerCase()==="z"){if(r(c))return;c.preventDefault(),(C=e.undoLastShape)==null||C.call(e);return}if(o(c)&&c.shiftKey&&c.key.toLowerCase()==="z"||o(c)&&c.key.toLowerCase()==="y"){if(r(c))return;c.preventDefault(),typeof e.redoLastShape=="function"?e.redoLastShape():($=(O=e.history)==null?void 0:O.redo)==null||$.call(O);return}if(r(c))return;const g=c.key.toLowerCase();if(g==="escape"){c.preventDefault(),i();return}if(g==="delete"||g==="backspace"){c.preventDefault(),b();return}if(["m","r","d","g","t"].includes(g)){c.preventDefault(),t(g);return}if(["c","a","l","s"].includes(g)){c.preventDefault(),a(g);return}if(c.key==="ArrowUp"||c.key==="ArrowDown"||c.key==="ArrowLeft"||c.key==="ArrowRight"){c.preventDefault(),s();const M=c.shiftKey?10:1;c.key==="ArrowUp"&&d(0,-M),c.key==="ArrowDown"&&d(0,M),c.key==="ArrowLeft"&&d(-M,0),c.key==="ArrowRight"&&d(M,0),T();return}},z=c=>{c.key.startsWith("Arrow")&&T()};return window.addEventListener("keydown",P,{passive:!1}),window.addEventListener("keyup",z,{passive:!0}),function(){window.removeEventListener("keydown",P,{passive:!1}),window.removeEventListener("keyup",z,{passive:!0}),m()}}const re={class:"teleport-tooltip__inner"},ne={__name:"TeleportedTooltip",props:{show:{type:Boolean,default:!1},x:{type:Number,required:!0},y:{type:Number,required:!0},placement:{type:String,default:"top"},styleObject:{type:Object,default(){return{}}},delay:{type:Number,default:0},delayIn:{type:Number,default:300},delayOut:{type:Number,default:0}},setup(e){const o=e,l=D(()=>{var s;return(s=o.delayIn)!=null?s:o.delay}),r=D(()=>{var s;return(s=o.delayOut)!=null?s:o.delay}),i=B(!1);let t=null,a=null;function d(){t&&(clearTimeout(t),t=null),a&&(clearTimeout(a),a=null)}function b(){d();const s=Math.max(0,l.value||0);s===0?i.value=!0:t=setTimeout(()=>{i.value=!0,t=null},s)}function S(){d();const s=Math.max(0,r.value||0);s===0?i.value=!1:a=setTimeout(()=>{i.value=!1,a=null},s)}U(()=>o.show,s=>{s?b():S()},{immediate:!0}),K(()=>{o.show&&b()}),Y(()=>{d()});const h=D(()=>({position:"fixed",zIndex:2147483647,top:"".concat(o.y,"px"),left:"".concat(o.x,"px"),transform:o.placement==="bottom"?"translate(-50%, 8px)":"translate(-50%, -100%)",pointerEvents:"none",...o.styleObject}));return(s,T)=>(p(),x(X,{to:"body"},[i.value?(p(),w("div",{key:0,class:f(["teleport-tooltip",e.placement]),style:F(h.value),role:"tooltip","aria-hidden":"false"},[n("div",re,[R(s.$slots,"default",{},void 0,!0)])],6)):u("",!0)]))}},ae=j(ne,[["__scopeId","data-v-430dd7ad"]]),de={props:{config:{type:Object,default(){return{}}},dataset:{type:Object,default(){return{shapes:[],lastSelectedShape:void 0}}}},components:{Accordion:ie,BaseIcon:J,ColorPicker:se,TeleportedTooltip:ae},data(){return{activeShape:void 0,strokeSize:1,currentPointer:{start:{x:0,y:0},end:{x:0,end:0}},currentTarget:void 0,hoveredShapeId:void 0,isBold:!1,isBulletTextMode:!1,isDash:!1,isDeleteMode:!1,isDrawing:!1,isDrawingNewShape:!0,isDrawMode:!1,isItalic:!1,isMouseDown:!1,isMoveMode:!1,isPrinting:!1,isResizeMode:!1,isSelectMode:!1,isSummaryOpen:!1,isTextMode:!1,isUnderline:!1,isWriting:!1,lastSelectedShape:this.dataset.lastSelectedShape,pointerPosition:{x:0,y:0},preventEdit:!0,selectedGroup:[],shapes:this.dataset.shapes?this.dataset.shapes:[],shapesOrder:[],step:Math.round(Math.random())*1e5,svgHeight:1e3,svgWidth:1e3,options:{arrow:{color:"grey",filled:!0},circle:{color:"grey",filled:!1,radius:3,strokeWidth:2},rect:{color:"grey",filled:!1,strokeWidth:2,height:12,width:12}},selectedColor:"#000000",showCaret:!1,sizeRatio:1,slottedSvg:void 0,sourceWidth:1,sourceHeight:1,textAlign:"start",textFont:20,transparency:100,transparencyCodes:Z,dragOffset:null,showTooltip:!1,tooltipKey:null,tooltipPos:{x:0,y:0},tooltipAnchor:null,history:[],isMacLike:!1,_onKeydown:null,_historySize:{undo:0,redo:0},_rafId:null,_lastPointerId:null,_captureEl:null}},watch:{shapes:{handler(e){e.length===0&&(this.lastSelectedShape=void 0)}},isTextMode:{handler(e){this.showCaret=e}}},computed:{FINAL_CONFIG(){const e=ee().vue_ui_annotator;if(!Object.keys(this.config||{}).length)return e;const o=this.treeShake({defaultConfig:e,userConfig:this.config});return this.convertConfigColors(o)},tooltipStyleObject(){const e=this.FINAL_CONFIG.style.tooltips;return{backgroundColor:e.backgroundColor,color:e.color,border:e.border,borderRadius:"".concat(e.borderRadius,"px"),boxShadow:e.boxShadow}},canSelect(){return this.shapes.filter(e=>!["line","group"].includes(e.type)).length>1},colorTransparency(){return this.transparencyCodes[this.transparency>98?98:this.transparency]},cursorClass(){switch(!0){case this.isDeleteMode:return"default";case this.isMoveMode:return"move";case this.isTextMode:return"text";case this.isResizeMode:return"se-resize";default:return""}},records(){return this.shapes},userShapes(){return this.records.map(e=>{switch(!0){case(e&&e.type==="arrow"):const o=e.strokeWidth>3?5:10,l=e.strokeWidth>3?2.5:5;return{html:'\n              <defs>\n              <marker \n                  id="'.concat(e.id,'" \n                  markerWidth="').concat(o,'" \n                  markerHeight="').concat(o,'" \n                  refX="0" \n                  refY="').concat(l,'" \n                  orient="auto"\n              >\n                  <polygon \n                  points="0 0,').concat(o," ").concat(l,", 0 ").concat(o,'" \n                  fill="').concat(e.color,'"\n                  />\n              </marker>\n              </defs>\n              ').concat(this.includeSelectionIndicator(e),'\n              <g id="').concat(e.id,'">\n                  <path \n                  style="stroke-linecap: round !important; ').concat(e.isDash?"stroke-dasharray: ".concat(e.strokeWidth*3):"",'" \n                  stroke="').concat(e.color,'" \n                  id="').concat(e.id,'" \n                  d="M').concat(e.x,",").concat(e.y," ").concat(e.endX,",").concat(e.endY,'" \n                  stroke-width="').concat(e.strokeWidth,'" \n                  marker-end="url(#').concat(e.id,')"\n                  />\n              </g>\n              <g id="').concat(e.id,'">\n              <rect \n                  id="').concat(e.id,'"\n                  x="').concat(e.x-10,'"\n                  y="').concat(e.y-10,'"\n                  height="20"\n                  width="20"\n                  fill="rgba(0,0,0,0.3)"\n                  style="display:').concat(this.isResizeMode||this.isMoveMode?"initial":"none",'; rx:1 !important; ry:1 !important;"\n              />\n              </g>\n              ').concat(this.includeDeleteButton(e),"\n              </g>\n              "),id:e.id};case(e&&e.type==="circle"):return{html:'\n              <g id="'.concat(e.id,'">\n                  ').concat(this.includeSelectionIndicator(e),'\n                  <circle \n                  id="').concat(e.id,'" \n                  cx="').concat(e.x,'" \n                  cy="').concat(e.y,'" \n                  r="').concat(e.circleRadius?e.circleRadius:Number.MIN_VALUE,'"\n                  fill="').concat(e.isFilled?e.color+e.alpha:"rgba(255,255,255,0.001)",'" \n                  stroke="').concat(e.color+e.alpha,'" \n                  stroke-width="').concat(e.strokeWidth,'"\n                  style="').concat(e.isDash?"stroke-dasharray: ".concat(e.strokeWidth*3):"",'"\n                  >\n                  </circle>\n              </g>\n              \n              ').concat(this.includeDeleteButton(e)),id:e.id};case(e&&e.type==="group"):return{html:'<g id="'.concat(e.id,'">\n                            <rect\n                                id="').concat(this.isResizeMode?"":e.id,'"\n                                x="').concat(e.x,'"\n                                y="').concat(e.y,'"\n                                fill="transparent"\n                                height="').concat(e.rectHeight,'"\n                                width="').concat(e.rectWidth,'"\n                                stroke="grey"\n                                stroke-width="1"\n                                style="rx:1 !important; ry:1 !important; ').concat(e.isDash?"stroke-dasharray: ".concat(e.strokeWidth*3):"","; display:").concat(this.isSelectMode||this.isDeleteMode||this.hoveredShapeId&&this.hoveredShapeId===e.id?"initial":"none",';"\n                            />\n                <g id="').concat(e.id,'">\n                ').concat(e.content?e.content:"","\n                </g>\n                            ").concat(this.includeDeleteButton(e),"\n                            </g> "),id:e.id};case(e&&e.type==="rect"):return{html:'<g id="'.concat(e.id,'">\n                            ').concat(this.includeSelectionIndicator(e),'\n                            <rect\n                                id="').concat(this.isResizeMode?"":e.id,'"\n                                x="').concat(e.x,'"\n                                y="').concat(e.y,'"\n                                fill="').concat(e.isFilled?e.color+e.alpha:"rgba(255,255,255,0.001)",'"\n                                height="').concat(e.rectHeight,'"\n                                width="').concat(e.rectWidth,'"\n                                stroke="').concat(e.color+e.alpha,'"\n                                stroke-width="').concat(e.strokeWidth,'"\n                                style="rx:1 !important; ry:1 !important; ').concat(e.isDash?"stroke-dasharray: ".concat(e.strokeWidth*3):"",'"\n                            />\n                            <rect id="').concat(e.id,'"\n                                x="').concat(e.x+e.rectWidth,'"\n                                y="').concat(e.y+e.rectHeight,'"\n                                height="20"\n                                width="20"\n                                fill="rgba(0,0,0,0.3)"\n                                style="display:').concat(this.isResizeMode?"initial":"none",'; rx:1 !important; ry:1 !important;"\n                            />\n                            ').concat(this.includeDeleteButton(e),"\n                            </g> "),id:e.id};case(e&&e.type==="line"):return{html:'\n                    <g id="'.concat(e.id,'">\n                        <path \n                        id="').concat(e.id,'" \n                        d="M').concat(e.path?e.path:"",'" \n                        style="stroke:').concat(e.color+e.alpha," !important; fill:none; stroke-width:").concat(e.strokeWidth,' !important; stroke-linecap: round !important; stroke-linejoin: round !important;"        \n                        />\n                ').concat(this.includeDeleteButton(e),"\n                    </g>\n                    "),id:e.id};case(e&&e.type==="text"):const r=e.textContent.split("‎"),i=[];for(let t=0;t<r.length;t+=1)i.push("\n            ".concat(e.isBulletTextMode?'<tspan x="'.concat(e.x-e.fontSize,'" y="').concat(e.y+e.fontSize*t,'" id="').concat(e.id,'" font-size="').concat(e.fontSize/2,'">⬤</tspan>'):"",'\n                    <tspan id="').concat(e.id,'" x="').concat(e.x,'" y="').concat(e.y+e.fontSize*t,'">\n                        ').concat(r[t],"\n                    </tspan>"));return{html:"\n                ".concat(this.includeSelectionIndicator(e),"\n                ").concat(this.computeTextElement(e,i,e.isBulletTextMode),"\n                "),id:e.id}}})}},setup(){const e="annotations",o=B(Q()),{isImaging:l,generateImage:r}=oe({elementId:o.value,fileName:e});return{uid:o,isImaging:l,generateImage:r}},mounted(){const e=this.$refs.drawSvgContainer;let o=!1;this.walkTheDOM(e,r=>{if(!o&&["DIV","svg","section","canvas"].includes(r.tagName)){this.slottedSvg=r,o=!0;return}}),this.isMacLike=(()=>{var t,a,d;if(typeof navigator>"u")return!1;const r=(a=(t=navigator.userAgentData)==null?void 0:t.platform)!=null?a:"";if(r)return/mac|ios/i.test(r);const i=(d=navigator.userAgent)!=null?d:"";return/(Mac|iPhone|iPad|iPod)/i.test(i)})();const l=this.slottedSvg.getBoundingClientRect();if(this.sizeRatio=l.height/l.width,this.svgWidth=1e3,this.svgHeight=this.sizeRatio*1e3,this.sourceWidth=l.width,this.sourceHeight=l.height,new ResizeObserver(r=>{r.forEach(i=>{this.sourceWidth=i.contentRect.width,this.sourceHeight=i.contentRect.height,this.sizeRatio=i.contentRect.height/i.contentRect.width,this.svgHeight=this.sizeRatio*1e3})}).observe(this.slottedSvg),this._onKeydown=r=>this.write(r),window.addEventListener("keydown",this._onKeydown),this.history=this.makeHistory(),this.history.size){const r=this.history.size();this._historySize.undo=r.undo,this._historySize.redo=r.redo}this._unregisterShortcuts=le(this)},beforeUnmount(){this.hideTooltip(),this._rafId&&cancelAnimationFrame(this._rafId),this._onKeydown&&window.removeEventListener("keydown",this._onKeydown)},unmounted(){this._unregisterShortcuts&&this._unregisterShortcuts()},destroyed(){window.removeEventListener("keydown",e=>{this.write(e)})},methods:{treeShake:q,convertConfigColors:V,_tickDraw(){if(!this.isDrawing){this._rafId=null;return}this.drawUp(),this._rafId=requestAnimationFrame(()=>this._tickDraw())},bringToFrontById(e){const o=this.shapes.findIndex(l=>l.id===e);if(o>-1&&o!==this.shapes.length-1){const[l]=this.shapes.splice(o,1);this.shapes.push(l)}},_shapeIdUnderPointer(e){var t,a;const o=d=>!!d&&this.shapes.some(b=>b.id===d);if(o((t=e==null?void 0:e.target)==null?void 0:t.id))return e.target.id;const l=(a=this.$refs.mainSvg)==null?void 0:a.querySelector(".annotator__glass");if(!l)return null;const r=l.style.pointerEvents;l.style.pointerEvents="none";const i=document.elementFromPoint(e.clientX,e.clientY);return l.style.pointerEvents=r||"all",o(i==null?void 0:i.id)?i.id:null},makeHistory(e={}){const{maxEntries:o=200,maxBytes:l=2e6}=e,r={open:!1,before:null,undo:[],redo:[]},i={undo:0,redo:0},t=h=>typeof h=="string"?h.length*2:0,a=()=>JSON.stringify({shapes:this.copy(this.shapes),lastSelectedShape:this.copy(this.lastSelectedShape)}),d=h=>{const s=JSON.parse(h);this.shapes=s.shapes,this.lastSelectedShape=s.lastSelectedShape},b=()=>{this._historySize.undo=r.undo.length,this._historySize.redo=r.redo.length},S=(h,s)=>{const T=r[h];for(T.push(s),i[h]+=t(s);T.length>o||i[h]>l;){const m=T.shift();i[h]-=t(m)}};return{begin(){r.open||(r.open=!0,r.before=a())},end(){r.open&&(r.open=!1,a()!==r.before&&(S("undo",r.before),r.redo.length=0,i.redo=0),r.before=null,b())},undo(){const h=r.undo.pop();if(!h)return;i.undo-=t(h);const s=a();S("redo",s),d(h),b()},redo(){const h=r.redo.pop();if(!h)return;i.redo-=t(h);const s=a();S("undo",s),d(h),b()},size(){return{undo:r.undo.length,redo:r.redo.length,approxBytes:{undo:i.undo,redo:i.redo}}}}},showToolTipFor(e,o,l="top"){this.tooltipKey=e,this.tooltipAnchor=o.currentTarget||o.target,this.updateTooltipPosition(),this.showTooltip=!0,window.addEventListener("scroll",this.updateTooltipPosition,!0),window.addEventListener("resize",this.updateTooltipPosition,{passive:!0}),this.tooltipPlacement=l},hideTooltip(){this.showTooltip=!1,this.tooltipKey=null,this.tooltipAnchor=null,window.removeEventListener("scroll",this.updateTooltipPosition,!0),window.removeEventListener("resize",this.updateTooltipPosition)},updateTooltipPosition(){if(!this.tooltipAnchor)return;const e=this.tooltipAnchor.getBoundingClientRect();this.tooltipPos={x:e.left+e.width/2,y:e.top}},initDragOffset(e){const o=(e==null?void 0:e.target)&&e.target.id||this.currentTarget&&this.currentTarget.id,l=this.shapes.find(t=>t.id===o);if(!l){this.dragOffset=null;return}this.lastSelectedShape=l;const r=this.pointerPosition.x,i=this.pointerPosition.y;switch(l.type){case"rect":case"circle":case"text":this.dragOffset={dx:r-l.x,dy:i-l.y};break;case"arrow":this.dragOffset={dx:r-l.x,dy:i-l.y,endDx:r-l.endX,endDy:i-l.endY};break;case"group":this.dragOffset={dx:r-(l.x||0),dy:i-(l.y||0)};break;default:this.dragOffset={dx:0,dy:0};break}},bringShapeTo(e){const o=this.shapes.find(l=>l.id===this.lastSelectedShape.id);switch(!0){case e==="front":this.shapes=this.shapes.filter(l=>l.id!==o.id),this.shapes.push(o);break;case e==="back":this.shapes=this.shapes.filter(l=>l.id!==o.id),this.shapes=[o,...this.shapes];break;default:return}},clickSvg(e){var i,t;if(this.isDeleteMode)return;e.preventDefault(),e.stopPropagation(),this.deleteEmptyTextElement(),this.isTextMode?(this.isWriting=!0,this.showCaret=!0):(this.isWriting=!1,this.showCaret=!1,this.isTextMode=!1);let o="text_".concat(Math.random()*1e4,"_").concat(Math.random()*99999);if(this.isWriting){(i=this.history)==null||i.begin(),this.shapes.push({id:o,type:"text",lines:0,x:this.pointerPosition.x,y:this.pointerPosition.y,textContent:"",fontSize:this.copy(this.textFont),textAlign:this.copy(this.textAlign),isBold:this.copy(this.isBold),isItalic:this.copy(this.isItalic),isUnderline:this.copy(this.isUnderline),color:this.copy(this.selectedColor),isBulletTextMode:this.copy(this.isBulletTextMode)}),this.currentTarget=this.shapes.at(-1),this.lastSelectedShape=this.shapes.at(-1),(t=this.history)==null||t.end();return}const l=()=>{this.isDash=this.shapes.find(a=>a.id===e.target.id).isDash},r=()=>{this.strokeSize=this.shapes.find(a=>a.id===e.target.id).strokeWidth};if(this.isSelectMode=!1,e.target.id.includes("arrow")){this.activeShape="arrow",l(),r();return}if(e.target.id.includes("circle")){this.activeShape="circle",this.options.circle.filled=this.shapes.find(a=>a.id===e.target.id).isFilled,l(),r();return}if(e.target.id.includes("rect")){this.activeShape="rect",this.options.rect.filled=this.shapes.find(a=>a.id===e.target.id).isFilled,l(),r();return}if(e.target.id.includes("line")){this.activeShape="line",r();return}if(e.target.id.includes("text")){this.isTextMode=!0,this.isWriting=!0,this.showCaret=!0;const a=this.shapes.find(d=>d.id===e.target.id);a&&a.textAlign&&(this.textAlign=this.shapes.find(d=>d.id===e.target.id).textAlign),a&&(this.isBulletTextMode=this.shapes.find(d=>d.id===e.target.id).isBulletTextMode);return}},copyPaste(){const e={...this.lastSelectedShape,id:"".concat(this.lastSelectedShape.id,"_copy"),x:this.lastSelectedShape.x-100<0?1:this.lastSelectedShape.x-100,y:this.lastSelectedShape.y-100<0?1:this.lastSelectedShape.y-100};this.shapes.push(e)},includeDeleteButton(e,o=!1){switch(!0){case e.type==="circle":return'\n                    <g id="'.concat(e.id,'" style="display:').concat(this.isDeleteMode?"initial":"none",';">\n                        <circle id="').concat(e.id,'" cx="').concat(e.x,'" cy="').concat(e.y,'" r="12" fill="red"/>\n                        <line stroke="white" stroke-width="2" id="').concat(e.id,'" x1="').concat(e.x-4,'" y1="').concat(e.y-4,'" x2="').concat(e.x+4,'" y2="').concat(e.y+4,'"/>\n                        <line stroke="white" stroke-width="2" id="').concat(e.id,'" x1="').concat(e.x+4,'" y1="').concat(e.y-4,'" x2="').concat(e.x-4,'" y2="').concat(e.y+4,'"/>\n                    </g>\n                ');case e.type==="text":let l,r=[-8,-12,-4,-12,-4];switch(!0){case e.textAlign==="start":o?l=[-20,-24,-16,-16,-24]:l=[-16,-20,-12,-12,-20];break;case e.textAlign==="middle":l=[0,-4,4,4,-4],r=[-32,-36,-28,-36,-28];break;case e.textAlign==="end":l=[16,20,12,12,20];break;default:l=[0,0,0];break}return'\n                    <g id="'.concat(e.id,'" style="display:').concat(this.isDeleteMode?"initial":"none",';">\n                        <circle id="').concat(e.id,'" cx="').concat(e.x+l[0],'" cy="').concat(e.y+r[0],'" r="12" fill="red"/>\n                        <line stroke="white" stroke-width="2" id="').concat(e.id,'" x1="').concat(e.x+l[1],'" y1="').concat(e.y+r[1],'" x2="').concat(e.x+l[2],'" y2="').concat(e.y+r[2],'"/>\n                        <line stroke="white" stroke-width="2" id="').concat(e.id,'" x1="').concat(e.x+l[3],'" y1="').concat(e.y+r[3],'" x2="').concat(e.x+l[4],'" y2="').concat(e.y+r[4],'"/>\n                    </g>\n                ');default:return'\n                    <g id="'.concat(e.id,'" style="display:').concat(this.isDeleteMode?"initial":"none",';">\n                        <circle id="').concat(e.id,'" cx="').concat(e.x-4,'" cy="').concat(e.y-4,'" r="12" fill="red"/>\n                        <line stroke="white" stroke-width="2" id="').concat(e.id,'" x1="').concat(e.x-8,'" y1="').concat(e.y-8,'" x2="').concat(e.x,'" y2="').concat(e.y,'"/>\n                        <line stroke="white" stroke-width="2" id="').concat(e.id,'" x1="').concat(e.x,'" y1="').concat(e.y-8,'" x2="').concat(e.x-8,'" y2="').concat(e.y,'"/>\n                    </g>\n                ')}},includeSelectionIndicator(e){if(e)switch(!0){case e.type==="rect":return'\n                    <rect\n                    id="'.concat(e.id,'" \n                    style="stroke-dasharray: 10; display:').concat(this.hoveredShapeId&&this.hoveredShapeId===e.id?"initial":"none",'"\n                    x="').concat(e.x-20,'"\n                    y="').concat(e.y-20,'"\n                    height="').concat(e.rectHeight+40,'"\n                    width="').concat(e.rectWidth+40,'"\n                    fill="transparent"\n                    stroke="grey"\n                    />\n                ');case e.type==="circle":return'\n                    <rect\n                    id="'.concat(e.id,'" \n                    style="stroke-dasharray: 10; display:').concat(this.hoveredShapeId&&this.hoveredShapeId===e.id?"initial":"none",'"\n                    x="').concat(e.x-e.circleRadius-20,'"\n                    y="').concat(e.y-e.circleRadius-20,'"\n                    height="').concat(e.circleRadius*2+40,'"\n                    width="').concat(e.circleRadius*2+40,'"\n                    fill="transparent"\n                    stroke="grey"\n                    />\n                ');case e.type==="arrow":const o=e.endX-e.x>0,l=e.endY-e.y>0;return'\n                    <rect\n                    id="'.concat(e.id,'" \n                    style="stroke-dasharray: 10; display:').concat(this.hoveredShapeId&&this.hoveredShapeId===e.id?"initial":"none",'"\n                    x="').concat(o?e.x-20:e.endX-20,'"\n                    y="').concat(l?e.y-20:e.endY-20,'"\n                    height="').concat(l?e.endY-e.y+40:e.y-e.endY+40,'"\n                    width="').concat(o?e.endX-e.x+40:e.x-e.endX+40,'"\n                    fill="transparent"\n                    stroke="grey"\n                    />\n                ');case e.type==="text":const r=this.$refs.mainSvg?Array.from(this.$refs.mainSvg.getElementsByTagName("text")).find(b=>b.id===e.id):null;if(!r)return;const{x:i,y:t,width:a,height:d}=r.getBBox();return'\n                    <rect\n                    id="'.concat(e.id,'" \n                    style="stroke-dasharray: 10; display:').concat(this.hoveredShapeId&&this.hoveredShapeId===e.id?"initial":"none",'"\n                    x="').concat(i-20,'"\n                    y="').concat(t-20,'"\n                    height="').concat(d+40,'"\n                    width="').concat(a+40,'"\n                    fill="transparent"\n                    stroke="grey"\n                    />\n                ');default:return""}},allowEditAndHoverShapes(e){e.preventDefault(),this.preventEdit=!1,e.target&&e.target.id&&(this.hoveredShapeId=e.target.id)},setSelectedTextAlignTo(e){!this.lastSelectedShape||this.lastSelectedShape.type!=="text"||(this.lastSelectedShape.textAlign=e)},undoLastShape(){var e,o;(o=(e=this.history)==null?void 0:e.undo)==null||o.call(e)},redoLastShape(){var e,o;(o=(e=this.history)==null?void 0:e.redo)==null||o.call(e)},write(e){if(this.preventEdit)return;e.preventDefault();const o=e.keyCode;if(!this.isWriting)return;this.showCaret=!0;let l;if(this.lastSelectedShape.type==="text"?l=this.shapes.find(i=>i.id===this.lastSelectedShape.id):l=this.shapes.at(-1),this.currentTarget=l,l.type!=="text")return;this.currentTarget.isBold=this.copy(this.isBold),this.currentTarget.isItalic=this.copy(this.isItalic),this.currentTarget.isUnderline=this.copy(this.isUnderline);const r=[16,17,18,20,27,33,34,35,36,37,38,39,40,45,91,112,113,114,115,116,117,118,119,120,121,122,123,221,255,"Unidentified"];switch(!0){case o===8:l.textContent=l.textContent.slice(0,-1);break;case o===9:l.textContent+="&nbsp; &nbsp; &nbsp; &nbsp;";break;case o===13:l.lines+=1,l.textContent+="‎";return;case r.includes(o):return;default:l.textContent+=e.key}},groupShapes(){if(this.selectedGroup=[],this.activeShape!=="group"){this.isSelectMode=!1,this.shapes=this.shapes.filter(o=>o.type!=="group");return}const e=this.shapes.at(-1);if(this.shapes.forEach(o=>{if(o.type!=="group")switch(!0){case o.type==="arrow":const l=o.x<=o.endX&&o.y<=o.endY&&e.x<=o.x&&e.y<=o.y&&e.x+e.rectWidth>=o.endX&&e.y+e.rectHeight>=o.endY,r=o.endY<o.y&&o.x<o.endX&&e.x<=o.x&&e.y<=o.y&&e.x+e.rectWidth>=o.endX&&e.y+e.rectHeight>=o.y,i=o.x>o.endX&&o.y<o.endY&&e.x<=o.endX&&e.y<=o.endY&&e.x+e.rectWidth>=o.x&&e.y+e.rectHeight>=o.endY,t=o.x>o.endX&&o.y>o.endY&&e.x<=o.endX&&e.y<=o.endY&&e.x+e.rectWidth>=o.x&&e.y+e.rectHeight>=o.y;(l||r||i||t)&&this.selectedGroup.push(o);break;case o.type==="circle":e.x<=o.x+o.circleRadius&&e.y<=o.y+o.circleRadius&&o.x+o.circleRadius<=e.x+e.rectWidth&&o.y+o.circleRadius<=e.y+e.rectHeight&&this.selectedGroup.push(o);break;case o.type==="rect":e.x<=o.x&&e.y<=o.y&&o.x<=e.x+e.rectWidth&&o.y<=e.y+e.rectHeight&&o.x+o.rectWidth<=e.x+e.rectWidth&&o.y+o.rectHeight<=e.y+e.rectHeight&&o.rectWidth<=e.rectWidth&&o.rectHeight<=e.rectHeight&&this.selectedGroup.push(o);break;case o.type==="text":e.x<=o.x&&e.y<=o.y&&this.selectedGroup.push(o);break}}),this.selectedGroup=this.selectedGroup.map(o=>({...o,id:e.id,oldId:o.id,diffX:o.x-e.x,diffY:o.y-e.y,diffEndX:o.endX?o.endX-e.x:0,diffEndY:o.endY?o.endY-e.y:0})),e.source=this.selectedGroup,this.selectedGroup.length>1){const o=this.copy(this.selectedGroup).map(l=>l.oldId);this.shapes=this.shapes.filter(l=>!o.includes(l.id)),this.selectedGroup.forEach(l=>{switch(!0){case l.type==="circle":e.content+='\n                <circle\n                id="'.concat(l.id,'"\n                cx="').concat(l.x,'"\n                cy="').concat(l.y,'"\n                r="').concat(l.circleRadius?l.circleRadius:Number.MIN_VALUE,'"\n                fill="').concat(l.isFilled?l.color+l.alpha:"rgba(255,255,255,0.001)",'"\n                stroke="').concat(l.color+l.alpha,'" \n                                stroke-width="').concat(l.strokeWidth,'"\n                                style="').concat(l.isDash?"stroke-dasharray: ".concat(l.strokeWidth*3):"",'"\n                                />\n            ');break;case l.type==="rect":e.content+='\n                <rect\n                id="'.concat(this.isResizeMode?"":l.id,'"\n                x="').concat(l.x,'"\n                y="').concat(l.y,'"\n                fill="').concat(l.isFilled?l.color+l.alpha:"rgba(255,255,255,0.001)",'"\n                height="').concat(l.rectHeight,'"\n                width="').concat(l.rectWidth,'"\n                stroke="').concat(l.color+l.alpha,'"\n                stroke-width="').concat(l.strokeWidth,'"\n                style="rx:1 !important; ry:1 !important; ').concat(l.isDash?"stroke-dasharray: ".concat(l.strokeWidth*3):"",'"\n                            />\n            ');break;case l.type==="arrow":const r=l.strokeWidth>3?5:10,i=l.strokeWidth>3?2.5:5,t=Date.now();e.content+='\n                <g id="'.concat(l.id,'">\n                <defs>\n                    <marker \n                    id="').concat(t,'" \n                    markerWidth="').concat(r,'" \n                    markerHeight="').concat(r,'" \n                    refX="0" \n                    refY="').concat(i,'" \n                    orient="auto"\n                    >\n                    <polygon \n                    points="0 0,').concat(r," ").concat(i,", 0 ").concat(r,'" \n                    fill="').concat(l.color,'"\n                    />\n                    </marker>\n                </defs>\n\n                <path \n                    style="stroke-linecap: round !important; ').concat(l.isDash?"stroke-dasharray: ".concat(l.strokeWidth*3):"",'" \n                    stroke="').concat(l.color,'" \n                    id="').concat(l.id,'" \n                    d="M').concat(l.x,",").concat(l.y," ").concat(l.endX,",").concat(l.endY,'" \n                    stroke-width="').concat(l.strokeWidth,'" \n                    marker-end="url(#').concat(t,')"\n                />\n                </g>\n            ');break;case l.type==="text":const a=l.textContent.split("‎"),d=[];for(let b=0;b<a.length;b+=1)d.push("\n                ".concat(l.isBulletTextMode?'<tspan x="'.concat(l.x-l.fontSize,'" y="').concat(l.y+l.fontSize*b,'" id="').concat(l.id,'" font-size="').concat(l.fontSize/2,'">⬤</tspan>'):"",'\n                <tspan id="').concat(l.id,'" x="').concat(l.x,'" y="').concat(l.y+l.fontSize*b,'">\n                    ').concat(a[b],"\n                </tspan>"));e.content+="\n                ".concat(this.computeTextElement(l,d,l.isBulletTextMode),"\n                ");break}})}else this.shapes=this.shapes.filter(o=>o.id!==e.id)},moveGroup(e){e.content="";const o=e.x||0,l=e.y||0;(e.source||[]).forEach(r=>{switch(r.type){case"circle":{const i=o+r.diffX,t=l+r.diffY;e.content+='\n              <circle\n                id="'.concat(r.id,'"\n                cx="').concat(i,'"\n                cy="').concat(t,'"\n                r="').concat(r.circleRadius?r.circleRadius:Number.MIN_VALUE,'"\n                fill="').concat(r.isFilled?r.color+r.alpha:"rgba(255,255,255,0.001)",'"\n                stroke="').concat(r.color+r.alpha,'"\n                stroke-width="').concat(r.strokeWidth,'"\n                style="').concat(r.isDash?"stroke-dasharray: ".concat(r.strokeWidth*3):"",'"\n              />\n            ');break}case"rect":{const i=o+r.diffX,t=l+r.diffY;e.content+='\n              <rect\n                id="'.concat(this.isResizeMode?"":r.id,'"\n                x="').concat(i,'"\n                y="').concat(t,'"\n                fill="').concat(r.isFilled?r.color+r.alpha:"rgba(255,255,255,0.001)",'"\n                height="').concat(r.rectHeight,'"\n                width="').concat(r.rectWidth,'"\n                stroke="').concat(r.color+r.alpha,'"\n                stroke-width="').concat(r.strokeWidth,'"\n                style="rx:1 !important; ry:1 !important; ').concat(r.isDash?"stroke-dasharray: ".concat(r.strokeWidth*3):"",'"\n              />\n            ');break}case"arrow":{const i=o+r.diffX,t=l+r.diffY,a=o+r.diffEndX,d=l+r.diffEndY,b=r.strokeWidth>3?5:10,S=r.strokeWidth>3?2.5:5,h="m_".concat(r.id,"_").concat(Math.random().toString(36).slice(2));e.content+='\n              <g id="'.concat(r.id,'">\n                <defs>\n                  <marker \n                    id="').concat(h,'" \n                    markerWidth="').concat(b,'" \n                    markerHeight="').concat(b,'" \n                    refX="0" \n                    refY="').concat(S,'" \n                    orient="auto">\n                    <polygon points="0 0,').concat(b," ").concat(S,", 0 ").concat(b,'" fill="').concat(r.color,'" />\n                  </marker>\n                </defs>\n                <path\n                  style="stroke-linecap: round !important; ').concat(r.isDash?"stroke-dasharray: ".concat(r.strokeWidth*3):"",'"\n                  stroke="').concat(r.color,'"\n                  id="').concat(r.id,'"\n                  d="M').concat(i,",").concat(t," ").concat(a,",").concat(d,'"\n                  stroke-width="').concat(r.strokeWidth,'"\n                  marker-end="url(#').concat(h,')"\n                />\n              </g>\n            ');break}case"text":{const i=(r.textContent||"").split("‎").map((t,a)=>"\n              ".concat(r.isBulletTextMode?'<tspan x="'.concat(o+r.diffX-r.fontSize,'" y="').concat(l+r.diffY+r.fontSize*a,'" id="').concat(r.id,'" font-size="').concat(r.fontSize/2,'">⬤</tspan>'):"",'\n              <tspan id="').concat(r.id,'" x="').concat(o+r.diffX,'" y="').concat(l+r.diffY+r.fontSize*a,'">\n                ').concat(t,"\n              </tspan>\n            ")).join("");e.content+='\n              <g id="'.concat(r.id,'">\n                <text\n                  style="user-select:none; height:100px;"\n                  id="').concat(r.id,'"\n                  x="').concat(o+r.diffX,'"\n                  y="').concat(l+r.diffY,'"\n                  text-anchor="').concat(r.textAlign,'"\n                  font-size="').concat(r.fontSize,'"\n                  fill="').concat(r.color,'"\n                  font-weight="').concat(r.isBold?"bold":"normal",'"\n                  font-style="').concat(r.isItalic?"italic":"normal",'"\n                  text-decoration="').concat(r.isUnderline?"underline":"none",'">\n                  ').concat(i,"\n                </text>\n              </g>\n            ");break}}})},onPointerOut(e){const o=this.$refs.mainSvg;e.relatedTarget&&o&&o.contains(e.relatedTarget)||(this.preventEdit=!0,this.hoveredShapeId=void 0)},chooseAction(e){var o,l,r,i,t;if(this.isDeleteMode){this.isMouseDown=!1;return}if(e.preventDefault(),e.stopPropagation(),this.isMouseDown=!0,e.pointerId!=null){try{(l=(o=this.$refs.mainSvg)==null?void 0:o.setPointerCapture)==null||l.call(o,e.pointerId)}catch(a){}this.lastPointerId=e.pointerId}else this.lastPointerId=null;if((this.isDrawMode||this.isMoveMode||this.isResizeMode||this.isSelectMode)&&((i=(r=this.history)==null?void 0:r.begin)==null||i.call(r)),this.isDrawMode){this.drawDown();return}if(this.isMoveMode){const a=this._shapeIdUnderPointer(e)||this.hoveredShapeId||((t=this.lastSelectedShape)==null?void 0:t.id);a&&(this.bringToFrontById(a),this.currentTarget={id:a}),this.initDragOffset(e)}},chooseMove(e){this.isDeleteMode||(e.preventDefault(),e.stopPropagation(),e.target.localName!=="svg"&&(this.currentTarget=e.target),this.isMoveMode&&this.isMouseDown?this.moveDown():this.isResizeMode&&this.isMouseDown&&this.resize())},computeCaretPosition(e){switch(!0){case e.textAlign==="middle":return'<path class="vue-ui-annotator-caret" stroke="black" stroke-width="2" d="M'.concat(e.x,",").concat(e.y-e.fontSize," ").concat(e.x,",").concat(e.y-e.fontSize-15,'" /> <path class="vue-ui-annotator-caret" stroke="black" stroke-width="2" d="M').concat(e.x-3,",").concat(e.y-e.fontSize-5," ").concat(e.x,",").concat(e.y-e.fontSize," ").concat(e.x+3,",").concat(e.y-e.fontSize-5,'"/>');case e.textAlign==="start":const o=e.isBulletTextMode?e.fontSize:0;return'<path class="vue-ui-annotator-caret" d="M'.concat(e.x-20-o,",").concat(e.y-e.fontSize/6," ").concat(e.x-5-o,",").concat(e.y-e.fontSize/6,'" stroke="black" stroke-width="2" />\n                        <path class="vue-ui-annotator-caret" d="M').concat(e.x-10-o,",").concat(e.y-e.fontSize/3," ").concat(e.x-5-o,",").concat(e.y-e.fontSize/6," ").concat(e.x-10-o,",").concat(e.y,'" stroke="black" stroke-width="2">');case e.textAlign==="end":return'<path class="vue-ui-annotator-caret" d="M'.concat(e.x+20,",").concat(e.y-e.fontSize/6," ").concat(e.x+5,",").concat(e.y-e.fontSize/6,'" stroke="black" stroke-width="2" />\n                        <path class="vue-ui-annotator-caret" d="M').concat(e.x+10,",").concat(e.y-e.fontSize/3," ").concat(e.x+5,",").concat(e.y-e.fontSize/6," ").concat(e.x+10,",").concat(e.y,'" stroke="black" stroke-width="2">');default:return""}},computeTextElement(e,o,l=!1){switch(!0){case e.textAlign==="start":return'\n                <g id="'.concat(e.id,'">\n                    <rect \n                        id="').concat(e.id,'" \n                        style="display:').concat(this.lastSelectedShape&&this.lastSelectedShape.id===e.id?"initial":"none",';" \n                        x="').concat(e.x,'" \n                        y="').concat(e.y-50,'" \n                        height="').concat(e.lines===0||e.lines===1?e.fontSize*4:e.fontSize*2*e.lines,'"\n                        width="100" \n                        fill="rgba(0,0,0,0)"\n                    />\n                    <text\n                    style="user-select:none; height:100px;"\n                    id="').concat(e.id,'"\n                    x="').concat(e.x,'"\n                    y="').concat(e.y,'"\n                    text-anchor="').concat(e.textAlign,'"\n                    font-size="').concat(e.fontSize,'"\n                    fill="').concat(e.color,'"\n                    font-weight="').concat(e.isBold?"bold":"normal",'"\n                    font-style="').concat(e.isItalic?"italic":"normal",'"\n                    text-decoration="').concat(e.isUnderline?"underline":"none",'"\n                    >\n                        ').concat(o.join(""),"\n                    </text>\n                    ").concat(this.showCaret&&this.lastSelectedShape&&this.lastSelectedShape.id===e.id?this.computeCaretPosition(e):"","\n                    ").concat(this.includeDeleteButton(e,l),"\n                </g> \n                ");case e.textAlign==="middle":return'\n                    <g id="'.concat(e.id,'">\n                    <rect \n                        id="').concat(e.id,'" \n                        style="display:').concat(this.lastSelectedShape&&this.lastSelectedShape.id===e.id?"initial":"none",';" \n                        x="').concat(e.x-50,'" \n                        y="').concat(e.y-50,'" \n                        height="').concat(e.lines===0||e.lines===1?e.fontSize*4:e.fontSize*2*e.lines,'"\n                        width="100" \n                        fill="rgba(0,0,0,0)"\n                    />\n                    <text\n                    style="user-select:none; height:100px;"\n                    id="').concat(e.id,'"\n                    x="').concat(e.x,'"\n                    y="').concat(e.y,'"\n                    text-anchor="').concat(e.textAlign,'"\n                    font-size="').concat(e.fontSize,'"\n                    fill="').concat(e.color,'"\n                    font-weight="').concat(e.isBold?"bold":"normal",'"\n                    font-style="').concat(e.isItalic?"italic":"normal",'"\n                    text-decoration="').concat(e.isUnderline?"underline":"none",'"\n                    >\n                        ').concat(o.join(""),"\n                    </text>\n                    ").concat(this.showCaret&&this.lastSelectedShape&&this.lastSelectedShape.id===e.id?this.computeCaretPosition(e):"","\n                    ").concat(this.includeDeleteButton(e),"\n                    </g>\n                ");case e.textAlign==="end":return'\n                <g id="'.concat(e.id,'">\n                    <rect \n                        id="').concat(e.id,'" \n                        style="display:').concat(this.lastSelectedShape&&this.lastSelectedShape.id===e.id?"initial":"none",';" \n                        x="').concat(e.x-100,'" \n                        y="').concat(e.y-50,'" \n                        height="').concat(e.lines===0||e.lines===1?e.fontSize*4:e.fontSize*2*e.lines,'"\n                        width="100" \n                        fill="rgba(0,0,0,0)"\n                    />\n                    <text\n                    style="user-select:none; height:100px;"\n                    id="').concat(e.id,'"\n                    x="').concat(e.x,'"\n                    y="').concat(e.y,'"\n                    text-anchor="').concat(e.textAlign,'"\n                    font-size="').concat(e.fontSize,'"\n                    fill="').concat(e.color,'"\n                    font-weight="').concat(e.isBold?"bold":"normal",'"\n                    font-style="').concat(e.isItalic?"italic":"normal",'"\n                    text-decoration="').concat(e.isUnderline?"underline":"none",'"\n                    >\n                        ').concat(o.join(""),"\n                    </text>\n                    ").concat(this.showCaret&&this.lastSelectedShape&&this.lastSelectedShape.id===e.id?this.computeCaretPosition(e):"","\n                    ").concat(this.includeDeleteButton(e),"\n                </g> \n                ");default:return""}},copy(e){if(e==null)return e;try{return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}catch(o){return Array.isArray(e)?e.map(l=>this.copy(l)):typeof e=="object"?Object.fromEntries(Object.entries(e).map(([l,r])=>[l,this.copy(r)])):e}},clickShape(e){var l,r;const o=e.target.id;switch(!0){case this.isDeleteMode:(l=this.history)==null||l.begin(),this.shapes=[...this.shapes].filter(i=>i.id!==o),this.lastSelectedShape=void 0,(r=this.history)==null||r.end();return;default:this.lastSelectedShape=this.shapes.find(i=>i.id===o);break}},deleteEmptyTextElement(){!this.lastSelectedShape||!this.lastSelectedShape.id.includes("text")||this.lastSelectedShape.textContent===""&&(this.shapes=this.shapes.filter(e=>e.id!==this.lastSelectedShape.id),this.lastSelectedShape=this.shapes.at(-1))},drawUp(e=!1){if(!this.activeShape||!this.isDrawing)return;this.currentPointer.end={x:this.pointerPosition.x,y:this.pointerPosition.y};let o;this.shapes.length>0&&this.currentTarget&&(o=[...this.shapes].find(d=>d.id===this.currentTarget.id));let l,r,i;o&&(l=o.x-this.currentPointer.end.x,r=o.y-this.currentPointer.end.y,i=Math.sqrt(l*l+r*r));let t,a;switch(e?(t=Math.max(this.currentPointer.end.x,o.x),a=Math.min(this.currentPointer.end.x,o.x),Math.max(this.currentPointer.end.y,o.y),Math.min(this.currentPointer.end.y,o.y)):(t=Math.max(this.currentPointer.end.x,this.currentPointer.start.x),a=Math.min(this.currentPointer.end.x,this.currentPointer.start.x),Math.max(this.currentPointer.end.y,this.currentPointer.start.y),Math.min(this.currentPointer.end.y,this.currentPointer.start.y)),!0){case this.activeShape==="arrow":this.shapes.at(-1).endX=this.currentPointer.end.x,this.shapes.at(-1).endY=this.currentPointer.end.y;break;case this.activeShape==="circle":const d=20;this.shapes.at(-1).circleRadius=this.isDrawingNewShape?this.copy(t-a)+d:i+d;break;case this.activeShape==="line":this.shapes.at(-1).path+=" ".concat(this.pointerPosition.x," ").concat(this.pointerPosition.y," ");break;case["rect","group"].includes(this.activeShape):const b=20;this.shapes.at(-1).rectWidth=this.copy(this.currentPointer.end.x-this.shapes.at(-1).x)>0?this.copy(this.currentPointer.end.x-this.shapes.at(-1).x):b,this.shapes.at(-1).rectHeight=this.copy(this.currentPointer.end.y-this.shapes.at(-1).y)>0?this.copy(this.currentPointer.end.y-this.shapes.at(-1).y):b}},drawDown(){if(this.isDrawing=!0,!this.activeShape&&!this.isSelectMode||!this.isDrawing)return;this.isDrawingNewShape=!0,this.currentPointer.start={x:this.pointerPosition.x,y:this.pointerPosition.y};let e="".concat(this.isSelectMode?"group":this.activeShape,"_").concat(Math.random()*1e4,"_").concat(Date.now());switch(!0){case this.activeShape==="arrow":this.shapes.push({id:e,x:this.pointerPosition.x,y:this.pointerPosition.y,endX:this.pointerPosition.x,endY:this.pointerPosition.y,type:this.activeShape,color:this.copy(this.selectedColor),strokeWidth:this.copy(Math.abs(this.strokeSize)),isDash:this.copy(this.isDash)}),this.lastSelectedShape=this.shapes.at(-1);break;case this.activeShape==="circle":this.shapes.push({alpha:this.options.circle.filled?this.colorTransparency:"",id:e,color:this.copy(this.selectedColor),isFilled:this.copy(this.options.circle.filled),circleRadius:this.copy(this.options.circle.radius),circleStrokeWidth:this.copy(this.options.circle.strokeWidth),type:this.activeShape,x:this.pointerPosition.x,y:this.pointerPosition.y,strokeWidth:this.copy(Math.abs(this.strokeSize)),isDash:this.copy(this.isDash)}),this.lastSelectedShape=this.shapes.at(-1);break;case this.activeShape==="line":this.shapes.push({alpha:this.copy(this.colorTransparency),id:e,x:this.pointerPosition.x,y:this.pointerPosition.y,type:this.activeShape,color:this.copy(this.selectedColor),strokeWidth:this.copy(Math.abs(this.strokeSize)),isDash:this.copy(this.isDash),path:"".concat(this.pointerPosition.x," ").concat(this.pointerPosition.y)}),this.lastSelectedShape=this.shapes.at(-1);break;case this.activeShape==="rect":this.shapes.push({alpha:this.options.rect.filled?this.colorTransparency:"",id:e,color:this.copy(this.selectedColor),isFilled:this.copy(this.options.rect.filled),rectStrokeWidth:this.copy(this.options.rect.strokeWidth),rectHeight:this.copy(this.options.rect.height),rectWidth:this.copy(this.options.rect.width),type:this.activeShape,x:this.pointerPosition.x,y:this.pointerPosition.y,strokeWidth:this.copy(Math.abs(this.strokeSize)),isDash:this.copy(this.isDash)}),this.lastSelectedShape=this.shapes.at(-1);break;case this.activeShape==="group":this.shapes.push({alpha:1,id:"group_".concat(Math.random()*1e4,"_").concat(Date.now()),x:this.pointerPosition.x,y:this.pointerPosition.y,isFilled:!1,rectHeight:this.copy(this.options.rect.height),rectWidth:this.copy(this.options.rect.width),rectStrokeWidth:1,type:"group",color:"grey",strokeWidth:1,isDash:!0,content:""});break}this._rafId||(this._rafId=requestAnimationFrame(()=>this._tickDraw()))},move(e){if(!e||!e.id||e.type==="line"||!this.dragOffset&&(this.initDragOffset({target:{id:e.id}}),!this.dragOffset))return;const{dx:o,dy:l,endDx:r,endDy:i}=this.dragOffset,t=this.pointerPosition.x,a=this.pointerPosition.y;switch(this.lastSelectedShape=e,e.type){case"arrow":e.x=t-o,e.y=a-l,e.endX=t-(r!=null?r:o),e.endY=a-(i!=null?i:l);break;case"circle":e.x=t-o,e.y=a-l;break;case"rect":e.x=t-o,e.y=a-l;break;case"text":e.x=t-o,e.y=a-l;break;case"group":e.x=t-o,e.y=a-l,this.moveGroup(e);break}},moveDown(){var l;const e=((l=this.currentTarget)==null?void 0:l.id)||this.hoveredShapeId;if(!e)return;const o=this.shapes.find(r=>r.id===e);o&&this.move(o)},print(){this.isPrinting=!0,this.isDeleteMode=!1,this.isMoveMode=!1,this.isResizeMode=!1,this.isTextMode=!1,this.isWriting=!1,this.isSelectMode=!1,this.activeShape=void 0,this.showCaret=!1,this.$nextTick(async()=>{const e=this.$refs.drawSvgContainer;this.walkTheDOM(e,o=>{o&&o.nodeType===1&&(o.setAttribute("font-family","Helvetica"),o.style.fontFamily="Helvetica")});try{let o;try{o=(await H(async()=>{const{default:i}=await import("./__vite-optional-peer-dep_jspdf_vue-data-ui_false-DOvOOyrI.js");return{default:i}},[],import.meta.url)).default}catch(i){throw new Error("jspdf is not installed. Run npm install jspdf")}const l=await te({container:e,scale:2}),r=new Image;r.src=l,r.onload=()=>{const i={width:595.28,height:841.89},t=r.width,a=r.height,d=t/i.width*i.height,b=i.width,S=b/t*a,h=new o("","pt","a4");let s=0,T=a;if(T<d)h.addImage(l,"PNG",0,0,b,S,"","FAST");else for(;T>0;)h.addImage(l,"PNG",0,s,b,S,"","FAST"),T-=d,s-=i.height,T>0&&h.addPage();h.save("".concat(new Date().toLocaleDateString(),"_annotations.pdf"))}}catch(o){console.error("Error generating image:",o)}finally{this.isPrinting=!1,this.walkTheDOM(e,o=>{o&&o.nodeType===1&&(o.setAttribute("font-family",this.FINAL_CONFIG.style.fontFamily),o.style.fontFamily=this.FINAL_CONFIG.style.fontFamily)})}})},resetDraw(e){var o,l,r;if(!this.isDeleteMode&&e&&(e.preventDefault(),e.stopPropagation()),this.isDrawing=!1,this.isMouseDown=!1,this.dragOffset=null,this.lastPointerId!=null){try{(l=(o=this.$refs.mainSvg)==null?void 0:o.releasePointerCapture)==null||l.call(o,this.lastPointerId)}catch(i){}this.lastPointerId=null}this._rafId&&(cancelAnimationFrame(this._rafId),this._rafId=null),this.isSelectMode&&this.groupShapes(),(r=this.history)==null||r.end()},resize(){this.isDrawingNewShape=!1;const e=this.currentTarget.id;if(!e)return;this.isDrawing=!0;const o=this.shapes.find(l=>l.id===e);this.activeShape=o.type,this.shapes=this.shapes.filter(l=>l.id!==e),this.shapes.push(o),this.drawUp(!0)},setFillOfSelectedRect(){!this.lastSelectedShape||!this.lastSelectedShape.id.includes("rect")||(this.lastSelectedShape.isFilled=!this.lastSelectedShape.isFilled)},setFillOfSelectedCircle(){!this.lastSelectedShape||!this.lastSelectedShape.id.includes("circle")||(this.lastSelectedShape.isFilled=!this.lastSelectedShape.isFilled)},setColorOfSelectedShape(){this.lastSelectedShape&&(this.lastSelectedShape.color=this.copy(this.selectedColor),!["arrow","text"].includes(this.lastSelectedShape.id)&&(this.lastSelectedShape.alpha=this.copy(this.colorTransparency)))},setSelectedShapeToDash(){!this.lastSelectedShape||this.lastSelectedShape.type==="text"||(this.lastSelectedShape.isDash=this.copy(this.isDash))},setTransparencyOfSelectedShape(){!this.lastSelectedShape||["arrow","text"].includes(this.lastSelectedShape.id)||(this.lastSelectedShape.alpha=this.copy(this.colorTransparency))},setStrokeWidthOfSelectedShape(){!this.lastSelectedShape||!["arrow","circle","rect","line"].includes(this.lastSelectedShape.type)||(this.lastSelectedShape.strokeWidth=this.copy(Math.abs(this.strokeSize)))},setCurrentStyleOfSelectedText(){!this.lastSelectedShape||this.lastSelectedShape.type!=="text"||(this.lastSelectedShape.isBold=this.copy(this.isBold),this.lastSelectedShape.isItalic=this.copy(this.isItalic),this.lastSelectedShape.isUnderline=this.copy(this.isUnderline),this.lastSelectedShape.fontSize=this.copy(this.textFont),this.lastSelectedShape.isBulletTextMode=this.copy(this.isBulletTextMode))},setPointer(e){e.preventDefault();const o=this.$refs.mainSvg.getBoundingClientRect();let l,r;e.touches&&e.touches.length>0?(l=e.touches[0].clientX,r=e.touches[0].clientY):(l=e.clientX,r=e.clientY),this.pointerPosition.x=(l-o.left)/o.width*this.svgWidth,this.pointerPosition.y=(r-o.top)/o.height*this.svgHeight},setShapeTo(e){if(this.showCaret=!1,this.deleteEmptyTextElement(),e===this.activeShape){this.activeShape=void 0,this.isDrawMode=!1;return}this.isDrawMode=!0,this.isDeleteMode=!1,this.isMoveMode=!1,this.isResizeMode=!1,this.isTextMode=!1,this.activeShape=e},toggleSummary(){this.isSummaryOpen=!this.isSummaryOpen,this.isSummaryOpen||(this.isMoveMode=!1,this.isResizeMode=!1,this.isTextMode=!1,this.isWriting=!1,this.activeShape=void 0,this.showCaret=!1,this.isDeleteMode=!1,this.isWriting=!1),this.$emit("toggleOpenState",{isOpen:this.isSummaryOpen})},walkTheDOM(e,o){for(o(e),e=e.firstChild;e;)this.walkTheDOM(e,o),e=e.nextSibling},save(){this.$emit("saveAnnotations",{shapes:this.shapes,lastSelectedShape:this.lastSelectedShape})}}},he={class:"vue-data-ui-component vue-ui-annotator"},ce={"data-dom-to-png-ignore":""},pe=["disabled"],ue=["disabled"],ye=["disabled"],Fe=["disabled"],be=["disabled"],Ie=["disabled"],Ne=["disabled"],fe=["disabled"],ge=["disabled"],xe={class:"tool-selection",style:{"margin-top":"6px"}},we={viewBox:"0 0 12 12",style:{width:"100%"}},Se=["fill"],ke={key:0},Te={class:"tool-input"},Ce=["checked"],Oe={viewBox:"0 0 12 12",style:{width:"100%"}},Me=["fill"],ve={key:1},$e={class:"tool-input"},Ae=["checked"],_e={viewBox:"0 0 24 24",style:{width:"100%"}},me=["stroke"],Le={key:2},Ge={style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},De={class:"tool-input"},Pe={key:3},ze={style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},Re={class:"tool-input"},Be={viewBox:"0 0 24 24",height:"24",width:"24",style:{"margin-bottom":"-5px","margin-top":"-10px"}},je=["checked"],We={key:4},Ee={style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},He={class:"tool-input"},Ue={key:5},Ke={key:6},Ye=["disabled"],Xe={key:7},Ve=["disabled"],qe={key:8},Je={key:9},Qe={key:10},Ze={key:11},et={style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"},class:"tooltip"},tt={style:{display:"flex","flex-direction":"column","align-items":"start","justify-content":"center"}},ot={class:"tool-input",style:{"font-variant-numeric":"tabular-nums"}},it=["id"],st=["viewBox","width","height"],lt=["width","height","pointer-events"],rt=["innerHTML"],nt=["height","viewBox","width"],at=["cx","cy"];function dt(e,o,l,r,i,t){const a=A("BaseIcon"),d=A("TeleportedTooltip"),b=A("ColorPicker"),S=A("Accordion");return p(),w("div",he,[n("div",ce,[k(S,{config:{maxHeight:1e3,head:{backgroundColor:t.FINAL_CONFIG.style.backgroundColor,color:t.FINAL_CONFIG.style.color,iconColor:t.FINAL_CONFIG.style.color,iconSize:20,icon:i.isSummaryOpen?"close":"annotator",padding:"6px"},body:{backgroundColor:t.FINAL_CONFIG.style.backgroundColor,color:t.FINAL_CONFIG.style.color}},onToggle:t.toggleSummary},{title:N(({color:h})=>[n("div",{style:F({color:h})},y(t.FINAL_CONFIG.translations.title),5)]),content:N(({backgroundColor:h})=>[n("div",{class:"tool-selection",style:F({backgroundColor:h})},[n("button",{disabled:i.shapes.length===0,style:F({background:i.isMoveMode?t.FINAL_CONFIG.style.buttons.controls.selected.backgroundColor:t.FINAL_CONFIG.style.buttons.controls.backgroundColor,border:i.isMoveMode?t.FINAL_CONFIG.style.buttons.controls.selected.border:t.FINAL_CONFIG.style.buttons.controls.border,color:i.isMoveMode?t.FINAL_CONFIG.style.buttons.controls.selected.color:t.FINAL_CONFIG.style.buttons.controls.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),class:f({"button-tool":!0,"button-tool--selected":i.isMoveMode,tooltip:!0}),onClick:o[0]||(o[0]=s=>{t.deleteEmptyTextElement(),i.isMoveMode=!i.isMoveMode,i.activeShape=void 0,i.isDeleteMode=!1,i.isDrawMode=!1,i.isResizeMode=!1,i.isSelectMode=!1,i.isTextMode=!1,i.isWriting=!1,i.showCaret=!1}),onMouseenter:o[1]||(o[1]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("move",s,"top")),onMouseleave:o[2]||(o[2]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[3]||(o[3]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("move",s,"top")),onBlur:o[4]||(o[4]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[k(a,{name:"move",stroke:i.isMoveMode?t.FINAL_CONFIG.style.buttons.controls.selected.color:t.FINAL_CONFIG.style.buttons.controls.color},null,8,["stroke"]),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="move",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipMove)+" ",1),o[150]||(o[150]=n("kbd",null,"M",-1))]),_:1},8,["show","x","y","styleObject"])):u("",!0)],46,pe),n("button",{disabled:i.shapes.length===0||i.activeShape==="line",style:F({background:i.isResizeMode?t.FINAL_CONFIG.style.buttons.controls.selected.backgroundColor:t.FINAL_CONFIG.style.buttons.controls.backgroundColor,border:i.isResizeMode?t.FINAL_CONFIG.style.buttons.controls.selected.border:t.FINAL_CONFIG.style.buttons.controls.border,color:i.isResizeMode?t.FINAL_CONFIG.style.buttons.controls.selected.color:t.FINAL_CONFIG.style.buttons.controls.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),class:f({"button-tool":!0,"button-tool--selected":i.isResizeMode,tooltip:!0}),onClick:o[5]||(o[5]=s=>{t.deleteEmptyTextElement(),i.isResizeMode=!i.isResizeMode,i.isMoveMode=!1,i.isDeleteMode=!1,i.isDrawMode=!1,i.isSelectMode=!1,i.isTextMode=!1,i.isWriting=!1,i.activeShape=void 0,i.showCaret=!1}),onMouseenter:o[6]||(o[6]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("resize",s,"top")),onMouseleave:o[7]||(o[7]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[8]||(o[8]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("resize",s,"top")),onBlur:o[9]||(o[9]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[k(a,{name:"resize",stroke:i.isResizeMode?t.FINAL_CONFIG.style.buttons.controls.selected.color:t.FINAL_CONFIG.style.buttons.controls.color},null,8,["stroke"]),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="resize",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipResize)+" ",1),o[151]||(o[151]=n("kbd",null,"R",-1))]),_:1},8,["show","x","y","styleObject"])):u("",!0)],46,ue),n("button",{disabled:i.shapes.length===0,style:F({background:i.isDeleteMode?t.FINAL_CONFIG.style.buttons.controls.selected.backgroundColor:t.FINAL_CONFIG.style.buttons.controls.backgroundColor,border:i.isDeleteMode?t.FINAL_CONFIG.style.buttons.controls.selected.border:t.FINAL_CONFIG.style.buttons.controls.border,color:i.isDeleteMode?t.FINAL_CONFIG.style.buttons.controls.selected.color:t.FINAL_CONFIG.style.buttons.controls.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),class:f({"button-tool":!0,"button-tool--selected":i.isDeleteMode,tooltip:!0}),onClick:o[10]||(o[10]=s=>{t.deleteEmptyTextElement(),i.isDeleteMode=!i.isDeleteMode,i.isMoveMode=!1,i.isResizeMode=!1,i.isSelectMode=!1,i.isTextMode=!1,i.isWriting=!1,i.activeShape=void 0,i.showCaret=!1}),onMouseenter:o[11]||(o[11]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("delete",s,"top")),onMouseleave:o[12]||(o[12]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[13]||(o[13]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("delete",s,"top")),onBlur:o[14]||(o[14]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[k(a,{name:"trash",stroke:i.isDeleteMode?t.FINAL_CONFIG.style.buttons.controls.selected.color:t.FINAL_CONFIG.style.buttons.controls.color},null,8,["stroke"]),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="delete",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipDelete)+" ",1),o[152]||(o[152]=n("kbd",null,"D",-1))]),_:1},8,["show","x","y","styleObject"])):u("",!0)],46,ye),n("button",{disabled:!t.canSelect,style:F({background:i.isSelectMode?t.FINAL_CONFIG.style.buttons.controls.selected.backgroundColor:t.FINAL_CONFIG.style.buttons.controls.backgroundColor,border:i.isSelectMode?t.FINAL_CONFIG.style.buttons.controls.selected.border:t.FINAL_CONFIG.style.buttons.controls.border,color:i.isSelectMode?t.FINAL_CONFIG.style.buttons.controls.selected.color:t.FINAL_CONFIG.style.buttons.controls.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),class:f({"button-tool":!0,"button-tool--selected":i.isSelectMode,tooltip:!0}),onClick:o[15]||(o[15]=s=>{t.deleteEmptyTextElement(),t.setShapeTo("group"),i.isSelectMode=!i.isSelectMode,i.isDeleteMode=!1,i.isMoveMode=!1,i.isResizeMode=!1,i.isTextMode=!1,i.isWriting=!1,i.activeShape="group",i.showCaret=!1}),onMouseenter:o[16]||(o[16]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("selectAndGroup",s,"top")),onMouseleave:o[17]||(o[17]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[18]||(o[18]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("selectAndGroup",s,"top")),onBlur:o[19]||(o[19]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[k(a,{name:"selectAndGroup",stroke:i.isSelectMode?t.FINAL_CONFIG.style.buttons.controls.selected.color:t.FINAL_CONFIG.style.buttons.controls.color},null,8,["stroke"]),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="selectAndGroup",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipGroup)+" ",1),o[153]||(o[153]=n("kbd",null,"G",-1))]),_:1},8,["show","x","y","styleObject"])):u("",!0)],46,Fe),n("button",{disabled:i.shapes.length===0,style:F({background:t.FINAL_CONFIG.style.buttons.controls.backgroundColor,border:t.FINAL_CONFIG.style.buttons.controls.border,color:t.FINAL_CONFIG.style.buttons.controls.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),class:f({"button-tool":!0,tooltip:!0}),onClick:o[20]||(o[20]=s=>{i.isResizeMode=!1,i.isMoveMode=!0,i.isDeleteMode=!1,i.isDrawMode=!1,i.isSelectMode=!1,i.isTextMode=!1,i.isWriting=!1,i.showCaret=!1,t.bringShapeTo("front")}),onMouseenter:o[21]||(o[21]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("bringToFront",s,"top")),onMouseleave:o[22]||(o[22]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[23]||(o[23]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("bringToFront",s,"top")),onBlur:o[24]||(o[24]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[k(a,{name:"bringToFront",stroke:t.FINAL_CONFIG.style.buttons.controls.color},null,8,["stroke"]),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="bringToFront",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipBringToFront),1)]),_:1},8,["show","x","y","styleObject"])):u("",!0)],44,be),n("button",{disabled:i.shapes.length===0,style:F({background:t.FINAL_CONFIG.style.buttons.controls.backgroundColor,border:t.FINAL_CONFIG.style.buttons.controls.border,color:t.FINAL_CONFIG.style.buttons.controls.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),class:f({"button-tool":!0,tooltip:!0}),onClick:o[25]||(o[25]=s=>{i.isResizeMode=!1,i.isMoveMode=!0,i.isDeleteMode=!1,i.isDrawMode=!1,i.isSelectMode=!1,i.isTextMode=!1,i.isWriting=!1,i.showCaret=!1,t.bringShapeTo("back")}),onMouseenter:o[26]||(o[26]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("bringToBack",s,"top")),onMouseleave:o[27]||(o[27]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[28]||(o[28]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("bringToBack",s,"top")),onBlur:o[29]||(o[29]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[k(a,{name:"bringToBack",stroke:t.FINAL_CONFIG.style.buttons.controls.color},null,8,["stroke"]),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="bringToBack",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipBringToBack),1)]),_:1},8,["show","x","y","styleObject"])):u("",!0)],44,Ie),n("button",{disabled:i.shapes.length===0||i.activeShape==="line",style:F({background:t.FINAL_CONFIG.style.buttons.controls.backgroundColor,border:t.FINAL_CONFIG.style.buttons.controls.border,color:t.FINAL_CONFIG.style.buttons.controls.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),class:f({"button-tool":!0,tooltip:!0}),onClick:o[30]||(o[30]=s=>{t.deleteEmptyTextElement(),i.isResizeMode=!1,i.isMoveMode=!0,i.isDeleteMode=!1,i.isDrawMode=!1,i.isSelectMode=!1,i.isTextMode=!1,i.isWriting=!1,i.showCaret=!1,t.copyPaste()}),onMouseenter:o[31]||(o[31]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("duplicate",s,"top")),onMouseleave:o[32]||(o[32]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[33]||(o[33]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("duplicate",s,"top")),onBlur:o[34]||(o[34]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[k(a,{name:"copy",stroke:t.FINAL_CONFIG.style.buttons.controls.color,size:18},null,8,["stroke"]),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="duplicate",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipDuplicate),1)]),_:1},8,["show","x","y","styleObject"])):u("",!0)],44,Ne),n("button",{disabled:i._historySize.undo===0,style:F({background:t.FINAL_CONFIG.style.buttons.controls.backgroundColor,border:t.FINAL_CONFIG.style.buttons.controls.border,color:t.FINAL_CONFIG.style.buttons.controls.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),class:f({"button-tool":!0,"button-tool--one-shot":!0,tooltip:!0}),onClick:o[35]||(o[35]=s=>{i.isResizeMode=!1,i.isMoveMode=!1,i.isDeleteMode=!1,i.isDrawMode=!1,i.isSelectMode=!1,i.isTextMode=!1,i.isWriting=!1,i.activeShape=void 0,i.showCaret=!1,t.undoLastShape()}),onMouseenter:o[36]||(o[36]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("undoLast",s,"top")),onMouseleave:o[37]||(o[37]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[38]||(o[38]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("undoLast",s,"top")),onBlur:o[39]||(o[39]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[k(a,{name:"refresh",stroke:t.FINAL_CONFIG.style.buttons.controls.color,size:20},null,8,["stroke"]),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="undoLast",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipUndo)+" ",1),n("kbd",null,y(i.isMacLike?"⌘":"Ctrl"),1),o[154]||(o[154]=n("kbd",null,"Z",-1))]),_:1},8,["show","x","y","styleObject"])):u("",!0)],44,fe),n("button",{disabled:i._historySize.redo===0,style:F({background:t.FINAL_CONFIG.style.buttons.controls.backgroundColor,border:t.FINAL_CONFIG.style.buttons.controls.border,color:t.FINAL_CONFIG.style.buttons.controls.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),class:f({"button-tool":!0,"button-tool--one-shot":!0,tooltip:!0}),onClick:o[40]||(o[40]=s=>{i.isResizeMode=!1,i.isMoveMode=!1,i.isDeleteMode=!1,i.isDrawMode=!1,i.isSelectMode=!1,i.isTextMode=!1,i.isWriting=!1,i.activeShape=void 0,i.showCaret=!1,t.redoLastShape()}),onMouseenter:o[41]||(o[41]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("redoLast",s,"top")),onMouseleave:o[42]||(o[42]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[43]||(o[43]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("redoLast",s,"top")),onBlur:o[44]||(o[44]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[k(a,{name:"refresh",stroke:t.FINAL_CONFIG.style.buttons.controls.color,size:20,style:{transform:"rotateX(0deg) rotateY(180deg)"}},null,8,["stroke"]),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="redoLast",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipRedo)+" ",1),n("kbd",null,y(i.isMacLike?"⌘":"Ctrl"),1),o[155]||(o[155]=n("kbd",null,"Y",-1))]),_:1},8,["show","x","y","styleObject"])):u("",!0)],44,ge),t.FINAL_CONFIG.style.showPrint?(p(),w("button",{key:0,style:F({background:t.FINAL_CONFIG.style.buttons.controls.backgroundColor,border:t.FINAL_CONFIG.style.buttons.controls.border,color:t.FINAL_CONFIG.style.buttons.controls.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),class:f({"button-tool":!0,tooltip:!0}),onClick:o[45]||(o[45]=(...s)=>t.print&&t.print(...s)),onMouseenter:o[46]||(o[46]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("printPdf",s,"top")),onMouseleave:o[47]||(o[47]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[48]||(o[48]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("printPdf",s,"top")),onBlur:o[49]||(o[49]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[k(a,{name:"printer",stroke:t.FINAL_CONFIG.style.buttons.controls.color},null,8,["stroke"]),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="printPdf",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipPdf),1)]),_:1},8,["show","x","y","styleObject"])):u("",!0)],36)):u("",!0),t.FINAL_CONFIG.style.showImage?(p(),w("button",{key:1,style:F({background:t.FINAL_CONFIG.style.buttons.controls.backgroundColor,border:t.FINAL_CONFIG.style.buttons.controls.border,color:t.FINAL_CONFIG.style.buttons.controls.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),class:f({"button-tool":!0,tooltip:!0}),onClick:o[50]||(o[50]=(...s)=>r.generateImage&&r.generateImage(...s)),onMouseenter:o[51]||(o[51]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("printImage",s,"top")),onMouseleave:o[52]||(o[52]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[53]||(o[53]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("printImage",s,"top")),onBlur:o[54]||(o[54]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[k(a,{name:"image",stroke:t.FINAL_CONFIG.style.buttons.controls.color,size:20},null,8,["stroke"]),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="printImage",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipImage),1)]),_:1},8,["show","x","y","styleObject"])):u("",!0)],36)):u("",!0),t.FINAL_CONFIG.style.showSave&&e.$attrs.onSaveAnnotations?(p(),w("button",{key:2,style:F({background:t.FINAL_CONFIG.style.buttons.controls.backgroundColor,border:t.FINAL_CONFIG.style.buttons.controls.border,color:t.FINAL_CONFIG.style.buttons.controls.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),class:f({"button-tool":!0,tooltip:!0}),onClick:o[55]||(o[55]=(...s)=>t.save&&t.save(...s)),onMouseenter:o[56]||(o[56]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("saveAction",s,"top")),onMouseleave:o[57]||(o[57]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[58]||(o[58]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("saveAction",s,"top")),onBlur:o[59]||(o[59]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[k(a,{name:"save",stroke:t.FINAL_CONFIG.style.buttons.controls.color},null,8,["stroke"]),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="saveAction",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipSave),1)]),_:1},8,["show","x","y","styleObject"])):u("",!0)],36)):u("",!0)],4),n("div",xe,[n("button",{class:f({"button-tool":!0,"button-tool--selected":i.activeShape==="circle",tooltip:!0}),style:F({background:i.activeShape==="circle"?t.FINAL_CONFIG.style.buttons.shapes.selected.backgroundColor:t.FINAL_CONFIG.style.buttons.shapes.backgroundColor,border:i.activeShape==="circle"?t.FINAL_CONFIG.style.buttons.shapes.selected.border:t.FINAL_CONFIG.style.buttons.shapes.border,color:i.activeShape==="circle"?t.FINAL_CONFIG.style.buttons.shapes.selected.color:t.FINAL_CONFIG.style.buttons.shapes.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),onClick:o[60]||(o[60]=s=>{t.setShapeTo("circle"),i.isSelectMode=!1}),onMouseenter:o[61]||(o[61]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setCircle",s,"top")),onMouseleave:o[62]||(o[62]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[63]||(o[63]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setCircle",s,"top")),onBlur:o[64]||(o[64]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[(p(),w("svg",we,[n("circle",{cx:6,cy:6,r:"4",fill:i.options.circle.filled?(i.activeShape,i.selectedColor+t.colorTransparency):"none",stroke:"currentColor"},null,8,Se)])),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="setCircle",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipShapeCircle)+" ",1),o[156]||(o[156]=n("kbd",null,"C",-1))]),_:1},8,["show","x","y","styleObject"])):u("",!0)],38),i.activeShape==="circle"?(p(),w("div",ke,[n("label",Te,[I(y(t.FINAL_CONFIG.translations.filled)+" ",1),v(n("input",{type:"checkbox","onUpdate:modelValue":o[65]||(o[65]=s=>i.options.circle.filled=s),onChange:o[66]||(o[66]=(...s)=>t.setFillOfSelectedCircle&&t.setFillOfSelectedCircle(...s)),checked:i.options.circle.filled,style:F({all:"revert",appearance:"auto","-webkit-appearance":"auto",accentColor:t.FINAL_CONFIG.style.color+" !important"})},null,44,Ce),[[L,i.options.circle.filled]])])])):u("",!0),n("button",{class:f({"button-tool":!0,"button-tool--selected":i.activeShape==="rect",tooltip:!0}),style:F({background:i.activeShape==="rect"?t.FINAL_CONFIG.style.buttons.shapes.selected.backgroundColor:t.FINAL_CONFIG.style.buttons.shapes.backgroundColor,border:i.activeShape==="rect"?t.FINAL_CONFIG.style.buttons.shapes.selected.border:t.FINAL_CONFIG.style.buttons.shapes.border,color:i.activeShape==="rect"?t.FINAL_CONFIG.style.buttons.shapes.selected.color:t.FINAL_CONFIG.style.buttons.shapes.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),onClick:o[67]||(o[67]=s=>{t.setShapeTo("rect"),i.isSelectMode=!1}),onMouseenter:o[68]||(o[68]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setRect",s,"top")),onMouseleave:o[69]||(o[69]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[70]||(o[70]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setRect",s,"top")),onBlur:o[71]||(o[71]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[(p(),w("svg",Oe,[n("rect",{x:"3",y:"3",style:{rx:"0 !important",ry:"0 !important"},height:"6",width:"6",fill:i.options.rect.filled?(i.activeShape,i.selectedColor+t.colorTransparency):"none",stroke:"currentColor"},null,8,Me)])),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="setRect",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipShapeRect)+" ",1),o[157]||(o[157]=n("kbd",null,"S",-1))]),_:1},8,["show","x","y","styleObject"])):u("",!0)],38),i.activeShape==="rect"?(p(),w("div",ve,[n("label",$e,[I(y(t.FINAL_CONFIG.translations.filled)+" ",1),v(n("input",{type:"checkbox","onUpdate:modelValue":o[72]||(o[72]=s=>i.options.rect.filled=s),onChange:o[73]||(o[73]=(...s)=>t.setFillOfSelectedRect&&t.setFillOfSelectedRect(...s)),checked:i.options.rect.filled,style:F({all:"revert",appearance:"auto","-webkit-appearance":"auto",accentColor:t.FINAL_CONFIG.style.color+" !important"})},null,44,Ae),[[L,i.options.rect.filled]])])])):u("",!0),n("button",{class:f({"button-tool":!0,"button-tool--selected":i.activeShape==="arrow",tooltip:!0}),style:F({background:i.activeShape==="arrow"?t.FINAL_CONFIG.style.buttons.shapes.selected.backgroundColor:t.FINAL_CONFIG.style.buttons.shapes.backgroundColor,border:i.activeShape==="arrow"?t.FINAL_CONFIG.style.buttons.shapes.selected.border:t.FINAL_CONFIG.style.buttons.shapes.border,color:i.activeShape==="arrow"?t.FINAL_CONFIG.style.buttons.shapes.selected.color:t.FINAL_CONFIG.style.buttons.shapes.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),onClick:o[74]||(o[74]=s=>{t.setShapeTo("arrow"),i.isSelectMode=!1}),onMouseenter:o[75]||(o[75]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setArrow",s,"top")),onMouseleave:o[76]||(o[76]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[77]||(o[77]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setArrow",s,"top")),onBlur:o[78]||(o[78]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[(p(),w("svg",_e,[n("path",{stroke:i.options.arrow.filled?i.activeShape==="arrow"?"white":"grey":"none","stroke-width":"2",d:"M5,19 19,5 14,5 19,10.5 19,5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},null,8,me)])),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="setArrow",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipShapeArrow)+" ",1),o[158]||(o[158]=n("kbd",null,"A",-1))]),_:1},8,["show","x","y","styleObject"])):u("",!0)],38),n("button",{class:f({"button-tool":!0,"button-tool--selected":i.activeShape==="line",tooltip:!0}),style:F({background:i.activeShape==="line"?t.FINAL_CONFIG.style.buttons.shapes.selected.backgroundColor:t.FINAL_CONFIG.style.buttons.shapes.backgroundColor,border:i.activeShape==="line"?t.FINAL_CONFIG.style.buttons.shapes.selected.border:t.FINAL_CONFIG.style.buttons.shapes.border,color:i.activeShape==="line"?t.FINAL_CONFIG.style.buttons.shapes.selected.color:t.FINAL_CONFIG.style.buttons.shapes.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),onClick:o[79]||(o[79]=s=>{t.setShapeTo("line"),i.isSelectMode=!1}),onMouseenter:o[80]||(o[80]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setFreehand",s,"top")),onMouseleave:o[81]||(o[81]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[82]||(o[82]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setFreehand",s,"top")),onBlur:o[83]||(o[83]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[o[160]||(o[160]=n("svg",{width:"80%",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[n("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),n("path",{d:"M3 15c2 3 4 4 7 4s7 -3 7 -7s-3 -7 -6 -7s-5 1.5 -5 4s2 5 6 5s8.408 -2.453 10 -5"})],-1)),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="setFreehand",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipShapeFreehand)+" ",1),o[159]||(o[159]=n("kbd",null,"L",-1))]),_:1},8,["show","x","y","styleObject"])):u("",!0)],38),["arrow","circle","rect","line"].includes(i.activeShape)?(p(),w("div",Le,[n("div",Ge,[n("label",De,[I(y(t.FINAL_CONFIG.translations.thickness)+" ",1),v(n("input",{type:"number","onUpdate:modelValue":o[84]||(o[84]=s=>i.strokeSize=s),onInput:o[85]||(o[85]=(...s)=>t.setStrokeWidthOfSelectedShape&&t.setStrokeWidthOfSelectedShape(...s)),min:1,style:{padding:"0 4px",width:"40px",border:"1px solid #dadada","border-radius":"3px"}},null,544),[[G,i.strokeSize]])])])])):u("",!0),["arrow","circle","rect"].includes(i.activeShape)?(p(),w("div",Pe,[n("div",ze,[n("label",Re,[I(y(t.FINAL_CONFIG.translations.dashedLines)+" ",1),(p(),w("svg",Be,[...o[161]||(o[161]=[n("line",{x1:"0",x2:"24",y1:"12",y2:"12","stroke-width":"2",stroke:"black","stroke-dasharray":"3"},null,-1)])])),v(n("input",{name:"dashStyle",type:"checkbox","onUpdate:modelValue":o[86]||(o[86]=s=>i.isDash=s),onChange:o[87]||(o[87]=(...s)=>t.setSelectedShapeToDash&&t.setSelectedShapeToDash(...s)),checked:i.isDash,style:F({all:"revert",appearance:"auto","-webkit-appearance":"auto",accentColor:t.FINAL_CONFIG.style.color+" !important"})},null,44,je),[[L,i.isDash]])])])])):u("",!0),n("button",{class:f({"button-tool":!0,"button-tool--selected":i.isTextMode,tooltip:!0}),style:F({background:i.isTextMode?t.FINAL_CONFIG.style.buttons.shapes.selected.backgroundColor:t.FINAL_CONFIG.style.buttons.shapes.backgroundColor,border:i.isTextMode?t.FINAL_CONFIG.style.buttons.shapes.selected.border:t.FINAL_CONFIG.style.buttons.shapes.border,color:i.isTextMode?t.FINAL_CONFIG.style.buttons.shapes.selected.color:t.FINAL_CONFIG.style.buttons.shapes.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),onClick:o[88]||(o[88]=s=>{t.deleteEmptyTextElement(),i.isTextMode=!i.isTextMode,i.isDeleteMode=!1,i.isMoveMode=!1,i.isResizeMode=!1,i.isSelectMode=!1,i.isDrawMode=!1,i.activeShape=void 0}),onMouseenter:o[89]||(o[89]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setText",s,"top")),onMouseleave:o[90]||(o[90]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[91]||(o[91]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setText",s,"top")),onBlur:o[92]||(o[92]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[k(a,{name:"text",stroke:i.isTextMode?t.FINAL_CONFIG.style.buttons.shapes.selected.color:t.FINAL_CONFIG.style.buttons.shapes.color},null,8,["stroke"]),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="setText",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipShapeText)+" ",1),o[162]||(o[162]=n("kbd",null,"T",-1))]),_:1},8,["show","x","y","styleObject"])):u("",!0)],38),i.isTextMode?(p(),w("div",We,[n("div",Ee,[n("label",He,[I(y(t.FINAL_CONFIG.translations.fontSize)+" ",1),v(n("input",{type:"number","onUpdate:modelValue":o[93]||(o[93]=s=>i.textFont=s),onInput:o[94]||(o[94]=(...s)=>t.setCurrentStyleOfSelectedText&&t.setCurrentStyleOfSelectedText(...s)),style:{padding:"0 4px",width:"40px",border:"1px solid #dadada","border-radius":"3px"}},null,544),[[G,i.textFont]])])])])):u("",!0),i.isTextMode?(p(),w("div",Ue,[n("button",{class:f({"button-tool":!0,"button-tool--selected":i.textAlign==="start",tooltip:!0}),style:F({background:i.textAlign==="start"?t.FINAL_CONFIG.style.buttons.shapes.selected.backgroundColor:t.FINAL_CONFIG.style.buttons.shapes.backgroundColor,border:i.textAlign==="start"?t.FINAL_CONFIG.style.buttons.shapes.selected.border:t.FINAL_CONFIG.style.buttons.shapes.border,color:i.textAlign==="start"?t.FINAL_CONFIG.style.buttons.shapes.selected.color:t.FINAL_CONFIG.style.buttons.shapes.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),onClick:o[95]||(o[95]=s=>{i.isDeleteMode=!1,i.isMoveMode=!1,i.isResizeMode=!1,i.isDrawMode=!1,i.isSelectMode=!1,i.activeShape=void 0,i.textAlign="start",t.setSelectedTextAlignTo("start")}),onMouseenter:o[96]||(o[96]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setAlignStart",s,"top")),onMouseleave:o[97]||(o[97]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[98]||(o[98]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setAlignStart",s,"top")),onBlur:o[99]||(o[99]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[o[163]||(o[163]=n("svg",{width:"80%",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[n("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),n("path",{d:"M4 6l16 0"}),n("path",{d:"M4 12l10 0"}),n("path",{d:"M4 18l14 0"})],-1)),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="setAlignStart",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipShapeTextLeft),1)]),_:1},8,["show","x","y","styleObject"])):u("",!0)],38)])):u("",!0),i.isTextMode?(p(),w("div",Ke,[n("button",{class:f({"button-tool":!0,"button-tool--selected":i.textAlign==="middle",tooltip:!0}),style:F({background:i.textAlign==="middle"?t.FINAL_CONFIG.style.buttons.shapes.selected.backgroundColor:t.FINAL_CONFIG.style.buttons.shapes.backgroundColor,border:i.textAlign==="middle"?t.FINAL_CONFIG.style.buttons.shapes.selected.border:t.FINAL_CONFIG.style.buttons.shapes.border,color:i.textAlign==="middle"?t.FINAL_CONFIG.style.buttons.shapes.selected.color:t.FINAL_CONFIG.style.buttons.shapes.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),disabled:i.isBulletTextMode,onClick:o[100]||(o[100]=s=>{i.isDeleteMode=!1,i.isMoveMode=!1,i.isResizeMode=!1,i.isDrawMode=!1,i.isSelectMode=!1,i.activeShape=void 0,i.textAlign="middle",t.setSelectedTextAlignTo("middle")}),onMouseenter:o[101]||(o[101]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setAlignMiddle",s,"top")),onMouseleave:o[102]||(o[102]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[103]||(o[103]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setAlignMiddle",s,"top")),onBlur:o[104]||(o[104]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[o[164]||(o[164]=n("svg",{width:"80%",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[n("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),n("path",{d:"M4 6l16 0"}),n("path",{d:"M8 12l8 0"}),n("path",{d:"M6 18l12 0"})],-1)),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="setAlignMiddle",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipShapeTextCenter),1)]),_:1},8,["show","x","y","styleObject"])):u("",!0)],46,Ye)])):u("",!0),i.isTextMode?(p(),w("div",Xe,[n("button",{class:f({"button-tool":!0,"button-tool--selected":i.textAlign==="end",tooltip:!0}),style:F({background:i.textAlign==="end"?t.FINAL_CONFIG.style.buttons.shapes.selected.backgroundColor:t.FINAL_CONFIG.style.buttons.shapes.backgroundColor,border:i.textAlign==="end"?t.FINAL_CONFIG.style.buttons.shapes.selected.border:t.FINAL_CONFIG.style.buttons.shapes.border,color:i.textAlign==="end"?t.FINAL_CONFIG.style.buttons.shapes.selected.color:t.FINAL_CONFIG.style.buttons.shapes.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),disabled:i.isBulletTextMode,onClick:o[105]||(o[105]=s=>{i.isDeleteMode=!1,i.isMoveMode=!1,i.isResizeMode=!1,i.isDrawMode=!1,i.isSelectMode=!1,i.activeShape=void 0,i.textAlign="end",t.setSelectedTextAlignTo("end")}),onMouseenter:o[106]||(o[106]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setAlignEnd",s,"top")),onMouseleave:o[107]||(o[107]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[108]||(o[108]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setAlignEnd",s,"top")),onBlur:o[109]||(o[109]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[o[165]||(o[165]=n("svg",{width:"80%",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[n("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),n("path",{d:"M4 6l16 0"}),n("path",{d:"M10 12l10 0"}),n("path",{d:"M6 18l14 0"})],-1)),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="setAlignEnd",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipShapeTextRight),1)]),_:1},8,["show","x","y","styleObject"])):u("",!0)],46,Ve)])):u("",!0),i.isTextMode?(p(),w("div",qe,[n("button",{class:f({"button-tool":!0,"button-tool--selected":i.isBulletTextMode,tooltip:!0}),style:F({background:i.isBulletTextMode?t.FINAL_CONFIG.style.buttons.shapes.selected.backgroundColor:t.FINAL_CONFIG.style.buttons.shapes.backgroundColor,border:i.isBulletTextMode?t.FINAL_CONFIG.style.buttons.shapes.selected.border:t.FINAL_CONFIG.style.buttons.shapes.border,color:i.isBulletTextMode?t.FINAL_CONFIG.style.buttons.shapes.selected.color:t.FINAL_CONFIG.style.buttons.shapes.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),onClick:o[110]||(o[110]=s=>{i.isDeleteMode=!1,i.isMoveMode=!1,i.isResizeMode=!1,i.isDrawMode=!1,i.isSelectMode=!1,i.activeShape=void 0,i.isBulletTextMode=!i.isBulletTextMode,i.textAlign="start",t.setSelectedTextAlignTo("start"),t.setCurrentStyleOfSelectedText()}),onMouseenter:o[111]||(o[111]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setBulletMode",s,"top")),onMouseleave:o[112]||(o[112]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[113]||(o[113]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setBulletMode",s,"top")),onBlur:o[114]||(o[114]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[o[166]||(o[166]=n("svg",{width:"100%",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[n("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),n("path",{d:"M9 6l11 0"}),n("path",{d:"M9 12l11 0"}),n("path",{d:"M9 18l11 0"}),n("path",{d:"M5 6l0 .01"}),n("path",{d:"M5 12l0 .01"}),n("path",{d:"M5 18l0 .01"})],-1)),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="setBulletMode",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipShapeTextBullet),1)]),_:1},8,["show","x","y","styleObject"])):u("",!0)],38)])):u("",!0),i.isTextMode?(p(),w("div",Je,[n("button",{class:f({"button-tool":!0,"button-tool--selected":i.isBold,tooltip:!0}),style:F({background:i.isBold?t.FINAL_CONFIG.style.buttons.shapes.selected.backgroundColor:t.FINAL_CONFIG.style.buttons.shapes.backgroundColor,border:i.isBold?t.FINAL_CONFIG.style.buttons.shapes.selected.border:t.FINAL_CONFIG.style.buttons.shapes.border,color:i.isBold?t.FINAL_CONFIG.style.buttons.shapes.selected.color:t.FINAL_CONFIG.style.buttons.shapes.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),onClick:o[115]||(o[115]=s=>{i.isDeleteMode=!1,i.isMoveMode=!1,i.isResizeMode=!1,i.isDrawMode=!1,i.isSelectMode=!1,i.activeShape=void 0,i.isBold=!i.isBold,t.setCurrentStyleOfSelectedText()}),onMouseenter:o[116]||(o[116]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setBold",s,"top")),onMouseleave:o[117]||(o[117]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[118]||(o[118]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setBold",s,"top")),onBlur:o[119]||(o[119]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[o[167]||(o[167]=n("svg",{width:"100%",viewBox:"0 0 24 24","stroke-width":"3",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[n("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),n("path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}),n("path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"})],-1)),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="setBold",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipShapeTextBold),1)]),_:1},8,["show","x","y","styleObject"])):u("",!0)],38)])):u("",!0),i.isTextMode?(p(),w("div",Qe,[n("button",{class:f({"button-tool":!0,"button-tool--selected":i.isItalic,tooltip:!0}),style:F({background:i.isItalic?t.FINAL_CONFIG.style.buttons.shapes.selected.backgroundColor:t.FINAL_CONFIG.style.buttons.shapes.backgroundColor,border:i.isItalic?t.FINAL_CONFIG.style.buttons.shapes.selected.border:t.FINAL_CONFIG.style.buttons.shapes.border,color:i.isItalic?t.FINAL_CONFIG.style.buttons.shapes.selected.color:t.FINAL_CONFIG.style.buttons.shapes.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),onClick:o[120]||(o[120]=s=>{i.isDeleteMode=!1,i.isMoveMode=!1,i.isResizeMode=!1,i.isDrawMode=!1,i.isSelectMode=!1,i.activeShape=void 0,i.isItalic=!i.isItalic,t.setCurrentStyleOfSelectedText()}),onMouseenter:o[121]||(o[121]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setItalic",s,"top")),onMouseleave:o[122]||(o[122]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[123]||(o[123]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setItalic",s,"top")),onBlur:o[124]||(o[124]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[o[168]||(o[168]=n("svg",{width:"100%",height:"44",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[n("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),n("path",{d:"M11 5l6 0"}),n("path",{d:"M7 19l6 0"}),n("path",{d:"M14 5l-4 14"})],-1)),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="setItalic",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipShapeTextItalic),1)]),_:1},8,["show","x","y","styleObject"])):u("",!0)],38)])):u("",!0),i.isTextMode?(p(),w("div",Ze,[n("button",{class:f({"button-tool":!0,"button-tool--selected":i.isUnderline,tooltip:!0}),style:F({background:i.isUnderline?t.FINAL_CONFIG.style.buttons.shapes.selected.backgroundColor:t.FINAL_CONFIG.style.buttons.shapes.backgroundColor,border:i.isUnderline?t.FINAL_CONFIG.style.buttons.shapes.selected.border:t.FINAL_CONFIG.style.buttons.shapes.border,color:i.isUnderline?t.FINAL_CONFIG.style.buttons.shapes.selected.color:t.FINAL_CONFIG.style.buttons.shapes.color,borderRadius:"".concat(t.FINAL_CONFIG.style.buttons.borderRadius,"px")}),onClick:o[125]||(o[125]=s=>{i.isDeleteMode=!1,i.isMoveMode=!1,i.isResizeMode=!1,i.isDrawMode=!1,i.isSelectMode=!1,i.activeShape=void 0,i.isUnderline=!i.isUnderline,t.setCurrentStyleOfSelectedText()}),onMouseenter:o[126]||(o[126]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setUnderline",s,"top")),onMouseleave:o[127]||(o[127]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[128]||(o[128]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setUnderline",s,"top")),onBlur:o[129]||(o[129]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[o[169]||(o[169]=n("svg",{width:"100%",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[n("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),n("path",{d:"M7 5v5a5 5 0 0 0 10 0v-5"}),n("path",{d:"M5 19h14"})],-1)),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="setUnderline",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipShapeTextUnderline),1)]),_:1},8,["show","x","y","styleObject"])):u("",!0)],38)])):u("",!0),n("div",et,[n("button",{class:f({"button-tool":!0,tooltip:!0}),style:{borderRadius:"6px"},onMouseenter:o[131]||(o[131]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setColor",s,"top")),onMouseleave:o[132]||(o[132]=(...s)=>t.hideTooltip&&t.hideTooltip(...s)),onFocus:o[133]||(o[133]=s=>t.FINAL_CONFIG.style.showTooltips&&t.showToolTipFor("setColor",s,"top")),onBlur:o[134]||(o[134]=(...s)=>t.hideTooltip&&t.hideTooltip(...s))},[k(b,{value:i.selectedColor,"onUpdate:value":o[130]||(o[130]=s=>i.selectedColor=s),backgroundColor:t.FINAL_CONFIG.style.backgroundColor,buttonBorderColor:t.FINAL_CONFIG.style.color,teleported:""},null,8,["value","backgroundColor","buttonBorderColor"])],32),t.FINAL_CONFIG.style.showTooltips?(p(),x(d,{key:0,show:i.showTooltip&&i.tooltipKey==="setColor",x:i.tooltipPos.x,y:i.tooltipPos.y-6,placement:"top",styleObject:t.tooltipStyleObject},{default:N(()=>[I(y(t.FINAL_CONFIG.translations.tooltipShapeColor),1)]),_:1},8,["show","x","y","styleObject"])):u("",!0)]),n("div",tt,[n("label",ot,[I(y(t.FINAL_CONFIG.translations.colorAlpha)+": "+y(i.transparency>98?100:i.transparency)+" % ",1),v(n("input",{name:"colorTransparency",type:"range","onUpdate:modelValue":o[135]||(o[135]=s=>i.transparency=s),onInput:o[136]||(o[136]=(...s)=>t.setTransparencyOfSelectedShape&&t.setTransparencyOfSelectedShape(...s)),min:0,max:100,style:F({width:"100%",accentColor:t.FINAL_CONFIG.style.color+" !important"})},null,36),[[G,i.transparency]])])])])]),_:1},8,["config","onToggle"])]),n("div",{class:"annotator annotator__wrapper",ref:"drawSvgContainer",style:{position:"relative"},id:r.uid,"data-annotator-content":""},[n("div",{class:"annotator__content-layer",style:F("".concat(i.isSummaryOpen?"pointer-events: none;":""))},[R(e.$slots,"default",{},void 0,!0)],4),i.isSummaryOpen||t.FINAL_CONFIG.alwaysVisible?(p(),w("svg",{id:"annotatorSvg",key:i.step,ref:"mainSvg",class:f({annotator__overlay:!0,draw:!0,"draw--free":i.activeShape==="line"}),viewBox:"0 0 ".concat(i.svgWidth," ").concat(i.svgHeight),width:i.sourceWidth,height:i.sourceHeight,onPointerdown:o[142]||(o[142]=h=>t.chooseAction(h)),onPointerup:o[143]||(o[143]=h=>t.resetDraw(h)),onTouchend:o[144]||(o[144]=h=>t.resetDraw(h)),onTouchstart:o[145]||(o[145]=h=>{t.setPointer(h),t.clickSvg(h)}),onPointermove:o[146]||(o[146]=h=>{t.setPointer(h),t.chooseMove(h)}),onPointerout:o[147]||(o[147]=h=>t.onPointerOut(h)),onPointerover:o[148]||(o[148]=h=>t.allowEditAndHoverShapes(h)),onClick:o[149]||(o[149]=h=>t.clickSvg(h)),style:F({position:"absolute",top:0,left:0,cursor:t.cursorClass,fontFamily:"Helvetica",zIndex:1e8,pointerEvents:i.isSummaryOpen?"all":"none"})},[n("rect",{class:"annotator__glass",x:"0",y:"0",width:i.svgWidth,height:i.svgHeight,fill:"transparent","pointer-events":i.isSummaryOpen?"all":"none",style:{cursor:"inherit"},onPointerdown:o[137]||(o[137]=_(h=>t.chooseAction(h),["stop","prevent"])),onPointermove:o[138]||(o[138]=_(h=>{t.setPointer(h),t.chooseMove(h)},["stop","prevent"])),onPointerup:o[139]||(o[139]=_((...h)=>t.resetDraw&&t.resetDraw(...h),["stop","prevent"])),onClick:o[140]||(o[140]=_(()=>{},["stop","prevent"]))},null,40,lt),(p(!0),w(W,null,E(t.userShapes,h=>(p(),w("g",{key:h.id,innerHTML:h.html,onClick:o[141]||(o[141]=s=>{t.clickShape(s),i.isMoveMode=!1})},null,8,rt))),128))],46,st)):u("",!0),i.isPrinting||r.isImaging?(p(),w("svg",{key:1,style:{position:"absolute",top:"0",left:"0"},height:i.sourceHeight,viewBox:"0 0 ".concat(i.svgWidth," ").concat(i.svgHeight),width:i.sourceWidth,"data-dom-to-png-ignore":""},[n("circle",{class:"animated-circle-print",cx:i.svgWidth/2,cy:i.svgHeight/2,r:"50",stroke:"#6376DD","stroke-width":"10",fill:"none"},null,8,at)],8,nt)):u("",!0)],8,it)])}const ft=j(de,[["render",dt],["__scopeId","data-v-71981ac5"]]);export{ft as default};
