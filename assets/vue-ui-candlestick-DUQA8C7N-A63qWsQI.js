
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./vue-data-ui-8Gmf-dDN.js","./index-CJB5jCfL.js","./index-D6D_bXIl.css","./alert-I_0TAljB.js","./vue-data-ui-C46fMXq5.css","./Tooltip-D0pGX8qz-BS2YwyOE.js","./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js","./useNestedProp-DaR1dBmj-yWXLkJlG.js","./DataTable-BfEbVwm4-B-GxLkq-.js","./Shape-12_eh8zD-Cy1mu6XW.js","./PenAndPaper--ADXtx65-ugytqLuo.js","./ColorPicker-BYn8PF2Z-DkxHqz9_.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-Cy-iNhZU-CnpDVImt.js","./img-CqYIrJ8I-E54QgU9o.js","./dom-to-png-WXGPkYro-BQsfl1t5.js","./PackageVersion-By5ZZJ0U-Cc8IPeAX.js","./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"])))=>i.map(i=>d[i]);
import{J as c,e as y,a8 as Et,K as ie,av as wl,E as Tt,aw as Be,au as Mt,aa as Al,c1 as j,c as u,o as i,z as K,A as m,f as p,g as Oe,h as b,r as f,j as E,k as T,u as h,c3 as Cl,O as ue,n as U,F as S,R as M,t as re,m as $l,l as Fl,N as Bt,c4 as G}from"./index-CJB5jCfL.js";import{s as Ot,J as Rt,x as Pt,N as pe,E as zl,A as Q,h as Vt,c as q,k as Nt,F as H,d as Wt,X as ge,w as Ut,B as Ll,e as Ht,f as Xt,g as jt,p as Gt}from"./vue-data-ui-8Gmf-dDN.js";import{E as _l,M as qt}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{s as Yt,i as Re}from"./useNestedProp-DaR1dBmj-yWXLkJlG.js";import{m as Jt}from"./usePrinter-ChVMpU2f-B27PF0nl.js";import{T as Kt,j as Qt}from"./BaseScanner-BMpwQAfz-mc47WWxo.js";import{C as Sl,_ as Zt,L as ea}from"./useTimeLabels-DKoynYae-DbX6bBBl.js";import{O as la}from"./useSvgExport-ByUukOZt-XO0OK7cR.js";import{i as ta}from"./useThemeCheck-DGJ31Vi5-GRZcYzX8.js";import{a as aa}from"./useUserOptionState-BIvW1Kz7-D70wY835.js";import{o as oa}from"./useChartAccessibility-9icAAmYg-CuAxjhEs.js";import{S as sa}from"./useTimeLabelCollider-CIsgDrl9-BAa7N0ra.js";import ia from"./img-CqYIrJ8I-E54QgU9o.js";import ua from"./Title-D0nD-PMs-DAiwElB_.js";import{u as ra}from"./SlicerPreview-BF9QuD7E-Bsfug1YR.js";import"./alert-I_0TAljB.js";import"./dom-to-png-WXGPkYro-BQsfl1t5.js";const Il={style:{backgroundColor:"#1A1A1A",color:"#CCCCCC",layout:{selector:{color:"#CCCCCC"},grid:{stroke:"#5A5A5A",xAxis:{dataLabels:{color:"#CCCCCC"}},yAxis:{dataLabels:{color:"#CCCCCC"}}},wick:{stroke:"#5A5A5A",extremity:{color:"#5A5A5A"}},candle:{stroke:"#1A1A1A"}},zoom:{color:"#4A4A4A",highlightColor:"#9A9A9A",minimap:{selectedColor:"#8A8A8A",lineColor:"#424242",indicatorColor:"#CCCCCC"}},title:{color:"#CCCCCC",subtitle:{color:"#757575"}},tooltip:{backgroundColor:"#1A1A1A",backgroundOpacity:70,color:"#CCCCCC",borderColor:"#5A5A5A"}},table:{th:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},td:{backgroundColor:"#1A1A1A",color:"#CCCCCC"}}},Dl={style:{backgroundColor:"#FFF8E1",color:"#424242",layout:{selector:{color:"#424242"},grid:{stroke:"#5D4037",xAxis:{dataLabels:{color:"#424242"}},yAxis:{dataLabels:{color:"#424242"}}},wick:{stroke:"#5D4037",extremity:{color:"#5D4037"}},candle:{stroke:"#FFF8E1",colors:{bullish:"#D32F2F",bearish:"#F57C00"},gradient:{show:!1}}},zoom:{color:"#5D4037",highlightColor:"#FF8A65"},title:{color:"#424242",subtitle:{color:"#757575"}},tooltip:{backgroundColor:"#FFECB3",backgroundOpacity:30,color:"#424242",borderColor:"#FF8A65"}},table:{th:{backgroundColor:"#FFF8E1",color:"#424242"},td:{backgroundColor:"#FFF8E1",color:"#424242"}}},El={style:{backgroundColor:"#1E1E1E",color:"#BDBDBD",layout:{selector:{color:"#FFF8E1"},grid:{stroke:"#5D4037",xAxis:{dataLabels:{color:"#BDBDBD"}},yAxis:{dataLabels:{color:"#BDBDBD"}}},wick:{stroke:"#BDBDBD",extremity:{color:"#BDBDBD"}},candle:{stroke:"#1E1E1E",colors:{bullish:"#D32F2F",bearish:"#F57C00"},gradient:{show:!1}}},zoom:{color:"#5D4037",highlightColor:"#FF8A65"},title:{color:"#FFF8E1",subtitle:{color:"#BDBDBD"}},tooltip:{backgroundColor:"#1E1E1E",backgroundOpacity:30,color:"#FFF8E1",borderColor:"#FF8A65"}},table:{th:{backgroundColor:"#1E1E1E",color:"#BDBDBD"},td:{backgroundColor:"#1E1E1E",color:"#BDBDBD"}}},Tl={style:{backgroundColor:"#1A1A1A",color:"#99AA99",layout:{selector:{color:"#7DA9B5"},grid:{stroke:"#334C33",xAxis:{dataLabels:{color:"#99CC99"}},yAxis:{dataLabels:{color:"#99CC99"}}},wick:{stroke:"#334C33",extremity:{color:"#334C33"}},candle:{stroke:"#1A1A1A",colors:{bullish:"#00FF00",bearish:"#334C33"},gradient:{show:!1}}},zoom:{color:"#5F6A5F",highlightColor:"#66CC66"},title:{color:"#66CC66",subtitle:{color:"#99AA99"}},tooltip:{backgroundColor:"#2A2F2A",color:"#AACCAA",borderColor:"#66CC66"}},table:{th:{backgroundColor:"#1A1A1A",color:"#99AA99"},td:{backgroundColor:"#1A1A1A",color:"#AACCAA"}}},Ml={style:{backgroundColor:"#fbfafa",color:"#8A9892",layout:{selector:{color:"#8F837A"},grid:{stroke:"transparent",xAxis:{dataLabels:{color:"#8A9892"}},yAxis:{dataLabels:{color:"#8A9892"}}},wick:{stroke:"#D7E0D2",extremity:{shape:"circle",size:2,color:"#C5B8A7"}},candle:{stroke:"#fbfafa",colors:{bullish:"#A0AC94",bearish:"#C09E85"},gradient:{show:!0}}},zoom:{color:"#E0CFC3",highlightColor:"#8F837A"},title:{color:"#8A9892",subtitle:{color:"#99AA99"}},tooltip:{backgroundColor:"#fbfafa",color:"#8A9892"}},table:{th:{backgroundColor:"#fbfafa",color:"#8F837A"},td:{backgroundColor:"#fbfafa",color:"#8F837A"}}},Bl={style:{backgroundColor:"#f6f6fb",color:"#50606C",layout:{selector:{color:"#7DA9B5"},grid:{stroke:"#334C33",xAxis:{dataLabels:{color:"#61747E"}},yAxis:{dataLabels:{color:"#61747E"}}},wick:{stroke:"#61747E",extremity:{color:"#61747E"}},candle:{stroke:"#1A1A1A",colors:{bullish:"#92B0AB",bearish:"#EFECEC"},gradient:{show:!1}}},zoom:{color:"#92B0AB",highlightColor:"#50606C"},title:{color:"#50606C",subtitle:{color:"#718890"}},tooltip:{backgroundColor:"#f6f6fb",color:"#50606C"}},table:{th:{backgroundColor:"#f6f6fb",color:"#50606C"},td:{backgroundColor:"#f6f6fb",color:"#50606C"}}},Ol={default:{},dark:Il,celebration:Dl,celebrationNight:El,hack:Tl,zen:Ml,concrete:Bl},yo=Object.freeze(Object.defineProperty({__proto__:null,celebration:Dl,celebrationNight:El,concrete:Bl,dark:Il,default:Ol,hack:Tl,zen:Ml},Symbol.toStringTag,{value:"Module"})),na=["id"],va=["xmlns","aria-label","viewBox"],da=["x","y","width","height"],ca={key:1},ya=["id"],ha=["stop-color"],ma=["stop-color"],pa=["stop-color"],ga=["id"],xa=["stop-color"],ba=["stop-color"],fa=["stop-color"],ka={key:0},wa=["x1","x2","y1","y2","stroke","stroke-width"],Aa=["x1","x2","y1","y2","stroke","stroke-width"],Ca=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],$a=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],Fa=["x1","x2","y1","y2","stroke","stroke-width"],za=["x1","x2","y1","y2","stroke","stroke-width"],La=["x","y","font-size","fill","font-weight"],_a=["transform","text-anchor","font-size","fill","font-weight"],Sa=["transform","text-anchor","font-size","fill","font-weight"],Ia=["x","y","width","height","fill","rx"],Da={key:0},Ea=["cx","cy","r","fill"],Ta=["cx","cy","r","fill"],Ma={key:1},Ba=["x","y","width","height","rx","fill"],Oa=["x","y","width","height","fill","rx"],Ra=["x","y","height","width","fill","rx"],Pa=["x","y","height","width","fill","rx","stroke","stroke-width"],Va=["d","stroke"],Na=["x","y","height","width","fill","onMouseover","onMouseleave","onClick"],Wa=["data-start","data-end"],Ua={key:4,class:"vue-data-ui-watermark"},Ha=["d","stroke"],Xa=["d","stroke","stroke-width"],ja=["innerHTML"],Ga={__name:"vue-ui-candlestick",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}},selectedXIndex:{type:Number,default:void 0}},emits:["selectX"],setup(Rl,{expose:Pl,emit:Vl}){const Nl=j(()=>G(()=>import("./vue-data-ui-8Gmf-dDN.js").then(l=>l.aA),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),Wl=j(()=>G(()=>import("./Tooltip-D0pGX8qz-BS2YwyOE.js"),__vite__mapDeps([5,0,1,2,3,4]),import.meta.url)),Ul=j(()=>G(()=>import("./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js"),__vite__mapDeps([6,1,2,0,3,4,7]),import.meta.url)),Hl=j(()=>G(()=>import("./DataTable-BfEbVwm4-B-GxLkq-.js"),__vite__mapDeps([8,1,2,9,0,3,4]),import.meta.url)),Xl=j(()=>G(()=>import("./PenAndPaper--ADXtx65-ugytqLuo.js"),__vite__mapDeps([10,1,2,0,3,4,11,12]),import.meta.url)),jl=j(()=>G(()=>import("./UserOptions-Cy-iNhZU-CnpDVImt.js"),__vite__mapDeps([13,1,2,12,0,3,4,14,15]),import.meta.url)),Gl=j(()=>G(()=>import("./PackageVersion-By5ZZJ0U-Cc8IPeAX.js"),__vite__mapDeps([16,1,2]),import.meta.url)),ql=j(()=>G(()=>import("./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"),__vite__mapDeps([17,1,2,0,3,4]),import.meta.url)),{vue_ui_candlestick:Yl}=Yt(),{isThemeValid:Jl,warnInvalidTheme:Kl}=ta(),g=Rl,Pe=Vl,xe=c(()=>!!g.dataset&&g.dataset.length),R=y(!1),be=y(null),B=y(Rt()),fe=y(!1),ke=y(""),P=y(void 0),Ve=y(0),V=y(null),Ne=y(null),We=y(null),ee=y(null),Ue=y(null),He=y(null),Ql=y(0),Xe=y(0),je=y(0),we=y(null),le=y(null),te=y(null),Ae=y(null),Ge=y(null),e=y(ze()),{loading:N,FINAL_DATASET:k,manualLoading:Ce}=Kt({...Et(g),FINAL_CONFIG:e,prepareConfig:ze,callback:()=>{Promise.resolve().then(async()=>{await ye()})},skeletonDataset:[[17040672e5,10,20,2,10,30],[17067456e5,10,30,5,20,50],[17092512e5,20,50,10,30,80],[17119296e5,30,80,20,50,130],[17145216e5,50,130,30,100,210],[17172e8,80,210,50,150,340],[1719792e6,130,340,80,280,550],[17224704e5,210,550,130,450,890],[17251488e5,340,890,210,750,1440],[17277408e5,550,1440,340,1230,2330],[17304192e5,890,2330,550,1950,3770],[17330112e5,1440,3770,890,3200,5100]],skeletonConfig:Pt({defaultConfig:e.value,userConfig:{useCssAnimation:!1,userOptions:{show:!1},table:{show:!1},style:{backgroundColor:"#99999930",layout:{candle:{colors:{bearish:"#BABABA",bullish:"#CACACA"}},grid:{stroke:"#6A6A6A",verticalLines:{stroke:"#6A6A6A"},horizontalLines:{stroke:"#6A6A6A"},yAxis:{dataLabels:{show:!1},scale:{min:null,max:null}}},wick:{stroke:"#6A6A6A",extremity:{color:"#6A6A6A"}}},tooltip:{show:!1},zoom:{show:!1,startIndex:null,endIndex:null}}}})}),{userOptionsVisible:$e,setUserOptionsVisibility:qe,keepUserOptionState:Ye}=aa({config:e.value}),{svgRef:Fe}=oa({config:e.value.style.title});function Zl(){qe(!0)}function et(){qe(!1),Pe("selectX",{seriesIndex:null,datapoint:null}),P.value=null}function ze(){const l=Re({userConfig:g.config,defaultConfig:Yl});let a={};const t=l.theme;if(t)if(!Jl.value(l))Kl(l),a=l;else{const o=Re({userConfig:Ol[t]||g.config,defaultConfig:l});a={...Re({userConfig:g.config,defaultConfig:o})}}else a=l;return g.config&&pe(g.config,"style.zoom.startIndex")?a.style.zoom.startIndex=g.config.style.zoom.startIndex:a.style.zoom.startIndex=null,g.config&&pe(g.config,"style.zoom.endIndex")?a.style.zoom.endIndex=g.config.style.zoom.endIndex:a.style.zoom.endIndex=null,g.config&&pe(g.config,"style.layout.grid.yAxis.scale.min")?a.style.layout.grid.yAxis.scale.min=g.config.style.layout.grid.yAxis.scale.min:a.style.layout.grid.yAxis.scale.min=null,g.config&&pe(g.config,"style.layout.grid.yAxis.scale.max")?a.style.layout.grid.yAxis.scale.max=g.config.style.layout.grid.yAxis.scale.max:a.style.layout.grid.yAxis.scale.max=null,a}ie(()=>g.config,l=>{N.value||(e.value=ze()),$e.value=!e.value.userOptions.showOnChartHover,Je(),Ql.value+=1,je.value+=1,Xe.value+=1,I.value.showTable=e.value.table.show,I.value.showTooltip=e.value.style.tooltip.show,ne()},{deep:!0}),ie(()=>g.dataset,l=>{Array.isArray(l)&&l.length>0&&(Ce.value=!1),dl()},{deep:!0});const x=y({height:e.value.style.height,width:e.value.style.width,xAxisFontSize:e.value.style.layout.grid.xAxis.dataLabels.fontSize,yAxisFontSize:e.value.style.layout.grid.yAxis.dataLabels.fontSize}),X=wl(null),Z=wl(null);Tt(()=>{Je()});const Y=c(()=>!!e.value.debug);function Je(){if(zl(g.dataset)&&(Q({componentName:"VueUiCandlestick",type:"dataset",debug:Y.value}),Ce.value=!0),zl(g.dataset)||(Ce.value=e.value.loading),setTimeout(()=>{R.value=!0},10),e.value.responsive){const l=_l(()=>{R.value=!1;const{width:a,height:t}=qt({chart:V.value,title:e.value.style.title.text?Ne.value:null,slicer:e.value.style.zoom.show&&$.value>6?ee.value.$el:null,legend:We.value,source:Ue.value,noTitle:He.value});requestAnimationFrame(()=>{x.value.width=a,x.value.height=t-12,e.value.responsiveProportionalSizing?(x.value.xAxisFontSize=Ll({relator:Math.min(a,t),adjuster:e.value.style.width,source:e.value.style.layout.grid.xAxis.dataLabels.fontSize,threshold:6,fallback:6}),x.value.yAxisFontSize=Ll({relator:Math.min(a,t),adjuster:e.value.style.width,source:e.value.style.layout.grid.yAxis.dataLabels.fontSize,threshold:6,fallback:6})):(x.value.xAxisFontSize=e.value.style.layout.grid.xAxis.dataLabels.fontSize,x.value.yAxisFontSize=e.value.style.layout.grid.yAxis.dataLabels.fontSize),be.value&&clearTimeout(be.value),be.value=setTimeout(()=>{R.value=!0},10)})});X.value&&(Z.value&&X.value.unobserve(Z.value),X.value.disconnect()),X.value=new ResizeObserver(l),Z.value=V.value.parentNode,X.value.observe(Z.value)}ye()}Be(()=>{X.value&&(Z.value&&X.value.unobserve(Z.value),X.value.disconnect())});const{isPrinting:Ke,isImaging:Qe,generatePdf:Ze,generateImage:el}=Jt({elementId:"vue-ui-candlestick_".concat(B.value),fileName:e.value.style.title.text||"vue-ui-candlestick",options:e.value.userOptions.print}),lt=c(()=>e.value.userOptions.show&&!e.value.style.title.text),I=y({showTable:e.value.table.show,showTooltip:e.value.style.tooltip.show}),Le=y(0),tt=_l(l=>{Le.value=l},100);Mt(l=>{const a=le.value;if(!a)return;const t=new ResizeObserver(o=>{tt(o[0].contentRect.height)});t.observe(a),l(()=>t.disconnect())}),Be(()=>{Le.value=0});const ll=c(()=>{let l=0;return le.value&&(l=Le.value+x.value.xAxisFontSize),l});function at(){let l=e.value.style.layout.grid.yAxis.dataLabels.offsetX;return we.value&&(l=Array.from(we.value.querySelectorAll("text")).reduce((a,t)=>{const o=t.getComputedTextLength();return o>a?o:a},0)),l+13}const r=c(()=>{const{top:l,right:a,bottom:t,left:o}=e.value.style.layout.padding,s=at(),v=12;return{top:l+v,right:x.value.width-a,left:o+s,bottom:x.value.height-t-ll.value,width:x.value.width-o-a-s,height:x.value.height-l-t-ll.value-v}}),ot=c(()=>{const{left:l,top:a,width:t,height:o}=r.value,s=n.value.start,v=n.value.end-s,w=t/v,z=C.value.start-s,L=C.value.end-s,A=Math.max(0,Math.min(v,z)),D=Math.max(0,Math.min(v,L));return{x:l+A*w,y:a,width:(D-A)*w,height:o,fill:e.value.style.zoom.preview.fill,stroke:e.value.style.zoom.preview.stroke,"stroke-width":e.value.style.zoom.preview.strokeWidth,"stroke-dasharray":e.value.style.zoom.preview.strokeDasharray,"stroke-linecap":"round","stroke-linejoin":"round",style:{pointerEvents:"none",transition:"none !important",animation:"none !important"}}}),$=c(()=>k.value.length),n=y({start:0,end:$.value}),C=y({start:0,end:$.value}),tl=c(()=>e.value.style.zoom.preview.enable&&(C.value.start!==n.value.start||C.value.end!==n.value.end));function al(l,a){C.value[l]=a}function ne(){var t,o;let l=Math.max(0,Math.min((t=n.value.start)!=null?t:0,$.value-1)),a=Math.max(l+1,Math.min((o=n.value.end)!=null?o:$.value,$.value));(!Number.isFinite(l)||!Number.isFinite(a)||a<=l)&&(l=0,a=$.value),n.value.start=l,n.value.end=a,C.value.start=l,C.value.end=a,ee.value&&(ee.value.setStartValue(l),ee.value.setEndValue(a))}const ol=c(()=>k.value.map((l,a)=>({...l,absoluteIndex:a}))),sl=c(()=>ol.value.slice(n.value.start,n.value.end)),_=c(()=>(k.value.forEach((l,a)=>{[null,void 0].includes(l[0])&&Q({componentName:"VueUiCandlestick",type:"datasetAttribute",property:"period (index 0)",index:a,debug:Y.value}),[null,void 0].includes(l[1])&&Q({componentName:"VueUiCandlestick",type:"datasetAttribute",property:"open (index 1)",index:a,debug:Y.value}),[null,void 0].includes(l[2])&&Q({componentName:"VueUiCandlestick",type:"datasetAttribute",property:"high (index 2)",index:a,debug:Y.value}),[null,void 0].includes(l[3])&&Q({componentName:"VueUiCandlestick",type:"datasetAttribute",property:"low (index 3)",index:a,debug:Y.value}),[null,void 0].includes(l[4])&&Q({componentName:"VueUiCandlestick",type:"datasetAttribute",property:"close (index 4)",index:a,debug:Y.value}),[null,void 0].includes(l[5])&&Q({componentName:"VueUiCandlestick",type:"datasetAttribute",property:"volume (index 5)",index:a,debug:Y.value})}),sl.value.map(l=>({absoluteIndex:l.absoluteIndex,period:l[0],open:l[1],high:l[2],low:l[3],close:l[4],volume:l[5]})))),st=c(()=>ol.value.map(l=>({absoluteIndex:l.absoluteIndex,period:l[0],open:l[1],high:l[2],low:l[3],close:l[4],volume:l[5]}))),d=c(()=>r.value.width/sl.value.length),il=c(()=>{const l=e.value.style.layout.grid.yAxis.scale.max===null?Math.max(..._.value.map(t=>t.high)):e.value.style.layout.grid.yAxis.scale.max,a=e.value.style.layout.grid.yAxis.scale.min===null?0:e.value.style.layout.grid.yAxis.scale.min;return{max:l,min:a}}),O=c(()=>Vt(il.value.min,il.value.max,e.value.style.layout.grid.yAxis.dataLabels.steps));function ve(l,a,t=null,o=null){return{...l,x:q(r.value.left+a*d.value+d.value/2),y:q(r.value.top+(1-(l-O.value.min)/(O.value.max-O.value.min))*r.value.height),value:q(l),isMax:l===t,isMin:l===o}}const F=c(()=>{const l={o:Math.max(..._.value.map(s=>s.open)),h:Math.max(..._.value.map(s=>s.high)),l:Math.max(..._.value.map(s=>s.low)),c:Math.max(..._.value.map(s=>s.low))},a={o:Math.min(..._.value.map(s=>s.open)),h:Math.min(..._.value.map(s=>s.high)),l:Math.min(..._.value.map(s=>s.low)),c:Math.min(..._.value.map(s=>s.low))},t=Math.max(..._.value.map(s=>s.volume)),o=Math.min(..._.value.map(s=>s.volume));return _.value.map((s,v)=>{const w=ve(s.open,v,l.o,a.o),z=ve(s.high,v,l.h,a.h),L=ve(s.low,v,l.l,a.l),A=ve(s.close,v,l.c,a.c),D=s.close>s.open,bl=s.volume===t,Ee=s.volume===o;return{period:s.period,open:w,high:z,low:L,close:A,volume:s.volume,isBullish:D,absoluteIndex:s.absoluteIndex,isMaxVolume:bl,isMinVolume:Ee}})});function de({item:l,index:a,minimapH:t,unitW:o}){var w,z;const s=(w=e.value.style.layout.grid.yAxis.scale.min)!=null?w:0,v=(z=e.value.style.layout.grid.yAxis.scale.max)!=null?z:Math.max(...k.value.map(L=>L[2]));return{...l,x:q(a*o),y:q((1-(l-s)/(v-s))*t),value:q(l)}}const it=c(()=>({minimapH:l,unitW:a})=>st.value.map((t,o)=>{const s=de({item:t.open,index:o,minimapH:l,unitW:a}),v=de({item:t.high,index:o,minimapH:l,unitW:a}),w=de({item:t.low,index:o,minimapH:l,unitW:a}),z=de({item:t.close,index:o,minimapH:l,unitW:a}),L=t.close>t.open;return{period:t.period,open:s,high:v,low:w,close:z,volume:t.volume,isBullish:L,absoluteIndex:t.absoluteIndex}})),ut=c(()=>e.value.style.zoom.minimap.show?[{name:"",series:k.value.map(l=>l[2]),color:"#000000",isVisible:!0}]:[]);function rt(l){return q((l-O.value.min)/(O.value.max-O.value.min))}const ul=c(()=>O.value.ticks.map(l=>({y:r.value.bottom-r.value.height*rt(l),value:q(l)}))),nt=c(()=>_.value.map(l=>l.period)),W=c(()=>Sl({values:k.value.map(l=>l[0]),maxDatapoints:k.value.length,formatter:e.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter,start:n.value.start,end:n.value.end})),rl=c(()=>Sl({values:k.value.map(l=>l[0]),maxDatapoints:k.value.length,formatter:e.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter,start:0,end:$.value})),vt=c(()=>{const l=e.value.style.layout.grid.xAxis.dataLabels.modulo;return W.value.length?Math.min(l,[...new Set(W.value.map(a=>a.text))].length):l}),nl=c(()=>{const l=e.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter,a=Zt({useUTC:l.useUTC,locale:ea[l.locale]||{months:[],shortMonths:[],days:[],shortDays:[]},januaryAsYear:l.januaryAsYear});return(t,o)=>{var v;const s=(v=k.value.map(w=>w[0]))==null?void 0:v[t];return s==null?"":a.formatDate(new Date(s),o)}}),dt=c(()=>(k.value.map(l=>l[0])||[]).map((l,a)=>({text:nl.value(a,e.value.style.tooltip.timeFormat),absoluteIndex:a}))),ct=c(()=>(k.value.map(l=>l[0])||[]).map((l,a)=>({text:nl.value(a,e.value.style.zoom.timeFormat),absoluteIndex:a}))),_e=c(()=>{var L;const l=e.value.style.layout.grid.xAxis.dataLabels,a=W.value||[],t=rl.value||[],o=(L=n.value.start)!=null?L:0,s=P.value,v=$.value,w=a.map(A=>{var D;return(D=A==null?void 0:A.text)!=null?D:""}),z=t.map(A=>{var D;return(D=A==null?void 0:A.text)!=null?D:""});return Nt(!!l.showOnlyFirstAndLast,!!l.showOnlyAtModulo,Math.max(1,vt.value||1),w,z,o,s,v)}),vl=c(()=>{var l,a,t,o;return e.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter.enable?{start:(a=(l=W.value.find(s=>s.absoluteIndex===n.value.start))==null?void 0:l.text)!=null?a:"",end:(o=(t=W.value.find(s=>s.absoluteIndex===n.value.end-1))==null?void 0:t.text)!=null?o:""}:{start:k.value[n.value.start]?k.value[n.value.start][0]:k.value[0][0],end:k.value[n.value.end-1]?k.value[n.value.end-1][0]:k.value.at(-1)[0]}}),Se=y(null);function yt(l,a){e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:a,seriesIndex:l+n.value.start})}function ht(l,a){e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:a,seriesIndex:l+n.value.start}),P.value=void 0,fe.value=!1}ie(()=>g.selectedXIndex,l=>{if([null,void 0].includes(g.selectedXIndex)){P.value=null;return}const a=l-n.value.start;a<0||l>=n.value.end?P.value=null:P.value=a!=null?a:null},{immediate:!0});function mt(l,a){e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:a,seriesIndex:l+n.value.start}),P.value=l,Se.value={datapoint:a,seriesIndex:l,series:F.value,config:e.value},zt({seriesIndex:l,datapoint:a});const t=e.value.style.tooltip.customFormat;if(jt(t)&&Gt(()=>t({seriesIndex:l,datapoint:a,series:F.value,config:e.value})))ke.value=t({seriesIndex:l,datapoint:a,series:F.value,config:e.value});else if(e.value.style.tooltip.show){let o="";const{period:s,open:v,high:w,low:z,close:L,volume:A,isBullish:D}=F.value[l],{period:bl,open:Ee,high:Lt,low:_t,close:St,volume:It}=e.value.translations,Dt=e.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter.enable?e.value.style.tooltip.useDefaultTimeFormat?W.value[l].text:dt.value[l].text:s;o+='<div><svg style="margin-right:6px" viewBox="0 0 12 12" height="12" width="12"><rect x="0" y="0" height="12" width="12" rx="'.concat(e.value.style.layout.candle.borderRadius*3,'" stroke="').concat(e.value.style.layout.candle.stroke,'" stroke-width="').concat(e.value.style.layout.candle.strokeWidth,'" \n                fill="').concat(e.value.style.layout.candle.gradient.show?D?"url(#bullish_gradient_".concat(B.value,")"):"url(#bearish_gradient_".concat(B.value,")"):D?e.value.style.layout.candle.colors.bullish:e.value.style.layout.candle.colors.bearish,'"/></svg>').concat(Dt,"</div>"),o+="".concat(It," : <b>").concat(isNaN(A)?"-":Number(A.toFixed(e.value.style.tooltip.roundingValue)).toLocaleString(),"</b>"),o+='<div style="margin-top:6px;padding-top:6px;border-top:1px solid '.concat(e.value.style.tooltip.borderColor,'">');const Te=H({p:e.value.style.tooltip.prefix,v:v.value,s:e.value.style.tooltip.suffix,r:e.value.style.tooltip.roundingValue}),fl=H({p:e.value.style.tooltip.prefix,v:w.value,s:e.value.style.tooltip.suffix,r:e.value.style.tooltip.roundingValue}),kl=H({p:e.value.style.tooltip.prefix,v:z.value,s:e.value.style.tooltip.suffix,r:e.value.style.tooltip.roundingValue}),Me=H({p:e.value.style.tooltip.prefix,v:L.value,s:e.value.style.tooltip.suffix,r:e.value.style.tooltip.roundingValue});e.value.style.tooltip.showChart?o+='<div style="width:100%;display:flex;align-items:center;justify-content:center;">\n                    <svg viewBox="0 0 100 100" width="100px" style="background: transparent; overflow: visible">\n                        <g>\n                            <line x1="50" x2="50" y1="20" y2="80" stroke="'.concat(a.isBullish?e.value.style.layout.candle.colors.bullish:e.value.style.layout.candle.colors.bearish,'" stroke-width="2" stroke-linecap="round" />\n                            ').concat(a.isBullish?'\n                                <line x1="45" x2="50" y1="65" y2="65" stroke="'.concat(e.value.style.layout.candle.colors.bullish,'" stroke-width="1.5" stroke-linecap="round" />\n                                <line x1="50" x2="55" y1="35" y2="35" stroke="').concat(e.value.style.layout.candle.colors.bullish,'" stroke-width="1.5" stroke-linecap="round" />\n                                <text x="38" y="70" text-anchor="end" fill="').concat(e.value.style.tooltip.color,'">').concat(Te,'</text>\n                                <text x="62" y="40" text-anchor="start" fill="').concat(e.value.style.tooltip.color,'">').concat(Me,"</text>\n                            "):'\n                                <line x1="45" x2="50" y1="35" y2="35" stroke="'.concat(e.value.style.layout.candle.colors.bearish,'" stroke-width="1.5" stroke-linecap="round" />\n                                <line x1="50" x2="55" y1="65" y2="65" stroke="').concat(e.value.style.layout.candle.colors.bearish,'" stroke-width="1.5" stroke-linecap="round" />\n                                <text x="40" y="40" text-anchor="end" fill="').concat(e.value.style.tooltip.color,'">').concat(Te,'</text>\n                                <text x="60" y="70" text-anchor="start" fill="').concat(e.value.style.tooltip.color,'">').concat(Me,"</text>\n                            "),'\n                            <text x="50" y="13" text-anchor="middle" fill="').concat(e.value.style.tooltip.color,'">').concat(fl,'</text>\n                            <text x="50" y="97" text-anchor="middle" fill="').concat(e.value.style.tooltip.color,'">').concat(kl,"</text>\n                        <g>\n                    </svg>\n                    <div>\n                "):(o+="<div>".concat(Ee,": <b>").concat(Te,"</b></div>"),o+="<div>".concat(Lt,": <b>").concat(fl,"</b></div>"),o+="<div>".concat(_t,": <b>").concat(kl,"</b></div>"),o+="<div>".concat(St,": <b>").concat(Me,"</b></div>")),o+="</div>",ke.value='<div style="text-align:right">'.concat(o,"</div>")}fe.value=!0}const ae=y(null);function pt(){return new Promise(l=>requestAnimationFrame(()=>requestAnimationFrame(()=>l())))}Be(()=>{ae.value&&cancelAnimationFrame(ae.value)});async function dl(){ye(),await Al(),ae.value&&cancelAnimationFrame(ae.value),ae.value=requestAnimationFrame(async()=>{await pt(),ye()})}const oe=y(!1),cl=y(!1),ce=y(!1);function ye(){if(!oe.value){oe.value=!0;try{const{startIndex:l,endIndex:a}=e.value.style.zoom,t=$.value,o=l!=null?l:0,s=a!=null?Math.min(yl(a+1),t):t;ce.value=!0,n.value.start=o,n.value.end=s,C.value.start=o,C.value.end=s,ne(),cl.value=!0}finally{queueMicrotask(()=>{ce.value=!1}),oe.value=!1}}}function yl(l){const a=$.value;return l>a?a:l<0||l<n.value.start?e.value.style.zoom.startIndex!==null?e.value.style.zoom.startIndex+1:1:l}function Ie(l=null){Al(()=>{const a=[e.value.translations.period,e.value.translations.open,e.value.translations.high,e.value.translations.low,e.value.translations.close,e.value.translations.volume],t=F.value.map((v,w)=>[e.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter.enable?W.value[w].text:v.period,v.open.value,v.high.value,v.low.value,v.close.value,v.volume]),o=[[e.value.style.title.text],[e.value.style.title.subtitle.text],[[""],[""],[""]]].concat([a]).concat(t),s=Ht(o);l?l(s):Xt({csvContent:s,title:e.value.style.title.text||"vue-ui-candlestick"})})}const he=c(()=>{const l=F.value.map((o,s)=>{const v=e.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter.enable?W.value[s].text:o.period,w=H({p:e.value.table.td.prefix,v:o.open.value,s:e.value.table.td.suffix,r:e.value.table.td.roundingValue}),z=H({p:e.value.table.td.prefix,v:o.high.value,s:e.value.table.td.suffix,r:e.value.table.td.roundingValue}),L=H({p:e.value.table.td.prefix,v:o.low.value,s:e.value.table.td.suffix,r:e.value.table.td.roundingValue}),A=H({p:e.value.table.td.prefix,v:o.close.value,s:e.value.table.td.suffix,r:e.value.table.td.roundingValue});return['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" height="12" width="12" style="margin-right: 6px"><rect x="0" y="0" height="12" width="12" rx="'.concat(e.value.style.layout.candle.borderRadius*3,'" fill="').concat(e.value.style.layout.candle.gradient.show?o.isBullish?"url(#bullish_gradient_".concat(B.value):"url(#bearish_gradient_".concat(B.value,")"):o.isBullish?e.value.style.layout.candle.colors.bullish:e.value.style.layout.candle.colors.bearish,'"/></svg> ').concat(v),w,z,L,A,"".concat(isNaN(o.volume)?"-":o.volume.toLocaleString())]}),a={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint},t=[e.value.translations.period,e.value.translations.open,e.value.translations.high,e.value.translations.low,e.value.translations.last,e.value.translations.volume];return{head:t,body:l,config:a,colNames:t}}),J=y(!1);function hl(l){J.value=l,Ve.value+=1}function ml(){I.value.showTable=!I.value.showTable}function pl(){I.value.showTooltip=!I.value.showTooltip}const me=y(!1);function De(){me.value=!me.value}async function gt({scale:l=2}={}){if(!V.value)return;const{width:a,height:t}=V.value.getBoundingClientRect(),o=a/t,{imageUri:s,base64:v}=await ia({domElement:V.value,base64:!0,img:!0,scale:l});return{imageUri:s,base64:v,title:e.value.style.title.text,width:a,height:t,aspectRatio:o}}const xt=c(()=>x.value.width),bt=c(()=>x.value.height);sa({timeLabelsEls:le,timeLabels:W,slicer:n,configRef:e,rotationPath:["style","layout","grid","xAxis","dataLabels","rotation"],autoRotatePath:["style","layout","grid","xAxis","dataLabels","autoRotate","enable"],isAutoSize:!1,rotation:e.value.style.layout.grid.xAxis.dataLabels.autoRotate.angle,width:xt,height:bt}),ie(e,()=>{I.value={showTable:e.value.table.show,showTooltip:e.value.style.tooltip.show}},{immediate:!0});const se=c(()=>{const l=e.value.table.useDialog&&!e.value.table.show,a=I.value.showTable;return{component:l?ql:Ul,title:"".concat(e.value.style.title.text).concat(e.value.style.title.subtitle.text?": ".concat(e.value.style.title.subtitle.text):""),props:l?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:J.value,fullscreenParent:V.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:a,maxHeight:1e4,body:{backgroundColor:e.value.style.backgroundColor,color:e.value.style.color},head:{backgroundColor:e.value.style.backgroundColor,color:e.value.style.color}}}}});ie(()=>I.value.showTable,l=>{e.value.table.show||(l&&e.value.table.useDialog&&te.value?te.value.open():"close"in te.value&&te.value.close())});function gl(){I.value.showTable=!1,Ae.value&&Ae.value.setTableIconState(!1)}const ft=c(()=>e.value.style.backgroundColor),kt=c(()=>e.value.style.title),{exportSvg:wt,getSvg:At}=la({svg:Fe,title:kt,backgroundColor:ft});async function xl({isCb:l}){if(l){const{blob:a,url:t,text:o,dataUrl:s}=await At();e.value.userOptions.callbacks.svg({blob:a,url:t,text:o,dataUrl:s})}else wt()}function Ct(l){Ge.value=l}function $t(l){oe.value||ce.value||l!==n.value.start&&(n.value.start=l,C.value.start=l,ne())}function Ft(l){if(oe.value||ce.value)return;const a=yl(l);a!==n.value.end&&(n.value.end=a,C.value.end=a,ne())}function zt({seriesIndex:l,datapoint:a}){const t=n.value.start+l;Pe("selectX",{dataset:a,index:t,indexLabel:""})}return Pl({getImage:gt,generatePdf:Ze,generateCsv:Ie,generateImage:el,generateSvg:xl,toggleTable:ml,toggleTooltip:pl,toggleAnnotator:De,toggleFullscreen:hl}),(l,a)=>(i(),u("div",{ref_key:"candlestickChart",ref:V,class:U("vue-data-ui-component vue-ui-candlestick ".concat(J.value?"vue-data-ui-wrapper-fullscreen":""," ").concat(e.value.useCssAnimation?"":"vue-ui-dna")),style:ue("position:relative;font-family:".concat(e.value.style.fontFamily,"; text-align:center;background:").concat(e.value.style.backgroundColor,"; ").concat(e.value.responsive?"height: 100%":"")),id:"vue-ui-candlestick_".concat(B.value),onMouseenter:Zl,onMouseleave:et},[e.value.userOptions.buttons.annotator?(i(),K(h(Xl),{key:0,svgRef:h(Fe),backgroundColor:e.value.style.backgroundColor,color:e.value.style.color,active:me.value,onClose:De},{"annotator-action-close":b(()=>[f(l.$slots,"annotator-action-close",{},void 0,!0)]),"annotator-action-color":b(({color:t})=>[f(l.$slots,"annotator-action-color",E(T({color:t})),void 0,!0)]),"annotator-action-draw":b(({mode:t})=>[f(l.$slots,"annotator-action-draw",E(T({mode:t})),void 0,!0)]),"annotator-action-undo":b(({disabled:t})=>[f(l.$slots,"annotator-action-undo",E(T({disabled:t})),void 0,!0)]),"annotator-action-redo":b(({disabled:t})=>[f(l.$slots,"annotator-action-redo",E(T({disabled:t})),void 0,!0)]),"annotator-action-delete":b(({disabled:t})=>[f(l.$slots,"annotator-action-delete",E(T({disabled:t})),void 0,!0)]),_:3},8,["svgRef","backgroundColor","color","active"])):m("",!0),lt.value?(i(),u("div",{key:1,ref_key:"noTitle",ref:He,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):m("",!0),e.value.style.title.text?(i(),u("div",{key:2,ref_key:"chartTitle",ref:Ne,style:"width:100%;background:transparent"},[(i(),K(ua,{key:"title_".concat(je.value),config:{title:{cy:"candlestick-div-title",...e.value.style.title},subtitle:{cy:"candlestick-div-subtitle",...e.value.style.title.subtitle}}},null,8,["config"]))],512)):m("",!0),e.value.userOptions.show&&xe.value&&(h(Ye)||h($e))?(i(),K(h(jl),{ref_key:"userOptionsRef",ref:Ae,key:"user_options_".concat(Ve.value),backgroundColor:e.value.style.backgroundColor,color:e.value.style.color,isImaging:h(Qe),isPrinting:h(Ke),uid:B.value,hasTooltip:e.value.userOptions.buttons.tooltip&&e.value.style.tooltip.show,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasXls:e.value.userOptions.buttons.csv,hasTable:e.value.userOptions.buttons.table,hasFullscreen:e.value.userOptions.buttons.fullscreen,isFullscreen:J.value,isTooltip:I.value.showTooltip,titles:{...e.value.userOptions.buttonTitles},chartElement:V.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:me.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:hl,onGeneratePdf:h(Ze),onGenerateCsv:Ie,onGenerateImage:h(el),onGenerateSvg:xl,onToggleTable:ml,onToggleTooltip:pl,onToggleAnnotator:De,style:ue({visibility:h(Ye)?h($e)?"visible":"hidden":"visible"})},Cl({_:2},[l.$slots.menuIcon?{name:"menuIcon",fn:b(({isOpen:t,color:o})=>[f(l.$slots,"menuIcon",E(T({isOpen:t,color:o})),void 0,!0)]),key:"0"}:void 0,l.$slots.optionTooltip?{name:"optionTooltip",fn:b(()=>[f(l.$slots,"optionTooltip",{},void 0,!0)]),key:"1"}:void 0,l.$slots.optionPdf?{name:"optionPdf",fn:b(()=>[f(l.$slots,"optionPdf",{},void 0,!0)]),key:"2"}:void 0,l.$slots.optionCsv?{name:"optionCsv",fn:b(()=>[f(l.$slots,"optionCsv",{},void 0,!0)]),key:"3"}:void 0,l.$slots.optionImg?{name:"optionImg",fn:b(()=>[f(l.$slots,"optionImg",{},void 0,!0)]),key:"4"}:void 0,l.$slots.optionSvg?{name:"optionSvg",fn:b(()=>[f(l.$slots,"optionSvg",{},void 0,!0)]),key:"5"}:void 0,l.$slots.optionTable?{name:"optionTable",fn:b(()=>[f(l.$slots,"optionTable",{},void 0,!0)]),key:"6"}:void 0,l.$slots.optionFullscreen?{name:"optionFullscreen",fn:b(({toggleFullscreen:t,isFullscreen:o})=>[f(l.$slots,"optionFullscreen",E(T({toggleFullscreen:t,isFullscreen:o})),void 0,!0)]),key:"7"}:void 0,l.$slots.optionAnnotator?{name:"optionAnnotator",fn:b(({toggleAnnotator:t,isAnnotator:o})=>[f(l.$slots,"optionAnnotator",E(T({toggleAnnotator:t,isAnnotator:o})),void 0,!0)]),key:"8"}:void 0]),1032,["backgroundColor","color","isImaging","isPrinting","uid","hasTooltip","hasPdf","hasImg","hasSvg","hasXls","hasTable","hasFullscreen","isFullscreen","isTooltip","titles","chartElement","position","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):m("",!0),(i(),u("svg",{ref_key:"svgRef",ref:Fe,xmlns:h(Wt),"aria-label":e.value.style.title.text||"candlestick chart",class:U({"vue-data-ui-fullscreen--on":J.value,"vue-data-ui-fulscreen--off":!J.value}),viewBox:"0 0 ".concat(x.value.width<=0?10:x.value.width," ").concat(x.value.height<=0?10:x.value.height),style:ue("max-width:100%;overflow:visible;background:transparent;color:".concat(e.value.style.color))},[Oe(h(Gl)),l.$slots["chart-background"]?(i(),u("foreignObject",{key:0,x:r.value.left,y:r.value.top,width:Math.max(.1,r.value.width),height:Math.max(.1,r.value.height),style:{pointerEvents:"none"}},[f(l.$slots,"chart-background",{},void 0,!0)],8,da)):m("",!0),F.value.length>0?(i(),u("g",ca,[p("defs",null,[p("linearGradient",{id:"bearish_gradient_".concat(B.value),x2:"0%",y2:"100%"},[p("stop",{offset:"0%","stop-color":e.value.style.layout.candle.colors.bearish},null,8,ha),p("stop",{offset:"50%","stop-color":"".concat(h(ge)(e.value.style.layout.candle.colors.bearish,.02),"DE")},null,8,ma),p("stop",{offset:"100%","stop-color":"".concat(h(ge)(e.value.style.layout.candle.colors.bearish,.05),"66")},null,8,pa)],8,ya),p("linearGradient",{id:"bullish_gradient_".concat(B.value),x2:"0%",y2:"100%"},[p("stop",{offset:"0%","stop-color":e.value.style.layout.candle.colors.bullish},null,8,xa),p("stop",{offset:"50%","stop-color":"".concat(h(ge)(e.value.style.layout.candle.colors.bullish,.02),"DE")},null,8,ba),p("stop",{offset:"100%","stop-color":"".concat(h(ge)(e.value.style.layout.candle.colors.bullish,.05),"66")},null,8,fa)],8,ga)]),e.value.style.layout.grid.show?(i(),u("g",ka,[p("line",{x1:r.value.left,x2:r.value.left,y1:r.value.top,y2:r.value.bottom,stroke:e.value.style.layout.grid.stroke,"stroke-width":e.value.style.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,wa),p("line",{x1:r.value.left,x2:r.value.right,y1:r.value.bottom,y2:r.value.bottom,stroke:e.value.style.layout.grid.stroke,"stroke-width":e.value.style.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,Aa),e.value.style.layout.grid.horizontalLines.show?(i(!0),u(S,{key:0},M(ul.value,t=>(i(),u("line",{x1:r.value.left,x2:r.value.right,y1:t.y,y2:t.y,stroke:e.value.style.layout.grid.horizontalLines.stroke,"stroke-width":e.value.style.layout.grid.horizontalLines.strokeWidth,"stroke-dasharray":e.value.style.layout.grid.horizontalLines.strokeDasharray,"stroke-linecap":"round"},null,8,Ca))),256)):m("",!0),e.value.style.layout.grid.verticalLines.show?(i(!0),u(S,{key:1},M(_e.value,(t,o)=>(i(),u("g",null,[t.text?(i(),u("line",{key:0,x1:r.value.left+d.value*o+d.value/2,x2:r.value.left+d.value*o+d.value/2,y1:r.value.top,y2:r.value.bottom,stroke:e.value.style.layout.grid.verticalLines.stroke,"stroke-width":e.value.style.layout.grid.verticalLines.strokeWidth,"stroke-dasharray":e.value.style.layout.grid.verticalLines.strokeDasharray,"stroke-linecap":"round"},null,8,$a)):m("",!0)]))),256)):m("",!0),e.value.style.layout.grid.xAxis.ticks.show?(i(!0),u(S,{key:2},M(_e.value,(t,o)=>(i(),u("g",null,[t.text?(i(),u("line",{key:0,x1:r.value.left+d.value*o+d.value/2,x2:r.value.left+d.value*o+d.value/2,y1:r.value.bottom,y2:r.value.bottom+3,stroke:e.value.style.layout.grid.stroke,"stroke-width":e.value.style.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,Fa)):m("",!0)]))),256)):m("",!0)])):m("",!0),e.value.style.layout.grid.yAxis.dataLabels.show?(i(),u("g",{key:1,ref_key:"scaleLabels",ref:we},[(i(!0),u(S,null,M(ul.value,(t,o)=>(i(),u("g",null,[t.value>=O.value.min&&t.value<=O.value.max?(i(),u("line",{key:0,x1:r.value.left,x2:r.value.left-5,y1:t.y,y2:t.y,stroke:e.value.style.layout.grid.stroke,"stroke-width":e.value.style.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,za)):m("",!0),t.value>=O.value.min&&t.value<=O.value.max?(i(),u("text",{key:1,x:r.value.left-8+e.value.style.layout.grid.yAxis.dataLabels.offsetX,y:t.y+x.value.yAxisFontSize/3,"font-size":x.value.yAxisFontSize,"text-anchor":"end",fill:e.value.style.layout.grid.yAxis.dataLabels.color,"font-weight":e.value.style.layout.grid.yAxis.dataLabels.bold?"bold":"normal"},re(h(H)({p:e.value.style.layout.grid.yAxis.dataLabels.prefix,v:t.value,s:e.value.style.layout.grid.yAxis.dataLabels.suffix,r:e.value.style.layout.grid.yAxis.dataLabels.roundingValue})),9,La)):m("",!0)]))),256))],512)):m("",!0),e.value.style.layout.grid.xAxis.dataLabels.show&&!e.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter.enable?(i(),u("g",{key:2,ref_key:"timeLabelsEls",ref:le},[(i(!0),u(S,null,M(nt.value,(t,o)=>(i(),u("g",null,[p("text",{class:"vue-data-ui-time-label",transform:"translate(".concat(r.value.left+d.value*o+d.value/2,", ").concat(r.value.bottom+x.value.xAxisFontSize*1.5,"), rotate(").concat(e.value.style.layout.grid.xAxis.dataLabels.rotation,")"),"text-anchor":e.value.style.layout.grid.xAxis.dataLabels.rotation>0?"start":e.value.style.layout.grid.xAxis.dataLabels.rotation<0?"end":"middle","font-size":x.value.xAxisFontSize,fill:e.value.style.layout.grid.xAxis.dataLabels.color,"font-weight":e.value.style.layout.grid.xAxis.dataLabels.bold?"bold":"normal"},re(t),9,_a)]))),256))],512)):m("",!0),e.value.style.layout.grid.xAxis.dataLabels.show&&e.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter.enable?(i(),u("g",{key:3,ref_key:"timeLabelsEls",ref:le},[(i(!0),u(S,null,M(_e.value,(t,o)=>(i(),u("g",null,[p("text",{class:"vue-data-ui-time-label",transform:"translate(".concat(r.value.left+d.value*o+d.value/2,", ").concat(r.value.bottom+x.value.xAxisFontSize*1.5,"), rotate(").concat(e.value.style.layout.grid.xAxis.dataLabels.rotation,")"),"text-anchor":e.value.style.layout.grid.xAxis.dataLabels.rotation>0?"start":e.value.style.layout.grid.xAxis.dataLabels.rotation<0?"end":"middle","font-size":x.value.xAxisFontSize,fill:e.value.style.layout.grid.xAxis.dataLabels.color,"font-weight":e.value.style.layout.grid.xAxis.dataLabels.bold?"bold":"normal"},re(t.text),9,Sa)]))),256))],512)):m("",!0),e.value.type==="candlestick"?(i(),u(S,{key:4},[p("g",null,[(i(!0),u(S,null,M(F.value,(t,o)=>(i(),u("g",null,[p("rect",{x:t.open.x-e.value.style.layout.wick.strokeWidth/2,y:t.high.y,width:e.value.style.layout.wick.strokeWidth,height:Math.abs(t.high.y-t.low.y),fill:e.value.style.layout.wick.stroke,stroke:"none",rx:e.value.style.layout.wick.strokeWidth/2,class:U({"vue-data-ui-transition":R.value&&!h(N)})},null,10,Ia),e.value.style.layout.wick.extremity.shape==="circle"?(i(),u("g",Da,[p("circle",{cx:t.high.x,cy:t.high.y,r:e.value.style.layout.wick.extremity.size==="auto"?d.value/20:e.value.style.layout.wick.extremity.size,fill:e.value.style.layout.wick.extremity.color,class:U({"vue-data-ui-transition":R.value&&!h(N)})},null,10,Ea),p("circle",{cx:t.low.x,cy:t.low.y,r:e.value.style.layout.wick.extremity.size==="auto"?d.value/20:e.value.style.layout.wick.extremity.size,fill:e.value.style.layout.wick.extremity.color,class:U({"vue-data-ui-transition":R.value&&!h(N)})},null,10,Ta)])):m("",!0),e.value.style.layout.wick.extremity.shape==="line"?(i(),u("g",Ma,[p("rect",{x:t.high.x-(e.value.style.layout.wick.extremity.size==="auto"?d.value*e.value.style.layout.candle.widthRatio:e.value.style.layout.wick.extremity.size)/2,y:t.high.y-e.value.style.layout.wick.strokeWidth/2,width:Math.abs(t.high.x-(e.value.style.layout.wick.extremity.size==="auto"?d.value*e.value.style.layout.candle.widthRatio:e.value.style.layout.wick.extremity.size)/2-(t.high.x+(e.value.style.layout.wick.extremity.size==="auto"?d.value*e.value.style.layout.candle.widthRatio:e.value.style.layout.wick.extremity.size)/2)),height:e.value.style.layout.wick.strokeWidth,rx:e.value.style.layout.wick.strokeWidth/2,fill:e.value.style.layout.wick.extremity.color,stroke:"none",class:U({"vue-data-ui-transition":R.value&&!h(N)})},null,10,Ba),p("rect",{x:t.low.x-(e.value.style.layout.wick.extremity.size==="auto"?d.value*e.value.style.layout.candle.widthRatio:e.value.style.layout.wick.extremity.size)/2,y:t.low.y-e.value.style.layout.wick.strokeWidth/2,width:Math.abs(t.low.x-(e.value.style.layout.wick.extremity.size==="auto"?d.value*e.value.style.layout.candle.widthRatio:e.value.style.layout.wick.extremity.size)/2-(t.low.x+(e.value.style.layout.wick.extremity.size==="auto"?d.value*e.value.style.layout.candle.widthRatio:e.value.style.layout.wick.extremity.size)/2)),height:e.value.style.layout.wick.strokeWidth,fill:e.value.style.layout.wick.extremity.color,stroke:"none",rx:e.value.style.layout.wick.strokeWidth/2,class:U({"vue-data-ui-transition":R.value&&!h(N)})},null,10,Oa)])):m("",!0)]))),256))]),p("g",null,[(i(!0),u(S,null,M(F.value,(t,o)=>(i(),u("rect",{x:t.open.x-d.value/2+d.value*(1-e.value.style.layout.candle.widthRatio)/2,y:t.isBullish?t.close.y:t.open.y,height:Math.abs(t.close.y-t.open.y)<=0?1e-4:Math.abs(t.close.y-t.open.y),width:d.value*e.value.style.layout.candle.widthRatio<=0?1e-4:d.value*e.value.style.layout.candle.widthRatio,fill:e.value.style.layout.candle.gradient.underlayer,rx:e.value.style.layout.candle.borderRadius,stroke:"none",class:U({"vue-data-ui-transition":R.value&&!h(N)})},null,10,Ra))),256)),(i(!0),u(S,null,M(F.value,(t,o)=>(i(),u("rect",{x:t.open.x-d.value/2+d.value*(1-e.value.style.layout.candle.widthRatio)/2,y:t.isBullish?t.close.y:t.open.y,height:Math.abs(t.close.y-t.open.y)<=0?1e-4:Math.abs(t.close.y-t.open.y),width:d.value*e.value.style.layout.candle.widthRatio<=0?1e-4:d.value*e.value.style.layout.candle.widthRatio,fill:t.isBullish?e.value.style.layout.candle.gradient.show?"url(#bullish_gradient_".concat(B.value,")"):e.value.style.layout.candle.colors.bullish:e.value.style.layout.candle.gradient.show?"url(#bearish_gradient_".concat(B.value,")"):e.value.style.layout.candle.colors.bearish,rx:e.value.style.layout.candle.borderRadius,stroke:e.value.style.layout.candle.stroke,"stroke-width":e.value.style.layout.candle.strokeWidth,"stroke-linecap":"round","stroke-linejoin":"round",class:U({"vue-data-ui-transition":R.value&&!h(N)})},null,10,Pa))),256))])],64)):m("",!0),e.value.type==="ohlc"?(i(!0),u(S,{key:5},M(F.value,(t,o)=>(i(),u("g",null,[p("path",{d:"M ".concat(t.high.x,",").concat(t.high.y," ").concat(t.low.x,",").concat(t.low.y," M").concat(t.open.x-Math.min(6,d.value/3),",").concat(t.open.y," ").concat(t.open.x,",").concat(t.open.y," M").concat(t.close.x,",").concat(t.close.y," ").concat(t.close.x+Math.min(6,d.value/3),",").concat(t.close.y),stroke:t.isBullish?e.value.style.layout.candle.colors.bullish:e.value.style.layout.candle.colors.bearish,"stroke-width":1},null,8,Va)]))),256)):m("",!0),p("g",null,[(i(!0),u(S,null,M(F.value,(t,o)=>(i(),u("rect",{x:r.value.left+o*d.value,y:r.value.top,height:r.value.height<=0?1e-4:r.value.height,width:d.value<=0?1e-4:d.value,fill:P.value===o||Ge.value===o?h(Ut)(e.value.style.layout.selector.color,e.value.style.layout.selector.opacity):"transparent",onMouseover:()=>mt(o,t),onMouseleave:()=>ht(o,t),onClick:()=>yt(o,t)},null,40,Na))),256))])])):m("",!0),tl.value?(i(),u("rect",$l({key:2},ot.value,{"data-start":n.value.start,"data-end":n.value.end}),null,16,Wa)):m("",!0),f(l.$slots,"svg",{svg:{...x.value,data:F.value,drawingArea:r.value}},void 0,!0)],14,va)),l.$slots.watermark?(i(),u("div",Ua,[f(l.$slots,"watermark",E(T({isPrinting:h(Ke)||h(Qe)})),void 0,!0)])):m("",!0),e.value.style.zoom.show&&$.value>6&&xe.value&&cl.value?(i(),K(ra,{key:5,ref_key:"chartSlicer",ref:ee,allMinimaps:ut.value,background:e.value.style.zoom.color,borderColor:e.value.style.backgroundColor,customFormat:e.value.style.zoom.customFormat,cutNullValues:!1,enableRangeHandles:e.value.style.zoom.enableRangeHandles,enableSelectionDrag:e.value.style.zoom.enableSelectionDrag,end:n.value.end,focusOnDrag:e.value.style.zoom.focusOnDrag,focusRangeRatio:e.value.style.zoom.focusRangeRatio,fontSize:e.value.style.zoom.fontSize,immediate:!e.value.style.zoom.preview.enable,inputColor:e.value.style.zoom.color,isPreview:tl.value,labelLeft:vl.value.start||"",labelRight:vl.value.end||"",max:$.value,min:0,minimap:e.value.style.zoom.minimap.show?h(k).map(t=>t[2]):[],minimapCompact:e.value.style.zoom.minimap.compact,minimapFrameColor:e.value.style.zoom.minimap.frameColor,minimapIndicatorColor:e.value.style.zoom.minimap.indicatorColor,minimapMerged:!1,minimapSelectedColor:e.value.style.zoom.minimap.selectedColor,minimapSelectedColorOpacity:e.value.style.zoom.minimap.selectedColorOpacity,minimapSelectedIndex:P.value,minimapSelectionRadius:1,preciseLabels:ct.value,refreshEndPoint:e.value.style.zoom.endIndex!==null?e.value.style.zoom.endIndex+1:$.value,refreshStartPoint:e.value.style.zoom.startIndex!==null?e.value.style.zoom.startIndex:0,selectColor:e.value.style.zoom.highlightColor,selectedSeries:h(k),smoothMinimap:!1,start:n.value.start,textColor:e.value.style.color,timeLabels:rl.value,usePreciseLabels:e.value.style.layout.grid.xAxis.dataLabels.datetimeFormatter.enable&&!e.value.style.zoom.useDefaultFormat,useResetSlot:e.value.style.zoom.useResetSlot,valueEnd:n.value.end,valueStart:n.value.start,verticalHandles:e.value.style.zoom.minimap.verticalHandles,"onUpdate:end":Ft,"onUpdate:start":$t,onTrapMouse:Ct,onReset:dl,onFutureEnd:a[0]||(a[0]=t=>al("end",t)),onFutureStart:a[1]||(a[1]=t=>al("start",t))},{"reset-action":b(({reset:t})=>[f(l.$slots,"reset-action",E(T({reset:t})),void 0,!0)]),slotMap:b(({height:t,unitW:o})=>[(i(!0),u(S,null,M(it.value({minimapH:t,unitW:o}),(s,v)=>(i(),u("g",null,[p("path",{d:"M ".concat(s.high.x,",").concat(s.high.y," ").concat(s.low.x,",").concat(s.low.y),stroke:s.isBullish?e.value.style.layout.candle.colors.bullish:e.value.style.layout.candle.colors.bearish,"stroke-width":1,style:ue({opacity:v>=C.value.start&&v<=C.value.end?1:.6})},null,12,Ha),p("path",{d:"M ".concat(s.open.x,",").concat(s.open.y," ").concat(s.close.x,",").concat(s.close.y),stroke:s.isBullish?e.value.style.layout.candle.colors.bullish:e.value.style.layout.candle.colors.bearish,"stroke-width":Math.min(6,o/1.5),style:ue({opacity:v>=C.value.start&&v<=C.value.end?1:.6})},null,12,Xa)]))),256))]),_:3},8,["allMinimaps","background","borderColor","customFormat","enableRangeHandles","enableSelectionDrag","end","focusOnDrag","focusRangeRatio","fontSize","immediate","inputColor","isPreview","labelLeft","labelRight","max","minimap","minimapCompact","minimapFrameColor","minimapIndicatorColor","minimapSelectedColor","minimapSelectedColorOpacity","minimapSelectedIndex","preciseLabels","refreshEndPoint","refreshStartPoint","selectColor","selectedSeries","start","textColor","timeLabels","usePreciseLabels","useResetSlot","valueEnd","valueStart","verticalHandles"])):m("",!0),p("div",{ref_key:"chartLegend",ref:We},[f(l.$slots,"legend",{legend:F.value},void 0,!0)],512),l.$slots.source?(i(),u("div",{key:6,ref_key:"source",ref:Ue,dir:"auto"},[f(l.$slots,"source",{},void 0,!0)],512)):m("",!0),Oe(h(Wl),{show:I.value.showTooltip&&fe.value,backgroundColor:e.value.style.tooltip.backgroundColor,color:e.value.style.tooltip.color,borderRadius:e.value.style.tooltip.borderRadius,borderColor:e.value.style.tooltip.borderColor,borderWidth:e.value.style.tooltip.borderWidth,fontSize:e.value.style.tooltip.fontSize,backgroundOpacity:e.value.style.tooltip.backgroundOpacity,position:e.value.style.tooltip.position,offsetY:e.value.style.tooltip.offsetY,parent:V.value,content:ke.value,isFullscreen:J.value,isCustom:e.value.style.tooltip.customFormat&&typeof e.value.style.tooltip.customFormat=="function",smooth:e.value.style.tooltip.smooth,backdropFilter:e.value.style.tooltip.backdropFilter,smoothForce:e.value.style.tooltip.smoothForce,smoothSnapThreshold:e.value.style.tooltip.smoothSnapThreshold},{"tooltip-before":b(()=>[f(l.$slots,"tooltip-before",E(T({...Se.value})),void 0,!0)]),"tooltip-after":b(()=>[f(l.$slots,"tooltip-after",E(T({...Se.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","borderRadius","borderColor","borderWidth","fontSize","backgroundOpacity","position","offsetY","parent","content","isFullscreen","isCustom","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),xe.value&&e.value.userOptions.buttons.table?(i(),K(Bt(se.value.component),$l({key:7},se.value.props,{ref_key:"tableUnit",ref:te,onClose:gl}),Cl({content:b(()=>[(i(),K(h(Hl),{key:"table_".concat(Xe.value),colNames:he.value.colNames,head:he.value.head,body:he.value.body,config:he.value.config,title:e.value.table.useDialog?"":se.value.title,withCloseButton:!e.value.table.useDialog,onClose:gl},{th:b(({th:t})=>[Fl(re(t),1)]),td:b(({td:t})=>[p("div",{innerHTML:t},null,8,ja)]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))]),_:2},[e.value.table.useDialog?{name:"title",fn:b(()=>[Fl(re(se.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:b(()=>[p("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:a[2]||(a[2]=t=>Ie(e.value.userOptions.callbacks.csv))},[Oe(h(Nl),{name:"excel",stroke:se.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):m("",!0),h(N)?(i(),K(Qt,{key:8})):m("",!0)],46,na))}},qa=Ot(Ga,[["__scopeId","data-v-7a605f29"]]),ho=Object.freeze(Object.defineProperty({__proto__:null,default:qa},Symbol.toStringTag,{value:"Module"}));export{yo as a,ho as b,qa as v};
