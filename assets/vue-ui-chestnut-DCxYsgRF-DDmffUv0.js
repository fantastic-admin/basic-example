
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./vue-data-ui-BN9YfUec.js","./index-DXZKKOp8.js","./index-B7kifsnL.css","./alert-l5XlVwCh.js","./vue-data-ui-D1HaM8UR.css","./vue-ui-accordion-UpZ765hd-DndPzmcD.js","./useNestedProp-dJX_8vvZ-BzBW50KN.js","./PenAndPaper-DSvu9dwa-B6YjX2xm.js","./ColorPicker-J5wOPCeB-sgb_Bfch.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-1OZ3jcm6-BbpzMig3.js","./img-BecE5qXd-CsL1o-EN.js","./dom-to-png--BNgrTZV-DTUrW_sQ.js","./PackageVersion-TgflyMpU-q2MkeeNq.js","./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"])))=>i.map(i=>d[i]);
import{c4 as mt,J as g,e as z,a7 as kt,K as pe,E as _t,b_ as J,a9 as ge,c as o,o as a,z as ae,A as h,r as N,u as n,c0 as Ee,h as V,j as oe,k as ue,O as y,n as w,g as xe,f as s,t as c,F as x,R as m,l as Q,X as wt,m as $t,N as Ct,c1 as q}from"./index-DXZKKOp8.js";import{s as Tt,Q as zt,A as At,v as St,m as P,C as Ft,b as me,p as ne,a as ke,g as Nt,I as E,f as A,y as It,O as F,G as Me,K as De,k as Be,J as Lt,V as Z,W as R,e as Ot,r as Vt}from"./vue-data-ui-BN9YfUec.js";import{t as Pt,o as Ge}from"./useNestedProp-dJX_8vvZ-BzBW50KN.js";import{S as Rt,T as jt}from"./BaseScanner-BgWxam9d-B19ueoDW.js";import{m as Et}from"./usePrinter-DTzqpYKF-D5mkxXp9.js";import{O as Mt}from"./useSvgExport-DrjCWun4-CbW14PXm.js";import{w as Dt}from"./useTableResponsive-Cbx-ACcP-D6juxeoK.js";import{a as Bt}from"./useUserOptionState-BIvW1Kz7-D6llU1BK.js";import{o as Gt}from"./useChartAccessibility-9icAAmYg-BcUQIUvr.js";import Xt from"./img-BecE5qXd-CsL1o-EN.js";import{J as Ut}from"./themes-AUNCOb2G-RAhReTPj.js";import"./alert-l5XlVwCh.js";import"./dom-to-png--BNgrTZV-DTUrW_sQ.js";const Wt=["id"],Kt={key:1,ref:"noTitle",class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},Yt=["xmlns","viewBox"],Jt=["width","height"],qt={key:1},Ht=["fill","font-weight","font-size","x","y"],Qt=["fill","font-weight","font-size","x","y"],Zt=["id"],el=["stop-color"],tl=["stop-color"],ll=["id"],al=["stop-color"],ol=["stop-color"],ul=["id"],nl=["stop-color"],sl=["stop-color"],rl=["stop-color"],il=["id"],cl=["stop-color"],dl=["stop-color"],vl=["stop-color"],yl=["id"],hl=["stop-color"],bl=["stop-color"],fl=["stop-color"],pl={key:2},gl=["x","y","font-size","font-weight","fill"],xl=["x","y","font-size","font-weight","fill"],ml=["id"],kl=["stop-color"],_l=["stop-color"],wl=["d","stroke","fill"],$l=["cx","cy","r","fill"],Cl=["cx","cy","r","fill","stroke","stroke-width","onClick"],Tl={key:3},zl=["x","y","font-size","fill","onClick"],Al={key:0},Sl=["x","y","fill","font-size","font-weight"],Fl=["x","y","height","width","fill","rx","onClick"],Nl=["x","y","height","width","fill","rx","stroke","stroke-width","onClick"],Il={key:4},Ll=["x","y","fill","font-size","onClick"],Ol=["d","stroke"],Vl=["fill","cx","cy","r","onClick"],Pl={key:5},Rl=["x","y","font-size","font-weight","fill"],jl=["x1","x2","y1","y2","stroke","stroke-width"],El=["y","height","width"],Ml={style:{width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"center","flex-direction":"column"}},Dl={style:{display:"flex","align-items":"center","justify-content":"center",gap:"12px","flex-wrap":"wrap","flex-direction":"row"}},Bl={viewBox:"0 0 20 20",height:"16",width:"16"},Gl=["fill"],Xl={key:7},Ul=["y","height","width"],Wl={style:{width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"center","flex-direction":"column"}},Kl={style:{display:"flex","align-items":"center","justify-content":"center",gap:"12px","flex-wrap":"wrap","flex-direction":"row"}},Yl={viewBox:"0 0 20 20",height:"16",width:"16"},Jl=["fill"],ql=["cx","cy","fill"],Hl=["d","stroke"],Ql=["cx","cy","fill"],Zl=["d","stroke"],ea=["cx","cy","fill"],ta=["cx","cy","fill"],la=["x","y","fill","font-size","font-weight"],aa=["x","y","fill","font-size","font-weight"],oa=["x","text-anchor","y","fill","font-size"],ua=["x","text-anchor","y","fill","font-size"],na=["x","text-anchor","y","fill","font-size"],sa=["x","text-anchor","y","fill","font-size"],ra=["x","text-anchor","y","fill","font-size"],ia=["x","y","font-size","fill"],ca=["x","y","font-size","fill"],da=["x","y","font-size","fill"],va={key:4,class:"vue-data-ui-watermark"},ya={key:5,ref:"source",dir:"auto"},ha={class:"vue-ui-data-table"},ba={key:0},fa=["data-cell"],pa={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},ga={key:0},xa={key:1},ma=["data-cell"],ka={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},_a={key:0},wa={key:1},$a=["data-cell"],Ca={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},Ta={key:0},za={key:1},Aa=["data-cell"],Sa={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},Fa={key:0},Na={key:1},Ia=["data-cell"],La={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},Oa={key:0},Va={key:1},Pa=["data-cell"],Ra={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},ja={key:0},Ea={key:1},Ma=["data-cell"],Da={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},Ba={key:0},Ga={key:1},Xa=["data-cell"],Ua={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},Wa=["data-cell"],Ka={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},Ya=["data-cell"],Ja={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},qa=["data-cell"],Ha={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},Qa=["data-cell"],Za={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},eo={__name:"vue-ui-chestnut",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:["selectRoot","selectBranch","selectNut"],setup(Xe,{expose:Ue,emit:We}){mt(l=>({v2a442640:l.tdo}));const _e=J(()=>q(()=>import("./vue-data-ui-BN9YfUec.js").then(l=>l.aw),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),Ke=J(()=>q(()=>import("./vue-ui-accordion-UpZ765hd-DndPzmcD.js"),__vite__mapDeps([5,1,2,0,3,4,6]),import.meta.url)),Ye=J(()=>q(()=>import("./PenAndPaper-DSvu9dwa-B6YjX2xm.js"),__vite__mapDeps([7,1,2,0,3,4,8,9]),import.meta.url)),Je=J(()=>q(()=>import("./UserOptions-1OZ3jcm6-BbpzMig3.js"),__vite__mapDeps([10,1,2,9,0,3,4,11,12]),import.meta.url)),qe=J(()=>q(()=>import("./PackageVersion-TgflyMpU-q2MkeeNq.js"),__vite__mapDeps([13,1,2]),import.meta.url)),He=J(()=>q(()=>import("./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"),__vite__mapDeps([14,1,2,0,3,4]),import.meta.url)),{vue_ui_chestnut:Qe}=Pt(),M=Xe,we=g(()=>!!M.dataset&&M.dataset.length),$=z(zt()),U=z(null),$e=z(0),H=z(null),se=z(null),e=z(de()),{loading:Ce,FINAL_DATASET:re}=Rt({...kt(M),FINAL_CONFIG:e,prepareConfig:de,skeletonDataset:[{name:"_",color:"#969696",branches:[{name:"_",value:32,breakdown:[{name:"_",value:16,color:"#CACACA"},{name:"_",value:16,color:"#6A6A6A"}]},{name:"_",value:16,breakdown:[{name:"_",value:8,color:"#CACACA"},{name:"_",value:8,color:"#6A6A6A"}]},{name:"_",value:8,breakdown:[{name:"_",value:4,color:"#CACACA"},{name:"_",value:4,color:"#6A6A6A"}]},{name:"_",value:4,breakdown:[{name:"_",value:2,color:"#CACACA"},{name:"_",value:2,color:"#6A6A6A"}]}]},{name:"_",color:"#C4C4C4",branches:[{name:"_",value:24,breakdown:[{name:"_",value:12,color:"#CACACA"},{name:"_",value:12,color:"#6A6A6A"}]},{name:"_",value:12,breakdown:[{name:"_",value:6,color:"#CACACA"},{name:"_",value:6,color:"#6A6A6A"}]},{name:"_",value:6,breakdown:[{name:"_",value:3,color:"#CACACA"},{name:"_",value:3,color:"#6A6A6A"}]},{name:"_",value:2,breakdown:[{name:"_",value:1,color:"#CACACA"},{name:"_",value:1,color:"#6A6A6A"}]}]}],skeletonConfig:At({defaultConfig:e.value,userConfig:{userOptions:{show:!1},table:{show:!1},style:{chart:{backgroundColor:"#99999930",layout:{grandTotal:{show:!1},roots:{stroke:"#6A6A6A",labels:{show:!1}},verticalSeparator:{stroke:"transparent"},branches:{stroke:"#6A6A6A",underlayerColor:"#6A6A6A90",labels:{show:!1,dataLabels:{show:!1}}}}}}}})}),{userOptionsVisible:ie,setUserOptionsVisibility:Te,keepUserOptionState:ze}=Bt({config:e.value}),{svgRef:ce}=Gt({config:e.value.style.chart.layout.title});function de(){const l=Ge({userConfig:M.config,defaultConfig:Qe});return l.theme?{...Ge({userConfig:Ut.vue_ui_chestnut[l.theme]||M.config,defaultConfig:l}),customPalette:St[l.theme]||P}:l}pe(()=>M.config,l=>{e.value=de(),ie.value=!e.value.userOptions.showOnChartHover,D.value.showTable=e.value.table.show,Ve()},{deep:!0});const{isPrinting:Ae,isImaging:Se,generatePdf:Fe,generateImage:Ne}=Et({elementId:"vue-ui-chestnut_".concat($.value),fileName:e.value.style.chart.layout.title.text||"vue-ui-chestnut",options:e.value.userOptions.print}),Ze=g(()=>e.value.userOptions.show),ve=g(()=>Ft(e.value.customPalette)),D=z({showTable:e.value.table.show});pe(e,()=>{D.value={showTable:e.value.table.show}},{immediate:!0});const Ie=z(null),et=g(()=>e.value.table.responsiveBreakpoint),r=z({gap:6,padding:{top:102,left:12,right:12,bottom:96},width:1024,height:0,branchSize:32,branchStart:128}),T=g(()=>({left:r.value.padding.left,top:r.value.padding.top,right:r.value.width-r.value.padding.right,bottom:r.value.height-r.value.padding.bottom,width:r.value.width-(r.value.padding.left+r.value.padding.right),height:r.value.height-(r.value.padding.top+r.value.padding.bottom),seedX:r.value.padding.left+64})),I=g(()=>re.value.flatMap(l=>(l.branches||[]).map(i=>i.value||0)).reduce((l,i)=>l+i,0)),S=g(()=>(re.value.forEach((l,i)=>{me({datasetObject:l,requiredAttributes:["name","branches"]}).forEach(t=>{ne({componentName:"VueUiChestnut",type:"datasetSerieAttribute",property:t,index:i,debug:ee.value})}),l.branches&&l.branches.forEach((t,u)=>{me({datasetObject:t,requiredAttributes:["name","value"]}).forEach(f=>{ne({componentName:"VueUiChestnut",type:"datasetSerieAttribute",property:f,index:"".concat(i," - ").concat(u),debug:ee.value})}),t.breakdown&&t.breakdown.forEach((f,p)=>{me({datasetObject:f,requiredAttributes:["name","value"]}).forEach(b=>{ne({componentName:"VueUiChestnut",type:"datasetSerieAttribute",property:b,index:"".concat(i," - ").concat(u," - ").concat(p),debug:ee.value})})})})}),re.value.map((l,i)=>{const t=(l.branches||[]).map(u=>u.value||0).reduce((u,f)=>u+f,0);return{...l,color:ke(l.color)||ve.value[i]||P[i]||P[i%P.length],id:l.id||"root_".concat(i,"_").concat($.value),type:"root",total:t,rootIndex:i,branches:(l.branches||[]).map((u,f)=>({...u,rootName:l.name,rootIndex:i,color:ke(l.color)||ve.value[i]||P[i]||P[i%P.length],value:u.value>=0?u.value:0,id:u.id||"branch_".concat(i,"_").concat(f,"_").concat($.value),proportionToRoot:u.value/t,type:"branch",breakdown:(u.breakdown||[]).map((p,b)=>({table:{rootName:l.name,rootValue:t,rootToTotal:t/I.value,branchName:u.name,branchValue:u.value,branchToTotal:u.value/I.value,branchToRoot:u.value/t,nutName:p.name,nutValue:p.value,nutToTotal:p.value/I.value,nutToRoot:p.value/t,nutToBranch:p.value/u.value},...p,type:"nut",branchName:u.name,rootName:l.name,branchTotal:u.value>=0?u.value:0,proportionToBranch:p.value/u.value,proportionToRoot:p.value/t,proportionToTree:p.value/I.value,rootIndex:i,id:p.id||"nut_".concat(i,"_").concat(f,"_").concat(b,"_").concat($.value),color:ke(p.color)||ve.value[b]||P[b]||P[b%P.length],value:p.value>=0?p.value:0}))}))}})));function tt(){return S.value}const W=We,lt=g(()=>S.value.flatMap(l=>l.branches).length),at=g(()=>Math.max(...S.value.map(l=>l.branches.map(i=>i.value).reduce((i,t)=>i+t,0)))),ot=g(()=>Math.max(...S.value.flatMap(l=>l.branches.map(i=>i.value)))),Le=g(()=>256+r.value.padding.left),B=g(()=>S.value.sort((l,i)=>i.total-l.total).map((l,i)=>{const t=T.value.height/S.value.length/2,u=l.total/at.value*(t>64?64:t);return{...l,x:T.value.seedX,y:T.value.top+T.value.height/S.value.length*(i+1)-(T.value.height/S.value.length/2+r.value.gap/2),r:u<r.value.branchSize/2?r.value.branchSize/2:u}})),ut=g(()=>e.value.style.chart.layout.branches.widthRatio<=0?.1:e.value.style.chart.layout.branches.widthRatio>1.8?1.8:e.value.style.chart.layout.branches.widthRatio),nt=g(()=>B.value.flatMap(l=>l.branches)),G=g(()=>nt.value.sort((l,i)=>i.value-l.value).map((l,i)=>({...l,y1:i*r.value.branchSize+T.value.top+i*r.value.gap,y2:i*r.value.branchSize+r.value.branchSize,x1:Le.value,x2:384*l.value/ot.value*ut.value+Le.value})));function st(l){const i=B.value.find(t=>t.rootIndex===l.rootIndex);return{x:i.x,y:i.y,r:i.r}}const d=z(null),j=z(null),k=z(null),L=z(null);function C(){d.value=null,k.value=null,L.value=null}function O(l){return L.value?L.value===null?!0:l.type==="root"?l.id===L.value.id:l.rootIndex===L.value.rootIndex:d.value===null&&k.value===null?!0:l.type==="nut"?d.value.id===l.id:l.type==="branch"?k.value.id===l.id:l.type==="root"?k.value&&k.value.rootIndex===l.rootIndex||d.value&&d.value.rootIndex===l.rootIndex:!1}function rt(l){C(),ge(()=>{d.value=l,k.value=l,j.value=Be({series:l.breakdown},l.x2+24+e.value.style.chart.layout.nuts.offsetX,l.y1+r.value.branchSize/2,80,80),W("selectNut",l.breakdown)})}function X(){d.value=null,j.value=null,W("selectNut",null)}function ye(l){k.value&&k.value.id===l.id?(k.value=null,C(),W("selectBranch",null)):(C(),k.value=l,W("selectBranch",l))}function Oe(l){L.value&&L.value.id===l.id?(C(),W("selectRoot",null)):(C(),L.value=l,W("selectRoot",l))}function it(){return T.value.bottom-(d.value.y1+180)<0?0:T.value.bottom}function K(l){return l.proportion*100>e.value.style.chart.layout.nuts.selected.labels.dataLabels.hideUnderValue}_t(()=>{Ve()});const ee=g(()=>e.value.debug);function Ve(){Nt(M.dataset)&&ne({componentName:"VueUiChestnut",type:"dataset",debug:ee.value});const l=lt.value*(r.value.branchSize+r.value.gap)+r.value.padding.top+r.value.padding.bottom;r.value.height=l}const v=g(()=>{const l=[e.value.table.th.translations.rootName,e.value.table.th.translations.rootValue,e.value.table.th.translations.rootToTotal,e.value.table.th.translations.branchName,e.value.table.th.translations.branchValue,e.value.table.th.translations.branchToRoot,e.value.table.th.translations.branchToTotal,e.value.table.th.translations.nutName,e.value.table.th.translations.nutValue,e.value.table.th.translations.nutToBranch,e.value.table.th.translations.nutToRoot,e.value.table.th.translations.nutToTotal],i=S.value.flatMap((t,u)=>t.branches.flatMap((f,p)=>f.breakdown.flatMap((b,_)=>b.table)));return{head:l,body:i}});function he(l=null){ge(()=>{const i=[[e.value.style.chart.layout.title.text],[e.value.style.chart.layout.title.subtitle.text],[""],["Grand total",I.value],[""]],t=v.value.head,u=v.value.body.map((b,_)=>[v.value.body[_-1]&&v.value.body[_-1].rootName===b.rootName?"":b.rootName,v.value.body[_-1]&&v.value.body[_-1].rootName===b.rootName?"":b.rootValue,v.value.body[_-1]&&v.value.body[_-1].rootName===b.rootName?"":b.rootToTotal,v.value.body[_-1]&&v.value.body[_-1].branchName===b.branchName?"":b.branchName,v.value.body[_-1]&&v.value.body[_-1].branchName===b.branchName?"":b.branchValue,v.value.body[_-1]&&v.value.body[_-1].branchName===b.branchName?"":b.branchToRoot,v.value.body[_-1]&&v.value.body[_-1].branchName===b.branchName?"":b.branchToTotal,b.nutName,b.nutValue,b.nutToBranch,b.nutToRoot,b.nutToTotal]),f=i.concat([t]).concat(u),p=Ot(f);l?l(p):Vt({csvContent:p,title:e.value.style.chart.layout.title.text||"vue-ui-chestnut"})})}const Y=z(!1);function Pe(l){Y.value=l,$e.value+=1}function Re(){D.value.showTable=!D.value.showTable}const te=z(!1);function be(){te.value=!te.value}async function ct({scale:l=2}={}){if(!U.value)return;const{width:i,height:t}=U.value.getBoundingClientRect(),u=i/t,{imageUri:f,base64:p}=await Xt({domElement:U.value,base64:!0,img:!0,scale:l});return{imageUri:f,base64:p,title:e.value.style.chart.layout.title.text,width:i,height:t,aspectRatio:u}}function dt(l){const i=st(l),t=l.x1,u=l.y1,f=r.value.branchSize,p=i.x+i.r/2,b=i.y,_=20;return["M ".concat(t,",").concat(u),"C ".concat(t-_,",").concat(u," ").concat(t-_,",").concat(u," ").concat(p,",").concat(b),"C ".concat(p,",").concat(b," ").concat(t-_,",").concat(u+f," ").concat(t,",").concat(u+f),"Z"].join(" ")}const le=g(()=>{const l=e.value.table.useDialog&&!e.value.table.show,i=D.value.showTable;return{component:l?He:Ke,title:"".concat(e.value.style.chart.layout.title.text).concat(e.value.style.chart.layout.title.subtitle.text?": ".concat(e.value.style.chart.layout.title.subtitle.text):""),props:l?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:Y.value,fullscreenParent:U.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:i,maxHeight:1e4,body:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color},head:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color}}}}});pe(()=>D.value.showTable,async l=>{e.value.table.show||(l&&e.value.table.useDialog&&H.value?(await ge(),H.value.open()):"close"in H.value&&H.value.close())});const{isResponsive:vt}=Dt(Ie,et);function fe(){D.value.showTable=!1,se.value&&se.value.setTableIconState(!1)}const yt=g(()=>S.value.map((l,i)=>({...l,display:"".concat(l.name,": ").concat(E(e.value.style.chart.layout.roots.labels.formatter,l.total,A({p:e.value.style.chart.layout.legend.prefix,v:l.total,s:e.value.style.chart.layout.legend.suffix,r:e.value.style.chart.layout.legend.roundingValue}),{datapoint:l})," (").concat(A({v:l.total/I.value*100,s:"%",r:e.value.style.chart.layout.legend.roundingPercentage}),")")}))),ht=g(()=>yt.value.map(l=>({color:l.color,name:l.display,shape:"circle"}))),bt=g(()=>e.value.style.chart.backgroundColor),ft=g(()=>({...e.value.style.chart.layout.legend,textAlign:"center",show:!0,position:"bottom"})),pt=g(()=>e.value.style.chart.layout.title),{exportSvg:gt,getSvg:xt}=Mt({svg:ce,title:pt,legend:ft,legendItems:ht,backgroundColor:bt,titleEmbedded:!0});async function je({isCb:l}){if(l){const{blob:i,url:t,text:u,dataUrl:f}=await xt();e.value.userOptions.callbacks.svg({blob:i,url:t,text:u,dataUrl:f})}else gt()}return Ue({getData:tt,getImage:ct,generatePdf:Fe,generateCsv:he,generateImage:Ne,generateSvg:je,toggleTable:Re,toggleAnnotator:be,toggleFullscreen:Pe}),(l,i)=>(a(),o("div",{class:w("vue-data-ui-component vue-ui-chestnut ".concat(Y.value?"vue-data-ui-wrapper-fullscreen":"")),ref_key:"chestnutChart",ref:U,id:"vue-ui-chestnut_".concat($.value),style:y("font-family:".concat(e.value.style.fontFamily,";width:100%; text-align:center;background:").concat(e.value.style.chart.backgroundColor)),onMouseenter:i[1]||(i[1]=()=>n(Te)(!0)),onMouseleave:i[2]||(i[2]=()=>n(Te)(!1))},[e.value.userOptions.buttons.annotator?(a(),ae(n(Ye),{key:0,svgRef:n(ce),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,active:te.value,onClose:be},null,8,["svgRef","backgroundColor","color","active"])):h("",!0),Ze.value?(a(),o("div",Kt,null,512)):h("",!0),e.value.userOptions.show&&we.value&&(n(ze)||n(ie))?(a(),ae(n(Je),{ref_key:"userOptionsRef",ref:se,key:"user_options_".concat($e.value),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isImaging:n(Se),isPrinting:n(Ae),uid:$.value,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasXls:e.value.userOptions.buttons.csv,hasTable:e.value.userOptions.buttons.table,hasFullscreen:e.value.userOptions.buttons.fullscreen,isFullscreen:Y.value,titles:{...e.value.userOptions.buttonTitles},chartElement:U.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:te.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:Pe,onGeneratePdf:n(Fe),onGenerateCsv:he,onGenerateImage:n(Ne),onGenerateSvg:je,onToggleTable:Re,onToggleAnnotator:be,style:y({visibility:n(ze)?n(ie)?"visible":"hidden":"visible"})},Ee({_:2},[l.$slots.menuIcon?{name:"menuIcon",fn:V(({isOpen:t,color:u})=>[N(l.$slots,"menuIcon",oe(ue({isOpen:t,color:u})),void 0,!0)]),key:"0"}:void 0,l.$slots.optionPdf?{name:"optionPdf",fn:V(()=>[N(l.$slots,"optionPdf",{},void 0,!0)]),key:"1"}:void 0,l.$slots.optionCsv?{name:"optionCsv",fn:V(()=>[N(l.$slots,"optionCsv",{},void 0,!0)]),key:"2"}:void 0,l.$slots.optionImg?{name:"optionImg",fn:V(()=>[N(l.$slots,"optionImg",{},void 0,!0)]),key:"3"}:void 0,l.$slots.optionTable?{name:"optionTable",fn:V(()=>[N(l.$slots,"optionTable",{},void 0,!0)]),key:"4"}:void 0,l.$slots.optionFullscreen?{name:"optionFullscreen",fn:V(({toggleFullscreen:t,isFullscreen:u})=>[N(l.$slots,"optionFullscreen",oe(ue({toggleFullscreen:t,isFullscreen:u})),void 0,!0)]),key:"5"}:void 0,l.$slots.optionAnnotator?{name:"optionAnnotator",fn:V(({toggleAnnotator:t,isAnnotator:u})=>[N(l.$slots,"optionAnnotator",oe(ue({toggleAnnotator:t,isAnnotator:u})),void 0,!0)]),key:"6"}:void 0]),1032,["backgroundColor","color","isImaging","isPrinting","uid","hasPdf","hasImg","hasSvg","hasXls","hasTable","hasFullscreen","isFullscreen","titles","chartElement","position","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):h("",!0),r.value.height>0?(a(),o("svg",{key:3,ref_key:"svgRef",ref:ce,xmlns:n(It),class:w({"vue-data-ui-fullscreen--on":Y.value,"vue-data-ui-fulscreen--off":!Y.value}),viewBox:"0 0 ".concat(r.value.width<=0?10:r.value.width," ").concat(r.value.height<=0?10:r.value.height),style:y("overflow:visible;background:transparent;color:".concat(e.value.style.chart.color))},[xe(n(qe)),l.$slots["chart-background"]?(a(),o("foreignObject",{key:0,x:0,y:0,width:r.value.width<=0?10:r.value.width,height:r.value.height<=0?10:r.value.height,style:{pointerEvents:"none"}},[N(l.$slots,"chart-background",{},void 0,!0)],8,Jt)):h("",!0),d.value?h("",!0):(a(),o("g",qt,[e.value.style.chart.layout.title.text?(a(),o("text",{key:0,"text-anchor":"middle",fill:e.value.style.chart.layout.title.color,"font-weight":e.value.style.chart.layout.title.bold?"bold":"normal","font-size":e.value.style.chart.layout.title.fontSize,x:r.value.width/2,y:12+e.value.style.chart.layout.title.fontSize+e.value.style.chart.layout.title.offsetY,onClick:C},c(e.value.style.chart.layout.title.text),9,Ht)):h("",!0),e.value.style.chart.layout.title.subtitle.text?(a(),o("text",{key:1,"text-anchor":"middle",fill:e.value.style.chart.layout.title.subtitle.color,"font-weight":e.value.style.chart.layout.title.subtitle.bold?"bold":"normal","font-size":e.value.style.chart.layout.title.subtitle.fontSize,x:r.value.width/2,y:48+e.value.style.chart.layout.title.subtitle.fontSize+e.value.style.chart.layout.title.subtitle.offsetY,onClick:C},c(e.value.style.chart.layout.title.subtitle.text),9,Qt)):h("",!0)])),s("defs",null,[(a(!0),o(x,null,m(S.value,(t,u)=>(a(),o("radialGradient",{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%",id:"root_gradient_".concat($.value,"_").concat(t.rootIndex)},[s("stop",{offset:"0%","stop-color":n(F)(n(Me)(t.color,.05),100-e.value.style.chart.layout.roots.gradientIntensity)},null,8,el),s("stop",{offset:"100%","stop-color":t.color},null,8,tl)],8,Zt))),256)),(a(!0),o(x,null,m(S.value,t=>(a(),o("linearGradient",{x1:"0%",y1:"0%",x2:"100%",y2:"0%",id:"branch_gradient_".concat($.value,"_").concat(t.rootIndex)},[s("stop",{offset:"0%","stop-color":t.color},null,8,al),s("stop",{offset:"100%","stop-color":n(F)(n(Me)(t.color,.02),100-e.value.style.chart.layout.branches.gradientIntensity)},null,8,ol)],8,ll))),256)),s("radialGradient",{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%",id:"nutpick_".concat($.value)},[s("stop",{offset:"0%","stop-color":n(F)("#FFFFFF",0)},null,8,nl),s("stop",{offset:"80%","stop-color":n(F)("#FFFFFF",e.value.style.chart.layout.nuts.selected.gradientIntensity)},null,8,sl),s("stop",{offset:"100%","stop-color":n(F)("#FFFFFF",0)},null,8,rl)],8,ul),s("radialGradient",{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%",id:"nut_".concat($.value)},[s("stop",{offset:"0%","stop-color":n(F)("#FFFFFF",0)},null,8,cl),s("stop",{offset:"80%","stop-color":n(F)("#FFFFFF",e.value.style.chart.layout.nuts.gradientIntensity)},null,8,dl),s("stop",{offset:"100%","stop-color":n(F)("#FFFFFF",0)},null,8,vl)],8,il),s("radialGradient",{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%",id:"nut_underlayer_".concat($.value)},[s("stop",{offset:"0%","stop-color":n(F)(e.value.style.chart.backgroundColor,100)},null,8,hl),s("stop",{offset:"80%","stop-color":n(F)(e.value.style.chart.backgroundColor,60)},null,8,bl),s("stop",{offset:"100%","stop-color":n(F)(e.value.style.chart.backgroundColor,0)},null,8,fl)],8,yl)]),e.value.style.chart.layout.grandTotal.show?(a(),o("g",pl,[s("text",{x:T.value.seedX,y:32+e.value.style.chart.layout.grandTotal.offsetY,"font-size":e.value.style.chart.layout.grandTotal.fontSize,"font-weight":e.value.style.chart.layout.grandTotal.bold?"bold":"normal",fill:e.value.style.chart.layout.grandTotal.color,"text-anchor":"middle",onClick:C},c(e.value.style.chart.layout.grandTotal.text),9,gl),s("text",{x:T.value.seedX,y:38+e.value.style.chart.layout.grandTotal.fontSize+e.value.style.chart.layout.grandTotal.offsetY,"font-size":e.value.style.chart.layout.grandTotal.fontSize,"font-weight":e.value.style.chart.layout.grandTotal.bold?"bold":"normal",fill:e.value.style.chart.layout.grandTotal.color,"text-anchor":"middle",onClick:C},c(n(E)(e.value.style.chart.layout.grandTotal.formatter,I.value,n(A)({p:e.value.style.chart.layout.grandTotal.prefix,v:I.value,s:e.value.style.chart.layout.grandTotal.suffix,r:e.value.style.chart.layout.grandTotal.roundingValue}))),9,xl)])):h("",!0),(a(!0),o(x,null,m(G.value,t=>(a(),o("g",null,[s("defs",null,[s("linearGradient",{id:"link_grad_".concat(t.id)},[s("stop",{offset:"0%","stop-color":t.color},null,8,kl),s("stop",{offset:"100%","stop-color":n(F)(t.color,e.value.style.chart.layout.links.opacity)},null,8,_l)],8,ml)]),s("path",{d:dt(t),stroke:n(F)(t.color,e.value.style.chart.layout.links.opacity),fill:"url(#link_grad_".concat(t.id,")"),"stroke-linecap":"round","stroke-linejoin":"round",style:y("opacity:".concat(O(t)?1:0)),onClick:C},null,12,wl)]))),256)),(a(!0),o(x,null,m(B.value,t=>(a(),o("circle",{cx:t.x,cy:t.y,r:t.r,fill:e.value.style.chart.layout.roots.underlayerColor,stroke:"none",style:y("cursor:pointer; opacity:".concat(O(t)?1:.05))},null,12,$l))),256)),(a(!0),o(x,null,m(B.value,(t,u)=>(a(),o("circle",{cx:t.x,cy:t.y,r:t.r,fill:e.value.style.chart.layout.roots.useGradient?"url(#root_gradient_".concat($.value,"_").concat(t.rootIndex,")"):t.color,stroke:e.value.style.chart.layout.roots.stroke,"stroke-width":e.value.style.chart.layout.roots.strokeWidth,style:y("cursor:pointer; opacity:".concat(O(t)?1:.05)),onClick:f=>Oe(t)},null,12,Cl))),256)),e.value.style.chart.layout.roots.labels.show?(a(),o("g",Tl,[(a(!0),o(x,null,m(B.value,(t,u)=>(a(),o("text",{x:t.x,y:t.y+e.value.style.chart.layout.roots.labels.fontSize/2.6,"text-anchor":"middle","font-size":e.value.style.chart.layout.roots.labels.fontSize,fill:e.value.style.chart.layout.roots.labels.adaptColorToBackground?n(De)(t.color):e.value.style.chart.layout.roots.labels.color,"font-weight":"bold",style:y("cursor:pointer; opacity:".concat(O(t)?1:.05)),onClick:f=>Oe(t)},c(n(E)(e.value.style.chart.layout.roots.labels.formatter,t.total,n(A)({p:e.value.style.chart.layout.roots.labels.prefix,v:t.total,s:e.value.style.chart.layout.roots.labels.suffix,r:e.value.style.chart.layout.roots.labels.roundingValue}),{datapoint:t})),13,zl))),256)),(a(!0),o(x,null,m(B.value,t=>(a(),o("g",null,[d.value&&t.rootIndex===d.value.rootIndex||k.value&&t.rootIndex===k.value.rootIndex||L.value&&t.rootIndex===L.value.rootIndex?(a(),o("g",Al,[s("text",{x:t.x,y:t.y+t.r+24,"text-anchor":"middle",fill:e.value.style.chart.layout.roots.labels.name.color,"font-size":e.value.style.chart.layout.roots.labels.name.fontSize,"font-weight":e.value.style.chart.layout.roots.labels.name.bold?"bold":"normal",onClick:C},c(t.name),9,Sl)])):h("",!0)]))),256))])):h("",!0),(a(!0),o(x,null,m(G.value,t=>(a(),o("rect",{x:t.x1,y:t.y1,height:r.value.branchSize,width:t.x2-t.x1,fill:e.value.style.chart.layout.branches.underlayerColor,rx:e.value.style.chart.layout.branches.borderRadius,stroke:"none",style:y("opacity:".concat(O(t)?1:.05)),onClick:u=>ye(t)},null,12,Fl))),256)),(a(!0),o(x,null,m(G.value,(t,u)=>(a(),o("rect",{x:t.x1,y:t.y1,height:r.value.branchSize,width:t.x2-t.x1,fill:e.value.style.chart.layout.branches.useGradient?"url(#branch_gradient_".concat($.value,"_").concat(t.rootIndex,")"):t.color,rx:e.value.style.chart.layout.branches.borderRadius,stroke:e.value.style.chart.layout.branches.stroke,"stroke-width":e.value.style.chart.layout.branches.strokeWidth,style:y("cursor:pointer; opacity:".concat(O(t)?1:.05)),onClick:f=>ye(t)},null,12,Nl))),256)),e.value.style.chart.layout.branches.labels.dataLabels.show?(a(),o("g",Il,[(a(!0),o(x,null,m(G.value,t=>(a(),o("g",null,[t.proportionToRoot*100>e.value.style.chart.layout.branches.labels.dataLabels.hideUnderValue?(a(),o("text",{key:0,x:t.x1+6,y:t.y1+r.value.branchSize/1.5,"text-anchor":"start",fill:n(De)(t.color),"font-size":e.value.style.chart.layout.branches.labels.dataLabels.fontSize,"font-weight":"bold",style:y("cursor:pointer; opacity:".concat(O(t)?1:.05)),onClick:u=>ye(t)},c(n(E)(e.value.style.chart.layout.branches.labels.dataLabels.formatter,t.value,n(A)({p:e.value.style.chart.layout.branches.labels.dataLabels.prefix,v:t.value,s:e.value.style.chart.layout.branches.labels.dataLabels.suffix,r:e.value.style.chart.layout.branches.labels.dataLabels.roundingValue}),{datapoint:t})),13,Ll)):h("",!0)]))),256))])):h("",!0),(a(!0),o(x,null,m(G.value,(t,u)=>(a(),o("g",null,[(a(!0),o(x,null,m(n(Be)({series:t.breakdown,base:1},t.x2+24+e.value.style.chart.layout.nuts.offsetX,t.y1+r.value.branchSize/2,r.value.branchSize/3,r.value.branchSize/3),(f,p)=>(a(),o("path",{d:f.path,stroke:f.color,"stroke-width":10,fill:"none",style:y("opacity:".concat(O(t)?1:.1))},null,12,Ol))),256)),s("circle",{fill:e.value.style.chart.layout.nuts.useGradient?"url(#nut_".concat($.value,")"):"transparent",cx:t.x2+24+e.value.style.chart.layout.nuts.offsetX,cy:t.y1+r.value.branchSize/2,r:r.value.branchSize/2+2,onClick:f=>rt(t),style:y("cursor:pointer;opacity:".concat(O(t)?1:.1))},null,12,Vl)]))),256)),e.value.style.chart.layout.branches.labels.show&&!k.value?(a(),o("g",Pl,[(a(!0),o(x,null,m(G.value,t=>(a(),o("text",{x:t.x2+r.value.branchSize+24+e.value.style.chart.layout.nuts.offsetX,y:t.y1+r.value.branchSize/2+5,"font-size":e.value.style.chart.layout.branches.labels.fontSize,"font-weight":e.value.style.chart.layout.branches.labels.bold?"bold":"normal",fill:e.value.style.chart.layout.branches.labels.color,"text-anchor":"start",style:y("opacity:".concat(O(t)?1:.1))},c(t.name),13,Rl))),256))])):h("",!0),s("line",{x1:256+r.value.padding.left,x2:256+r.value.padding.left,y1:T.value.top,y2:T.value.bottom,stroke:e.value.style.chart.layout.verticalSeparator.stroke,"stroke-width":e.value.style.chart.layout.verticalSeparator.strokeWidth},null,8,jl),!d.value&&!k.value?(a(),o("foreignObject",{key:6,x:0,y:T.value.bottom,height:r.value.height-T.value.bottom,width:r.value.width,style:{overflow:"visible"},"data-no-svg-export":"",onClick:C},[s("div",Ml,[s("div",Dl,[(a(!0),o(x,null,m(B.value,t=>(a(),o("div",{style:y("display:flex;align-items:center;gap:3px;flex-direction:row;font-size:".concat(e.value.style.chart.layout.legend.fontSize,"px;"))},[(a(),o("svg",Bl,[s("circle",{cx:"10",cy:"10",r:"10",fill:t.color,stroke:"none"},null,8,Gl)])),n(Ce)?h("",!0):(a(),o(x,{key:0},[s("span",null,c(t.name)+":",1),s("b",null,c(n(E)(e.value.style.chart.layout.roots.labels.formatter,t.total,n(A)({p:e.value.style.chart.layout.legend.prefix,v:t.total,s:e.value.style.chart.layout.legend.suffix,r:e.value.style.chart.layout.legend.roundingValue}),{datapoint:t})),1),Q(" ("+c(n(A)({v:t.total/I.value*100,s:"%",r:e.value.style.chart.layout.legend.roundingPercentage}))+") ",1)],64))],4))),256))])])],8,El)):h("",!0),d.value&&j.value?(a(),o("g",Xl,[(a(),o("foreignObject",{x:0,y:it(),height:r.value.height-T.value.bottom,width:r.value.width,style:{overflow:"visible"},onClick:C},[s("div",Wl,[s("b",null,c(d.value.name),1),s("div",Kl,[(a(!0),o(x,null,m(d.value.breakdown,(t,u)=>(a(),o("div",{style:y("display:flex;align-items:center;gap:6px;flex-direction:row;font-size:".concat(e.value.style.chart.layout.legend.fontSize,"px;"))},[(a(),o("svg",Yl,[s("circle",{cx:"10",cy:"10",r:"10",fill:t.color,stroke:"none"},null,8,Jl)])),s("span",null,[Q(c(t.name)+": ",1),s("b",null,c(e.value.style.chart.layout.legend.prefix)+" "+c(t.value.toFixed(e.value.style.chart.layout.nuts.selected.labels.roundingValue))+" "+c(e.value.style.chart.layout.legend.suffix),1),Q(" ("+c((t.proportionToBranch*100).toFixed(e.value.style.chart.layout.nuts.selected.labels.roundingPercentage))+"%)",1)])],4))),256))])])],8,Ul)),s("circle",{cx:d.value.x2+24+e.value.style.chart.layout.nuts.offsetX,cy:d.value.y1+r.value.branchSize/2,r:256,fill:"url(#nut_underlayer_".concat($.value,")"),onClick:X,class:w(e.value.style.chart.layout.nuts.selected.useMotion?"vue-ui-chestnut-animated":"")},null,10,ql),(a(!0),o(x,null,m(j.value,t=>(a(),o("g",null,[K(t)?(a(),o("path",{key:0,d:n(Lt)(t,{x:d.value.x2+24+e.value.style.chart.layout.nuts.offsetX,y:d.value.y1+r.value.branchSize/2},16,16,!1,!1,64),stroke:t.color,"stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",fill:"none",class:w(e.value.style.chart.layout.nuts.selected.useMotion?"vue-ui-chestnut-animated":"")},null,10,Hl)):h("",!0)]))),256)),s("circle",{cx:d.value.x2+24+e.value.style.chart.layout.nuts.offsetX,cy:d.value.y1+r.value.branchSize/2,r:118,fill:e.value.style.chart.backgroundColor,onClick:X,class:w(e.value.style.chart.layout.nuts.selected.useMotion?"vue-ui-chestnut-animated":"")},null,10,Ql),(a(!0),o(x,null,m(j.value,t=>(a(),o("path",{d:t.path,stroke:t.color,"stroke-width":64,fill:"none",onClick:X,class:w(e.value.style.chart.layout.nuts.selected.useMotion?"vue-ui-chestnut-animated":"")},null,10,Zl))),256)),s("circle",{cx:d.value.x2+24+e.value.style.chart.layout.nuts.offsetX,cy:d.value.y1+r.value.branchSize/2,r:110,fill:"url(#nutpick_".concat($.value,")"),onClick:X,class:w(e.value.style.chart.layout.nuts.selected.useMotion?"vue-ui-chestnut-animated":"")},null,10,ea),s("circle",{cx:d.value.x2+24+e.value.style.chart.layout.nuts.offsetX,cy:d.value.y1+r.value.branchSize/2,r:64,fill:e.value.style.chart.backgroundColor,onClick:X,class:w(e.value.style.chart.layout.nuts.selected.useMotion?"vue-ui-chestnut-animated":"")},null,10,ta),s("text",{x:d.value.x2+24+e.value.style.chart.layout.nuts.offsetX,y:d.value.y1+8,fill:e.value.style.chart.layout.nuts.selected.labels.core.total.color,"font-size":e.value.style.chart.layout.nuts.selected.labels.core.total.fontSize,"font-weight":e.value.style.chart.layout.nuts.selected.labels.core.total.bold?"bold":"normal","text-anchor":"middle",onClick:X,class:w(e.value.style.chart.layout.nuts.selected.useMotion?"vue-ui-chestnut-animated":"")},c(e.value.translations.total),11,la),s("text",{x:d.value.x2+24+e.value.style.chart.layout.nuts.offsetX,y:d.value.y1+36,fill:e.value.style.chart.layout.nuts.selected.labels.core.value.color,"font-size":e.value.style.chart.layout.nuts.selected.labels.core.value.fontSize,"font-weight":e.value.style.chart.layout.nuts.selected.labels.core.value.bold?"bold":"normal","text-anchor":"middle",onClick:X,class:w(e.value.style.chart.layout.nuts.selected.useMotion?"vue-ui-chestnut-animated":"")},c(n(E)(e.value.style.chart.layout.nuts.selected.labels.dataLabels.formatter,d.value.value,n(A)({p:e.value.style.chart.layout.nuts.selected.labels.core.value.prefix,v:d.value.value,s:e.value.style.chart.layout.nuts.selected.labels.core.value.suffix,r:e.value.style.chart.layout.nuts.selected.roundingValue}),{datapoint:d.value})),11,aa),(a(!0),o(x,null,m(j.value,(t,u)=>(a(),o("g",null,[K(t)?(a(),o("text",{key:0,x:n(R)(t).x,"text-anchor":n(R)(t).anchor,y:n(Z)(t)-e.value.style.chart.layout.nuts.selected.labels.dataLabels.fontSize/6,fill:t.color,"font-size":e.value.style.chart.layout.nuts.selected.labels.dataLabels.fontSize/2,style:y("font-weight:".concat(e.value.style.chart.layout.nuts.selected.labels.dataLabels.bold?"bold":"")),class:w(e.value.style.chart.layout.nuts.selected.useMotion?"vue-ui-chestnut-animated":"")}," ⬤ ",14,oa)):h("",!0),K(t)?(a(),o("text",{key:1,x:n(R)(t,!0).x,"text-anchor":n(R)(t,!0).anchor,y:n(Z)(t),fill:e.value.style.chart.layout.nuts.selected.labels.dataLabels.color,"font-size":e.value.style.chart.layout.nuts.selected.labels.dataLabels.fontSize,style:y("font-weight:".concat(e.value.style.chart.layout.nuts.selected.labels.dataLabels.bold?"bold":"")),class:w(e.value.style.chart.layout.nuts.selected.useMotion?"vue-ui-chestnut-animated":"")},c(d.value.breakdown[u].name),15,ua)):h("",!0)]))),256)),(a(!0),o(x,null,m(j.value,(t,u)=>(a(),o("g",null,[K(t)?(a(),o("text",{key:0,x:n(R)(t,!0).x,"text-anchor":n(R)(t).anchor,y:n(Z)(t)+e.value.style.chart.layout.nuts.selected.labels.dataLabels.fontSize,fill:e.value.style.chart.layout.nuts.selected.labels.dataLabels.color,"font-size":e.value.style.chart.layout.nuts.selected.labels.dataLabels.fontSize,style:y("font-weight:".concat(e.value.style.chart.layout.nuts.selected.labels.dataLabels.bold?"bold":"")),class:w(e.value.style.chart.layout.nuts.selected.useMotion?"vue-ui-chestnut-animated":"")},c(n(A)({v:d.value.breakdown[u].value/d.value.value*100,s:"%",r:e.value.style.chart.layout.nuts.selected.labels.roundingPercentage}))+" "+c(e.value.translations.of)+" "+c(d.value.breakdown[u].branchName)+" "+c(n(E)(e.value.style.chart.layout.nuts.selected.labels.dataLabels.formatter,d.value.breakdown[u].value,n(A)({p:e.value.style.chart.layout.nuts.selected.labels.dataLabels.prefix,v:d.value.breakdown[u].value,s:e.value.style.chart.layout.nuts.selected.labels.dataLabels.suffix,r:e.value.style.chart.layout.nuts.selected.roundingValue}),{datapoint:j.value,seriesIndex:u})),15,na)):h("",!0),K(t)?(a(),o("text",{key:1,x:n(R)(t,!0).x,"text-anchor":n(R)(t).anchor,y:n(Z)(t)+e.value.style.chart.layout.nuts.selected.labels.dataLabels.fontSize*2,fill:e.value.style.chart.layout.nuts.selected.labels.dataLabels.color,"font-size":e.value.style.chart.layout.nuts.selected.labels.dataLabels.fontSize,style:y("font-weight:".concat(e.value.style.chart.layout.nuts.selected.labels.dataLabels.bold?"bold":"")),class:w(e.value.style.chart.layout.nuts.selected.useMotion?"vue-ui-chestnut-animated":"")},c(n(A)({v:d.value.breakdown[u].proportionToRoot*100,s:"%",r:e.value.style.chart.layout.nuts.selected.labels.roundingPercentage}))+" "+c(e.value.translations.of)+" "+c(d.value.breakdown[u].rootName),15,sa)):h("",!0),K(t)?(a(),o("text",{key:2,x:n(R)(t,!0).x,"text-anchor":n(R)(t).anchor,y:n(Z)(t)+e.value.style.chart.layout.nuts.selected.labels.dataLabels.fontSize*3,fill:e.value.style.chart.layout.nuts.selected.labels.dataLabels.color,"font-size":e.value.style.chart.layout.nuts.selected.labels.dataLabels.fontSize,style:y("font-weight:".concat(e.value.style.chart.layout.nuts.selected.labels.dataLabels.bold?"bold":"")),class:w(e.value.style.chart.layout.nuts.selected.useMotion?"vue-ui-chestnut-animated":"")},c(n(A)({v:d.value.breakdown[u].proportionToTree*100,s:"%",r:e.value.style.chart.layout.nuts.selected.labels.roundingPercentage}))+" "+c(e.value.translations.proportionToTree),15,ra)):h("",!0)]))),256))])):h("",!0),(a(!0),o(x,null,m(G.value,t=>(a(),o("g",null,[k.value&&k.value.id===t.id&&!d.value?(a(),o("text",{key:0,x:t.x1+6,y:t.y1+r.value.branchSize+24,"font-weight":"bold","text-anchor":"start","font-size":e.value.style.chart.layout.branches.labels.dataLabels.fontSize,fill:e.value.style.chart.layout.branches.labels.color,onClick:C},c(t.name)+": "+c(n(E)(e.value.style.chart.layout.branches.labels.dataLabels.formatter,t.value,n(A)({p:e.value.style.chart.layout.branches.labels.dataLabels.prefix,v:t.value,s:e.value.style.chart.layout.branches.labels.dataLabels.suffix,r:e.value.style.chart.layout.branches.labels.dataLabels.roundingValue}),{datapoint:t})),9,ia)):h("",!0),k.value&&k.value.id===t.id&&!d.value?(a(),o("text",{key:1,x:t.x1+6,y:t.y1+r.value.branchSize+48,"text-anchor":"start","font-size":e.value.style.chart.layout.branches.labels.dataLabels.fontSize,fill:e.value.style.chart.layout.branches.labels.color,onClick:C},c(n(A)({v:t.proportionToRoot*100,s:"%",r:e.value.style.chart.layout.branches.labels.dataLabels.roundingPercentage}))+" "+c(e.value.translations.of)+" "+c(t.rootName),9,ca)):h("",!0),k.value&&k.value.id===t.id&&!d.value?(a(),o("text",{key:2,x:t.x1+6,y:t.y1+r.value.branchSize+72,"text-anchor":"start","font-size":e.value.style.chart.layout.branches.labels.dataLabels.fontSize,fill:e.value.style.chart.layout.branches.labels.color,onClick:C},c(n(A)({v:t.value/I.value*100,s:"%",r:e.value.style.chart.layout.branches.labels.dataLabels.roundingPercentage}))+" "+c(e.value.translations.proportionToTree),9,da)):h("",!0)]))),256)),N(l.$slots,"svg",{svg:r.value},void 0,!0)],14,Yt)):h("",!0),l.$slots.watermark?(a(),o("div",va,[N(l.$slots,"watermark",oe(ue({isPrinting:n(Ae)||n(Se)})),void 0,!0)])):h("",!0),N(l.$slots,"legend",{legend:S.value},void 0,!0),l.$slots.source?(a(),o("div",ya,[N(l.$slots,"source",{},void 0,!0)],512)):h("",!0),we.value&&e.value.userOptions.buttons.table?(a(),ae(Ct(le.value.component),$t({key:6},le.value.props,{ref_key:"tableUnit",ref:H,onClose:fe}),Ee({content:V(()=>[s("div",{ref_key:"tableContainer",ref:Ie,class:"vue-ui-chestnut-table",style:y("".concat(e.value.table.useDialog?"":"max-height: 300px;margin-top:24px"))},[s("div",{style:y("".concat(e.value.table.useDialog?"":"padding-top:36px;","position: relative"))},[e.value.table.useDialog?h("",!0):(a(),o("div",{key:0,role:"button",tabindex:"0",style:y("width:32px; position: absolute; top: 0; left:4px; padding: 0 0px; display: flex; align-items:center;justify-content:center;height: 36px; width: 32px; cursor:pointer; background:".concat(e.value.table.th.backgroundColor,";")),onClick:fe,onKeypress:wt(fe,["enter"])},[xe(n(_e),{name:"close",stroke:e.value.table.th.color,"stroke-width":2},null,8,["stroke"])],36)),s("div",{style:{width:"100%"},class:w({"vue-ui-responsive":n(vt)})},[s("table",ha,[e.value.table.useDialog?h("",!0):(a(),o("caption",{key:0,style:y({backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline}),class:"vue-ui-data-table__caption"},[Q(c(e.value.style.chart.layout.title.text)+" ",1),e.value.style.chart.layout.title.subtitle.text?(a(),o("span",ba,c(e.value.style.chart.layout.title.subtitle.text),1)):h("",!0)],4)),s("thead",null,[s("tr",{role:"row",style:y("background:".concat(e.value.table.th.backgroundColor,";color:").concat(e.value.table.th.color))},[(a(!0),o(x,null,m(v.value.head,t=>(a(),o("th",{style:y("outline:".concat(e.value.table.th.outline))},c(t),5))),256))],4)]),s("tbody",null,[(a(!0),o(x,null,m(v.value.body,(t,u)=>(a(),o("tr",{class:w({"vue-ui-data-table__tbody__row":!0,"vue-ui-data-table__tbody__row-even":u%2===0,"vue-ui-data-table__tbody__row-odd":u%2!==0}),style:y("background:".concat(e.value.table.td.backgroundColor,";color:").concat(e.value.table.td.color))},[s("td",{class:"vue-ui-data-table__tbody__td",style:y("outline:".concat(e.value.table.td.outline)),"data-cell":v.value.head[0]},[s("div",pa,[v.value.body[u-1]&&v.value.body[u-1].rootName===t.rootName?(a(),o("span",ga)):(a(),o("span",xa,c(t.rootName),1))])],12,fa),s("td",{class:"vue-ui-data-table__tbody__td",style:y("outline:".concat(e.value.table.td.outline)),"data-cell":v.value.head[1]},[s("div",ka,[v.value.body[u-1]&&v.value.body[u-1].rootName===t.rootName?(a(),o("span",_a)):(a(),o("span",wa,c(t.rootValue.toFixed(e.value.table.td.roundingValue)),1))])],12,ma),s("td",{class:"vue-ui-data-table__tbody__td",style:y("outline:".concat(e.value.table.td.outline)),"data-cell":v.value.head[2]},[s("div",Ca,[v.value.body[u-1]&&v.value.body[u-1].rootName===t.rootName?(a(),o("span",Ta)):(a(),o("span",za,c((t.rootToTotal*100).toFixed(e.value.table.td.roundingPercentage))+"% ",1))])],12,$a),s("td",{class:"vue-ui-data-table__tbody__td",style:y("outline:".concat(e.value.table.td.outline)),"data-cell":v.value.head[3]},[s("div",Sa,[v.value.body[u-1]&&v.value.body[u-1].branchName===t.branchName?(a(),o("span",Fa)):(a(),o("span",Na,c(t.branchName),1))])],12,Aa),s("td",{class:"vue-ui-data-table__tbody__td",style:y("outline:".concat(e.value.table.td.outline)),"data-cell":v.value.head[4]},[s("div",La,[v.value.body[u-1]&&v.value.body[u-1].branchName===t.branchName?(a(),o("span",Oa)):(a(),o("span",Va,c(t.branchValue.toFixed(e.value.table.td.roundingValue)),1))])],12,Ia),s("td",{class:"vue-ui-data-table__tbody__td",style:y("outline:".concat(e.value.table.td.outline)),"data-cell":v.value.head[5]},[s("div",Ra,[v.value.body[u-1]&&v.value.body[u-1].branchName===t.branchName?(a(),o("span",ja)):(a(),o("span",Ea,c((t.branchToRoot*100).toFixed(e.value.table.td.roundingPercentage))+"% ",1))])],12,Pa),s("td",{class:"vue-ui-data-table__tbody__td",style:y("outline:".concat(e.value.table.td.outline)),"data-cell":v.value.head[6]},[s("div",Da,[v.value.body[u-1]&&v.value.body[u-1].branchName===t.branchName?(a(),o("span",Ba)):(a(),o("span",Ga,c((t.branchToTotal*100).toFixed(e.value.table.td.roundingPercentage))+"% ",1))])],12,Ma),s("td",{class:"vue-ui-data-table__tbody__td",style:y("outline:".concat(e.value.table.td.outline)),"data-cell":v.value.head[7]},[s("div",Ua,c(t.nutName),1)],12,Xa),s("td",{class:"vue-ui-data-table__tbody__td",style:y("outline:".concat(e.value.table.td.outline)),"data-cell":v.value.head[8]},[s("div",Ka,c(t.nutValue.toFixed(e.value.table.td.roundingValue)),1)],12,Wa),s("td",{class:"vue-ui-data-table__tbody__td",style:y("outline:".concat(e.value.table.td.outline)),"data-cell":v.value.head[9]},[s("div",Ja,c((t.nutToBranch*100).toFixed(e.value.table.td.roundingPercentage))+"% ",1)],12,Ya),s("td",{class:"vue-ui-data-table__tbody__td",style:y("outline:".concat(e.value.table.td.outline)),"data-cell":v.value.head[10]},[s("div",Ha,c((t.nutToRoot*100).toFixed(e.value.table.td.roundingPercentage))+"% ",1)],12,qa),s("td",{class:"vue-ui-data-table__tbody__td",style:y("outline:".concat(e.value.table.td.outline)),"data-cell":v.value.head[11]},[s("div",Za,c((t.nutToTotal*100).toFixed(e.value.table.td.roundingPercentage))+"% ",1)],12,Qa)],6))),256))])])],2)],4)],4)]),_:2},[e.value.table.useDialog?{name:"title",fn:V(()=>[Q(c(le.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:V(()=>[s("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:i[0]||(i[0]=t=>he(e.value.userOptions.callbacks.csv))},[xe(n(_e),{name:"excel",stroke:le.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):h("",!0),n(Ce)?(a(),ae(jt,{key:7})):h("",!0)],46,Wt))}},bo=Tt(eo,[["__scopeId","data-v-979b8fd8"]]);export{bo as default};
