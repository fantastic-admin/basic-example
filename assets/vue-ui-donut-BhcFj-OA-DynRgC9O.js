
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Tooltip-D0pGX8qz-BS2YwyOE.js","./vue-data-ui-8Gmf-dDN.js","./index-CJB5jCfL.js","./index-D6D_bXIl.css","./alert-I_0TAljB.js","./vue-data-ui-C46fMXq5.css","./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js","./useNestedProp-DaR1dBmj-yWXLkJlG.js","./DataTable-BfEbVwm4-B-GxLkq-.js","./Shape-12_eh8zD-Cy1mu6XW.js","./PenAndPaper--ADXtx65-ugytqLuo.js","./ColorPicker-BYn8PF2Z-DkxHqz9_.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-Cy-iNhZU-CnpDVImt.js","./img-CqYIrJ8I-E54QgU9o.js","./dom-to-png-WXGPkYro-BQsfl1t5.js","./PackageVersion-By5ZZJ0U-Cc8IPeAX.js","./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"])))=>i.map(i=>d[i]);
import{ac as oa,J as m,av as Te,e as $,E as xl,aw as wl,a8 as ra,K as Re,c1 as Fe,c as s,o as u,z as Le,A as h,r as k,f as x,g as $t,u as r,h as A,j as ee,k as te,c3 as Ht,O as z,n as Wt,F as L,R as U,m as Ut,t as me,w as At,v as _t,bq as na,l as kl,N as ua,c4 as Pe,aa as sa}from"./index-CJB5jCfL.js";import{s as ia,E as Cl,A as qt,a as ca,J as va,x as da,$ as ha,c as ya,u as $l,o as Xe,L as ye,F as ie,H as Al,T as fa,d as ga,w as Mt,X as pa,n as ba,G as E,V as xe,W as M,C as _l,I as ma,v as xa,N as jt,e as wa,f as ka,P as Ca,g as $a,_ as Ml}from"./vue-data-ui-8Gmf-dDN.js";import{p as Aa,l as _a}from"./labelUtils-B3mOOEke-Caugf9-y.js";import{E as Ma,M as Ia}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{s as Ta,i as Jt}from"./useNestedProp-DaR1dBmj-yWXLkJlG.js";import{m as Fa}from"./usePrinter-ChVMpU2f-B27PF0nl.js";import{T as La,j as Pa}from"./BaseScanner-BMpwQAfz-mc47WWxo.js";import{O as Sa}from"./useSvgExport-ByUukOZt-XO0OK7cR.js";import{i as za}from"./useThemeCheck-DGJ31Vi5-GRZcYzX8.js";import{a as Da}from"./useUserOptionState-BIvW1Kz7-D70wY835.js";import{o as Ya}from"./useChartAccessibility-9icAAmYg-CuAxjhEs.js";import Ea from"./img-CqYIrJ8I-E54QgU9o.js";import{b as Ba}from"./Shape-12_eh8zD-Cy1mu6XW.js";import Oa from"./Title-D0nD-PMs-DAiwElB_.js";import Xa from"./Legend-D2xmnFPH-CItLelVI.js";import"./alert-I_0TAljB.js";import"./dom-to-png-WXGPkYro-BQsfl1t5.js";function Na(ot){const{FINAL_CONFIG:rt,noGhostDonut:It,svg:Ge,padding:nt,labels_inline_fontSize:Tt,minSize:ut,findArcMidpoint:Ft,calcMarkerOffsetX:Lt,calcMarkerOffsetY:Pt,animatingIndex:St,segregated:zt,isSmallArc:Dt}=ot;return{smallArcLayoutsClassic:m(()=>{if(rt.value.type!=="classic")return{};const He={},st=It.value||[];if(!st.length)return He;const p=Ge.value.width/2,q=Ge.value.height/2,H=nt.value.top+16,Se=Ge.value.height-nt.value.bottom-16,We=Tt.value,Yt=We/3,it=We*1.5,Ue=8,le=6,fe=p-(ut.value+le),qe=p+(ut.value+le),ct=!!rt.value.style.chart.layout.curvedMarkers;function vt({midX:c,midY:b,bandX:g,bandY:C}){if(!ct)return"M ".concat(c," ").concat(b," L ").concat(c," ").concat(C," L ").concat(g," ").concat(C);const y=g<p?-1:1,V=g-c,Q=C-b,P=Math.sqrt(V*V+Q*Q)||1,Ce=c-p,ge=b-q,e=Math.sqrt(Ce*Ce+ge*ge)||1,Z=Ce/e,ae=ge/e,ce=e+9;function Je({x:Ye,y:X}){const re=Ye-p,$e=X-q,pe=Math.sqrt(re*re+$e*$e)||1;if(pe>=ce)return{x:Ye,y:X};const Ae=ce/pe;return{x:p+re*Ae,y:q+$e*Ae}}if(P<56){const Ye=V/P;let X=-(Q/P),re=Ye;const $e=(c+g)*.5,pe=(b+C)*.5,Ae=$e+X,Qe=pe+re,gt=(Ae-p)*(Ae-p)+(Qe-q)*(Qe-q),Ze=$e-X,pt=pe-re;(Ze-p)*(Ze-p)+(pt-q)*(pt-q)>gt&&(X=-X,re=-re);const et=.78,w=c+V*et,n=b+Q*et,ne=Math.max(0,Math.min(1,(P-18)/44)),tt=ne*ne*(3-2*ne);let B=2.5+tt*4,R=1+tt*2.5;B*=.9;const Bt={x:w+X*B+Z*R,y:n+re*B+ae*R},N=Je(Bt);return"M ".concat(c," ").concat(b," Q ").concat(N.x," ").concat(N.y," ").concat(g," ").concat(C)}let I=P*.34;I<20&&(I=20),I>46&&(I=46);let oe=P*.46;oe<22&&(oe=22),oe>70&&(oe=70);const ft={x:c+Z*I,y:b+ae*I},De=p+y*Math.max(Math.abs(g-p),ce),Et={x:g-y*Math.min(oe,Math.abs(De-g)*.75),y:C},Ne=Je(ft),Ke=Je(Et);return"M ".concat(c," ").concat(b," C ").concat(Ne.x," ").concat(Ne.y," ").concat(Ke.x," ").concat(Ke.y," ").concat(g," ").concat(C)}function dt(c){const b=String(c!=null?c:"").split(/\n/g),g=Math.max(0,b.length-1),C=We*1.2,y=g*C;return it+y}function ht({arc:c,index:b}){const{x:g,y:C}=Ft(c.path),y=Lt(c).x,V=Pt(c)-3.5,Q=dt(c.name);return{arc:c,index:b,midX:g,midY:C,inlineMarkerX:y,inlineMarkerY:V,labelHeight:Q}}function yt(c){var C;const{arc:b}=c,g=(C=b.seriesIndex)!=null?C:0;return St.value===g||zt.value.includes(g)?!1:Dt(b,g)}function ze(c){const b=c.inlineMarkerY<q,g=c.inlineMarkerX<p;return b&&g?"TL":b&&!g?"TR":!b&&g?"BL":"BR"}function je(c,b){if(b.startsWith("T")){c.sort((g,C)=>g.inlineMarkerY-C.inlineMarkerY||g.index-C.index);return}c.sort((g,C)=>C.inlineMarkerY-g.inlineMarkerY||g.index-C.index)}function we({side:c,markerX:b,markerY:g,labelY:C,connectorPath:y}){return{side:c,labelX:c==="left"?b-Ue:b+Ue,labelY:C+Yt,textAnchor:c==="left"?"end":"start",markerX:b,markerY:g,connectorPath:y}}function D({candidateList:c,side:b,bandMarkerX:g,startY:C,direction:y}){let V=C;c.forEach(Q=>{const{index:P,midX:Ce,midY:ge,labelHeight:e}=Q;let Z;y==="down"?(Z=V,V+=e):(V-=e,Z=V);const ae=Z,ce=vt({midX:Ce,midY:ge,bandX:g,bandY:ae});He[P]=we({side:b,markerX:g,markerY:ae,labelY:Z,connectorPath:ce})})}const ke=st.map((c,b)=>ht({arc:c,index:b})).filter(yt),j={TL:[],TR:[],BL:[],BR:[]};return ke.forEach(c=>{j[ze(c)].push(c)}),Object.keys(j).forEach(c=>{je(j[c],c)}),D({candidateList:j.TL,side:"left",bandMarkerX:fe,startY:H,direction:"down"}),D({candidateList:j.TR,side:"right",bandMarkerX:qe,startY:H,direction:"down"}),j.BL.length>1&&D({candidateList:j.BL,side:"left",bandMarkerX:fe,startY:Se,direction:"up"}),j.BR.length>1&&D({candidateList:j.BR,side:"right",bandMarkerX:qe,startY:Se,direction:"up"}),He})}}const Il={style:{chart:{backgroundColor:"#1A1A1A",color:"#CCCCCC",layout:{labels:{percentage:{color:"#CCCCCC"},name:{color:"#CCCCCC"},hollow:{total:{color:"#CCCCCC",value:{color:"#CCCCCC"}},average:{color:"#CCCCCC",value:{color:"#CCCCCC"}}}}},legend:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},title:{color:"#CCCCCC",subtitle:{color:"#757575"}},tooltip:{backgroundColor:"#1A1A1A",backgroundOpacity:70,color:"#CCCCCC",borderColor:"#5A5A5A"}}},table:{th:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},td:{backgroundColor:"#1A1A1A",color:"#CCCCCC"}}},Tl={style:{chart:{backgroundColor:"#FFF8E1",color:"#424242",layout:{labels:{percentage:{color:"#424242"},name:{color:"#424242"},hollow:{total:{color:"#424242",value:{color:"#424242"}},average:{color:"#424242",value:{color:"#424242"}}}}},legend:{backgroundColor:"#FFF8E1",color:"#424242"},title:{color:"#424242",subtitle:{color:"#757575"}},tooltip:{backgroundColor:"#FFECB3",backgroundOpacity:30,color:"#424242",borderColor:"#FF8A65"}}},table:{th:{backgroundColor:"#FFF8E1",color:"#424242"},td:{backgroundColor:"#FFF8E1",color:"#424242"}}},Fl={style:{chart:{backgroundColor:"#1E1E1E",color:"#BDBDBD",layout:{labels:{percentage:{color:"#BDBDBD"},name:{color:"#BDBDBD"},hollow:{total:{color:"#BDBDBD",value:{color:"#BDBDBD"}},average:{color:"#BDBDBD",value:{color:"#BDBDBD"}}}}},legend:{backgroundColor:"#1E1E1E",color:"#BDBDBD"},title:{color:"#FFF8E1",subtitle:{color:"#BDBDBD"}},tooltip:{backgroundColor:"#1E1E1E",backgroundOpacity:30,color:"#FFF8E1",borderColor:"#FF8A65"}}},table:{th:{backgroundColor:"#1E1E1E",color:"#BDBDBD"},td:{backgroundColor:"#1E1E1E",color:"#BDBDBD"}}},Ll={style:{chart:{backgroundColor:"#f6f6fb",color:"#50606C",layout:{labels:{percentage:{color:"#61747E"},name:{color:"#8A9892"},hollow:{total:{color:"#8A9892",value:{color:"#61747E"}},average:{color:"#8A9892",value:{color:"#61747E"}}}}},legend:{backgroundColor:"#f6f6fb",color:"#61747E"},title:{color:"#50606C",subtitle:{color:"#718890"}},tooltip:{backgroundColor:"#f6f6fb",color:"#50606C"}}},table:{th:{backgroundColor:"#f6f6fb",color:"#50606C"},td:{backgroundColor:"#f6f6fb",color:"#50606C"}}},Pl={style:{chart:{backgroundColor:"#1A1A1A",color:"#99AA99",layout:{labels:{percentage:{color:"#AACCAA"},name:{color:"#99CC99"},hollow:{total:{color:"#99CC99",value:{color:"#AACCAA"}},average:{color:"#99CC99",value:{color:"#AACCAA"}}}}},legend:{backgroundColor:"#1A1A1A",color:"#99AA99"},title:{color:"#66CC66",subtitle:{color:"#99AA99"}},tooltip:{backgroundColor:"#2A2F2A",color:"#AACCAA",borderColor:"#66CC66"}}},table:{th:{backgroundColor:"#1A1A1A",color:"#99AA99"},td:{backgroundColor:"#1A1A1A",color:"#AACCAA"}}},Sl={style:{chart:{backgroundColor:"#fbfafa",color:"#8A9892",layout:{labels:{percentage:{color:"#A0AC94"},name:{color:"#8A9892"},hollow:{total:{color:"#8A9892",value:{color:"#A0AC94"}},average:{color:"#8A9892",value:{color:"#A0AC94"}}}}},legend:{backgroundColor:"#fbfafa",color:"#99AA99"},title:{color:"#8A9892",subtitle:{color:"#99AA99"}},tooltip:{backgroundColor:"#fbfafa",color:"#8A9892"}}},table:{th:{backgroundColor:"#fbfafa",color:"#8F837A"},td:{backgroundColor:"#fbfafa",color:"#8F837A"}}},zl={default:{},dark:Il,celebration:Tl,celebrationNight:Fl,concrete:Ll,hack:Pl,zen:Sl},Ar=Object.freeze(Object.defineProperty({__proto__:null,celebration:Tl,celebrationNight:Fl,concrete:Ll,dark:Il,default:zl,hack:Pl,zen:Sl},Symbol.toStringTag,{value:"Module"})),Va=["id"],Ra=["id"],Ga=["xmlns","viewBox"],Ha=["width","height"],Wa={key:1},Ua=["id"],qa=["stop-color"],ja=["offset","stop-color"],Ja=["offset","stop-color"],Ka=["stop-color"],Qa={key:2},Za=["id","cx","cy"],eo=["stop-color","stop-opacity"],to=["stop-color"],lo=["id"],ao=["id"],oo=["id"],ro=["flood-color"],no=["id"],uo=["flood-color"],so=["d","stroke","filter"],io=["d","stroke","filter"],co=["cx","cy","r","fill","filter"],vo={key:6},ho=["stroke","d"],yo=["d","fill","stroke","stroke-width","filter"],fo={key:0},go=["d","fill","stroke","stroke-width","filter"],po={key:0},bo=["stroke","d"],mo={key:0},xo=["d","stroke","stroke-width","filter"],wo={key:1},ko=["d","fill","stroke","stroke-width","filter"],Co=["d","fill","stroke","stroke-width","filter"],$o={key:1},Ao=["cx","cy","r","fill","stroke","stroke-width"],_o=["cx","cy","r","fill","stroke","stroke-width"],Mo={key:0},Io=["d","fill","stroke","stroke-width"],To=["cx","cy","r","stroke"],Fo=["cx","cy","r","fill"],Lo=["cx","cy","r"],Po={key:0},So=["d","stroke","fill","onMouseenter","onMouseleave","onClick"],zo={key:1},Do=["cx","cy","r"],Yo=["x","y","fill","font-size"],Eo=["x","y","fill","font-size"],Bo=["x","y","fill","font-size"],Oo=["x","y","fill","font-size"],Xo=["filter","opacity"],No={key:0},Vo=["x","y"],Ro={key:1},Go=["cx","cy","fill","stroke","filter","onClick","onMouseenter","onMouseleave"],Ho=["text-anchor","x","y","onClick","onMouseenter","onMouseleave","innerHTML"],Wo=["text-anchor","x","y","fill","font-size","onClick","onMouseenter","onMouseleave"],Uo=["text-anchor","x","y","fill","font-size","onClick","onMouseenter","onMouseleave","innerHTML"],qo=["cx","cy","fill","stroke","filter","onClick","onMouseenter","onMouseleave"],jo=["text-anchor","x","y","onClick","onMouseenter","onMouseleave","innerHTML"],Jo=["text-anchor","x","y","fill","font-size","onClick","onMouseenter","onMouseleave"],Ko=["text-anchor","x","y","fill","font-size","onClick","onMouseenter","onMouseleave","innerHTML"],Qo={key:2},Zo=["x","y","width"],er=["x","y","width"],tr={key:4,class:"vue-data-ui-watermark"},lr=["id"],ar=["onClick"],or={key:7,class:"vue-ui-donut-hollow"},rr=["innerHTML"],nr={__name:"vue-ui-donut",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:["selectLegend","selectDatapoint"],setup(ot,{expose:rt,emit:It}){const Ge=Fe(()=>Pe(()=>import("./Tooltip-D0pGX8qz-BS2YwyOE.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),nt=Fe(()=>Pe(()=>import("./vue-data-ui-8Gmf-dDN.js").then(l=>l.aA),__vite__mapDeps([1,2,3,4,5]),import.meta.url)),Tt=Fe(()=>Pe(()=>import("./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js"),__vite__mapDeps([6,2,3,1,4,5,7]),import.meta.url)),ut=Fe(()=>Pe(()=>import("./DataTable-BfEbVwm4-B-GxLkq-.js"),__vite__mapDeps([8,2,3,9,1,4,5]),import.meta.url)),Ft=Fe(()=>Pe(()=>import("./PenAndPaper--ADXtx65-ugytqLuo.js"),__vite__mapDeps([10,2,3,1,4,5,11,12]),import.meta.url)),Lt=Fe(()=>Pe(()=>import("./UserOptions-Cy-iNhZU-CnpDVImt.js"),__vite__mapDeps([13,2,3,12,1,4,5,14,15]),import.meta.url)),Pt=Fe(()=>Pe(()=>import("./PackageVersion-By5ZZJ0U-Cc8IPeAX.js"),__vite__mapDeps([16,2,3]),import.meta.url)),St=Fe(()=>Pe(()=>import("./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"),__vite__mapDeps([17,2,3,1,4,5]),import.meta.url)),{vue_ui_donut:zt}=Ta(),{isThemeValid:Dt,warnInvalidTheme:He}=za(),st=oa(),p=ot,q=m({get(){return!!p.dataset&&p.dataset.length},set(l){return l}}),H=Te(null),Se=$(null),We=$(null),Yt=$(null),it=Te(null),Ue=Te(null),le=Te(null),fe=Te(null),qe=Te(null),ct=Te(null),vt=$(0),dt=$(0),ht=$(0),yt=$(!1),ze=$(null),je=$(null),we=m({get:()=>e.value.style.chart.layout.labels.percentage.fontSize,set:l=>l}),D=m({get:()=>e.value.style.chart.layout.labels.name.fontSize,set:l=>l}),ke=m({get:()=>e.value.style.chart.layout.labels.dataLabels.smallArcClusterFontSize,set:l=>l});let j=!1;const c=()=>{!e.value.autoSize||j||(j=!0,requestAnimationFrame(()=>{j=!1;const l=e.value,o=Se.value,t=X.value;if(!l.autoSize||!o||!t)return;const[a,i,d,f]=t.getAttribute("viewBox").split(" ").map(Number),_={x:a,y:i,width:d,height:f},Y=[{selector:".vue-data-ui-datalabel-value",baseSize:l.style.chart.layout.labels.percentage.fontSize,minSize:l.style.chart.layout.labels.percentage.minFontSize,sizeRef:we},{selector:".vue-data-ui-datalabel-name",baseSize:l.style.chart.layout.labels.name.fontSize,minSize:l.style.chart.layout.labels.name.minFontSize,sizeRef:D},{selector:".vue-data-ui-datalabel-inline",baseSize:l.style.chart.layout.labels.dataLabels.smallArcClusterFontSize,minSize:l.style.chart.layout.labels.name.minFontSize,sizeRef:ke}];Y.map(F=>o.querySelectorAll(F.selector).length).reduce((F,W)=>F+W,0)!==0&&Y.forEach(({selector:F,baseSize:W,minSize:se,sizeRef:Ve})=>{o.querySelectorAll(F).forEach(kt=>{const Ct=ma({el:kt,bounds:_,currentFontSize:W,minFontSize:se,attempts:200,padding:1});Ve.value=Ct})})}))};xl(async()=>{yt.value=!0,C(),requestAnimationFrame(c)});let b;xl(()=>{H.value&&(b=new ResizeObserver(l=>{for(const o of l){const{width:t,height:a}=o.contentRect;if(t>0&&a>0){c();break}}}),b.observe(H.value.parentElement))}),wl(()=>{b==null||b.disconnect()}),wl(()=>{le.value&&(fe.value&&le.value.unobserve(fe.value),le.value.disconnect())});const g=m(()=>!!e.value.debug);function C(){if(Cl(p.dataset)?(qt({componentName:"VueUiDonut",type:"dataset",debug:g.value}),q.value=!1,ce.value=!0):(p.dataset.forEach((l,o)=>{ca({datasetObject:l,requiredAttributes:["name","values"]}).forEach(t=>{qt({componentName:"VueUiDonut",type:"datasetSerieAttribute",property:t,index:o,debug:g.value}),q.value=!1,ce.value=!0})}),p.dataset.forEach((l,o)=>{(!l.name||l.name==="")&&qt({componentName:"VueUiDonut",type:"datasetAttributeEmpty",property:"name",index:o,debug:g.value})})),Cl(p.dataset)||(ce.value=e.value.loading),e.value.responsive){const l=Ma(()=>{const{width:o,height:t}=Ia({chart:H.value,title:e.value.style.chart.title.text?it.value:null,legend:e.value.style.chart.legend.show?Ue.value:null,source:qe.value,noTitle:ct.value,padding:e.value.autoSize?void 0:pe.value});requestAnimationFrame(()=>{n.value.width=o,n.value.height=t,c()})});le.value&&(fe.value&&le.value.unobserve(fe.value),le.value.disconnect()),le.value=new ResizeObserver(l),fe.value=H.value.parentNode,le.value.observe(fe.value)}}const y=$(va()),V=$(!1),Q=$(""),P=$(null),Ce=$(0);function ge(){const l=Jt({userConfig:p.config,defaultConfig:zt});let o={};const t=l.theme;if(!t)o=l;else if(!Dt.value(l))He(l),o=l;else{const a=Jt({userConfig:zl[t]||p.config,defaultConfig:l});o={...Jt({userConfig:p.config,defaultConfig:a}),customPalette:l.customPalette.length?l.customPalette:xa[t]||Xe}}return p.config&&jt(p.config,"events.datapointEnter")?o.events.datapointEnter=p.config.events.datapointEnter:o.events.datapointEnter=null,p.config&&jt(p.config,"events.datapointLeave")?o.events.datapointLeave=p.config.events.datapointLeave:o.events.datapointLeave=null,p.config&&jt(p.config,"events.datapointClick")?o.events.datapointClick=p.config.events.datapointClick:o.events.datapointClick=null,o}const e=$(ge()),{loading:Z,FINAL_DATASET:ae,manualLoading:ce,skeletonDataset:Je}=La({...ra(p),FINAL_CONFIG:e,prepareConfig:ge,skeletonDataset:[{name:"",values:[3],color:"#BABABA"},{name:"",values:[2],color:"#AAAAAA"},{name:"",values:[1],color:"#CACACA"}],skeletonConfig:da({defaultConfig:e.value,userConfig:{useCssAnimation:!1,table:{show:!1},startAnimation:{show:!1},userOptions:{show:!1},style:{chart:{backgroundColor:"#99999930",layout:{labels:{dataLabels:{show:!1},hollow:{average:{show:!1},total:{show:!1}},value:{show:!1}}},legend:{backgroundColor:"transparent",showValue:!1,showPercentage:!1},title:{color:"#1A1A1A",subtitle:{color:"#5A5A5A"}}}}}})}),I=$(!0),oe=$(0),ft=$(!1);let De=null;function Et(l=1e3){return new Promise(o=>{const t=performance.now();function a(i){const d=i-t,f=Math.min(d/l,1),_=Ml(f);oe.value=_,f<1?De=requestAnimationFrame(a):(oe.value=1,De=null,o())}De!==null&&cancelAnimationFrame(De),oe.value=0,De=requestAnimationFrame(a)})}Re(()=>Z.value,async l=>{var a;if(l||ft.value)return;const o=ae.value===Je,t=(a=e.value.startAnimation)==null?void 0:a.show;if(!o&&t){ft.value=!0;const i=e.value.startAnimation.durationMs||1e3;await Et(i)}else oe.value=1;I.value=!1},{immediate:!0});const{userOptionsVisible:Ne,setUserOptionsVisibility:Ke,keepUserOptionState:Ye}=Da({config:e.value}),{svgRef:X}=Ya({config:e.value.style.chart.title});function re(){Ke(!0)}function $e(){Ke(!1)}Re(()=>p.config,l=>{Z.value||(e.value=ge()),Ne.value=!e.value.userOptions.showOnChartHover,C(),vt.value+=1,dt.value+=1,ht.value+=1,w.value.dataLabels.show=e.value.style.chart.layout.labels.dataLabels.show,w.value.showTable=e.value.table.show,w.value.showTooltip=e.value.style.chart.tooltip.show,n.value.height=e.value.style.chart.height,n.value.width=e.value.style.chart.width},{deep:!0});const pe=m(()=>{const{top:l,right:o,bottom:t,left:a}=e.value.style.chart.padding;return{css:"padding:".concat(l,"px ").concat(o,"px ").concat(t,"px ").concat(a,"px"),top:l,right:o,bottom:t,left:a}}),{isPrinting:Ae,isImaging:Qe,generatePdf:gt,generateImage:Ze}=Fa({elementId:"donut__".concat(y.value),fileName:e.value.style.chart.title.text||"vue-ui-donut",options:e.value.userOptions.print}),pt=m(()=>e.value.userOptions.show&&!e.value.style.chart.title.text),et=m(()=>ha(e.value.customPalette)),w=$({dataLabels:{show:e.value.style.chart.layout.labels.dataLabels.show},showTable:e.value.table.show,showTooltip:e.value.style.chart.tooltip.show});Re(e,()=>{w.value={dataLabels:{show:e.value.style.chart.layout.labels.dataLabels.show},showTable:e.value.table.show,showTooltip:e.value.style.chart.tooltip.show}},{immediate:!0});const n=$({height:e.value.style.chart.height,width:e.value.style.chart.width}),ne=m(()=>{if(e.value.pie)return S.value;const l=e.value.style.chart.layout.donut.strokeWidth/512,o=Math.min(n.value.width,n.value.height)*l,t=o>S.value?S.value:o;return Math.max(t,12*(1+l))}),tt=It,B=m(()=>ae.value.sort((l,o)=>{var i,d;const t=Array.isArray(l.values)?l.values.reduce((f,_)=>f+_,0):(i=l.value)!=null?i:0,a=Array.isArray(o.values)?o.values.reduce((f,_)=>f+_,0):(d=o.value)!=null?d:0;return l.ghost&&!o.ghost?1:o.ghost&&!l.ghost?-1:a-t}).map((l,o)=>({name:l.name,color:$l(l.color)||et.value[o]||Xe[o]||Xe[o%Xe.length],value:ya(l.values.reduce((t,a)=>t+a,0)),absoluteValues:l.values,comment:l.comment||"",patternIndex:o,seriesIndex:o,ghost:!1,pattern:"pattern_".concat(y.value,"_").concat(o)})));Re(()=>p.dataset,l=>{Array.isArray(l)&&l.length>0&&(ce.value=!1)},{immediate:!0});const R=Te(B.value);Re(()=>B.value,l=>{R.value=l,requestAnimationFrame(c)});function Bt(){return B.value.map(l=>({name:l.name,color:l.color,value:l.value}))}const N=$([]),_e=$(!1),Ee=$(null);function Kt({from:l,to:o,duration:t,onUpdate:a,onDone:i,easing:d=Ml}){const f=performance.now();function _(Y){const F=Math.min((Y-f)/t,1),W=d(F),se=l+(o-l)*W;a(se,F),F<1?requestAnimationFrame(_):(a(o,1),i&&i())}requestAnimationFrame(_)}function bt(l){const o=B.value.find((a,i)=>i===l);let t=R.value.find((a,i)=>i===l).value;if(N.value.includes(l)){let a=function(){R.value=R.value.map((f,_)=>l===_?{...f,value:d}:f)},i=function(){_e.value=!0,Ee.value=l,Kt({from:t,to:d,duration:e.value.serieToggleAnimation.durationMs,onUpdate:(f,_)=>{R.value=R.value.map((Y,F)=>l===F?{...Y,value:f}:Y),requestAnimationFrame(c)},onDone:()=>{a(),_e.value=!1,Ee.value=null}})};N.value=N.value.filter(f=>f!==l);const d=o.value;e.value.serieToggleAnimation.show&&e.value.type==="classic"?i():(a(),requestAnimationFrame(c))}else if(N.value.length<B.value.length-1){let a=function(){N.value.push(l),R.value=R.value.map((d,f)=>l===f?{...d,value:0}:d)},i=function(){_e.value=!0,Ee.value=l,Kt({from:t,to:0,duration:e.value.serieToggleAnimation.durationMs,onUpdate:(d,f)=>{R.value=R.value.map((_,Y)=>l===Y?{..._,value:d}:_),requestAnimationFrame(c)},onDone:()=>{a(),requestAnimationFrame(c),_e.value=!1,Ee.value=null}})};e.value.serieToggleAnimation.show&&e.value.type==="classic"?i():a()}tt("selectLegend",be.value.map(a=>({name:a.name,color:a.color,value:a.value})))}function Qt(l){return B.value.length?B.value.find(t=>t.name===l)||(e.value.debug&&console.warn('VueUiDonut - Series name not found "'.concat(l,'"')),null):(e.value.debug&&console.warn("VueUiDonut - There are no series to show."),null)}function Dl(l){const o=Qt(l);o!==null&&N.value.includes(o.seriesIndex)&&bt(o.seriesIndex)}function Yl(l){const o=Qt(l);o!==null&&(N.value.includes(o.seriesIndex)||bt(o.seriesIndex))}const El=m(()=>ae.value.reduce((l,o)=>l+o.values.reduce((t,a)=>t+a,0),0)),be=m(()=>{if(I.value&&!Z.value){const l=oe.value,o=B.value.map(a=>({...a,value:a.value*l,color:a.color,ghost:!1})),t=El.value*(1-l);return t>0&&o.push({name:"__ghost__",value:t,color:"transparent",ghost:!0}),o}else return R.value.forEach(l=>{if([null,void 0].includes(l.values))return{...l,values:[]}}),R.value.map((l,o)=>({...l,seriesIndex:o})).filter((l,o)=>!N.value.includes(o))}),Ot=m(()=>ae.value.map((l,o)=>{const t=(l.values||[]).reduce((i,d)=>i+d,0),a=t/ae.value.map(i=>(i.values||[]).reduce((d,f)=>d+f,0)).reduce((i,d)=>i+d,0);return{name:l.name,color:$l(l.color)||et.value[o]||Xe[o]||Xe[o%Xe.length],value:t,shape:"circle",patternIndex:o,proportion:a}}).map((l,o)=>{const t=ye(e.value.style.chart.layout.labels.value.formatter,l.value,ie({p:e.value.style.chart.layout.labels.dataLabels.prefix,v:l.value,s:e.value.style.chart.layout.labels.dataLabels.suffix,r:e.value.style.chart.legend.roundingValue}),{datapoint:l,index:o}),a=ye(e.value.style.chart.layout.labels.percentage.formatter,el(l),ie({v:el(l),s:"%",r:e.value.style.chart.legend.roundingPercentage})),i=Rt({val:t,percentage:N.value.includes(o)?"".concat(jl(l.proportion*100),"%"):a,showVal:e.value.style.chart.legend.showValue,showPercentage:e.value.style.chart.legend.showPercentage,config:e.value.style.chart.legend});return{...l,opacity:N.value.includes(o)?.5:1,segregate:()=>!_e.value&&bt(o),isSegregated:N.value.includes(o),display:"".concat(l.name).concat(e.value.style.chart.legend.showPercentage||e.value.style.chart.legend.showValue?": ":"").concat(i)}})),Bl=m(()=>({cy:"donut-div-legend",backgroundColor:e.value.style.chart.legend.backgroundColor,color:e.value.style.chart.legend.color,fontSize:e.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:e.value.style.chart.legend.bold?"bold":""})),S=m(()=>{const l=e.value.style.chart.layout.donut.radiusRatio,o=Math.max(.1,Math.min(.50001,l)),t=Math.min(n.value.width*o,n.value.height*o);return Math.max(12,t)}),G=m(()=>Al({series:be.value},n.value.width/2,n.value.height/2,S.value,S.value,1.99999,2,1,360,105.25,ne.value)),Ol=m(()=>Math.abs(be.value.map(l=>l.value).reduce((l,o)=>l+o,0))>0),Xl=m(()=>Al({series:[{value:1,color:e.value.style.chart.layout.donut.emptyFill,name:"_",seriesIndex:0,patternIndex:-1,ghost:!1,absoluteValues:[1]}]},n.value.width/2,n.value.height/2,S.value,S.value,1.99999,2,1,360,105.25,ne.value)),ue=m(()=>G.value.filter(l=>!l.ghost)),v=m(()=>{const l=Math.max(...be.value.map(t=>t.value)),o=be.value.map(t=>t.value/l);return fa({series:o,center:{x:n.value.width/2,y:n.value.height/2},maxRadius:Math.min(n.value.width,n.value.height)/3,hasGhost:I.value})});function Me(l){return l.x>n.value.width/2+6?"start":l.x<n.value.width/2-6?"end":"middle"}function Nl(l){return l.middlePoint.y>n.value.height/2?E({initX:l.middlePoint.x,initY:l.middlePoint.y,offset:100,centerX:n.value.width/2,centerY:n.value.height/2}).y:E({initX:l.middlePoint.x,initY:l.middlePoint.y,offset:0,centerX:n.value.width/2,centerY:n.value.height/2}).y-100}function J(l){return l.proportion*100>e.value.style.chart.layout.labels.dataLabels.hideUnderValue}function Vl(l,o){var d,f;const t=e.value.style.chart.layout.labels.dataLabels.hideUnderValue,a=e.value.style.chart.layout.labels.dataLabels.smallArcClusterThreshold,i=((f=(d=Gl.value[o])!=null?d:l.proportion)!=null?f:0)*100;return i>t&&i<=a}const{smallArcLayoutsClassic:O}=Na({FINAL_CONFIG:e,noGhostDonut:ue,svg:n,padding:pe,labels_inline_fontSize:ke,minSize:S,findArcMidpoint:Ca,calcMarkerOffsetX:M,calcMarkerOffsetY:xe,animatingIndex:Ee,segregated:N,isSmallArc:Vl});function Zt(l,o){const t=l.value/Rl(o);return isNaN(t)?0:ye(e.value.style.chart.layout.labels.percentage.formatter,t*100,ie({v:t*100,s:"%",r:e.value.style.chart.layout.labels.percentage.rounding}),{datapoint:l})}function Rl(l){return[...l].map(o=>o.value).reduce((o,t)=>o+t,0)}const K=m(()=>be.value.map(l=>l.value).reduce((l,o)=>l+o,0)),Gl=m(()=>{const l=B.value.reduce((o,t)=>o+t.value,0);return l<=0?[]:B.value.map(o=>o.value/l)}),Xt=m(()=>K.value/be.value.length);function el(l){return _e.value?l.proportion*100:l.value/K.value*100}const Nt=$(null),lt=$(!1);function ve({datapoint:l,seriesIndex:o}){e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:l,seriesIndex:o}),V.value=!1,P.value=null}function de({datapoint:l,relativeIndex:o,seriesIndex:t,show:a=!1}){e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:l,seriesIndex:t}),Nt.value={datapoint:l,seriesIndex:t,config:e.value,series:B.value},V.value=a,P.value=o;let i="";const d=e.value.style.chart.tooltip.customFormat;if(lt.value=!1,$a(d))try{const f=d({seriesIndex:t,datapoint:l,series:B.value,config:e.value});typeof f=="string"&&(Q.value=f,lt.value=!0)}catch(f){console.warn("Custom format cannot be applied."),lt.value=!1}lt.value||(i+='<div style="width:100%;text-align:center;border-bottom:1px solid '.concat(e.value.style.chart.tooltip.borderColor,';padding-bottom:6px;margin-bottom:3px;">').concat(l.name,"</div>"),i+='<div style="display:flex;flex-direction:row;gap:6px;align-items:center;"><svg viewBox="0 0 60 60" height="14" width="14"><circle cx="30" cy="30" r="30" stroke="none" fill="'.concat(l.color,'"/>').concat(st.pattern?'<circle cx="30" cy="30" r="30" stroke="none" fill="url(#pattern_'.concat(y.value,"_").concat(t,')"/>'):"","</svg>"),i+="<b>".concat(Rt({showVal:e.value.style.chart.tooltip.showValue,showPercentage:e.value.style.chart.tooltip.showPercentage,val:"<span>".concat(ye(e.value.style.chart.layout.labels.value.formatter,l.value,ie({p:e.value.style.chart.layout.labels.dataLabels.prefix,v:l.value,s:e.value.style.chart.layout.labels.dataLabels.suffix,r:e.value.style.chart.tooltip.roundingValue}),{datapoint:l,relativeIndex:o,seriesIndex:t}),"</span>"),percentage:ye(e.value.style.chart.layout.labels.percentage.formatter,l.proportion*100,ie({v:l.proportion*100,s:"%",r:e.value.style.chart.tooltip.roundingPercentage}),{datapoint:l,relativeIndex:o,seriesIndex:t}),config:e.value.style.chart.tooltip}),"</b></div>"),e.value.style.chart.comments.showInTooltip&&l.comment&&(i+='<div class="vue-data-ui-tooltip-comment" style="background:'.concat(l.color,"20; padding: 6px; margin-bottom: 6px; margin-top:6px; border-left: 1px solid ").concat(l.color,'">').concat(l.comment,"</div>")),Q.value="<div>".concat(i,"</div>"))}function Hl(l,o){const t=O.value[o];if(t)return{textAnchor:t.textAnchor,x:t.labelX,y:t.labelY};const a=M(l,!0,12);return{textAnchor:a.anchor,x:a.x,y:xe(l)}}function Wl(l,o,t){var F;const{textAnchor:a,x:i}=Hl(l,o),d=xt(l),f='\n        <tspan\n            class="vue-data-ui-datalabel-inline"\n            fill="'.concat(e.value.style.chart.layout.labels.percentage.color,'"\n            font-size="').concat(t?ke.value:we.value,'px"\n            style="font-weight:').concat(e.value.style.chart.layout.labels.percentage.bold?"bold":"",'"\n        >').concat(d,"</tspan>\n    "),_=String((F=l.name)!=null?F:"").split(/\n/g);let Y="";return _.forEach((W,se)=>{se===0?Y+='\n                <tspan\n                    class="'.concat(t?"vue-data-ui-datalabel-inline":"vue-data-ui-datalabel-name",'"\n                    fill="').concat(e.value.style.chart.layout.labels.name.color,'"\n                    font-size="').concat(t?ke.value:D.value,'px"\n                    style="font-weight:').concat(e.value.style.chart.layout.labels.name.bold?"bold":"",'"\n                >').concat(W,"</tspan>\n            "):Y+='\n                <tspan\n                    class="'.concat(t?"vue-data-ui-datalabel-inline":"vue-data-ui-datalabel-name",'"\n                    x="').concat(i,'"\n                    dy="').concat((t?ke.value:D.value)*1.2,'"\n                    fill="').concat(e.value.style.chart.layout.labels.name.color,'"\n                    font-size="').concat(t?ke.value:D.value,'px"\n                    style="font-weight:').concat(e.value.style.chart.layout.labels.name.bold?"bold":"",'"\n                >').concat(W,"</tspan>\n            ")}),a==="end"?"".concat(Y).concat(f):"".concat(f).concat(Y)}function Ul(l,o){var W;const t=v.value[o].middlePoint,a=Me(t),i=E({initX:t.x,initY:t.y,offset:42,centerX:n.value.width/2,centerY:n.value.height/2}),d=i.x;i.y;const f=xt(l),_='\n        <tspan\n            class="vue-data-ui-datalabel-value"\n            fill="'.concat(e.value.style.chart.layout.labels.percentage.color,'"\n            font-size="').concat(we.value,'px"\n            style="font-weight:').concat(e.value.style.chart.layout.labels.percentage.bold?"bold":"normal",'"\n        >').concat(f,"</tspan>\n    "),Y=String((W=l.name)!=null?W:"").split(/\n/g);let F="";return Y.forEach((se,Ve)=>{Ve===0?F+='\n                <tspan\n                    class="vue-data-ui-datalabel-name"\n                    fill="'.concat(e.value.style.chart.layout.labels.name.color,'"\n                    font-size="').concat(D.value,'px"\n                    style="font-weight:').concat(e.value.style.chart.layout.labels.name.bold?"bold":"normal",'"\n                >').concat(se,"</tspan>\n            "):F+='\n                <tspan\n                    class="vue-data-ui-datalabel-name"\n                    x="'.concat(d,'"\n                    dy="').concat(D.value*1.2,'"\n                    fill="').concat(e.value.style.chart.layout.labels.name.color,'"\n                    font-size="').concat(D.value,'px"\n                    style="font-weight:').concat(e.value.style.chart.layout.labels.name.bold?"bold":"normal",'"\n                >').concat(se,"</tspan>\n            ")}),a==="end"?"".concat(F).concat(_):"".concat(_).concat(F)}function Be(l){return e.value.useBlurOnHover&&![null,void 0].includes(P.value)&&P.value!==l?"url(#blur_".concat(y.value,")"):""}function ql(l){var d;if(!_e.value||Ee.value===null||l.seriesIndex!==Ee.value)return 1;const o=((d=l.proportion)!=null?d:0)*100,t=e.value.style.chart.layout.labels.dataLabels.hideUnderValue,a=e.value.style.chart.layout.labels.dataLabels.smallArcClusterThreshold+2,i=t;return o>=a?1:o<=i?0:(o-i)/(a-i)}const Ie=m(()=>{const l=be.value.map(t=>({name:t.name,color:t.color})),o=be.value.map(t=>t.value);return{head:l,body:o}});function Vt(l=null){sa(()=>{const o=Ie.value.head.map((i,d)=>[[i.name],[Ie.value.body[d]],[isNaN(Ie.value.body[d]/K.value)?"-":Ie.value.body[d]/K.value*100]]),t=[[e.value.style.chart.title.text],[e.value.style.chart.title.subtitle.text],[[""],["val"],["%"]]].concat(o),a=wa(t);l?l(a):ka({csvContent:a,title:e.value.style.chart.title.text||"vue-ui-donut"})})}const mt=m(()=>{const l=[' <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>',ie({p:e.value.style.chart.layout.labels.dataLabels.prefix,v:K.value,s:e.value.style.chart.layout.labels.dataLabels.suffix,r:e.value.table.td.roundingValue}),"100%"],o=Ie.value.head.map((a,i)=>[{color:a.color,name:a.name||"-"},Ie.value.body[i],isNaN(Ie.value.body[i]/K.value)?"-":(Ie.value.body[i]/K.value*100).toFixed(e.value.table.td.roundingPercentage)+"%"]),t={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint};return{colNames:[e.value.table.columnNames.series,e.value.table.columnNames.value,e.value.table.columnNames.percentage],head:l,body:o,config:t}}),Oe=$(!1);function tl(l){Oe.value=l,Ce.value+=1}const ll=m(()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent));function jl(l){return Aa({num:l,rounding:e.value.style.chart.legend.roundingPercentage})}function Rt({val:l,percentage:o,showVal:t,showPercentage:a,config:i}){return _a({config:i,val:l,percentage:o,showVal:t,showPercentage:a})}function xt(l){return Rt({val:ye(e.value.style.chart.layout.labels.value.formatter,l.value,ie({p:e.value.style.chart.layout.labels.dataLabels.prefix,v:l.value,s:e.value.style.chart.layout.labels.dataLabels.suffix,r:e.value.style.chart.layout.labels.value.rounding}),{datapoint:l}),percentage:Zt(l,ue.value),showVal:e.value.style.chart.layout.labels.value.show,showPercentage:!0,config:e.value.style.chart.layout.labels.dataLabels})}function he(l,o){e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:l,seriesIndex:l.seriesIndex}),tt("selectDatapoint",{datapoint:l,index:o})}function al(){w.value.showTable=!w.value.showTable}function ol(){w.value.dataLabels.show=!w.value.dataLabels.show}function rl(){w.value.showTooltip=!w.value.showTooltip}const wt=$(!1);function Gt(){wt.value=!wt.value}async function Jl({scale:l=2}={}){if(!H.value)return;const{width:o,height:t}=H.value.getBoundingClientRect(),a=o/t,{imageUri:i,base64:d}=await Ea({domElement:H.value,base64:!0,img:!0,scale:l});return{imageUri:i,base64:d,title:e.value.style.chart.title.text,width:o,height:t,aspectRatio:a}}function Kl(){if(!Se.value)return;const{x:l,y:o,width:t,height:a}=Se.value.getBBox();X.value&&X.value.setAttribute("viewBox","".concat(l," ").concat(o," ").concat(t+Math.min(0,l)," ").concat(a+Math.min(0,o)))}const at=m(()=>{const l=e.value.table.useDialog&&!e.value.table.show,o=w.value.showTable;return{component:l?St:Tt,title:"".concat(e.value.style.chart.title.text).concat(e.value.style.chart.title.subtitle.text?": ".concat(e.value.style.chart.title.subtitle.text):""),props:l?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:Oe.value,fullscreenParent:H.value,forcedWidth:Math.min(500,window.innerWidth*.8)}:{hideDetails:!0,config:{open:o,maxHeight:1e4,body:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color},head:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color}}}}});Re(()=>w.value.showTable,l=>{e.value.table.show||(l&&e.value.table.useDialog&&ze.value?ze.value.open():"close"in ze.value&&ze.value.close())});function nl(){w.value.showTable=!1,je.value&&je.value.setTableIconState(!1)}const Ql=m(()=>Ot.value.map(l=>({...l,name:l.display}))),Zl=m(()=>e.value.style.chart.backgroundColor),ea=m(()=>e.value.style.chart.legend),ta=m(()=>e.value.style.chart.title),{exportSvg:la,getSvg:aa}=Sa({svg:X,title:ta,legend:ea,legendItems:Ql,backgroundColor:Zl});async function ul({isCb:l}){if(l){const{blob:o,url:t,text:a,dataUrl:i}=await aa();e.value.userOptions.callbacks.svg({blob:o,url:t,text:a,dataUrl:i})}else la()}return rt({autoSize:Kl,getData:Bt,getImage:Jl,generatePdf:gt,generateCsv:Vt,generateImage:Ze,generateSvg:ul,hideSeries:Yl,showSeries:Dl,toggleTable:al,toggleLabels:ol,toggleTooltip:rl,toggleAnnotator:Gt,toggleFullscreen:tl}),(l,o)=>(u(),s("div",{ref_key:"donutChart",ref:H,class:Wt("vue-data-ui-component vue-ui-donut ".concat(Oe.value?"vue-data-ui-wrapper-fullscreen":""," ").concat(e.value.useCssAnimation?"":"vue-ui-dna")),style:z("font-family:".concat(e.value.style.fontFamily,";width:100%; ").concat(e.value.responsive?"height:100%;":""," text-align:center;background:").concat(e.value.style.chart.backgroundColor)),id:"donut__".concat(y.value),onMouseenter:re,onMouseleave:$e},[e.value.userOptions.buttons.annotator&&r(X)?(u(),Le(r(Ft),{key:0,color:e.value.style.chart.color,backgroundColor:e.value.style.chart.backgroundColor,active:wt.value,svgRef:r(X),onClose:Gt},{"annotator-action-close":A(()=>[k(l.$slots,"annotator-action-close",{},void 0,!0)]),"annotator-action-color":A(({color:t})=>[k(l.$slots,"annotator-action-color",ee(te({color:t})),void 0,!0)]),"annotator-action-draw":A(({mode:t})=>[k(l.$slots,"annotator-action-draw",ee(te({mode:t})),void 0,!0)]),"annotator-action-undo":A(({disabled:t})=>[k(l.$slots,"annotator-action-undo",ee(te({disabled:t})),void 0,!0)]),"annotator-action-redo":A(({disabled:t})=>[k(l.$slots,"annotator-action-redo",ee(te({disabled:t})),void 0,!0)]),"annotator-action-delete":A(({disabled:t})=>[k(l.$slots,"annotator-action-delete",ee(te({disabled:t})),void 0,!0)]),_:3},8,["color","backgroundColor","active","svgRef"])):h("",!0),k(l.$slots,"userConfig",{},void 0,!0),pt.value?(u(),s("div",{key:1,ref_key:"noTitle",ref:ct,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):h("",!0),e.value.style.chart.title.text?(u(),s("div",{key:2,ref_key:"chartTitle",ref:it,style:"width:100%;background:transparent;padding-bottom:24px"},[(u(),Le(Oa,{key:"title_".concat(vt.value),config:{title:{cy:"donut-div-title",...e.value.style.chart.title},subtitle:{cy:"donut-div-subtitle",...e.value.style.chart.title.subtitle}}},null,8,["config"]))],512)):h("",!0),x("div",{id:"legend-top-".concat(y.value)},null,8,Ra),e.value.userOptions.show&&q.value&&(r(Ye)||r(Ne))?(u(),Le(r(Lt),{ref_key:"userOptionsRef",ref:je,key:"user_option_".concat(Ce.value),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isPrinting:r(Ae),isImaging:r(Qe),uid:y.value,hasTooltip:e.value.style.chart.tooltip.show&&e.value.userOptions.buttons.tooltip,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasXls:e.value.userOptions.buttons.csv,hasTable:e.value.userOptions.buttons.table,hasLabel:e.value.userOptions.buttons.labels,hasFullscreen:e.value.userOptions.buttons.fullscreen,isFullscreen:Oe.value,chartElement:H.value,position:e.value.userOptions.position,callbacks:e.value.userOptions.callbacks,isTooltip:w.value.showTooltip,titles:{...e.value.userOptions.buttonTitles},hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:wt.value,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:tl,onGeneratePdf:r(gt),onGenerateCsv:Vt,onGenerateImage:r(Ze),onGenerateSvg:ul,onToggleTable:al,onToggleLabels:ol,onToggleTooltip:rl,onToggleAnnotator:Gt,style:z({visibility:r(Ye)?r(Ne)?"visible":"hidden":"visible"})},Ht({_:2},[l.$slots.menuIcon?{name:"menuIcon",fn:A(({isOpen:t,color:a})=>[k(l.$slots,"menuIcon",ee(te({isOpen:t,color:a})),void 0,!0)]),key:"0"}:void 0,l.$slots.optionTooltip?{name:"optionTooltip",fn:A(()=>[k(l.$slots,"optionTooltip",{},void 0,!0)]),key:"1"}:void 0,l.$slots.optionPdf?{name:"optionPdf",fn:A(()=>[k(l.$slots,"optionPdf",{},void 0,!0)]),key:"2"}:void 0,l.$slots.optionCsv?{name:"optionCsv",fn:A(()=>[k(l.$slots,"optionCsv",{},void 0,!0)]),key:"3"}:void 0,l.$slots.optionImg?{name:"optionImg",fn:A(()=>[k(l.$slots,"optionImg",{},void 0,!0)]),key:"4"}:void 0,l.$slots.optionSvg?{name:"optionSvg",fn:A(()=>[k(l.$slots,"optionSvg",{},void 0,!0)]),key:"5"}:void 0,l.$slots.optionTable?{name:"optionTable",fn:A(()=>[k(l.$slots,"optionTable",{},void 0,!0)]),key:"6"}:void 0,l.$slots.optionLabels?{name:"optionLabels",fn:A(()=>[k(l.$slots,"optionLabels",{},void 0,!0)]),key:"7"}:void 0,l.$slots.optionFullscreen?{name:"optionFullscreen",fn:A(({toggleFullscreen:t,isFullscreen:a})=>[k(l.$slots,"optionFullscreen",ee(te({toggleFullscreen:t,isFullscreen:a})),void 0,!0)]),key:"8"}:void 0,l.$slots.optionAnnotator?{name:"optionAnnotator",fn:A(({toggleAnnotator:t,isAnnotator:a})=>[k(l.$slots,"optionAnnotator",ee(te({toggleAnnotator:t,isAnnotator:a})),void 0,!0)]),key:"9"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasTooltip","hasPdf","hasImg","hasSvg","hasXls","hasTable","hasLabel","hasFullscreen","isFullscreen","chartElement","position","callbacks","isTooltip","titles","hasAnnotator","isAnnotation","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):h("",!0),(u(),s("svg",{ref_key:"svgRef",ref:X,xmlns:r(ga),class:Wt({"vue-data-ui-fullscreen--on":Oe.value,"vue-data-ui-fulscreen--off":!Oe.value,"vue-data-ui-svg":!0}),viewBox:"0 0 ".concat(n.value.width<=0?10:n.value.width," ").concat(n.value.height<=0?10:n.value.height),style:z("max-width:100%; overflow: visible; background:transparent;color:".concat(e.value.style.chart.color,";").concat(pe.value.css))},[x("g",{ref_key:"G",ref:Se,class:"vue-data-ui-g"},[$t(r(Pt)),l.$slots["chart-background"]?(u(),s("foreignObject",{key:0,x:0,y:0,width:n.value.width<=0?10:n.value.width,height:n.value.height<=0?10:n.value.height,style:{pointerEvents:"none"}},[k(l.$slots,"chart-background",{},void 0,!0)],8,Ha)):h("",!0),e.value.type==="classic"&&!isNaN(ne.value/S.value)?(u(),s("defs",Wa,[e.value.style.chart.useGradient?(u(),s("radialGradient",{key:0,id:"gradient_".concat(y.value)},[x("stop",{offset:"0%","stop-color":r(Mt)(e.value.style.chart.backgroundColor,0),"stop-opacity":"0"},null,8,qa),x("stop",{offset:"".concat((1-ne.value/S.value)*100,"%"),"stop-color":r(Mt)("#FFFFFF",0),"stop-opacity":"0"},null,8,ja),x("stop",{offset:"".concat((1-ne.value/S.value/2)*100,"%"),"stop-color":r(Mt)("#FFFFFF",e.value.style.chart.gradientIntensity)},null,8,Ja),x("stop",{offset:"100%","stop-color":r(Mt)(e.value.style.chart.backgroundColor,0),"stop-opacity":"0"},null,8,Ka)],8,Ua)):h("",!0)])):h("",!0),e.value.type==="polar"?(u(),s("defs",Qa,[(u(!0),s(L,null,U(v.value,(t,a)=>(u(),s("radialGradient",{id:"polar_gradient_".concat(a,"_").concat(y.value),cx:(isNaN(t.middlePoint.x/n.value.width*100)?0:t.middlePoint.x/n.value.width*100)+"%",cy:(isNaN(t.middlePoint.y/n.value.height*100)?0:t.middlePoint.y/n.value.height*100)+"%",r:"62%"},[x("stop",{offset:"0%","stop-color":r(pa)(G.value[a].color,.05),"stop-opacity":e.value.style.chart.gradientIntensity/100},null,8,eo),x("stop",{offset:"100%","stop-color":G.value[a].color},null,8,to)],8,Za))),256))])):h("",!0),x("defs",null,[x("filter",{id:"blur_".concat(y.value),x:"-50%",y:"-50%",width:"200%",height:"200%"},[x("feGaussianBlur",{in:"SourceGraphic",stdDeviation:2,id:"blur_std_".concat(y.value)},null,8,ao),o[5]||(o[5]=x("feColorMatrix",{type:"saturate",values:"0"},null,-1))],8,lo),x("filter",{id:"shadow_".concat(y.value),"color-interpolation-filters":"sRGB"},[x("feDropShadow",{dx:"0",dy:"0",stdDeviation:"10","flood-opacity":"0.5","flood-color":e.value.style.chart.layout.donut.shadowColor},null,8,ro)],8,oo),x("filter",{id:"drop_shadow_".concat(y.value),"color-interpolation-filters":"sRGB",x:"-50%",y:"-50%",width:"200%",height:"200%"},[x("feDropShadow",{dx:"0",dy:"0",stdDeviation:"3","flood-opacity":"1","flood-color":e.value.style.chart.layout.donut.shadowColor},null,8,uo)],8,no)]),e.value.type==="classic"?(u(!0),s(L,{key:3},U(G.value.filter(t=>!t.ghost),(t,a)=>{var i;return u(),s("g",null,[J(t)&&w.value.dataLabels.show?(u(),s("path",{key:0,d:((i=r(O)[a])==null?void 0:i.connectorPath)||r(ba)(t,{x:n.value.width/2,y:n.value.height/2},16,16,!1,!1,ne.value,12,e.value.style.chart.layout.curvedMarkers),stroke:t.color,"stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",fill:"none",filter:Be(a)},null,8,so)):h("",!0)])}),256)):h("",!0),e.value.type==="polar"?(u(!0),s(L,{key:4},U(G.value.filter(t=>!t.ghost),(t,a)=>(u(),s("g",null,[J(t)&&w.value.dataLabels.show?(u(),s("path",{key:0,d:"M ".concat(r(E)({initX:v.value[a].middlePoint.x,initY:v.value[a].middlePoint.y,offset:24,centerX:n.value.width/2,centerY:n.value.height/2}).x,",").concat(r(E)({initX:v.value[a].middlePoint.x,initY:v.value[a].middlePoint.y,offset:24,centerX:n.value.width/2,centerY:n.value.height/2}).y," ").concat(v.value[a].middlePoint.x,",").concat(v.value[a].middlePoint.y),stroke:t.color,"stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",fill:"none",filter:Be(a),style:z({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out")})},null,12,io)):h("",!0)]))),256)):h("",!0),e.value.type==="classic"&&e.value.style.chart.layout.donut.useShadow?(u(),s("circle",{key:5,cx:n.value.width/2,cy:n.value.height/2,r:S.value<=0?10:S.value,fill:e.value.style.chart.backgroundColor,filter:"url(#shadow_".concat(y.value,")")},null,8,co)):h("",!0),l.$slots.pattern?(u(),s("g",vo,[(u(!0),s(L,null,U(ot.dataset,(t,a)=>(u(),s("defs",{key:"pattern-".concat(t.patternIndex)},[k(l.$slots,"pattern",Ut({ref_for:!0},{seriesIndex:a,patternId:"pattern_".concat(y.value,"_").concat(a)}),void 0,!0)]))),128))])):h("",!0),K.value&&e.value.type==="classic"?(u(),s(L,{key:7},[(u(!0),s(L,null,U(ue.value,(t,a)=>(u(),s("path",{stroke:e.value.style.chart.backgroundColor,d:t.arcSlice,fill:"#FFFFFF"},null,8,ho))),256)),(u(!0),s(L,null,U(ue.value,(t,a)=>(u(),s("path",{class:"vue-ui-donut-arc-path",d:t.arcSlice,fill:t.color,stroke:e.value.style.chart.layout.donut.borderColorAuto?e.value.style.chart.backgroundColor:e.value.style.chart.layout.donut.borderColor,"stroke-width":e.value.style.chart.layout.donut.borderWidth,filter:Be(a)},null,8,yo))),256)),l.$slots.pattern?(u(),s("g",fo,[(u(!0),s(L,null,U(ue.value,(t,a)=>(u(),s("path",{class:"vue-ui-donut-arc-path",d:t.arcSlice,fill:"url(#".concat(t.pattern,")"),stroke:e.value.style.chart.layout.donut.borderColorAuto?e.value.style.chart.backgroundColor:e.value.style.chart.layout.donut.borderColor,"stroke-width":e.value.style.chart.layout.donut.borderWidth,filter:Be(a)},null,8,go))),256))])):h("",!0)],64)):h("",!0),K.value&&e.value.type==="polar"?(u(),s(L,{key:8},[G.value.length>1?(u(),s("g",po,[(u(!0),s(L,null,U(ue.value,(t,a)=>(u(),s("path",{stroke:e.value.style.chart.layout.donut.borderColorAuto?e.value.style.chart.backgroundColor:e.value.style.chart.layout.donut.borderColor,d:v.value[a].path,fill:"#FFFFFF",style:z({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out")})},null,12,bo))),256)),e.value.style.chart.layout.donut.useShadow?(u(),s("g",mo,[(u(!0),s(L,null,U(ue.value,(t,a)=>(u(),s("path",{class:"vue-ui-donut-arc-path",d:v.value[a].path,fill:"transparent",stroke:e.value.style.chart.layout.donut.borderColorAuto?e.value.style.chart.backgroundColor:e.value.style.chart.layout.donut.borderColor,"stroke-width":e.value.style.chart.layout.donut.borderWidth,filter:"url(#drop_shadow_".concat(y.value,")"),style:z({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out")})},null,12,xo))),256))])):h("",!0),l.$slots.pattern?(u(),s("g",wo,[(u(!0),s(L,null,U(ue.value,(t,a)=>(u(),s("path",{class:"vue-ui-donut-arc-path",d:v.value[a].path,fill:"url(#".concat(t.pattern,")"),stroke:e.value.style.chart.layout.donut.borderColorAuto?e.value.style.chart.backgroundColor:e.value.style.chart.layout.donut.borderColor,"stroke-width":e.value.style.chart.layout.donut.borderWidth,filter:Be(a),style:z({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out"),transformOrigin:"center"})},null,12,ko))),256))])):h("",!0),(u(!0),s(L,null,U(ue.value,(t,a)=>(u(),s("path",{class:"vue-ui-donut-arc-path",d:v.value[a].path,fill:e.value.style.chart.useGradient?"url(#polar_gradient_".concat(a,"_").concat(y.value,")"):t.color,stroke:e.value.style.chart.layout.donut.borderColorAuto?e.value.style.chart.backgroundColor:e.value.style.chart.layout.donut.borderColor,"stroke-width":e.value.style.chart.layout.donut.borderWidth,filter:Be(a),style:z({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out")})},null,12,Co))),256))])):(u(),s("g",$o,[l.$slots.pattern?(u(),s("circle",{key:0,cx:n.value.width/2,cy:n.value.height/2,r:S.value,fill:"url(#pattern_".concat(y.value,"_").concat(G.value[0].patternIndex,")"),stroke:e.value.style.chart.backgroundColor,"stroke-width":e.value.style.chart.layout.donut.borderWidth},null,8,Ao)):h("",!0),x("circle",{cx:n.value.width/2,cy:n.value.height/2,r:S.value,fill:e.value.style.chart.useGradient?"url(#polar_gradient_0_".concat(y.value,")"):G.value[0].color,stroke:e.value.style.chart.backgroundColor,"stroke-width":e.value.style.chart.layout.donut.borderWidth},null,8,_o)]))],64)):(u(),s(L,{key:9},[e.value.type==="classic"&&!Ol.value?(u(),s("g",Mo,[(u(!0),s(L,null,U(Xl.value,(t,a)=>(u(),s("path",{class:"vue-ui-donut-arc-path",d:t.arcSlice,fill:t.color,stroke:e.value.style.chart.backgroundColor,"stroke-width":e.value.style.chart.layout.donut.borderWidth},null,8,Io))),256))])):h("",!0),x("circle",{cx:n.value.width/2,cy:n.value.height/2,r:S.value<=0?10:S.value,fill:"transparent",stroke:e.value.style.chart.backgroundColor},null,8,To)],64)),e.value.style.chart.useGradient&&e.value.type==="classic"?(u(),s("circle",{key:10,cx:n.value.width/2,cy:n.value.height/2,r:S.value<=0?10:S.value,fill:"url(#gradient_".concat(y.value,")")},null,8,Fo)):h("",!0),x("circle",{ref_key:"circle_hollow",ref:Yt,style:{pointerEvents:"none"},fill:"none",cx:n.value.width/2,cy:n.value.height/2,r:Math.max(.1,ne.value*1.7)},null,8,Lo),K.value?(u(),s(L,{key:11},[G.value.length>1||e.value.type==="classic"?(u(),s("g",Po,[(u(!0),s(L,null,U(G.value.filter(t=>!t.ghost),(t,a)=>(u(),s("path",{d:e.value.type==="classic"?t.arcSlice:v.value[a].path,stroke:e.value.style.chart.layout.donut.borderColorAuto?e.value.style.chart.backgroundColor:e.value.style.chart.layout.donut.borderColor,fill:P.value===a?e.value.style.chart.layout.donut.selectedColor:"transparent",onMouseenter:i=>de({datapoint:t,relativeIndex:a,seriesIndex:t.seriesIndex,show:!0}),onMouseleave:i=>ve({datapoint:t,seriesIndex:t.seriesIndex}),onClick:i=>he(t,a)},null,40,So))),256))])):(u(),s("g",zo,[x("circle",{cx:n.value.width/2,cy:n.value.height/2,r:S.value,fill:"transparent",onMouseenter:o[0]||(o[0]=t=>de({datapoint:G.value[0],relativeIndex:0,seriesIndex:G.value[0].seriesIndex,show:!0})),onMouseleave:o[1]||(o[1]=t=>ve({datapoint:G.value[0],seriesIndex:G.value[0].seriesIndex})),onClick:o[2]||(o[2]=t=>he(G.value[0],l.i))},null,40,Do)]))],64)):h("",!0),e.value.type==="classic"?(u(),s("g",{key:12,ref_key:"G_hollow",ref:We,class:"vue-data-ui-donut-hollow-labels"},[e.value.style.chart.layout.labels.hollow.total.show?(u(),s("text",{key:0,"text-anchor":"middle",x:n.value.width/2,y:n.value.height/2-(e.value.style.chart.layout.labels.hollow.average.show?e.value.style.chart.layout.labels.hollow.total.fontSize:0)+e.value.style.chart.layout.labels.hollow.total.offsetY,fill:e.value.style.chart.layout.labels.hollow.total.color,"font-size":e.value.style.chart.layout.labels.hollow.total.fontSize,style:z("font-weight:".concat(e.value.style.chart.layout.labels.hollow.total.bold?"bold":""))},me(e.value.style.chart.layout.labels.hollow.total.text),13,Yo)):h("",!0),e.value.style.chart.layout.labels.hollow.total.show?(u(),s("text",{key:1,"text-anchor":"middle",x:n.value.width/2,y:n.value.height/2+e.value.style.chart.layout.labels.hollow.total.fontSize-(e.value.style.chart.layout.labels.hollow.average.show?e.value.style.chart.layout.labels.hollow.total.fontSize:0)+e.value.style.chart.layout.labels.hollow.total.value.offsetY,fill:e.value.style.chart.layout.labels.hollow.total.value.color,"font-size":e.value.style.chart.layout.labels.hollow.total.value.fontSize,style:z("font-weight:".concat(e.value.style.chart.layout.labels.hollow.total.value.bold?"bold":""))},me(r(ye)(e.value.style.chart.layout.labels.hollow.total.value.formatter,K.value,r(ie)({p:e.value.style.chart.layout.labels.hollow.total.value.prefix,v:K.value,s:e.value.style.chart.layout.labels.hollow.total.value.suffix}))),13,Eo)):h("",!0),e.value.style.chart.layout.labels.hollow.average.show?(u(),s("text",{key:2,"text-anchor":"middle",x:n.value.width/2,y:n.value.height/2+(e.value.style.chart.layout.labels.hollow.total.show?e.value.style.chart.layout.labels.hollow.average.fontSize:0)+e.value.style.chart.layout.labels.hollow.average.offsetY,fill:e.value.style.chart.layout.labels.hollow.average.color,"font-size":e.value.style.chart.layout.labels.hollow.average.fontSize,style:z("font-weight:".concat(e.value.style.chart.layout.labels.hollow.average.bold?"bold":""))},me(e.value.style.chart.layout.labels.hollow.average.text),13,Bo)):h("",!0),e.value.style.chart.layout.labels.hollow.average.show?(u(),s("text",{key:3,"text-anchor":"middle",x:n.value.width/2,y:n.value.height/2+(e.value.style.chart.layout.labels.hollow.total.show?e.value.style.chart.layout.labels.hollow.average.fontSize:0)+e.value.style.chart.layout.labels.hollow.average.fontSize+e.value.style.chart.layout.labels.hollow.average.value.offsetY,fill:e.value.style.chart.layout.labels.hollow.average.value.color,"font-size":e.value.style.chart.layout.labels.hollow.average.value.fontSize,style:z("font-weight:".concat(e.value.style.chart.layout.labels.hollow.average.value.bold?"bold":""))},me(_e.value||I.value?"--":r(ye)(e.value.style.chart.layout.labels.hollow.average.value.formatter,Xt.value,r(ie)({p:e.value.style.chart.layout.labels.hollow.average.value.prefix,v:Xt.value,s:e.value.style.chart.layout.labels.hollow.average.value.suffix,r:e.value.style.chart.layout.labels.hollow.average.value.rounding}))),13,Oo)):h("",!0)],512)):h("",!0),(u(!0),s(L,null,U(ue.value.filter(t=>!t.ghost),(t,a)=>{var i,d,f,_,Y,F,W,se,Ve,kt,Ct,sl,il,cl,vl,dl,hl,yl,fl,gl,pl,bl,ml;return u(),s("g",{filter:Be(a),class:Wt({animated:e.value.useCssAnimation}),key:t.seriesIndex,opacity:ql(t)},[e.value.style.chart.layout.labels.dataLabels.useLabelSlots?(u(),s("g",No,[(u(),s("foreignObject",{x:r(M)(t,!0).anchor==="end"?r(M)(t).x-120:r(M)(t,!0).anchor==="middle"?r(M)(t).x-60:r(M)(t).x,y:r(xe)(t)-(ll.value?20:0),width:"120",height:"60",style:{overflow:"visible"}},[x("div",null,[k(l.$slots,"dataLabel",Ut({ref_for:!0},{datapoint:t,isBlur:!e.value.useBlurOnHover||[null,void 0].includes(P.value)||P.value===a,isSafari:ll.value,isVisible:J(t)&&w.value.dataLabels.show,textAlign:r(M)(t,!0,16,!0).anchor,flexAlign:r(M)(t,!0,16).anchor,percentage:Zt(t,ue.value)}),void 0,!0)])],8,Vo))])):(u(),s("g",Ro,[e.value.type==="classic"?(u(),s(L,{key:0},[J(t)&&w.value.dataLabels.show?(u(),s("circle",{key:0,cx:(d=(i=r(O)[a])==null?void 0:i.markerX)!=null?d:r(M)(t).x,cy:(_=(f=r(O)[a])==null?void 0:f.markerY)!=null?_:r(xe)(t)-3.5,fill:t.color,stroke:e.value.style.chart.backgroundColor,"stroke-width":1,r:3,filter:!e.value.useBlurOnHover||[null,void 0].includes(P.value)||P.value===a?"":"url(#blur_".concat(y.value,")"),onClick:T=>he(t,a),onMouseenter:T=>de({datapoint:t,relativeIndex:a,seriesIndex:t.seriesIndex,show:!0}),onMouseleave:T=>ve({datapoint:t,seriesIndex:t.seriesIndex})},null,40,Go)):h("",!0),e.value.style.chart.layout.labels.dataLabels.oneLine||r(O)[a]?At((u(),s("text",{key:1,class:"vue-data-ui-datalabel-inline","text-anchor":((Y=r(O)[a])==null?void 0:Y.textAnchor)||r(M)(t,!0,12).anchor,x:(W=(F=r(O)[a])==null?void 0:F.labelX)!=null?W:r(M)(t,!0,12).x,y:(Ve=(se=r(O)[a])==null?void 0:se.labelY)!=null?Ve:r(xe)(t),onClick:T=>he(t,a),onMouseenter:T=>de({datapoint:t,relativeIndex:a,seriesIndex:t.seriesIndex,show:!0}),onMouseleave:T=>ve({datapoint:t,seriesIndex:t.seriesIndex}),innerHTML:Wl(t,a,!!r(O)[a])},null,40,Ho)),[[_t,J(t)&&w.value.dataLabels.show]]):(u(),s(L,{key:2},[At(x("text",{class:"vue-data-ui-datalabel-value","text-anchor":((kt=r(O)[a])==null?void 0:kt.textAnchor)||r(M)(t,!0,12).anchor,x:(sl=(Ct=r(O)[a])==null?void 0:Ct.labelX)!=null?sl:r(M)(t,!0,12).x,y:(cl=(il=r(O)[a])==null?void 0:il.labelY)!=null?cl:r(xe)(t),fill:e.value.style.chart.layout.labels.percentage.color,"font-size":we.value+"px",style:z("font-weight:".concat(e.value.style.chart.layout.labels.percentage.bold?"bold":"")),onClick:T=>he(t,a),onMouseenter:T=>de({datapoint:t,relativeIndex:a,seriesIndex:t.seriesIndex,show:!0}),onMouseleave:T=>ve({datapoint:t,seriesIndex:t.seriesIndex})},me(xt(t)),45,Wo),[[_t,J(t)&&w.value.dataLabels.show]]),At(x("text",{class:"vue-data-ui-datalabel-name","text-anchor":((vl=r(O)[a])==null?void 0:vl.textAnchor)||r(M)(t).anchor,x:(hl=(dl=r(O)[a])==null?void 0:dl.labelX)!=null?hl:r(M)(t,!0,12).x,y:((fl=(yl=r(O)[a])==null?void 0:yl.labelY)!=null?fl:r(xe)(t))+D.value*1.2,fill:e.value.style.chart.layout.labels.name.color,"font-size":D.value+"px",style:z("font-weight:".concat(e.value.style.chart.layout.labels.name.bold?"bold":"")),onClick:T=>he(t,a),onMouseenter:T=>de({datapoint:t,relativeIndex:a,seriesIndex:t.seriesIndex,show:!0}),onMouseleave:T=>ve({datapoint:t,seriesIndex:t.seriesIndex}),innerHTML:r(_l)({content:t.name,fontSize:D.value,fill:e.value.style.chart.layout.labels.name.color,x:(pl=(gl=r(O)[a])==null?void 0:gl.labelX)!=null?pl:r(M)(t,!0,12).x,y:((ml=(bl=r(O)[a])==null?void 0:bl.labelY)!=null?ml:r(xe)(t))+D.value})},null,44,Uo),[[_t,J(t)&&w.value.dataLabels.show]])],64))],64)):h("",!0),e.value.type==="polar"?(u(),s(L,{key:1},[J(t)&&w.value.dataLabels.show?(u(),s("circle",{key:0,cx:r(E)({initX:v.value[a].middlePoint.x,initY:v.value[a].middlePoint.y,offset:24,centerX:n.value.width/2,centerY:n.value.height/2}).x,cy:r(E)({initX:v.value[a].middlePoint.x,initY:v.value[a].middlePoint.y,offset:24,centerX:n.value.width/2,centerY:n.value.height/2}).y,fill:t.color,stroke:e.value.style.chart.backgroundColor,"stroke-width":1,r:3,filter:!e.value.useBlurOnHover||[null,void 0].includes(P.value)||P.value===a?"":"url(#blur_".concat(y.value,")"),onClick:T=>he(t,a),onMouseenter:T=>de({datapoint:t,relativeIndex:a,seriesIndex:t.seriesIndex,show:!0}),onMouseleave:T=>ve({datapoint:t,seriesIndex:t.seriesIndex}),style:z({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out")})},null,44,qo)):h("",!0),e.value.style.chart.layout.labels.dataLabels.oneLine?At((u(),s("text",{key:1,class:"vue-data-ui-datalabel-inline","text-anchor":Me(v.value[a].middlePoint),x:r(E)({initX:v.value[a].middlePoint.x,initY:v.value[a].middlePoint.y,offset:42,centerX:n.value.width/2,centerY:n.value.height/2}).x,y:r(E)({initX:v.value[a].middlePoint.x,initY:v.value[a].middlePoint.y,offset:42,centerX:n.value.width/2,centerY:n.value.height/2}).y,style:z({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out")}),onClick:T=>he(t,a),onMouseenter:T=>de({datapoint:t,relativeIndex:a,seriesIndex:t.seriesIndex,show:!0}),onMouseleave:T=>ve({datapoint:t,seriesIndex:t.seriesIndex}),innerHTML:Ul(t,a)},null,44,jo)),[[_t,J(t)&&w.value.dataLabels.show]]):(u(),s(L,{key:2},[J(t)&&w.value.dataLabels.show?(u(),s("text",{key:0,class:"vue-data-ui-datalabel-value","text-anchor":Me(v.value[a].middlePoint),x:r(E)({initX:v.value[a].middlePoint.x,initY:v.value[a].middlePoint.y,offset:42,centerX:n.value.width/2,centerY:n.value.height/2}).x,y:r(E)({initX:v.value[a].middlePoint.x,initY:v.value[a].middlePoint.y,offset:42,centerX:n.value.width/2,centerY:n.value.height/2}).y,fill:e.value.style.chart.layout.labels.percentage.color,"font-size":we.value,style:z({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out"),fontWeight:e.value.style.chart.layout.labels.percentage.bold?"bold":"normal"}),onClick:T=>he(t,a),onMouseenter:T=>de({datapoint:t,relativeIndex:a,seriesIndex:t.seriesIndex,show:!0}),onMouseleave:T=>ve({datapoint:t,seriesIndex:t.seriesIndex})},me(xt(t)),45,Jo)):h("",!0),J(t)&&w.value.dataLabels.show?(u(),s("text",{key:1,class:"vue-data-ui-datalabel-name","text-anchor":Me(v.value[a].middlePoint),x:r(E)({initX:v.value[a].middlePoint.x,initY:v.value[a].middlePoint.y,offset:42,centerX:n.value.width/2,centerY:n.value.height/2}).x,y:r(E)({initX:v.value[a].middlePoint.x,initY:v.value[a].middlePoint.y,offset:42,centerX:n.value.width/2,centerY:n.value.height/2}).y+D.value*1.2,fill:e.value.style.chart.layout.labels.name.color,"font-size":D.value,style:z({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out"),fontWeight:e.value.style.chart.layout.labels.name.bold?"bold":"normal"}),onClick:T=>he(t,a),onMouseenter:T=>de({datapoint:t,relativeIndex:a,seriesIndex:t.seriesIndex,show:!0}),onMouseleave:T=>ve({datapoint:t,seriesIndex:t.seriesIndex}),innerHTML:r(_l)({content:t.name,fontSize:we.value,fill:e.value.style.chart.layout.labels.name.color,x:r(E)({initX:v.value[a].middlePoint.x,initY:v.value[a].middlePoint.y,offset:42,centerX:n.value.width/2,centerY:n.value.height/2}).x,y:r(E)({initX:v.value[a].middlePoint.x,initY:v.value[a].middlePoint.y,offset:42,centerX:n.value.width/2,centerY:n.value.height/2}).y+D.value*1.2})},null,44,Ko)):h("",!0)],64))],64)):h("",!0)])),w.value.dataLabels.show&&e.value.style.chart.comments.show&&t.comment?(u(),s("g",Qo,[J(t)&&e.value.type==="classic"?(u(),s("foreignObject",{key:0,x:e.value.style.chart.comments.offsetX+(r(M)(t,!0).anchor==="end"?r(M)(t).x-e.value.style.chart.comments.width:r(M)(t,!0).anchor==="middle"?r(M)(t).x-e.value.style.chart.comments.width/2:r(M)(t).x),y:r(xe)(t)+24+e.value.style.chart.comments.offsetY,width:e.value.style.chart.comments.width,height:"200",style:{overflow:"visible","pointer-events":"none"}},[x("div",null,[k(l.$slots,"plot-comment",{plot:{...t,textAlign:r(M)(t,!0,16,!0).anchor,flexAlign:r(M)(t,!0,16).anchor,isFirstLoad:I.value}},void 0,!0)])],8,Zo)):h("",!0),J(t)&&e.value.type==="polar"?(u(),s("foreignObject",{key:1,x:e.value.style.chart.comments.offsetX+(Me(v.value[a].middlePoint)==="end"?r(E)({initX:v.value[a].middlePoint.x,initY:v.value[a].middlePoint.y,offset:42,centerX:n.value.width/2,centerY:n.value.height/2}).x-e.value.style.chart.comments.width:Me(v.value[a].middlePoint)==="middle"?r(E)({initX:v.value[a].middlePoint.x,initY:v.value[a].middlePoint.y,offset:42,centerX:n.value.width/2,centerY:n.value.height/2}).x-e.value.style.chart.comments.width/2:r(E)({initX:v.value[a].middlePoint.x,initY:v.value[a].middlePoint.y,offset:42,centerX:n.value.width/2,centerY:n.value.height/2}).x),y:Nl(v.value[a])+e.value.style.chart.comments.offsetY,width:e.value.style.chart.comments.width,height:"200",style:z({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out"),overflow:"visible",pointerEvents:"none"})},[x("div",null,[k(l.$slots,"plot-comment",{plot:{...t,textAlign:Me(v.value[a].middlePoint),flexAlign:Me(v.value[a].middlePoint),isFirstLoad:I.value}},void 0,!0)])],12,er)):h("",!0)])):h("",!0)],10,Xo)}),128)),k(l.$slots,"svg",{svg:n.value},void 0,!0)],512)],14,Ga)),l.$slots.watermark?(u(),s("div",tr,[k(l.$slots,"watermark",ee(te({isPrinting:r(Ae)||r(Qe)})),void 0,!0)])):h("",!0),x("div",{id:"legend-bottom-".concat(y.value)},null,8,lr),yt.value?(u(),Le(na,{key:5,to:e.value.style.chart.legend.position==="top"?"#legend-top-".concat(y.value):"#legend-bottom-".concat(y.value)},[x("div",{ref_key:"chartLegend",ref:Ue},[e.value.style.chart.legend.show?(u(),Le(Xa,{key:"legend_".concat(ht.value),legendSet:Ot.value,config:Bl.value,onClickMarker:o[3]||(o[3]=({i:t})=>bt(t))},Ht({item:A(({legend:t,index:a})=>[x("div",{style:z("opacity:".concat(N.value.includes(a)?.5:1)),onClick:i=>t.segregate()},me(t.display),13,ar)]),_:2},[l.$slots.pattern?{name:"legend-pattern",fn:A(({legend:t,index:a})=>[$t(Ba,{shape:t.shape,radius:30,stroke:"none",plot:{x:30,y:30},fill:"url(#pattern_".concat(y.value,"_").concat(a,")")},null,8,["shape","fill"])]),key:"0"}:void 0]),1032,["legendSet","config"])):h("",!0),k(l.$slots,"legend",{legend:Ot.value},void 0,!0)],512)],8,["to"])):h("",!0),l.$slots.source?(u(),s("div",{key:6,ref_key:"source",ref:qe,dir:"auto"},[k(l.$slots,"source",{},void 0,!0)],512)):h("",!0),l.$slots.hollow?(u(),s("div",or,[k(l.$slots,"hollow",ee(te({total:K.value,average:Xt.value,dataset:B.value})),void 0,!0)])):h("",!0),$t(r(Ge),{show:w.value.showTooltip&&V.value,backgroundColor:e.value.style.chart.tooltip.backgroundColor,color:e.value.style.chart.tooltip.color,fontSize:e.value.style.chart.tooltip.fontSize,borderRadius:e.value.style.chart.tooltip.borderRadius,borderColor:e.value.style.chart.tooltip.borderColor,borderWidth:e.value.style.chart.tooltip.borderWidth,backgroundOpacity:e.value.style.chart.tooltip.backgroundOpacity,position:e.value.style.chart.tooltip.position,offsetY:e.value.style.chart.tooltip.offsetY,parent:H.value,content:Q.value,isCustom:lt.value,isFullscreen:Oe.value,smooth:e.value.style.chart.tooltip.smooth,backdropFilter:e.value.style.chart.tooltip.backdropFilter,smoothForce:e.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:e.value.style.chart.tooltip.smoothSnapThrehsold},{"tooltip-before":A(()=>[k(l.$slots,"tooltip-before",ee(te({...Nt.value})),void 0,!0)]),"tooltip-after":A(()=>[k(l.$slots,"tooltip-after",ee(te({...Nt.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","fontSize","borderRadius","borderColor","borderWidth","backgroundOpacity","position","offsetY","parent","content","isCustom","isFullscreen","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),q.value&&e.value.userOptions.buttons.table?(u(),Le(ua(at.value.component),Ut({key:8},at.value.props,{ref_key:"tableUnit",ref:ze,onClose:nl}),Ht({content:A(()=>[(u(),Le(r(ut),{key:"table_".concat(dt.value),colNames:mt.value.colNames,head:mt.value.head,body:mt.value.body,config:mt.value.config,title:e.value.table.useDialog?"":at.value.title,withCloseButton:!e.value.table.useDialog,onClose:nl},{th:A(({th:t})=>[x("div",{innerHTML:t,style:{display:"flex","align-items":"center"}},null,8,rr)]),td:A(({td:t})=>[kl(me(t.name?t.name:isNaN(Number(t))?t.includes("%")?t:r(ye)(e.value.style.chart.layout.labels.percentage.formatter,t,r(ie)({v:t,s:"%",r:e.value.style.chart.layout.labels.percentage.rounding})):r(ye)(e.value.style.chart.layout.labels.value.formatter,t,r(ie)({p:e.value.style.chart.layout.labels.dataLabels.prefix,v:t,s:e.value.style.chart.layout.labels.dataLabels.suffix,r:e.value.style.chart.layout.labels.value.rounding}))),1)]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))]),_:2},[e.value.table.useDialog?{name:"title",fn:A(()=>[kl(me(at.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:A(()=>[x("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:o[4]||(o[4]=t=>Vt(e.value.userOptions.callbacks.csv))},[$t(r(nt),{name:"excel",stroke:at.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):h("",!0),r(Z)?(u(),Le(Pa,{key:9})):h("",!0)],46,Va))}},ur=ia(nr,[["__scopeId","data-v-62472871"]]),_r=Object.freeze(Object.defineProperty({__proto__:null,default:ur},Symbol.toStringTag,{value:"Module"}));export{ur as V,_r as a,Ar as v};
