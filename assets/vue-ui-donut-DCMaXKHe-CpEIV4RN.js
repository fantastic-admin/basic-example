
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Tooltip-68Yi_FFl-CRPaJsgv.js","./vue-data-ui-BN9YfUec.js","./index-DXZKKOp8.js","./index-B7kifsnL.css","./alert-l5XlVwCh.js","./vue-data-ui-D1HaM8UR.css","./vue-ui-accordion-UpZ765hd-DndPzmcD.js","./useNestedProp-dJX_8vvZ-BzBW50KN.js","./DataTable-BT7VF2ua-Cw2NNXsE.js","./Shape-CNXKB8O0-BJGuTKHC.js","./PenAndPaper-DSvu9dwa-B6YjX2xm.js","./ColorPicker-J5wOPCeB-sgb_Bfch.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-1OZ3jcm6-BbpzMig3.js","./img-BecE5qXd-CsL1o-EN.js","./dom-to-png--BNgrTZV-DTUrW_sQ.js","./PackageVersion-TgflyMpU-q2MkeeNq.js","./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"])))=>i.map(i=>d[i]);
import{ab as xl,J as y,au as U,e as g,E as Tt,av as Ft,a7 as kl,K as fe,b_ as Z,c as n,o as s,z as Q,A as v,r as b,f as h,g as Fe,u as r,c0 as We,h as _,j as re,k as ne,O as C,n as Ue,F as w,R as S,m as He,t as V,w as Pt,l as Pe,v as Lt,bn as $l,N as Cl,c1 as ee,a9 as _l}from"./index-DXZKKOp8.js";import{s as Al,g as St,p as je,b as Il,Q as Tl,A as Fl,C as Pl,c as Ll,a as Mt,m as ie,I as X,f as z,k as zt,w as Sl,y as Ml,O as Le,G as zl,J as Ol,x as F,V as ge,W as k,B as Ot,Z as Dl,v as El,L as Je,e as Yl,r as Nl,F as Vl,D as Dt}from"./vue-data-ui-BN9YfUec.js";import{E as Xl,M as Rl}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{t as Bl,o as Et}from"./useNestedProp-dJX_8vvZ-BzBW50KN.js";import{m as Gl}from"./usePrinter-DTzqpYKF-D5mkxXp9.js";import{S as ql,T as Wl}from"./BaseScanner-BgWxam9d-B19ueoDW.js";import{O as Ul}from"./useSvgExport-DrjCWun4-CbW14PXm.js";import{a as Hl}from"./useUserOptionState-BIvW1Kz7-D6llU1BK.js";import{o as jl}from"./useChartAccessibility-9icAAmYg-BcUQIUvr.js";import Jl from"./img-BecE5qXd-CsL1o-EN.js";import{w as Kl}from"./Shape-CNXKB8O0-BJGuTKHC.js";import Zl from"./Title-BWp-37K_-BMUMQpSO.js";import{J as Ql}from"./themes-AUNCOb2G-RAhReTPj.js";import ea from"./Legend-G6GMcdAc-7HaGLNN7.js";import"./alert-l5XlVwCh.js";import"./dom-to-png--BNgrTZV-DTUrW_sQ.js";const ta=["id"],la=["id"],aa=["xmlns","viewBox"],oa=["width","height"],ua={key:1},sa=["id"],ra=["stop-color"],na=["offset","stop-color"],ia=["offset","stop-color"],va=["stop-color"],ca={key:2},da=["id","cx","cy"],ha=["stop-color","stop-opacity"],ya=["stop-color"],pa=["id"],fa=["id"],ga=["id"],ma=["flood-color"],ba=["id"],wa=["flood-color"],xa=["d","stroke","filter"],ka=["d","stroke","filter"],$a=["cx","cy","r","fill","filter"],Ca={key:6},_a=["stroke","d"],Aa=["d","fill","stroke","stroke-width","filter"],Ia={key:0},Ta=["d","fill","stroke","stroke-width","filter"],Fa={key:0},Pa=["stroke","d"],La={key:0},Sa=["d","stroke","stroke-width","filter"],Ma={key:1},za=["d","fill","stroke","stroke-width","filter"],Oa=["d","fill","stroke","stroke-width","filter"],Da={key:1},Ea=["cx","cy","r","fill","stroke","stroke-width"],Ya=["cx","cy","r","fill","stroke","stroke-width"],Na={key:0},Va=["d","fill","stroke","stroke-width"],Xa=["cx","cy","r","stroke"],Ra=["cx","cy","r","fill"],Ba=["cx","cy","r"],Ga={key:0},qa=["d","stroke","fill","onMouseenter","onMouseleave","onClick"],Wa={key:1},Ua=["cx","cy","r"],Ha=["x","y","fill","font-size"],ja=["x","y","fill","font-size"],Ja=["x","y","fill","font-size"],Ka=["x","y","fill","font-size"],Za=["filter"],Qa={key:0},eo=["x","y"],to={key:1},lo=["cx","cy","fill","stroke","filter","onClick","onMouseenter","onMouseleave"],ao=["cx","cy","fill","stroke","filter","onClick","onMouseenter","onMouseleave"],oo=["text-anchor","x","y","fill","font-size","onClick","onMouseenter","onMouseleave"],uo=["text-anchor","x","y","fill","font-size","onClick","innerHTML"],so=["text-anchor","x","y","fill","font-size","onClick","onMouseenter","onMouseleave"],ro=["text-anchor","x","y","fill","font-size","onClick","innerHTML"],no={key:2},io=["x","y","width"],vo=["x","y","width"],co={key:4,class:"vue-data-ui-watermark"},ho=["id"],yo=["onClick"],po={key:7,class:"vue-ui-donut-hollow"},fo=["innerHTML"],go={__name:"vue-ui-donut",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:["selectLegend","selectDatapoint"],setup(Ke,{expose:Yt,emit:Nt}){const Vt=Z(()=>ee(()=>import("./Tooltip-68Yi_FFl-CRPaJsgv.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),Xt=Z(()=>ee(()=>import("./vue-data-ui-BN9YfUec.js").then(l=>l.aw),__vite__mapDeps([1,2,3,4,5]),import.meta.url)),Rt=Z(()=>ee(()=>import("./vue-ui-accordion-UpZ765hd-DndPzmcD.js"),__vite__mapDeps([6,2,3,1,4,5,7]),import.meta.url)),Bt=Z(()=>ee(()=>import("./DataTable-BT7VF2ua-Cw2NNXsE.js"),__vite__mapDeps([8,2,3,9,1,4,5]),import.meta.url)),Gt=Z(()=>ee(()=>import("./PenAndPaper-DSvu9dwa-B6YjX2xm.js"),__vite__mapDeps([10,2,3,1,4,5,11,12]),import.meta.url)),qt=Z(()=>ee(()=>import("./UserOptions-1OZ3jcm6-BbpzMig3.js"),__vite__mapDeps([13,2,3,12,1,4,5,14,15]),import.meta.url)),Wt=Z(()=>ee(()=>import("./PackageVersion-TgflyMpU-q2MkeeNq.js"),__vite__mapDeps([16,2,3]),import.meta.url)),Ut=Z(()=>ee(()=>import("./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"),__vite__mapDeps([17,2,3,1,4,5]),import.meta.url)),{vue_ui_donut:Ht}=Bl(),jt=xl(),x=Ke,ke=y({get(){return!!x.dataset&&x.dataset.length},set(l){return l}}),O=U(null),$e=g(null),Jt=g(null),Kt=g(null),Ze=U(null),Qe=U(null),H=U(null),ve=U(null),et=U(null),tt=U(null),lt=g(0),at=g(0),ot=g(0),ut=g(!1),me=g(null),Se=g(null),Ce=y({get:()=>e.value.style.chart.layout.labels.percentage.fontSize,set:l=>l}),j=y({get:()=>e.value.style.chart.layout.labels.name.fontSize,set:l=>l});let Me=!1;const R=()=>{!e.value.autoSize||Me||(Me=!0,requestAnimationFrame(()=>{Me=!1;const l=e.value,o=$e.value,t=te.value;if(!l.autoSize||!o||!t)return;const[a,i,d,p]=t.getAttribute("viewBox").split(" ").map(Number),A={x:a,y:i,width:d,height:p},N=[{selector:".vue-data-ui-datalabel-value",baseSize:l.style.chart.layout.labels.percentage.fontSize,minSize:l.style.chart.layout.labels.percentage.minFontSize,sizeRef:Ce},{selector:".vue-data-ui-datalabel-name",baseSize:l.style.chart.layout.labels.name.fontSize,minSize:l.style.chart.layout.labels.name.minFontSize,sizeRef:j}];N.map(L=>o.querySelectorAll(L.selector).length).reduce((L,se)=>L+se,0)!==0&&N.forEach(({selector:L,baseSize:se,minSize:pe,sizeRef:qe})=>{o.querySelectorAll(L).forEach(bl=>{const wl=Dl({el:bl,bounds:A,currentFontSize:se,minFontSize:pe,attempts:200,padding:1});qe.value=wl})})}))};Tt(async()=>{ut.value=!0,st(),requestAnimationFrame(R)});let be;Tt(()=>{O.value&&(be=new ResizeObserver(l=>{for(const o of l){const{width:t,height:a}=o.contentRect;if(t>0&&a>0){R();break}}}),be.observe(O.value.parentElement))}),Ft(()=>{be==null||be.disconnect()}),Ft(()=>{H.value&&(ve.value&&H.value.unobserve(ve.value),H.value.disconnect())});const ze=y(()=>!!e.value.debug);function st(){if(St(x.dataset)?(je({componentName:"VueUiDonut",type:"dataset",debug:ze.value}),ke.value=!1,Ae.value=!0):(x.dataset.forEach((l,o)=>{Il({datasetObject:l,requiredAttributes:["name","values"]}).forEach(t=>{je({componentName:"VueUiDonut",type:"datasetSerieAttribute",property:t,index:o,debug:ze.value}),ke.value=!1,Ae.value=!0})}),x.dataset.forEach((l,o)=>{(!l.name||l.name==="")&&je({componentName:"VueUiDonut",type:"datasetAttributeEmpty",property:"name",index:o,debug:ze.value})})),St(x.dataset)||(Ae.value=e.value.loading),e.value.responsive){const l=Xl(()=>{const{width:o,height:t}=Rl({chart:O.value,title:e.value.style.chart.title.text?Ze.value:null,legend:e.value.style.chart.legend.show?Qe.value:null,source:et.value,noTitle:tt.value,padding:e.value.autoSize?void 0:ct.value});requestAnimationFrame(()=>{u.value.width=o,u.value.height=t,R()})});H.value&&(ve.value&&H.value.unobserve(ve.value),H.value.disconnect()),H.value=new ResizeObserver(l),ve.value=O.value.parentNode,H.value.observe(ve.value)}}const f=g(Tl());g(null);const Oe=g(!1),De=g(""),D=g(null),rt=g(0);function Ee(){const l=Et({userConfig:x.config,defaultConfig:Ht});let o={};return l.theme?o={...Et({userConfig:Ql.vue_ui_donut[l.theme]||x.config,defaultConfig:l}),customPalette:El[l.theme]||ie}:o=l,x.config&&Je(x.config,"events.datapointEnter")?o.events.datapointEnter=x.config.events.datapointEnter:o.events.datapointEnter=null,x.config&&Je(x.config,"events.datapointLeave")?o.events.datapointLeave=x.config.events.datapointLeave:o.events.datapointLeave=null,x.config&&Je(x.config,"events.datapointClick")?o.events.datapointClick=x.config.events.datapointClick:o.events.datapointClick=null,o}const e=g(Ee()),{loading:_e,FINAL_DATASET:ce,manualLoading:Ae,skeletonDataset:Zt}=ql({...kl(x),FINAL_CONFIG:e,prepareConfig:Ee,skeletonDataset:[{name:"",values:[3],color:"#BABABA"},{name:"",values:[2],color:"#AAAAAA"},{name:"",values:[1],color:"#CACACA"}],skeletonConfig:Fl({defaultConfig:e.value,userConfig:{useCssAnimation:!1,table:{show:!1},startAnimation:{show:!1},userOptions:{show:!1},style:{chart:{backgroundColor:"#99999930",layout:{labels:{dataLabels:{show:!1},hollow:{average:{show:!1},total:{show:!1}},value:{show:!1}}},legend:{backgroundColor:"transparent",showValue:!1,showPercentage:!1},title:{color:"#1A1A1A",subtitle:{color:"#5A5A5A"}}}}}})}),I=g(!0),q=U([]);function Qt(l,o=1e3,t=50){return new Promise(a=>{const i=l.length;q.value=Array(i).fill(0);let d=0;l.forEach((p,A)=>{setTimeout(()=>{const N=performance.now();function L(se){const pe=Math.min((se-N)/o,1),qe=Dt(pe);q.value[A]=p*qe,q.value=[...q.value],pe<1?(requestAnimationFrame(L),requestAnimationFrame(R)):(q.value[A]=p,q.value=[...q.value],d+=1,d===i&&a(),requestAnimationFrame(R))}requestAnimationFrame(L)},A*t)})})}const nt=g(!1);fe(()=>_e.value,async l=>{var a;if(l||nt.value)return;const o=ce.value===Zt,t=(a=e.value.startAnimation)==null?void 0:a.show;if(!o&&t){nt.value=!0;const i=ce.value.map(d=>d.values.reduce((p,A)=>p+A,0));await Qt(i,e.value.startAnimation.durationMs,e.value.startAnimation.staggerMs)}I.value=!1},{immediate:!0});const{userOptionsVisible:Ye,setUserOptionsVisibility:it,keepUserOptionState:vt}=Hl({config:e.value}),{svgRef:te}=jl({config:e.value.style.chart.title});function el(){it(!0)}function tl(){it(!1)}fe(()=>x.config,l=>{_e.value||(e.value=Ee()),Ye.value=!e.value.userOptions.showOnChartHover,st(),lt.value+=1,at.value+=1,ot.value+=1,m.value.dataLabels.show=e.value.style.chart.layout.labels.dataLabels.show,m.value.showTable=e.value.table.show,m.value.showTooltip=e.value.style.chart.tooltip.show,u.value.height=e.value.style.chart.height,u.value.width=e.value.style.chart.width},{deep:!0});const ct=y(()=>{const{top:l,right:o,bottom:t,left:a}=e.value.style.chart.padding;return{css:"padding:".concat(l,"px ").concat(o,"px ").concat(t,"px ").concat(a,"px"),top:l,right:o,bottom:t,left:a}}),{isPrinting:dt,isImaging:ht,generatePdf:yt,generateImage:pt}=Gl({elementId:"donut__".concat(f.value),fileName:e.value.style.chart.title.text||"vue-ui-donut",options:e.value.userOptions.print}),ll=y(()=>e.value.userOptions.show&&!e.value.style.chart.title.text),ft=y(()=>Pl(e.value.customPalette)),m=g({dataLabels:{show:e.value.style.chart.layout.labels.dataLabels.show},showTable:e.value.table.show,showTooltip:e.value.style.chart.tooltip.show});fe(e,()=>{m.value={dataLabels:{show:e.value.style.chart.layout.labels.dataLabels.show},showTable:e.value.table.show,showTooltip:e.value.style.chart.tooltip.show}},{immediate:!0});const u=g({height:e.value.style.chart.height,width:e.value.style.chart.width}),le=y(()=>{if(e.value.pie)return $.value;const l=e.value.style.chart.layout.donut.strokeWidth/512,o=Math.min(u.value.width,u.value.height)*l,t=o>$.value?$.value:o;return Math.max(t,12*(1+l))}),gt=Nt,B=y(()=>ce.value.map((l,o)=>({name:l.name,color:Mt(l.color)||ft.value[o]||ie[o]||ie[o%ie.length],value:Ll(l.values.reduce((t,a)=>t+a,0)),absoluteValues:l.values,comment:l.comment||"",patternIndex:o,seriesIndex:o,ghost:!1,pattern:"pattern_".concat(f.value,"_").concat(o)})));fe(()=>x.dataset,l=>{Array.isArray(l)&&l.length>0&&(Ae.value=!1)},{immediate:!0});const M=U(B.value);fe(()=>B.value,l=>{M.value=l,requestAnimationFrame(R)});function al(){return B.value.map(l=>({name:l.name,color:l.color,value:l.value}))}const G=g([]),ae=g(!1);function mt({from:l,to:o,duration:t,onUpdate:a,onDone:i,easing:d=Dt}){const p=performance.now();function A(N){const L=Math.min((N-p)/t,1),se=d(L),pe=l+(o-l)*se;a(pe,L),L<1?requestAnimationFrame(A):(a(o,1),i&&i())}requestAnimationFrame(A)}function bt(l){const o=B.value.find((a,i)=>i===l);let t=M.value.find((a,i)=>i===l).value;if(G.value.includes(l)){let a=function(){M.value=M.value.map((p,A)=>l===A?{...p,value:d}:p)},i=function(){ae.value=!0,mt({from:t,to:d,duration:e.value.serieToggleAnimation.durationMs,onUpdate:(p,A)=>{M.value=M.value.map((N,L)=>l===L?{...N,value:p}:N),requestAnimationFrame(R)},onDone:()=>{a(),ae.value=!1}})};G.value=G.value.filter(p=>p!==l);const d=o.value;e.value.serieToggleAnimation.show&&e.value.type==="classic"?i():(a(),requestAnimationFrame(R))}else if(G.value.length<B.value.length-1){let a=function(){G.value.push(l),M.value=M.value.map((d,p)=>l===p?{...d,value:0}:d)},i=function(){ae.value=!0,mt({from:t,to:0,duration:e.value.serieToggleAnimation.durationMs,onUpdate:(d,p)=>{M.value=M.value.map((A,N)=>l===N?{...A,value:d}:A),requestAnimationFrame(R)},onDone:()=>{a(),requestAnimationFrame(R),ae.value=!1}})};e.value.serieToggleAnimation.show&&e.value.type==="classic"?i():a()}gt("selectLegend",W.value.map(a=>({name:a.name,color:a.color,value:a.value})))}const ol=y(()=>ce.value.reduce((l,o)=>l+o.values.reduce((t,a)=>t+a,0),0)),W=y(()=>{if(I.value&&!_e.value){const l=q.value.map((t,a)=>({...B.value[a],value:t,color:B.value[a].color,ghost:!1})),o=ol.value-q.value.reduce((t,a)=>t+a,0);return o>0&&l.push({name:"__ghost__",value:o,color:"transparent",ghost:!0}),l}else return M.value.forEach((l,o)=>{if([null,void 0].includes(l.values))return{...l,values:[]}}),M.value.map((l,o)=>({...l,seriesIndex:o})).filter((l,o)=>!G.value.includes(o))}),Ne=y(()=>ce.value.map((l,o)=>{const t=(l.values||[]).reduce((i,d)=>i+d,0),a=t/ce.value.map(i=>(i.values||[]).reduce((d,p)=>d+p,0)).reduce((i,d)=>i+d,0);return{name:l.name,color:Mt(l.color)||ft.value[o]||ie[o]||ie[o%ie.length],value:t,shape:"circle",patternIndex:o,proportion:a}}).map((l,o)=>({...l,opacity:G.value.includes(o)?.5:1,segregate:()=>!ae.value&&bt(o),isSegregated:G.value.includes(o),display:"".concat(l.name).concat(e.value.style.chart.legend.showPercentage||e.value.style.chart.legend.showValue?": ":"").concat(e.value.style.chart.legend.showValue?X(e.value.style.chart.layout.labels.value.formatter,l.value,z({p:e.value.style.chart.layout.labels.dataLabels.prefix,v:l.value,s:e.value.style.chart.layout.labels.dataLabels.suffix,r:e.value.style.chart.legend.roundingValue}),{datapoint:l,index:o}):"").concat(e.value.style.chart.legend.showPercentage?G.value.includes(o)?"".concat(e.value.style.chart.legend.showValue?"(":"").concat(vl(l.proportion*100),"%").concat(e.value.style.chart.legend.showValue?")":""):"".concat(e.value.style.chart.legend.showValue?" (":"").concat(isNaN(l.value/P.value)?"-":X(e.value.style.chart.layout.labels.percentage.formatter,wt(l),z({v:wt(l),s:"%",r:e.value.style.chart.legend.roundingPercentage}))).concat(e.value.style.chart.legend.showValue?")":""):"")}))),ul=y(()=>({cy:"donut-div-legend",backgroundColor:e.value.style.chart.legend.backgroundColor,color:e.value.style.chart.legend.color,fontSize:e.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:e.value.style.chart.legend.bold?"bold":""})),$=y(()=>{const l=e.value.style.chart.layout.donut.radiusRatio,o=Math.max(.1,Math.min(.50001,l)),t=Math.min(u.value.width*o,u.value.height*o);return Math.max(12,t)}),T=y(()=>zt({series:W.value},u.value.width/2,u.value.height/2,$.value,$.value,1.99999,2,1,360,105.25,le.value)),sl=y(()=>Math.abs(W.value.map(l=>l.value).reduce((l,o)=>l+o,0))>0),rl=y(()=>zt({series:[{value:1,color:e.value.style.chart.layout.donut.emptyFill,name:"_",seriesIndex:0,patternIndex:-1,ghost:!1,absoluteValues:[1]}]},u.value.width/2,u.value.height/2,$.value,$.value,1.99999,2,1,360,105.25,le.value)),E=y(()=>T.value.filter(l=>!l.ghost)),c=y(()=>{const l=Math.max(...W.value.map(t=>t.value)),o=W.value.map(t=>t.value/l);return Sl({series:o,center:{x:u.value.width/2,y:u.value.height/2},maxRadius:Math.min(u.value.width,u.value.height)/3,hasGhost:I.value})});function de(l){return l.x>u.value.width/2+6?"start":l.x<u.value.width/2-6?"end":"middle"}function nl(l){return l.middlePoint.y>u.value.height/2?F({initX:l.middlePoint.x,initY:l.middlePoint.y,offset:100,centerX:u.value.width/2,centerY:u.value.height/2}).y:F({initX:l.middlePoint.x,initY:l.middlePoint.y,offset:0,centerX:u.value.width/2,centerY:u.value.height/2}).y-100}function Y(l){return l.proportion*100>e.value.style.chart.layout.labels.dataLabels.hideUnderValue}function Ve(l,o){const t=l.value/il(o);return isNaN(t)?0:X(e.value.style.chart.layout.labels.percentage.formatter,t*100,z({v:t*100,s:"%",r:e.value.style.chart.layout.labels.percentage.rounding}),{datapoint:l})}function il(l){return[...l].map(o=>o.value).reduce((o,t)=>o+t,0)}const P=y(()=>W.value.map(l=>l.value).reduce((l,o)=>l+o,0)),Xe=y(()=>P.value/W.value.length);function wt(l){return ae.value?l.proportion*100:l.value/P.value*100}const Re=g(null),we=g(!1);function he({datapoint:l,seriesIndex:o}){e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:l,seriesIndex:o}),Oe.value=!1,D.value=null}function ye({datapoint:l,relativeIndex:o,seriesIndex:t,show:a=!1}){e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:l,seriesIndex:t}),Re.value={datapoint:l,seriesIndex:t,config:e.value,series:B.value},Oe.value=a,D.value=o;let i="";const d=e.value.style.chart.tooltip.customFormat;if(we.value=!1,Vl(d))try{const p=d({seriesIndex:t,datapoint:l,series:B.value,config:e.value});typeof p=="string"&&(De.value=p,we.value=!0)}catch(p){console.warn("Custom format cannot be applied."),we.value=!1}if(!we.value){if(i+='<div style="width:100%;text-align:center;border-bottom:1px solid '.concat(e.value.style.chart.tooltip.borderColor,';padding-bottom:6px;margin-bottom:3px;">').concat(l.name,"</div>"),i+='<div style="display:flex;flex-direction:row;gap:6px;align-items:center;"><svg viewBox="0 0 60 60" height="14" width="14"><circle cx="30" cy="30" r="30" stroke="none" fill="'.concat(l.color,'"/>').concat(jt.pattern?'<circle cx="30" cy="30" r="30" stroke="none" fill="url(#pattern_'.concat(f.value,"_").concat(t,')"/>'):"","</svg>"),e.value.style.chart.tooltip.showValue&&(i+="<b>".concat(X(e.value.style.chart.layout.labels.value.formatter,l.value,z({p:e.value.style.chart.layout.labels.dataLabels.prefix,v:l.value,s:e.value.style.chart.layout.labels.dataLabels.suffix,r:e.value.style.chart.tooltip.roundingValue}),{datapoint:l,relativeIndex:o,seriesIndex:t}),"</b>")),e.value.style.chart.tooltip.showPercentage){const p=X(e.value.style.chart.layout.labels.percentage.formatter,l.proportion*100,z({v:l.proportion*100,s:"%",r:e.value.style.chart.tooltip.roundingPercentage}),{datapoint:l,relativeIndex:o,seriesIndex:t});e.value.style.chart.tooltip.showValue?i+="<span>(".concat(p,")</span></div>"):i+="<b>".concat(p,"</b></div>")}e.value.style.chart.comments.showInTooltip&&l.comment&&(i+='<div class="vue-data-ui-tooltip-comment" style="background:'.concat(l.color,"20; padding: 6px; margin-bottom: 6px; margin-top:6px; border-left: 1px solid ").concat(l.color,'">').concat(l.comment,"</div>")),De.value="<div>".concat(i,"</div>")}}function oe(l){return e.value.useBlurOnHover&&![null,void 0].includes(D.value)&&D.value!==l?"url(#blur_".concat(f.value,")"):""}const J=y(()=>{const l=W.value.map(t=>({name:t.name,color:t.color})),o=W.value.map(t=>t.value);return{head:l,body:o}});function Be(l=null){_l(()=>{const o=J.value.head.map((i,d)=>[[i.name],[J.value.body[d]],[isNaN(J.value.body[d]/P.value)?"-":J.value.body[d]/P.value*100]]),t=[[e.value.style.chart.title.text],[e.value.style.chart.title.subtitle.text],[[""],["val"],["%"]]].concat(o),a=Yl(t);l?l(a):Nl({csvContent:a,title:e.value.style.chart.title.text||"vue-ui-donut"})})}const Ie=y(()=>{const l=[' <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>',z({p:e.value.style.chart.layout.labels.dataLabels.prefix,v:P.value,s:e.value.style.chart.layout.labels.dataLabels.suffix,r:e.value.table.td.roundingValue}),"100%"],o=J.value.head.map((a,i)=>[{color:a.color,name:a.name||"-"},J.value.body[i],isNaN(J.value.body[i]/P.value)?"-":(J.value.body[i]/P.value*100).toFixed(e.value.table.td.roundingPercentage)+"%"]),t={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint};return{colNames:[e.value.table.columnNames.series,e.value.table.columnNames.value,e.value.table.columnNames.percentage],head:l,body:o,config:t}}),ue=g(!1);function xt(l){ue.value=l,rt.value+=1}const kt=y(()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent));function vl(l){return l.toFixed(e.value.style.chart.legend.roundingPercentage).split("").map(o=>"-").join("")}function K(l,o){e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:l,seriesIndex:l.seriesIndex}),gt("selectDatapoint",{datapoint:l,index:o})}function $t(){m.value.showTable=!m.value.showTable}function Ct(){m.value.dataLabels.show=!m.value.dataLabels.show}function _t(){m.value.showTooltip=!m.value.showTooltip}const Te=g(!1);function Ge(){Te.value=!Te.value}async function cl({scale:l=2}={}){if(!O.value)return;const{width:o,height:t}=O.value.getBoundingClientRect(),a=o/t,{imageUri:i,base64:d}=await Jl({domElement:O.value,base64:!0,img:!0,scale:l});return{imageUri:i,base64:d,title:e.value.style.chart.title.text,width:o,height:t,aspectRatio:a}}function dl(){if(!$e.value)return;const{x:l,y:o,width:t,height:a}=$e.value.getBBox();te.value&&te.value.setAttribute("viewBox","".concat(l," ").concat(o," ").concat(t+Math.min(0,l)," ").concat(a+Math.min(0,o)))}const xe=y(()=>{const l=e.value.table.useDialog&&!e.value.table.show,o=m.value.showTable;return{component:l?Ut:Rt,title:"".concat(e.value.style.chart.title.text).concat(e.value.style.chart.title.subtitle.text?": ".concat(e.value.style.chart.title.subtitle.text):""),props:l?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:ue.value,fullscreenParent:O.value,forcedWidth:Math.min(500,window.innerWidth*.8)}:{hideDetails:!0,config:{open:o,maxHeight:1e4,body:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color},head:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color}}}}});fe(()=>m.value.showTable,l=>{e.value.table.show||(l&&e.value.table.useDialog&&me.value?me.value.open():"close"in me.value&&me.value.close())});function At(){m.value.showTable=!1,Se.value&&Se.value.setTableIconState(!1)}const hl=y(()=>Ne.value.map(l=>({...l,name:l.display}))),yl=y(()=>e.value.style.chart.backgroundColor),pl=y(()=>e.value.style.chart.legend),fl=y(()=>e.value.style.chart.title),{exportSvg:gl,getSvg:ml}=Ul({svg:te,title:fl,legend:pl,legendItems:hl,backgroundColor:yl});async function It({isCb:l}){if(l){const{blob:o,url:t,text:a,dataUrl:i}=await ml();e.value.userOptions.callbacks.svg({blob:o,url:t,text:a,dataUrl:i})}else gl()}return Yt({autoSize:dl,getData:al,getImage:cl,generatePdf:yt,generateCsv:Be,generateImage:pt,generateSvg:It,toggleTable:$t,toggleLabels:Ct,toggleTooltip:_t,toggleAnnotator:Ge,toggleFullscreen:xt}),(l,o)=>(s(),n("div",{ref_key:"donutChart",ref:O,class:Ue("vue-data-ui-component vue-ui-donut ".concat(ue.value?"vue-data-ui-wrapper-fullscreen":""," ").concat(e.value.useCssAnimation?"":"vue-ui-dna")),style:C("font-family:".concat(e.value.style.fontFamily,";width:100%; ").concat(e.value.responsive?"height:100%;":""," text-align:center;background:").concat(e.value.style.chart.backgroundColor)),id:"donut__".concat(f.value),onMouseenter:el,onMouseleave:tl},[e.value.userOptions.buttons.annotator&&r(te)?(s(),Q(r(Gt),{key:0,color:e.value.style.chart.color,backgroundColor:e.value.style.chart.backgroundColor,active:Te.value,svgRef:r(te),onClose:Ge},null,8,["color","backgroundColor","active","svgRef"])):v("",!0),b(l.$slots,"userConfig",{},void 0,!0),ll.value?(s(),n("div",{key:1,ref_key:"noTitle",ref:tt,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):v("",!0),e.value.style.chart.title.text?(s(),n("div",{key:2,ref_key:"chartTitle",ref:Ze,style:"width:100%;background:transparent;padding-bottom:24px"},[(s(),Q(Zl,{key:"title_".concat(lt.value),config:{title:{cy:"donut-div-title",...e.value.style.chart.title},subtitle:{cy:"donut-div-subtitle",...e.value.style.chart.title.subtitle}}},null,8,["config"]))],512)):v("",!0),h("div",{id:"legend-top-".concat(f.value)},null,8,la),e.value.userOptions.show&&ke.value&&(r(vt)||r(Ye))?(s(),Q(r(qt),{ref_key:"userOptionsRef",ref:Se,key:"user_option_".concat(rt.value),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isPrinting:r(dt),isImaging:r(ht),uid:f.value,hasTooltip:e.value.style.chart.tooltip.show&&e.value.userOptions.buttons.tooltip,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasXls:e.value.userOptions.buttons.csv,hasTable:e.value.userOptions.buttons.table,hasLabel:e.value.userOptions.buttons.labels,hasFullscreen:e.value.userOptions.buttons.fullscreen,isFullscreen:ue.value,chartElement:O.value,position:e.value.userOptions.position,callbacks:e.value.userOptions.callbacks,isTooltip:m.value.showTooltip,titles:{...e.value.userOptions.buttonTitles},hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:Te.value,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:xt,onGeneratePdf:r(yt),onGenerateCsv:Be,onGenerateImage:r(pt),onGenerateSvg:It,onToggleTable:$t,onToggleLabels:Ct,onToggleTooltip:_t,onToggleAnnotator:Ge,style:C({visibility:r(vt)?r(Ye)?"visible":"hidden":"visible"})},We({_:2},[l.$slots.menuIcon?{name:"menuIcon",fn:_(({isOpen:t,color:a})=>[b(l.$slots,"menuIcon",re(ne({isOpen:t,color:a})),void 0,!0)]),key:"0"}:void 0,l.$slots.optionTooltip?{name:"optionTooltip",fn:_(()=>[b(l.$slots,"optionTooltip",{},void 0,!0)]),key:"1"}:void 0,l.$slots.optionPdf?{name:"optionPdf",fn:_(()=>[b(l.$slots,"optionPdf",{},void 0,!0)]),key:"2"}:void 0,l.$slots.optionCsv?{name:"optionCsv",fn:_(()=>[b(l.$slots,"optionCsv",{},void 0,!0)]),key:"3"}:void 0,l.$slots.optionImg?{name:"optionImg",fn:_(()=>[b(l.$slots,"optionImg",{},void 0,!0)]),key:"4"}:void 0,l.$slots.optionTable?{name:"optionTable",fn:_(()=>[b(l.$slots,"optionTable",{},void 0,!0)]),key:"5"}:void 0,l.$slots.optionLabels?{name:"optionLabels",fn:_(()=>[b(l.$slots,"optionLabels",{},void 0,!0)]),key:"6"}:void 0,l.$slots.optionFullscreen?{name:"optionFullscreen",fn:_(({toggleFullscreen:t,isFullscreen:a})=>[b(l.$slots,"optionFullscreen",re(ne({toggleFullscreen:t,isFullscreen:a})),void 0,!0)]),key:"7"}:void 0,l.$slots.optionAnnotator?{name:"optionAnnotator",fn:_(({toggleAnnotator:t,isAnnotator:a})=>[b(l.$slots,"optionAnnotator",re(ne({toggleAnnotator:t,isAnnotator:a})),void 0,!0)]),key:"8"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasTooltip","hasPdf","hasImg","hasSvg","hasXls","hasTable","hasLabel","hasFullscreen","isFullscreen","chartElement","position","callbacks","isTooltip","titles","hasAnnotator","isAnnotation","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):v("",!0),(s(),n("svg",{ref_key:"svgRef",ref:te,xmlns:r(Ml),class:Ue({"vue-data-ui-fullscreen--on":ue.value,"vue-data-ui-fulscreen--off":!ue.value,"vue-data-ui-svg":!0}),viewBox:"0 0 ".concat(u.value.width<=0?10:u.value.width," ").concat(u.value.height<=0?10:u.value.height),style:C("max-width:100%; overflow: visible; background:transparent;color:".concat(e.value.style.chart.color,";").concat(ct.value.css))},[h("g",{ref_key:"G",ref:$e,class:"vue-data-ui-g"},[Fe(r(Wt)),l.$slots["chart-background"]?(s(),n("foreignObject",{key:0,x:0,y:0,width:u.value.width<=0?10:u.value.width,height:u.value.height<=0?10:u.value.height,style:{pointerEvents:"none"}},[b(l.$slots,"chart-background",{},void 0,!0)],8,oa)):v("",!0),e.value.type==="classic"&&!isNaN(le.value/$.value)?(s(),n("defs",ua,[e.value.style.chart.useGradient?(s(),n("radialGradient",{key:0,id:"gradient_".concat(f.value)},[h("stop",{offset:"0%","stop-color":r(Le)(e.value.style.chart.backgroundColor,0),"stop-opacity":"0"},null,8,ra),h("stop",{offset:"".concat((1-le.value/$.value)*100,"%"),"stop-color":r(Le)("#FFFFFF",0),"stop-opacity":"0"},null,8,na),h("stop",{offset:"".concat((1-le.value/$.value/2)*100,"%"),"stop-color":r(Le)("#FFFFFF",e.value.style.chart.gradientIntensity)},null,8,ia),h("stop",{offset:"100%","stop-color":r(Le)(e.value.style.chart.backgroundColor,0),"stop-opacity":"0"},null,8,va)],8,sa)):v("",!0)])):v("",!0),e.value.type==="polar"?(s(),n("defs",ca,[(s(!0),n(w,null,S(c.value,(t,a)=>(s(),n("radialGradient",{id:"polar_gradient_".concat(a,"_").concat(f.value),cx:(isNaN(t.middlePoint.x/u.value.width*100)?0:t.middlePoint.x/u.value.width*100)+"%",cy:(isNaN(t.middlePoint.y/u.value.height*100)?0:t.middlePoint.y/u.value.height*100)+"%",r:"62%"},[h("stop",{offset:"0%","stop-color":r(zl)(T.value[a].color,.05),"stop-opacity":e.value.style.chart.gradientIntensity/100},null,8,ha),h("stop",{offset:"100%","stop-color":T.value[a].color},null,8,ya)],8,da))),256))])):v("",!0),h("defs",null,[h("filter",{id:"blur_".concat(f.value),x:"-50%",y:"-50%",width:"200%",height:"200%"},[h("feGaussianBlur",{in:"SourceGraphic",stdDeviation:2,id:"blur_std_".concat(f.value)},null,8,fa),o[5]||(o[5]=h("feColorMatrix",{type:"saturate",values:"0"},null,-1))],8,pa),h("filter",{id:"shadow_".concat(f.value),"color-interpolation-filters":"sRGB"},[h("feDropShadow",{dx:"0",dy:"0",stdDeviation:"10","flood-opacity":"0.5","flood-color":e.value.style.chart.layout.donut.shadowColor},null,8,ma)],8,ga),h("filter",{id:"drop_shadow_".concat(f.value),"color-interpolation-filters":"sRGB",x:"-50%",y:"-50%",width:"200%",height:"200%"},[h("feDropShadow",{dx:"0",dy:"0",stdDeviation:"3","flood-opacity":"1","flood-color":e.value.style.chart.layout.donut.shadowColor},null,8,wa)],8,ba)]),e.value.type==="classic"?(s(!0),n(w,{key:3},S(T.value.filter(t=>!t.ghost),(t,a)=>(s(),n("g",null,[Y(t)&&m.value.dataLabels.show?(s(),n("path",{key:0,d:r(Ol)(t,{x:u.value.width/2,y:u.value.height/2},16,16,!1,!1,le.value,12,e.value.style.chart.layout.curvedMarkers),stroke:t.color,"stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",fill:"none",filter:oe(a)},null,8,xa)):v("",!0)]))),256)):v("",!0),e.value.type==="polar"?(s(!0),n(w,{key:4},S(T.value.filter(t=>!t.ghost),(t,a)=>(s(),n("g",null,[Y(t)&&m.value.dataLabels.show?(s(),n("path",{key:0,d:"M ".concat(r(F)({initX:c.value[a].middlePoint.x,initY:c.value[a].middlePoint.y,offset:24,centerX:u.value.width/2,centerY:u.value.height/2}).x,",").concat(r(F)({initX:c.value[a].middlePoint.x,initY:c.value[a].middlePoint.y,offset:24,centerX:u.value.width/2,centerY:u.value.height/2}).y," ").concat(c.value[a].middlePoint.x,",").concat(c.value[a].middlePoint.y),stroke:t.color,"stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",fill:"none",filter:oe(a),style:C({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out")})},null,12,ka)):v("",!0)]))),256)):v("",!0),e.value.type==="classic"&&e.value.style.chart.layout.donut.useShadow?(s(),n("circle",{key:5,cx:u.value.width/2,cy:u.value.height/2,r:$.value<=0?10:$.value,fill:e.value.style.chart.backgroundColor,filter:"url(#shadow_".concat(f.value,")")},null,8,$a)):v("",!0),l.$slots.pattern?(s(),n("g",Ca,[(s(!0),n(w,null,S(Ke.dataset,(t,a)=>(s(),n("defs",{key:"pattern-".concat(t.patternIndex)},[b(l.$slots,"pattern",He({ref_for:!0},{seriesIndex:a,patternId:"pattern_".concat(f.value,"_").concat(a)}),void 0,!0)]))),128))])):v("",!0),P.value&&e.value.type==="classic"?(s(),n(w,{key:7},[(s(!0),n(w,null,S(E.value,(t,a)=>(s(),n("path",{stroke:e.value.style.chart.backgroundColor,d:t.arcSlice,fill:"#FFFFFF"},null,8,_a))),256)),(s(!0),n(w,null,S(E.value,(t,a)=>(s(),n("path",{class:"vue-ui-donut-arc-path",d:t.arcSlice,fill:t.color,stroke:e.value.style.chart.layout.donut.borderColorAuto?e.value.style.chart.backgroundColor:e.value.style.chart.layout.donut.borderColor,"stroke-width":e.value.style.chart.layout.donut.borderWidth,filter:oe(a)},null,8,Aa))),256)),l.$slots.pattern?(s(),n("g",Ia,[(s(!0),n(w,null,S(E.value,(t,a)=>(s(),n("path",{class:"vue-ui-donut-arc-path",d:t.arcSlice,fill:"url(#".concat(t.pattern,")"),stroke:e.value.style.chart.layout.donut.borderColorAuto?e.value.style.chart.backgroundColor:e.value.style.chart.layout.donut.borderColor,"stroke-width":e.value.style.chart.layout.donut.borderWidth,filter:oe(a)},null,8,Ta))),256))])):v("",!0)],64)):v("",!0),P.value&&e.value.type==="polar"?(s(),n(w,{key:8},[T.value.length>1?(s(),n("g",Fa,[(s(!0),n(w,null,S(E.value,(t,a)=>(s(),n("path",{stroke:e.value.style.chart.layout.donut.borderColorAuto?e.value.style.chart.backgroundColor:e.value.style.chart.layout.donut.borderColor,d:c.value[a].path,fill:"#FFFFFF",style:C({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out")})},null,12,Pa))),256)),e.value.style.chart.layout.donut.useShadow?(s(),n("g",La,[(s(!0),n(w,null,S(E.value,(t,a)=>(s(),n("path",{class:"vue-ui-donut-arc-path",d:c.value[a].path,fill:"transparent",stroke:e.value.style.chart.layout.donut.borderColorAuto?e.value.style.chart.backgroundColor:e.value.style.chart.layout.donut.borderColor,"stroke-width":e.value.style.chart.layout.donut.borderWidth,filter:"url(#drop_shadow_".concat(f.value,")"),style:C({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out")})},null,12,Sa))),256))])):v("",!0),l.$slots.pattern?(s(),n("g",Ma,[(s(!0),n(w,null,S(E.value,(t,a)=>(s(),n("path",{class:"vue-ui-donut-arc-path",d:c.value[a].path,fill:"url(#".concat(t.pattern,")"),stroke:e.value.style.chart.layout.donut.borderColorAuto?e.value.style.chart.backgroundColor:e.value.style.chart.layout.donut.borderColor,"stroke-width":e.value.style.chart.layout.donut.borderWidth,filter:oe(a),style:C({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out"),transformOrigin:"center"})},null,12,za))),256))])):v("",!0),(s(!0),n(w,null,S(E.value,(t,a)=>(s(),n("path",{class:"vue-ui-donut-arc-path",d:c.value[a].path,fill:e.value.style.chart.useGradient?"url(#polar_gradient_".concat(a,"_").concat(f.value,")"):t.color,stroke:e.value.style.chart.layout.donut.borderColorAuto?e.value.style.chart.backgroundColor:e.value.style.chart.layout.donut.borderColor,"stroke-width":e.value.style.chart.layout.donut.borderWidth,filter:oe(a),style:C({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out")})},null,12,Oa))),256))])):(s(),n("g",Da,[l.$slots.pattern?(s(),n("circle",{key:0,cx:u.value.width/2,cy:u.value.height/2,r:$.value,fill:"url(#pattern_".concat(f.value,"_").concat(T.value[0].patternIndex,")"),stroke:e.value.style.chart.backgroundColor,"stroke-width":e.value.style.chart.layout.donut.borderWidth},null,8,Ea)):v("",!0),h("circle",{cx:u.value.width/2,cy:u.value.height/2,r:$.value,fill:e.value.style.chart.useGradient?"url(#polar_gradient_0_".concat(f.value,")"):T.value[0].color,stroke:e.value.style.chart.backgroundColor,"stroke-width":e.value.style.chart.layout.donut.borderWidth},null,8,Ya)]))],64)):(s(),n(w,{key:9},[e.value.type==="classic"&&!sl.value?(s(),n("g",Na,[(s(!0),n(w,null,S(rl.value,(t,a)=>(s(),n("path",{class:"vue-ui-donut-arc-path",d:t.arcSlice,fill:t.color,stroke:e.value.style.chart.backgroundColor,"stroke-width":e.value.style.chart.layout.donut.borderWidth},null,8,Va))),256))])):v("",!0),h("circle",{cx:u.value.width/2,cy:u.value.height/2,r:$.value<=0?10:$.value,fill:"transparent",stroke:e.value.style.chart.backgroundColor},null,8,Xa)],64)),e.value.style.chart.useGradient&&e.value.type==="classic"?(s(),n("circle",{key:10,cx:u.value.width/2,cy:u.value.height/2,r:$.value<=0?10:$.value,fill:"url(#gradient_".concat(f.value,")")},null,8,Ra)):v("",!0),h("circle",{ref_key:"circle_hollow",ref:Kt,style:{pointerEvents:"none"},fill:"none",cx:u.value.width/2,cy:u.value.height/2,r:Math.max(.1,le.value*1.7)},null,8,Ba),P.value?(s(),n(w,{key:11},[T.value.length>1||e.value.type==="classic"?(s(),n("g",Ga,[(s(!0),n(w,null,S(T.value.filter(t=>!t.ghost),(t,a)=>(s(),n("path",{d:e.value.type==="classic"?t.arcSlice:c.value[a].path,stroke:e.value.style.chart.layout.donut.borderColorAuto?e.value.style.chart.backgroundColor:e.value.style.chart.layout.donut.borderColor,fill:D.value===a?e.value.style.chart.layout.donut.selectedColor:"transparent",onMouseenter:i=>ye({datapoint:t,relativeIndex:a,seriesIndex:t.seriesIndex,show:!0}),onMouseleave:i=>he({datapoint:t,seriesIndex:t.seriesIndex}),onClick:i=>K(t,a)},null,40,qa))),256))])):(s(),n("g",Wa,[h("circle",{cx:u.value.width/2,cy:u.value.height/2,r:$.value,fill:"transparent",onMouseenter:o[0]||(o[0]=t=>ye({datapoint:T.value[0],relativeIndex:0,seriesIndex:T.value[0].seriesIndex,show:!0})),onMouseleave:o[1]||(o[1]=t=>he({datapoint:T.value[0],seriesIndex:T.value[0].seriesIndex})),onClick:o[2]||(o[2]=t=>K(T.value[0],l.i))},null,40,Ua)]))],64)):v("",!0),e.value.type==="classic"?(s(),n("g",{key:12,ref_key:"G_hollow",ref:Jt,class:"vue-data-ui-donut-hollow-labels"},[e.value.style.chart.layout.labels.hollow.total.show?(s(),n("text",{key:0,"text-anchor":"middle",x:u.value.width/2,y:u.value.height/2-(e.value.style.chart.layout.labels.hollow.average.show?e.value.style.chart.layout.labels.hollow.total.fontSize:0)+e.value.style.chart.layout.labels.hollow.total.offsetY,fill:e.value.style.chart.layout.labels.hollow.total.color,"font-size":e.value.style.chart.layout.labels.hollow.total.fontSize,style:C("font-weight:".concat(e.value.style.chart.layout.labels.hollow.total.bold?"bold":""))},V(e.value.style.chart.layout.labels.hollow.total.text),13,Ha)):v("",!0),e.value.style.chart.layout.labels.hollow.total.show?(s(),n("text",{key:1,"text-anchor":"middle",x:u.value.width/2,y:u.value.height/2+e.value.style.chart.layout.labels.hollow.total.fontSize-(e.value.style.chart.layout.labels.hollow.average.show?e.value.style.chart.layout.labels.hollow.total.fontSize:0)+e.value.style.chart.layout.labels.hollow.total.value.offsetY,fill:e.value.style.chart.layout.labels.hollow.total.value.color,"font-size":e.value.style.chart.layout.labels.hollow.total.value.fontSize,style:C("font-weight:".concat(e.value.style.chart.layout.labels.hollow.total.value.bold?"bold":""))},V(r(X)(e.value.style.chart.layout.labels.hollow.total.value.formatter,P.value,r(z)({p:e.value.style.chart.layout.labels.hollow.total.value.prefix,v:P.value,s:e.value.style.chart.layout.labels.hollow.total.value.suffix}))),13,ja)):v("",!0),e.value.style.chart.layout.labels.hollow.average.show?(s(),n("text",{key:2,"text-anchor":"middle",x:u.value.width/2,y:u.value.height/2+(e.value.style.chart.layout.labels.hollow.total.show?e.value.style.chart.layout.labels.hollow.average.fontSize:0)+e.value.style.chart.layout.labels.hollow.average.offsetY,fill:e.value.style.chart.layout.labels.hollow.average.color,"font-size":e.value.style.chart.layout.labels.hollow.average.fontSize,style:C("font-weight:".concat(e.value.style.chart.layout.labels.hollow.average.bold?"bold":""))},V(e.value.style.chart.layout.labels.hollow.average.text),13,Ja)):v("",!0),e.value.style.chart.layout.labels.hollow.average.show?(s(),n("text",{key:3,"text-anchor":"middle",x:u.value.width/2,y:u.value.height/2+(e.value.style.chart.layout.labels.hollow.total.show?e.value.style.chart.layout.labels.hollow.average.fontSize:0)+e.value.style.chart.layout.labels.hollow.average.fontSize+e.value.style.chart.layout.labels.hollow.average.value.offsetY,fill:e.value.style.chart.layout.labels.hollow.average.value.color,"font-size":e.value.style.chart.layout.labels.hollow.average.value.fontSize,style:C("font-weight:".concat(e.value.style.chart.layout.labels.hollow.average.value.bold?"bold":""))},V(ae.value||I.value?"--":r(X)(e.value.style.chart.layout.labels.hollow.average.value.formatter,Xe.value,r(z)({p:e.value.style.chart.layout.labels.hollow.average.value.prefix,v:Xe.value,s:e.value.style.chart.layout.labels.hollow.average.value.suffix,r:e.value.style.chart.layout.labels.hollow.average.value.rounding}))),13,Ka)):v("",!0)],512)):v("",!0),(s(!0),n(w,null,S(E.value.filter(t=>!t.ghost),(t,a)=>(s(),n("g",{filter:oe(a),class:Ue({animated:e.value.useCssAnimation}),key:t.seriesIndex},[e.value.style.chart.layout.labels.dataLabels.useLabelSlots?(s(),n("g",Qa,[(s(),n("foreignObject",{x:r(k)(t,!0).anchor==="end"?r(k)(t).x-120:r(k)(t,!0).anchor==="middle"?r(k)(t).x-60:r(k)(t).x,y:r(ge)(t)-(kt.value?20:0),width:"120",height:"60",style:{overflow:"visible"}},[h("div",null,[b(l.$slots,"dataLabel",He({ref_for:!0},{datapoint:t,isBlur:!e.value.useBlurOnHover||[null,void 0].includes(D.value)||D.value===a,isSafari:kt.value,isVisible:Y(t)&&m.value.dataLabels.show,textAlign:r(k)(t,!0,16,!0).anchor,flexAlign:r(k)(t,!0,16).anchor,percentage:Ve(t,E.value)}),void 0,!0)])],8,eo))])):(s(),n("g",to,[e.value.type==="classic"?(s(),n(w,{key:0},[Y(t)&&m.value.dataLabels.show?(s(),n("circle",{key:0,cx:r(k)(t).x,cy:r(ge)(t)-3.5,fill:t.color,stroke:e.value.style.chart.backgroundColor,"stroke-width":1,r:3,filter:!e.value.useBlurOnHover||[null,void 0].includes(D.value)||D.value===a?"":"url(#blur_".concat(f.value,")"),onClick:i=>K(t,a),onMouseenter:i=>ye({datapoint:t,relativeIndex:a,seriesIndex:t.seriesIndex,show:!0}),onMouseleave:i=>he({datapoint:t,seriesIndex:t.seriesIndex})},null,40,lo)):v("",!0)],64)):v("",!0),e.value.type==="polar"?(s(),n(w,{key:1},[Y(t)&&m.value.dataLabels.show?(s(),n("circle",{key:0,cx:r(F)({initX:c.value[a].middlePoint.x,initY:c.value[a].middlePoint.y,offset:24,centerX:u.value.width/2,centerY:u.value.height/2}).x,cy:r(F)({initX:c.value[a].middlePoint.x,initY:c.value[a].middlePoint.y,offset:24,centerX:u.value.width/2,centerY:u.value.height/2}).y,fill:t.color,stroke:e.value.style.chart.backgroundColor,"stroke-width":1,r:3,filter:!e.value.useBlurOnHover||[null,void 0].includes(D.value)||D.value===a?"":"url(#blur_".concat(f.value,")"),onClick:i=>K(t,a),onMouseenter:i=>ye({datapoint:t,relativeIndex:a,seriesIndex:t.seriesIndex,show:!0}),onMouseleave:i=>he({datapoint:t,seriesIndex:t.seriesIndex}),style:C({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out")})},null,44,ao)):v("",!0)],64)):v("",!0),e.value.type==="classic"?(s(),n(w,{key:2},[Pt(h("text",{class:"vue-data-ui-datalabel-value","text-anchor":r(k)(t,!0,12).anchor,x:r(k)(t,!0,12).x,y:r(ge)(t),fill:e.value.style.chart.layout.labels.percentage.color,"font-size":Ce.value+"px",style:C("font-weight:".concat(e.value.style.chart.layout.labels.percentage.bold?"bold":"")),onClick:i=>K(t,a),onMouseenter:i=>ye({datapoint:t,relativeIndex:a,seriesIndex:t.seriesIndex,show:!0}),onMouseleave:i=>he({datapoint:t,seriesIndex:t.seriesIndex})},V(Ve(t,E.value))+" "+V(e.value.style.chart.layout.labels.value.show?"(".concat(r(X)(e.value.style.chart.layout.labels.value.formatter,t.value,r(z)({p:e.value.style.chart.layout.labels.dataLabels.prefix,v:t.value,s:e.value.style.chart.layout.labels.dataLabels.suffix,r:e.value.style.chart.layout.labels.value.rounding}),{datapoint:t}),")"):""),45,oo),[[Lt,Y(t)&&m.value.dataLabels.show]]),Pt(h("text",{class:"vue-data-ui-datalabel-name","text-anchor":r(k)(t).anchor,x:r(k)(t,!0,12).x,y:r(ge)(t)+j.value*1.2,fill:e.value.style.chart.layout.labels.name.color,"font-size":j.value+"px",style:C("font-weight:".concat(e.value.style.chart.layout.labels.name.bold?"bold":"")),onClick:i=>K(t,a),innerHTML:r(Ot)({content:t.name,fontSize:j.value,fill:e.value.style.chart.layout.labels.name.color,x:r(k)(t,!0,12).x,y:r(ge)(t)+j.value})},null,12,uo),[[Lt,Y(t)&&m.value.dataLabels.show]]),o[6]||(o[6]=Pe(' @mouseenter="useTooltip({ datapoint: arc, relativeIndex: i, seriesIndex: arc.seriesIndex, show: true })" @mouseleave="handleDatapointLeave({ datapoint: arc, seriesIndex: arc.seriesIndex })" /> ',-1))],64)):v("",!0),e.value.type==="polar"?(s(),n(w,{key:3},[Y(t)&&m.value.dataLabels.show?(s(),n("text",{key:0,class:"vue-data-ui-datalabel-value","text-anchor":de(c.value[a].middlePoint),x:r(F)({initX:c.value[a].middlePoint.x,initY:c.value[a].middlePoint.y,offset:42,centerX:u.value.width/2,centerY:u.value.height/2}).x,y:r(F)({initX:c.value[a].middlePoint.x,initY:c.value[a].middlePoint.y,offset:42,centerX:u.value.width/2,centerY:u.value.height/2}).y,fill:e.value.style.chart.layout.labels.percentage.color,"font-size":Ce.value,style:C({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out"),fontWeight:e.value.style.chart.layout.labels.percentage.bold?"bold":"normal"}),onClick:i=>K(t,a),onMouseenter:i=>ye({datapoint:t,relativeIndex:a,seriesIndex:t.seriesIndex,show:!0}),onMouseleave:i=>he({datapoint:t,seriesIndex:t.seriesIndex})},V(Ve(t,E.value))+" "+V(e.value.style.chart.layout.labels.value.show?"(".concat(r(X)(e.value.style.chart.layout.labels.value.formatter,t.value,r(z)({p:e.value.style.chart.layout.labels.dataLabels.prefix,v:t.value,s:e.value.style.chart.layout.labels.dataLabels.suffix,r:e.value.style.chart.layout.labels.value.rounding}),{datapoint:t}),")"):""),45,so)):v("",!0),Y(t)&&m.value.dataLabels.show?(s(),n("text",{key:1,class:"vue-data-ui-datalabel-name","text-anchor":de(c.value[a].middlePoint),x:r(F)({initX:c.value[a].middlePoint.x,initY:c.value[a].middlePoint.y,offset:42,centerX:u.value.width/2,centerY:u.value.height/2}).x,y:r(F)({initX:c.value[a].middlePoint.x,initY:c.value[a].middlePoint.y,offset:42,centerX:u.value.width/2,centerY:u.value.height/2}).y+j.value*1.2,fill:e.value.style.chart.layout.labels.name.color,"font-size":j.value,style:C({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out"),fontWeight:e.value.style.chart.layout.labels.name.bold?"bold":"normal"}),onClick:i=>K(t,a),innerHTML:r(Ot)({content:t.name,fontSize:Ce.value,fill:e.value.style.chart.layout.labels.name.color,x:r(F)({initX:c.value[a].middlePoint.x,initY:c.value[a].middlePoint.y,offset:42,centerX:u.value.width/2,centerY:u.value.height/2}).x,y:r(F)({initX:c.value[a].middlePoint.x,initY:c.value[a].middlePoint.y,offset:42,centerX:u.value.width/2,centerY:u.value.height/2}).y+j.value*1.2})},null,12,ro)):v("",!0),o[7]||(o[7]=Pe(' @mouseenter="useTooltip({ datapoint: arc, relativeIndex: i, seriesIndex: arc.seriesIndex, show: true })" @mouseleave="handleDatapointLeave({ datapoint: arc, seriesIndex: arc.seriesIndex })" /> ',-1))],64)):v("",!0)])),m.value.dataLabels.show&&e.value.style.chart.comments.show&&t.comment?(s(),n("g",no,[Y(t)&&e.value.type==="classic"?(s(),n("foreignObject",{key:0,x:e.value.style.chart.comments.offsetX+(r(k)(t,!0).anchor==="end"?r(k)(t).x-e.value.style.chart.comments.width:r(k)(t,!0).anchor==="middle"?r(k)(t).x-e.value.style.chart.comments.width/2:r(k)(t).x),y:r(ge)(t)+24+e.value.style.chart.comments.offsetY,width:e.value.style.chart.comments.width,height:"200",style:{overflow:"visible","pointer-events":"none"}},[h("div",null,[b(l.$slots,"plot-comment",{plot:{...t,textAlign:r(k)(t,!0,16,!0).anchor,flexAlign:r(k)(t,!0,16).anchor,isFirstLoad:I.value}},void 0,!0)])],8,io)):v("",!0),Y(t)&&e.value.type==="polar"?(s(),n("foreignObject",{key:1,x:e.value.style.chart.comments.offsetX+(de(c.value[a].middlePoint)==="end"?r(F)({initX:c.value[a].middlePoint.x,initY:c.value[a].middlePoint.y,offset:42,centerX:u.value.width/2,centerY:u.value.height/2}).x-e.value.style.chart.comments.width:de(c.value[a].middlePoint)==="middle"?r(F)({initX:c.value[a].middlePoint.x,initY:c.value[a].middlePoint.y,offset:42,centerX:u.value.width/2,centerY:u.value.height/2}).x-e.value.style.chart.comments.width/2:r(F)({initX:c.value[a].middlePoint.x,initY:c.value[a].middlePoint.y,offset:42,centerX:u.value.width/2,centerY:u.value.height/2}).x),y:nl(c.value[a])+e.value.style.chart.comments.offsetY,width:e.value.style.chart.comments.width,height:"200",style:C({transition:I.value||!e.value.serieToggleAnimation.show?"none":"all ".concat(e.value.serieToggleAnimation.durationMs,"ms ease-in-out"),overflow:"visible",pointerEvents:"none"})},[h("div",null,[b(l.$slots,"plot-comment",{plot:{...t,textAlign:de(c.value[a].middlePoint),flexAlign:de(c.value[a].middlePoint),isFirstLoad:I.value}},void 0,!0)])],12,vo)):v("",!0)])):v("",!0)],10,Za))),128)),b(l.$slots,"svg",{svg:u.value},void 0,!0)],512)],14,aa)),l.$slots.watermark?(s(),n("div",co,[b(l.$slots,"watermark",re(ne({isPrinting:r(dt)||r(ht)})),void 0,!0)])):v("",!0),h("div",{id:"legend-bottom-".concat(f.value)},null,8,ho),ut.value?(s(),Q($l,{key:5,to:e.value.style.chart.legend.position==="top"?"#legend-top-".concat(f.value):"#legend-bottom-".concat(f.value)},[h("div",{ref_key:"chartLegend",ref:Qe},[e.value.style.chart.legend.show?(s(),Q(ea,{key:"legend_".concat(ot.value),legendSet:Ne.value,config:ul.value,onClickMarker:o[3]||(o[3]=({i:t})=>bt(t))},We({item:_(({legend:t,index:a})=>[h("div",{style:C("opacity:".concat(G.value.includes(a)?.5:1)),onClick:i=>t.segregate()},V(t.display),13,yo)]),_:2},[l.$slots.pattern?{name:"legend-pattern",fn:_(({legend:t,index:a})=>[Fe(Kl,{shape:t.shape,radius:30,stroke:"none",plot:{x:30,y:30},fill:"url(#pattern_".concat(f.value,"_").concat(a,")")},null,8,["shape","fill"])]),key:"0"}:void 0]),1032,["legendSet","config"])):v("",!0),b(l.$slots,"legend",{legend:Ne.value},void 0,!0)],512)],8,["to"])):v("",!0),l.$slots.source?(s(),n("div",{key:6,ref_key:"source",ref:et,dir:"auto"},[b(l.$slots,"source",{},void 0,!0)],512)):v("",!0),l.$slots.hollow?(s(),n("div",po,[b(l.$slots,"hollow",re(ne({total:P.value,average:Xe.value,dataset:B.value})),void 0,!0)])):v("",!0),Fe(r(Vt),{show:m.value.showTooltip&&Oe.value,backgroundColor:e.value.style.chart.tooltip.backgroundColor,color:e.value.style.chart.tooltip.color,fontSize:e.value.style.chart.tooltip.fontSize,borderRadius:e.value.style.chart.tooltip.borderRadius,borderColor:e.value.style.chart.tooltip.borderColor,borderWidth:e.value.style.chart.tooltip.borderWidth,backgroundOpacity:e.value.style.chart.tooltip.backgroundOpacity,position:e.value.style.chart.tooltip.position,offsetY:e.value.style.chart.tooltip.offsetY,parent:O.value,content:De.value,isCustom:we.value,isFullscreen:ue.value,smooth:e.value.style.chart.tooltip.smooth,backdropFilter:e.value.style.chart.tooltip.backdropFilter,smoothForce:e.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:e.value.style.chart.tooltip.smoothSnapThrehsold},{"tooltip-before":_(()=>[b(l.$slots,"tooltip-before",re(ne({...Re.value})),void 0,!0)]),"tooltip-after":_(()=>[b(l.$slots,"tooltip-after",re(ne({...Re.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","fontSize","borderRadius","borderColor","borderWidth","backgroundOpacity","position","offsetY","parent","content","isCustom","isFullscreen","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),ke.value&&e.value.userOptions.buttons.table?(s(),Q(Cl(xe.value.component),He({key:8},xe.value.props,{ref_key:"tableUnit",ref:me,onClose:At}),We({content:_(()=>[(s(),Q(r(Bt),{key:"table_".concat(at.value),colNames:Ie.value.colNames,head:Ie.value.head,body:Ie.value.body,config:Ie.value.config,title:e.value.table.useDialog?"":xe.value.title,withCloseButton:!e.value.table.useDialog,onClose:At},{th:_(({th:t})=>[h("div",{innerHTML:t,style:{display:"flex","align-items":"center"}},null,8,fo)]),td:_(({td:t})=>[Pe(V(t.name?t.name:isNaN(Number(t))?t.includes("%")?t:r(X)(e.value.style.chart.layout.labels.percentage.formatter,t,r(z)({v:t,s:"%",r:e.value.style.chart.layout.labels.percentage.rounding})):r(X)(e.value.style.chart.layout.labels.value.formatter,t,r(z)({p:e.value.style.chart.layout.labels.dataLabels.prefix,v:t,s:e.value.style.chart.layout.labels.dataLabels.suffix,r:e.value.style.chart.layout.labels.value.rounding}))),1)]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))]),_:2},[e.value.table.useDialog?{name:"title",fn:_(()=>[Pe(V(xe.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:_(()=>[h("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:o[4]||(o[4]=t=>Be(e.value.userOptions.callbacks.csv))},[Fe(r(Xt),{name:"excel",stroke:xe.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):v("",!0),r(_e)?(s(),Q(Wl,{key:9})):v("",!0)],46,ta))}},zo=Al(go,[["__scopeId","data-v-e95e3a20"]]);export{zo as default};
