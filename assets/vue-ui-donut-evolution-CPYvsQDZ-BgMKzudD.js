
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js","./index-CJB5jCfL.js","./index-D6D_bXIl.css","./vue-data-ui-8Gmf-dDN.js","./alert-I_0TAljB.js","./vue-data-ui-C46fMXq5.css","./useNestedProp-DaR1dBmj-yWXLkJlG.js","./DataTable-BfEbVwm4-B-GxLkq-.js","./Shape-12_eh8zD-Cy1mu6XW.js","./PackageVersion-By5ZZJ0U-Cc8IPeAX.js","./PenAndPaper--ADXtx65-ugytqLuo.js","./ColorPicker-BYn8PF2Z-DkxHqz9_.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-Cy-iNhZU-CnpDVImt.js","./img-CqYIrJ8I-E54QgU9o.js","./dom-to-png-WXGPkYro-BQsfl1t5.js","./vue-ui-donut-BhcFj-OA-DynRgC9O.js","./labelUtils-B3mOOEke-Caugf9-y.js","./useResponsive-DfdjqQps-DzVAt69W.js","./usePrinter-ChVMpU2f-B27PF0nl.js","./BaseScanner-BMpwQAfz-mc47WWxo.js","./useSvgExport-ByUukOZt-XO0OK7cR.js","./useThemeCheck-DGJ31Vi5-GRZcYzX8.js","./useUserOptionState-BIvW1Kz7-D70wY835.js","./useChartAccessibility-9icAAmYg-CuAxjhEs.js","./Title-D0nD-PMs-DAiwElB_.js","./Legend-D2xmnFPH-CItLelVI.js","./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"])))=>i.map(i=>d[i]);
import{e as i,av as kl,J as h,E as xt,a8 as kt,aa as ze,K as de,au as wt,aw as Lt,c1 as N,c as n,o as u,z as _,A as v,f as m,h as f,r as A,j as O,k as I,u as d,c3 as wl,O as le,n as P,g as Ll,F as E,R as $,t as k,bq as Dt,l as Se,m as Et,N as $t,c4 as V}from"./index-CJB5jCfL.js";import{s as Ft,J as Dl,E as El,A as ve,a as Bt,x as _t,v as zt,o as he,N as $l,$ as St,u as Oe,S as Ot,i as Fl,h as It,H as Ie,L as Pe,F as ge,d as Pt,w as te,U as Tt,Y as Rt,n as Nt,V as Vt,W as Bl,e as Mt,f as Ut,a0 as _l,a1 as Ht}from"./vue-data-ui-8Gmf-dDN.js";import{E as zl,M as Wt}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{s as jt,i as Te}from"./useNestedProp-DaR1dBmj-yWXLkJlG.js";import{m as Gt}from"./usePrinter-ChVMpU2f-B27PF0nl.js";import{T as Yt,j as Xt}from"./BaseScanner-BMpwQAfz-mc47WWxo.js";import{O as qt}from"./useSvgExport-ByUukOZt-XO0OK7cR.js";import{C as Jt}from"./useTimeLabels-DKoynYae-DbX6bBBl.js";import{i as Kt}from"./useThemeCheck-DGJ31Vi5-GRZcYzX8.js";import{a as Qt}from"./useUserOptionState-BIvW1Kz7-D70wY835.js";import{o as Zt}from"./useChartAccessibility-9icAAmYg-CuAxjhEs.js";import{S as ea}from"./useTimeLabelCollider-CIsgDrl9-BAa7N0ra.js";import la from"./img-CqYIrJ8I-E54QgU9o.js";import ta from"./Title-D0nD-PMs-DAiwElB_.js";import aa from"./Legend-D2xmnFPH-CItLelVI.js";import{G as oa}from"./Slicer-DMWpR3hr-DVPKb30b.js";import"./alert-I_0TAljB.js";import"./dom-to-png-WXGPkYro-BQsfl1t5.js";import"./Shape-12_eh8zD-Cy1mu6XW.js";const Sl={style:{chart:{backgroundColor:"#1A1A1A",color:"#CCCCCC",zoom:{color:"#4A4A4A",highlightColor:"#9A9A9A"},dialog:{backgroundColor:"#1A1A1A",color:"#CCCCCC",header:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},donutChart:{style:{chart:{backgroundColor:"#1A1A1A",color:"#CCCCCC",layout:{labels:{percentage:{color:"#CCCCCC"},name:{color:"#CCCCCC"},hollow:{total:{color:"#CCCCCC",value:{color:"#CCCCCC"}},average:{color:"#CCCCCC",value:{color:"#CCCCCC"}}}}},legend:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},title:{color:"#CCCCCC",subtitle:{color:"#757575"}},tooltip:{backgroundColor:"#1A1A1A",backgroundOpacity:70,color:"#CCCCCC",borderColor:"#5A5A5A"}}},table:{th:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},td:{backgroundColor:"#1A1A1A",color:"#CCCCCC"}}}},layout:{grid:{stroke:"#5A5A5A",yAxis:{dataLabels:{color:"#CCCCCC"}},xAxis:{dataLabels:{color:"#CCCCCC"}}},line:{stroke:"#4A4A4A"},highlighter:{color:"#CCCCCC"},dataLabels:{color:"#CCCCCC"}},legend:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},title:{color:"#CCCCCC",subtitle:{color:"#757575"}}}},table:{th:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},td:{backgroundColor:"#1A1A1A",color:"#CCCCCC"}}},Ol={style:{chart:{backgroundColor:"#FFF8E1",color:"#424242",zoom:{color:"#5D4037",highlightColor:"#FF8A65"},dialog:{backgroundColor:"#FFF8E1",color:"#424242",header:{backgroundColor:"##FFF8E1",color:"#424242"},donutChart:{style:{chart:{backgroundColor:"##FFF8E1",color:"#424242",layout:{labels:{percentage:{color:"#424242"},name:{color:"#424242"},hollow:{total:{color:"#424242",value:{color:"#424242"}},average:{color:"#424242",value:{color:"#424242"}}}}},legend:{backgroundColor:"##FFF8E1",color:"#424242"},title:{color:"#424242",subtitle:{color:"#757575"}},tooltip:{backgroundColor:"#FFECB3",backgroundOpacity:30,color:"#424242",borderColor:"#FF8A65"}}},table:{th:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},td:{backgroundColor:"#1A1A1A",color:"#CCCCCC"}}}},layout:{grid:{stroke:"#5D4037",showVerticalLines:!1,yAxis:{dataLabels:{color:"#424242"}},xAxis:{dataLabels:{color:"#424242"}}},line:{stroke:"#5D4037"},highlighter:{color:"#424242"},dataLabels:{color:"#424242"}},legend:{backgroundColor:"#FFF8E1",color:"#424242"},title:{color:"#424242",subtitle:{color:"#757575"}}}},table:{th:{backgroundColor:"#FFF8E1",color:"#424242"},td:{backgroundColor:"#FFF8E1",color:"#424242"}}},Il={style:{chart:{backgroundColor:"#1E1E1E",color:"#BDBDBD",zoom:{color:"#5D4037",highlightColor:"#FF8A65"},dialog:{backgroundColor:"#1E1E1E",color:"#BDBDBD",header:{backgroundColor:"#1E1E1E",color:"#BDBDBD"},donutChart:{style:{chart:{backgroundColor:"#1E1E1E",color:"#BDBDBD",layout:{labels:{percentage:{color:"#BDBDBD"},name:{color:"#BDBDBD"},hollow:{total:{color:"#BDBDBD",value:{color:"#BDBDBD"}},average:{color:"#BDBDBD",value:{color:"#BDBDBD"}}}}},legend:{backgroundColor:"#1E1E1E",color:"#BDBDBD"},title:{color:"#FFF8E1",subtitle:{color:"#BDBDBD"}},tooltip:{backgroundColor:"#1E1E1E",backgroundOpacity:30,color:"#FFF8E1",borderColor:"#FF8A65"}}},table:{th:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},td:{backgroundColor:"#1A1A1A",color:"#CCCCCC"}}}},layout:{grid:{stroke:"#5D4037",showVerticalLines:!1,yAxis:{dataLabels:{color:"#BDBDBD"}},xAxis:{dataLabels:{color:"#BDBDBD"}}},line:{stroke:"#5D4037"},highlighter:{color:"#FFF8E1"},dataLabels:{color:"#BDBDBD"}},legend:{backgroundColor:"#1E1E1E",color:"#BDBDBD"},title:{color:"#FFF8E1",subtitle:{color:"#BDBDBD"}}}},table:{th:{backgroundColor:"#1E1E1E",color:"#BDBDBD"},td:{backgroundColor:"#1E1E1E",color:"#BDBDBD"}}},Pl={style:{chart:{backgroundColor:"#1A1A1A",color:"#99AA99",zoom:{color:"#5F6A5F",highlightColor:"#66CC66"},dialog:{backgroundColor:"#1A1A1A",color:"#BDBDBD",header:{backgroundColor:"#1A1A1A",color:"#BDBDBD"},donutChart:{style:{chart:{backgroundColor:"#1A1A1A",color:"#99AA99",layout:{labels:{percentage:{color:"#99AA99"},name:{color:"#99AA99"},hollow:{total:{color:"#99AA99",value:{color:"#99AA99"}},average:{color:"#99AA99",value:{color:"#99AA99"}}}}},legend:{backgroundColor:"#1A1A1A",color:"#99AA99"},title:{color:"#66CC66",subtitle:{color:"#99AA99"}},tooltip:{backgroundColor:"#2A2F2A",color:"#AACCAA",borderColor:"#66CC66"}}},table:{th:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},td:{backgroundColor:"#1A1A1A",color:"#CCCCCC"}}}},layout:{grid:{show:!1,stroke:"#5F6A5F",yAxis:{dataLabels:{color:"#AACCAA"}},xAxis:{dataLabels:{color:"#AACCAA"}}},line:{stroke:"#5F6A5F"},highlighter:{color:"#66CC66"},dataLabels:{color:"#AACCAA"}},legend:{backgroundColor:"#1A1A1A",color:"#99AA99"},title:{color:"#66CC66",subtitle:{color:"#99AA99"}}}},table:{th:{backgroundColor:"#1A1A1A",color:"#99AA99"},td:{backgroundColor:"#1A1A1A",color:"#AACCAA"}}},Tl={style:{chart:{backgroundColor:"#fbfafa",color:"#8A9892",zoom:{color:"#E0CFC3",highlightColor:"#8F837A"},dialog:{backgroundColor:"#fbfafa",color:"#8A9892",header:{backgroundColor:"#fbfafa",color:"#8A9892"},donutChart:{style:{chart:{backgroundColor:"#fbfafa",color:"#99AA99",layout:{labels:{percentage:{color:"#A0AC94"},name:{color:"#A0AC94"},hollow:{total:{color:"#A0AC94",value:{color:"#A0AC94"}},average:{color:"#A0AC94",value:{color:"#A0AC94"}}}}},legend:{backgroundColor:"#fbfafa",color:"#A0AC94"},title:{color:"#8A9892",subtitle:{color:"#99AA99"}},tooltip:{backgroundColor:"#fbfafa",color:"#8A9892"}}},table:{th:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},td:{backgroundColor:"#1A1A1A",color:"#CCCCCC"}}}},layout:{grid:{show:!1,yAxis:{dataLabels:{show:!1}},xAxis:{dataLabels:{show:!1}}},line:{stroke:"#DCDFE7"},highlighter:{color:"#8F837A"},dataLabels:{color:"#A0AC94"}},legend:{backgroundColor:"#fbfafa",color:"#99AA99"},title:{color:"#8A9892",subtitle:{color:"#99AA99"}}}},table:{th:{backgroundColor:"#fbfafa",color:"#8F837A"},td:{backgroundColor:"#fbfafa",color:"#8F837A"}}},Rl={style:{chart:{backgroundColor:"#f6f6fb",color:"#50606C",zoom:{color:"#92B0AB",highlightColor:"#50606C"},dialog:{backgroundColor:"#f6f6fb",color:"#50606C",header:{backgroundColor:"#f6f6fb",color:"#50606C"},donutChart:{style:{chart:{backgroundColor:"#f6f6fb",color:"#50606C",layout:{labels:{percentage:{color:"#61747E"},name:{color:"#61747E"},hollow:{total:{color:"#61747E",value:{color:"#61747E"}},average:{color:"#61747E",value:{color:"#61747E"}}}}},legend:{backgroundColor:"#f6f6fb",color:"#61747E"},title:{color:"#50606C",subtitle:{color:"#718890"}},tooltip:{backgroundColor:"#f6f6fb",color:"#50606C"}}},table:{th:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},td:{backgroundColor:"#1A1A1A",color:"#CCCCCC"}}}},layout:{grid:{stroke:"#BBC4D3",yAxis:{dataLabels:{color:"#61747E"}},xAxis:{dataLabels:{color:"#61747E"}}},line:{stroke:"#92B0AB"},highlighter:{color:"#50606C"},dataLabels:{color:"#61747E"}},legend:{backgroundColor:"#f6f6fb",color:"#61747E"},title:{color:"#50606C",subtitle:{color:"#718890"}}}},table:{th:{backgroundColor:"#f6f6fb",color:"#50606C"},td:{backgroundColor:"#f6f6fb",color:"#50606C"}}},Nl={default:{},dark:Sl,celebration:Ol,celebrationNight:Il,hack:Pl,zen:Tl,concrete:Rl},Co=Object.freeze(Object.defineProperty({__proto__:null,celebration:Ol,celebrationNight:Il,concrete:Rl,dark:Sl,default:Nl,hack:Pl,zen:Tl},Symbol.toStringTag,{value:"Module"})),ra=["id"],ua=["id"],na=["xmlns","viewBox"],sa=["x","y","width","height"],ia=["id"],ca=["stop-color"],da=["stop-color"],va=["id"],ha=["stop-color"],ga=["stop-color"],ya=["stop-color"],ba={key:1},fa=["x1","x2","y1","y2","stroke","stroke-width"],Ca=["x1","x2","y1","y2","stroke","stroke-width"],ma={key:0},Aa=["x1","x2","y1","y2","stroke","stroke-width"],pa=["font-size","fill","transform"],xa=["x","y","font-size","fill"],ka=["x1","x2","y1","y2","stroke","stroke-width"],wa=["x","y","font-size","fill","font-weight"],La={key:0},Da=["text-anchor","font-size","fill","transform"],Ea=["text-anchor","font-size","fill","transform","innerHTML"],$a=["x1","y1","x2","y2","stroke","stroke-width"],Fa={key:1},Ba=["cx","cy","r","fill"],_a={key:0},za={key:0},Sa=["d","stroke"],Oa=["text-anchor","x","y","fill"],Ia=["cx","cy","r","fill"],Pa={key:0},Ta=["cx","cy","fill"],Ra={key:1},Na=["d","fill","stroke"],Va={key:2},Ma=["d","fill","stroke"],Ua=["x","y","font-size","fill"],Ha=["x","y","width","height","fill"],Wa=["x","y","width","height","onMouseenter","onMouseleave","onClick"],ja={key:4,class:"vue-data-ui-watermark"},Ga=["id"],Ya=["onClick"],Xa={key:0},qa={key:1},Ja={__name:"vue-ui-donut-evolution",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:["selectLegend"],setup(Vl,{expose:Ml,emit:Ul}){const Hl=N(()=>V(()=>import("./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url)),Wl=N(()=>V(()=>import("./vue-data-ui-8Gmf-dDN.js").then(l=>l.aA),__vite__mapDeps([3,1,2,4,5]),import.meta.url)),jl=N(()=>V(()=>import("./DataTable-BfEbVwm4-B-GxLkq-.js"),__vite__mapDeps([7,1,2,8,3,4,5]),import.meta.url)),Gl=N(()=>V(()=>import("./PackageVersion-By5ZZJ0U-Cc8IPeAX.js"),__vite__mapDeps([9,1,2]),import.meta.url)),Yl=N(()=>V(()=>import("./PenAndPaper--ADXtx65-ugytqLuo.js"),__vite__mapDeps([10,1,2,3,4,5,11,12]),import.meta.url)),Xl=N(()=>V(()=>import("./UserOptions-Cy-iNhZU-CnpDVImt.js"),__vite__mapDeps([13,1,2,12,3,4,5,14,15]),import.meta.url)),ql=N(()=>V(()=>import("./vue-ui-donut-BhcFj-OA-DynRgC9O.js"),__vite__mapDeps([16,1,2,3,4,5,17,18,6,19,20,21,22,23,24,14,15,8,25,26]),import.meta.url).then(l=>l.a)),Re=N(()=>V(()=>import("./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"),__vite__mapDeps([27,1,2,3,4,5]),import.meta.url)),{vue_ui_donut_evolution:Jl}=jt(),{isThemeValid:Kl,warnInvalidTheme:Ql}=Kt(),p=Vl,z=i(Dl()),x=i([]),C=i(null),ae=i(null),ye=i(!1),M=i(null),T=i(null),Zl=i(null),Ne=i(0),Ve=i(0),Me=i(0),Ue=i(0),He=i(0),be=i(null),oe=i(null),fe=i(null),Ce=i(null),We=i(!1),Y=i(null),me=i(null),je=i(null),Ge=i(null),Ye=i(null),Xe=i(null),qe=i(null),Ae=i(!1),X=kl(null),re=kl(null),Je=i(null),Ke=Ul,Qe=h(()=>!!p.dataset&&p.dataset.length);xt(()=>{We.value=!0,Ze()});const ue=h(()=>!!e.value.debug);function Ze(){if(El(p.dataset)?(ve({componentName:"VueUiDonutEvolution",type:"dataset",debug:ue.value}),ne.value=!0):p.dataset.length&&p.dataset.forEach((l,a)=>{Bt({datasetObject:l,requiredAttributes:["name","values"]}).forEach(t=>{ve({componentName:"VueUiDonutEvolution",type:"datasetSerieAttribute",property:t,index:a,debug:ue.value}),ne.value=!0})}),El(p.dataset)||(ne.value=e.value.loading),setTimeout(()=>{Ae.value=!0},10),xe(),e.value.responsive){const l=zl(()=>{Ae.value=!1;const{width:a,height:t}=Wt({chart:T.value,title:e.value.style.chart.title.text?je.value:null,legend:e.value.style.chart.legend.show?Ge.value:null,slicer:e.value.style.chart.zoom.show&&ll.value>1?qe.value:null,source:Ye.value});requestAnimationFrame(()=>{j.value.width=a,j.value.height=t-12,clearTimeout(Je.value),Je.value=setTimeout(()=>{Ae.value=!0},10)})});X.value&&(re.value&&X.value.unobserve(re.value),X.value.disconnect()),X.value=new ResizeObserver(l),re.value=T.value.parentNode,X.value.observe(re.value)}}const e=i(Le()),{loading:el,FINAL_DATASET:pe,manualLoading:ne}=Yt({...kt(p),FINAL_CONFIG:e,prepareConfig:Le,callback:()=>{Promise.resolve().then(async()=>{await xe()})},skeletonDataset:[{name:"",values:[1,2,3,5,8,13],color:"#AAAAAA"},{name:"",values:[1,2,3,5,8,13],color:"#BABABA"},{name:"",values:[1,2,3,5,8,13],color:"#CACACA"}],skeletonConfig:_t({defaultConfig:e.value,userConfig:{useCssAnimation:!1,table:{show:!1},userOptions:{show:!1},style:{chart:{backgroundColor:"#99999930",layout:{dataLabels:{show:!1},grid:{stroke:"#6A6A6A",axis:{yLabel:"",xLabel:""},yAxis:{scaleMin:null,scaleMax:null,autoScale:!1,dataLabels:{show:!1}},xAxis:{dataLabels:{show:!1}}},line:{stroke:"#CACACA60"}},legend:{backgroundColor:"transparent",showValue:!1,showPercentage:!1},zoom:{show:!1,startIndex:null,endIndex:null}}}}})}),j=i({width:e.value.style.chart.layout.width,height:e.value.style.chart.layout.height}),ll=h(()=>Math.max(...pe.value.map(l=>l.values.length))),g=i({start:0,end:ll.value});function tl(){xe()}async function xe(){await ze(),await ze();const{startIndex:l,endIndex:a}=e.value.style.chart.zoom,t=Xe.value;g.value={start:0,max:B.value},(l!=null||a!=null)&&t?(l!=null?t.setStartValue(l):(g.value.start=0,t.setStartValue(0)),a!=null?t.setEndValue(et(a+1)):(g.value.end=B.value,t.setEndValue(B.value))):(g.value={start:0,end:B.value},Ve.value+=1)}function et(l){const a=B.value;return l>a?a:l<0||e.value.style.chart.zoom.startIndex!==null&&l<e.value.style.chart.zoom.startIndex?e.value.style.chart.zoom.startIndex!==null?e.value.style.chart.zoom.startIndex+1:1:l}const{userOptionsVisible:ke,setUserOptionsVisibility:al,keepUserOptionState:ol}=Qt({config:e.value}),{svgRef:we}=Zt({config:e.value.style.chart.title});function Le(){const l=Te({userConfig:p.config,defaultConfig:Jl});let a={};const t=l.theme;if(t)if(!Kl.value(l))Ql(l),a=l;else{const o=Te({userConfig:Nl[t]||p.config,defaultConfig:l});a={...Te({userConfig:p.config,defaultConfig:o}),customPalette:l.customPalette?l.customPalette:zt[t]||he}}else a=l;return p.config&&$l(p.config,"style.chart.zoom.startIndex")?a.style.chart.zoom.startIndex=p.config.style.chart.zoom.startIndex:a.style.chart.zoom.startIndex=null,p.config&&$l(p.config,"style.chart.zoom.endIndex")?a.style.chart.zoom.endIndex=p.config.style.chart.zoom.endIndex:a.style.chart.zoom.endIndex=null,a}de(()=>p.config,l=>{el.value||(e.value=Le()),ke.value=!e.value.userOptions.showOnChartHover,Ze(),Me.value+=1,Ue.value+=1,He.value+=1,U.value.showTable=e.value.table.show},{deep:!0}),de(()=>p.dataset,l=>{Array.isArray(l)&&l.length>0&&(ne.value=!1),tl()},{deep:!0});const{isPrinting:rl,isImaging:ul,generatePdf:nl,generateImage:sl}=Gt({elementId:z.value,fileName:e.value.style.chart.title.text||"vue-ui-donut-evolution",options:e.value.userOptions.print}),lt=h(()=>e.value.userOptions.show&&!e.value.style.chart.title.text),tt=h(()=>St(e.value.customPalette)),U=i({showTable:e.value.table.show});de(e,()=>{U.value={showTable:e.value.table.show}},{immediate:!0});const H=h(()=>({top:e.value.style.chart.layout.padding.top,right:e.value.style.chart.layout.padding.right,bottom:e.value.style.chart.layout.padding.bottom,left:e.value.style.chart.layout.padding.left}));function at(){let l=0;be.value&&(l=Array.from(be.value.querySelectorAll("text")).reduce((t,o)=>{const r=o.getComputedTextLength();return r>t?r:t},0));const a=Ce.value?Ce.value.getBoundingClientRect().width+e.value.style.chart.layout.grid.axis.yLabelOffsetX+e.value.style.chart.layout.grid.axis.fontSize:0;return l+a+5}const De=i(0),ot=zl(l=>{De.value=l},100);wt(l=>{const a=oe.value;if(!a)return;const t=new ResizeObserver(o=>{ot(o[0].contentRect.height)});t.observe(a),l(()=>t.disconnect())}),Lt(()=>{De.value=0});const il=h(()=>{let l=0;fe.value&&(l=fe.value.getBBox().height);let a=0;return oe.value&&(a=De.value),l+a+e.value.style.chart.layout.grid.axis.fontSize+e.value.style.chart.layout.grid.xAxis.dataLabels.offsetY}),s=h(()=>{const l=at(),a=e.value.style.chart.layout.dataLabels.fontSize*3,t=j.value.width,o=j.value.height,r=H.value.left+l,b=t-H.value.right,y=t-r-H.value.right,c=o-H.value.top-H.value.bottom-a-il.value,D=H.value.top+a,Z=o-H.value.bottom-il.value;return{top:D,left:r,right:b,bottom:Z,absoluteHeight:o,absoluteWidth:t,centerX:r+Math.max(10,y)/2,centerY:D+Math.max(10,c)/2,width:Math.max(10,y),height:Math.max(10,c)}}),S=h(()=>(pe.value.forEach((l,a)=>{[null,void 0].includes(l.name)&&ve({componentName:"VueUiDonutEvolution",type:"datasetSerieAttribute",property:"name",index:a,debug:ue.value}),[null,void 0].includes(l.values)&&ve({componentName:"VueUiDonutEvolution",type:"datasetSerieAttribute",property:"values",index:a,debug:ue.value})}),pe.value.map((l,a)=>({...l,values:Ot(l.values),color:Oe(l.color)||tt.value[a]||he[a]||he[a%he.length],length:(l.values||[]).length,uid:Dl()})))),q=h(()=>S.value.filter(l=>!x.value.includes(l.uid)).map(l=>({...l,values:l.values.filter((a,t)=>t>=g.value.start&&t<=g.value.end)}))),B=h(()=>Math.max(...q.value.map(l=>l.length))),L=h(()=>Jt({values:e.value.style.chart.layout.grid.xAxis.dataLabels.values,maxDatapoints:B.value,formatter:e.value.style.chart.layout.grid.xAxis.dataLabels.datetimeFormatter,start:g.value.start,end:g.value.end})),w=h(()=>s.value.width/(g.value.end-g.value.start)),se=h(()=>{const l=[];for(let a=0;a<g.value.end-g.value.start;a+=1){const t=q.value.map(c=>{var D;return(D=c.values[a])!=null?D:null}),o=t.filter(c=>[void 0,null].includes(c)).length===t.length,r=t.reduce((c,D)=>c+D,0),b=t.map(c=>c/r),y=s.value.left+w.value*a+w.value/2;l.push({index:a,percentages:b,subtotal:o||r<0?null:r,values:t,x:y})}return l}),Ee=h(()=>{var r,b,y;const l=(r=Math.max(...se.value.map(c=>c.subtotal).filter(c=>Fl(c))))!=null?r:1,a=(b=Math.min(...se.value.map(c=>c.subtotal).filter(c=>Fl(c))))!=null?b:0;let t=Math.max((y=e.value.style.chart.layout.grid.yAxis.scaleMax)!=null?y:0,l),o;return e.value.style.chart.layout.grid.yAxis.scaleMin!=null?o=Math.min(a,e.value.style.chart.layout.grid.yAxis.scaleMin):o=0,e.value.style.chart.layout.grid.yAxis.autoScale&&(o=a,t=l),o===t&&(o=t/2,t*=1.5),{max:t,min:o}}),R=h(()=>{const l=se.value.length===1?Ee.value.max*2:Ee.value.max;return It(Ee.value.min,l,e.value.style.chart.layout.grid.yAxis.dataLabels.steps)});function cl(l){return(l-R.value.min)/(R.value.max-R.value.min)}const rt=h(()=>R.value.ticks.map(l=>({y:s.value.bottom-s.value.height*cl(l),value:l}))),F=h(()=>{const l=se.value,a=Math.max(...l.map(t=>t.subtotal));return l.length===1&&a*2,l.map((t,o)=>{const r=Math.min(s.value.width/24,w.value/2*.7),b=r>s.value.width/16?s.value.width/16:r,y=C.value===t.index?s.value.width/16:b,c=l.length>4?r*2:r*2>w.value/2*.7?w.value/2*.7:r*2,D=s.value.bottom-s.value.height*cl(t.subtotal),Z=q.value.map(ee=>{var ce;return{color:ee.color,name:ee.name,value:(ce=ee.values[o])!=null?ce:0}}).toSorted((ee,ce)=>ce.value-ee.value);return{...t,y:D,radius:b,activeRadius:y,hoverRadius:c,donut:Ie({series:Z},t.x,D,b,b,1.99999,2,1,360,105.25,b/2),donutHover:Ie({series:Z},t.x,D,c,c,1.99999,2,1,360,105.25,c/2),donutFocus:Ie({series:Z},s.value.centerX,s.value.centerY,s.value.height/3.6,s.value.height/3.6,1.99999,2,1,360,105.25,s.value.height/6)}})});function dl(l,a,t){return Pe(e.value.style.chart.layout.dataLabels.formatter,l,ge({p:e.value.style.chart.layout.dataLabels.prefix,v:l,s:e.value.style.chart.layout.dataLabels.suffix,r:e.value.style.chart.layout.dataLabels.rounding}),{datapoint:a,index:t})}function ut(l,a){return isNaN(l.value/_l(a,"value"))?0:(l.value/_l(a,"value")*100).toFixed(0)+"%"}function vl(l){C.value=null,ae.value=null,e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:l,seriesIndex:l.seriesIndex+g.value.start})}function nt(l){e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:l,seriesIndex:l.index+g.value.start}),C.value=l.index,ae.value=l}const J=i(null);function hl(l,a){e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:l,seriesIndex:l.index+g.value.start}),!(!l.subtotal||!e.value.style.chart.dialog.show)&&(ae.value=null,C.value=null,ye.value=!0,M.value=l,vt(l),[null,void 0].includes(a)||(J.value=a))}const $e=h(()=>S.value.map((l,a)=>({name:l.name,value:l.values.slice(g.value.start,g.value.end).reduce((t,o)=>t+o,0),shape:"circle",uid:l.uid,color:l.color})).sort((l,a)=>a.value-l.value).map((l,a)=>({...l,opacity:x.value.includes(l.uid)?.5:1,segregate:()=>K(l.uid),isSegregated:x.value.includes(l.uid),display:"".concat(l.name).concat(e.value.style.chart.legend.showPercentage||e.value.style.chart.legend.showValue?": ":"").concat(e.value.style.chart.legend.showValue?Pe(e.value.style.chart.layout.dataLabels.formatter,l.value,ge({p:e.value.style.chart.layout.dataLabels.prefix,v:l.value,s:e.value.style.chart.layout.dataLabels.suffix,r:e.value.style.chart.legend.roundingValue}),{datapoint:l,seriesIndex:a}):"").concat(e.value.style.chart.legend.showPercentage?x.value.includes(l.uid)?"".concat(e.value.style.chart.legend.showValue?" (":"","- %").concat(e.value.style.chart.legend.showValue?")":""):"".concat(e.value.style.chart.legend.showValue?" (":"").concat(isNaN(l.value/gl.value)?"-":ge({v:l.value/gl.value*100,s:"%",r:e.value.style.chart.legend.roundingPercentage})).concat(e.value.style.chart.legend.showValue?")":""):"")}))),gl=h(()=>F.value.map(l=>l.subtotal).reduce((l,a)=>l+a,0)),st=h(()=>({cy:"donut-div-legend",backgroundColor:e.value.style.chart.legend.backgroundColor,color:e.value.style.chart.legend.color,fontSize:e.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:e.value.style.chart.legend.bold?"bold":""}));function K(l){if(x.value.includes(l))x.value=x.value.filter(a=>a!==l),Ke("selectLegend",q.value);else{if(x.value.length===S.value.length-1)return;x.value.push(l),Ke("selectLegend",q.value)}M.value&&hl(F.value.find((a,t)=>t===J.value))}function yl(l){return S.value.length?S.value.find(t=>t.name===l)||(e.value.debug&&console.warn('VueUiDonutEvolution - Series name not found "'.concat(l,'"')),null):(e.value.debug&&console.warn("VueUiDonutEvolution - There are no series to show."),null)}function it(l){const a=yl(l);a!==null&&x.value.includes(a.uid)&&K(a.uid)}function ct(l){const a=yl(l);a!==null&&(x.value.includes(a.uid)||K(a.uid))}const G=h(()=>{const l=[""].concat(S.value.filter(r=>!x.value.includes(r.uid)).map(r=>({name:r.name,color:r.color}))).concat(["Σ"]);let a=[];for(let r=0;r<B.value;r+=1){const b=S.value.filter(y=>!x.value.includes(y.uid)).map(y=>{var c;return(c=y.values[r])!=null?c:0}).reduce((y,c)=>y+c,0);a.push([L.value[r]?L.value[r].text:"-"].concat(S.value.filter(y=>!x.value.includes(y.uid)).map(y=>{var c;return{value:(c=y.values[r])!=null?c:0,percentage:y.values[r]?y.values[r]/b*100:0}})).concat(["".concat(e.value.style.chart.layout.dataLabels.prefix).concat(Number(b.toFixed(e.value.table.td.roundingValue))).concat(e.value.style.chart.layout.dataLabels.suffix)]))}const t={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint},o=[e.value.table.columnNames.period].concat(S.value.filter(r=>!x.value.includes(r.uid)).map(r=>r.name)).concat(e.value.table.columnNames.total);return{head:l,body:a,config:t,colNames:o}});function dt(){return S.value}function Fe(l=null){ze(()=>{const a=[[e.value.style.chart.title.text],[e.value.style.chart.title.subtitle.text],[""]],t=[...G.value.head.map(y=>{var c;return(c=y.name)!=null?c:y})],o=[...G.value.body.map(y=>y.map(c=>{var D;return(D=c.value)!=null?D:c}))],r=a.concat([t]).concat(o),b=Mt(r);l?l(b):Ut({csvContent:b,title:e.value.style.chart.title.text||"vue-ui-donut-evolution"})})}const W=i(!1);function bl(l){W.value=l,Ne.value+=1}function fl(){U.value.showTable=!U.value.showTable}const ie=i(!1);function Be(){ie.value=!ie.value}function Cl(l){return l.proportion*100>e.value.style.chart.donuts.hover.hideLabelsUnderValue}const ml=i([]),Al=i({}),_e=i(null);function vt(l){ml.value=l.donut.map(a=>({name:a.name,values:[a.value],color:a.color})),Al.value=Ht({...e.value.style.chart.dialog.donutChart,responsive:!0,theme:e.value.theme}),_e.value&&_e.value.open()}async function ht({scale:l=2}={}){if(!T.value)return;const{width:a,height:t}=T.value.getBoundingClientRect(),o=a/t,{imageUri:r,base64:b}=await la({domElement:T.value,base64:!0,img:!0,scale:l});return{imageUri:r,base64:b,title:e.value.style.chart.title.text,width:a,height:t,aspectRatio:o}}const gt=h(()=>j.value.width),yt=h(()=>j.value.height);ea({timeLabelsEls:oe,timeLabels:L,slicer:g,configRef:e,rotationPath:["style","chart","layout","grid","xAxis","dataLabels","rotation"],autoRotatePath:["style","chart","layout","grid","xAxis","dataLabels","autoRotate","enable"],isAutoSize:!1,width:gt,height:yt,rotation:e.value.style.chart.layout.grid.xAxis.dataLabels.autoRotate.angle});const Q=h(()=>{const l=e.value.table.useDialog&&!e.value.table.show,a=U.value.showTable;return{component:l?Re:Hl,title:"".concat(e.value.style.chart.title.text).concat(e.value.style.chart.title.subtitle.text?": ".concat(e.value.style.chart.title.subtitle.text):""),props:l?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:W.value,fullscreenParent:T.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:a,maxHeight:1e4,body:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color},head:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color}}}}});de(()=>U.value.showTable,l=>{e.value.table.show||(l&&e.value.table.useDialog&&Y.value?Y.value.open():"close"in Y.value&&Y.value.close())});function pl(){U.value.showTable=!1,me.value&&me.value.setTableIconState(!1)}const bt=h(()=>$e.value.map(l=>({...l,name:l.display}))),ft=h(()=>e.value.style.chart.backgroundColor),Ct=h(()=>e.value.style.chart.legend),mt=h(()=>e.value.style.chart.title),{exportSvg:At,getSvg:pt}=qt({svg:we,title:mt,legend:Ct,legendItems:bt,backgroundColor:ft});async function xl({isCb:l}){if(l){const{blob:a,url:t,text:o,dataUrl:r}=await pt();e.value.userOptions.callbacks.svg({blob:a,url:t,text:o,dataUrl:r})}else At()}return Ml({getData:dt,getImage:ht,generatePdf:nl,generateCsv:Fe,generateImage:sl,generateSvg:xl,hideSeries:ct,showSeries:it,toggleTable:fl,toggleAnnotator:Be,toggleFullscreen:bl}),(l,a)=>(u(),n("div",{ref_key:"donutEvolutionChart",ref:T,class:P("vue-data-ui-component vue-ui-donut-evolution ".concat(W.value?"vue-data-ui-wrapper-fullscreen":""," ").concat(e.value.useCssAnimation?"":"vue-ui-dna")),style:le("font-family:".concat(e.value.style.fontFamily,";width:100%; text-align:center;background:").concat(e.value.style.chart.backgroundColor)),id:z.value,onMouseenter:a[5]||(a[5]=()=>d(al)(!0)),onMouseleave:a[6]||(a[6]=()=>d(al)(!1))},[e.value.userOptions.buttons.annotator?(u(),_(d(Yl),{key:0,svgRef:d(we),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,active:ie.value,onClose:Be},{"annotator-action-close":f(()=>[A(l.$slots,"annotator-action-close",{},void 0,!0)]),"annotator-action-color":f(({color:t})=>[A(l.$slots,"annotator-action-color",O(I({color:t})),void 0,!0)]),"annotator-action-draw":f(({mode:t})=>[A(l.$slots,"annotator-action-draw",O(I({mode:t})),void 0,!0)]),"annotator-action-undo":f(({disabled:t})=>[A(l.$slots,"annotator-action-undo",O(I({disabled:t})),void 0,!0)]),"annotator-action-redo":f(({disabled:t})=>[A(l.$slots,"annotator-action-redo",O(I({disabled:t})),void 0,!0)]),"annotator-action-delete":f(({disabled:t})=>[A(l.$slots,"annotator-action-delete",O(I({disabled:t})),void 0,!0)]),_:3},8,["svgRef","backgroundColor","color","active"])):v("",!0),lt.value?(u(),n("div",{key:1,ref_key:"noTitle",ref:Zl,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):v("",!0),e.value.style.chart.title.text?(u(),n("div",{key:2,ref_key:"chartTitle",ref:je,style:"width:100%;background:transparent;padding-bottom:24px",onMouseleave:vl},[(u(),_(ta,{key:"title_".concat(Me.value),config:{title:{cy:"donut-evolution-div-title",...e.value.style.chart.title},subtitle:{cy:"donut-evolution-div-subtitle",...e.value.style.chart.title.subtitle}}},null,8,["config"]))],544)):v("",!0),m("div",{id:"legend-top-".concat(z.value)},null,8,ua),e.value.userOptions.show&&Qe.value&&(d(ol)||d(ke))?(u(),_(d(Xl),{ref_key:"userOptionsRef",ref:me,key:"user_options_".concat(Ne.value),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isPrinting:d(rl),isImaging:d(ul),uid:z.value,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasXls:e.value.userOptions.buttons.csv,hasTable:e.value.userOptions.buttons.table,hasFullscreen:e.value.userOptions.buttons.fullscreen,isFullscreen:W.value,titles:{...e.value.userOptions.buttonTitles},chartElement:T.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:ie.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:bl,onGeneratePdf:d(nl),onGenerateCsv:Fe,onGenerateImage:d(sl),onGenerateSvg:xl,onToggleTable:fl,onToggleAnnotator:Be,style:le({visibility:d(ol)?d(ke)?"visible":"hidden":"visible"})},wl({_:2},[l.$slots.menuIcon?{name:"menuIcon",fn:f(({isOpen:t,color:o})=>[A(l.$slots,"menuIcon",O(I({isOpen:t,color:o})),void 0,!0)]),key:"0"}:void 0,l.$slots.optionPdf?{name:"optionPdf",fn:f(()=>[A(l.$slots,"optionPdf",{},void 0,!0)]),key:"1"}:void 0,l.$slots.optionCsv?{name:"optionCsv",fn:f(()=>[A(l.$slots,"optionCsv",{},void 0,!0)]),key:"2"}:void 0,l.$slots.optionImg?{name:"optionImg",fn:f(()=>[A(l.$slots,"optionImg",{},void 0,!0)]),key:"3"}:void 0,l.$slots.optionSvg?{name:"optionSvg",fn:f(()=>[A(l.$slots,"optionSvg",{},void 0,!0)]),key:"4"}:void 0,l.$slots.optionTable?{name:"optionTable",fn:f(()=>[A(l.$slots,"optionTable",{},void 0,!0)]),key:"5"}:void 0,l.$slots.optionFullscreen?{name:"optionFullscreen",fn:f(({toggleFullscreen:t,isFullscreen:o})=>[A(l.$slots,"optionFullscreen",O(I({toggleFullscreen:t,isFullscreen:o})),void 0,!0)]),key:"6"}:void 0,l.$slots.optionAnnotator?{name:"optionAnnotator",fn:f(({toggleAnnotator:t,isAnnotator:o})=>[A(l.$slots,"optionAnnotator",O(I({toggleAnnotator:t,isAnnotator:o})),void 0,!0)]),key:"7"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasPdf","hasImg","hasSvg","hasXls","hasTable","hasFullscreen","isFullscreen","titles","chartElement","position","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):v("",!0),(u(),n("svg",{ref_key:"svgRef",ref:we,xmlns:d(Pt),class:P({"vue-data-ui-fullscreen--on":W.value,"vue-data-ui-fulscreen--off":!W.value}),viewBox:"0 0 ".concat(s.value.absoluteWidth," ").concat(s.value.absoluteHeight),style:le("max-width:100%; overflow: visible; background:transparent;color:".concat(e.value.style.chart.color,";"))},[Ll(d(Gl)),l.$slots["chart-background"]?(u(),n("foreignObject",{key:0,x:s.value.left,y:s.value.top,width:s.value.width,height:s.value.height,style:{pointerEvents:"none"}},[A(l.$slots,"chart-background",{},void 0,!0)],8,sa)):v("",!0),m("defs",null,[m("linearGradient",{id:"hover_".concat(z.value),x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[m("stop",{offset:"0%","stop-color":d(te)(e.value.style.chart.backgroundColor,e.value.style.chart.layout.highlighter.opacity)},null,8,ca),m("stop",{offset:"100%","stop-color":d(te)(e.value.style.chart.layout.highlighter.color,e.value.style.chart.layout.highlighter.opacity)},null,8,da)],8,ia),m("radialGradient",{id:"focus_".concat(z.value)},[m("stop",{offset:"0%","stop-color":d(te)(d(Oe)(e.value.style.chart.backgroundColor),0)},null,8,ha),m("stop",{offset:"77%","stop-color":d(te)("#FFFFFF",30)},null,8,ga),m("stop",{offset:"100%","stop-color":d(te)(d(Oe)(e.value.style.chart.backgroundColor),0)},null,8,ya)],8,va)]),e.value.style.chart.layout.grid.show?(u(),n("g",ba,[m("line",{x1:s.value.left,x2:s.value.left,y1:s.value.top,y2:s.value.top+s.value.height,stroke:e.value.style.chart.layout.grid.stroke,"stroke-width":e.value.style.chart.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,fa),m("line",{x1:s.value.left,x2:s.value.right,y1:s.value.bottom,y2:s.value.bottom,stroke:e.value.style.chart.layout.grid.stroke,"stroke-width":e.value.style.chart.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,Ca),e.value.style.chart.layout.grid.showVerticalLines?(u(),n("g",ma,[(u(!0),n(E,null,$(g.value.end-g.value.start,(t,o)=>(u(),n("line",{x1:s.value.left+(o+1)*w.value,x2:s.value.left+(o+1)*w.value,y1:s.value.top,y2:s.value.bottom,stroke:e.value.style.chart.layout.grid.stroke,"stroke-width":e.value.style.chart.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,Aa))),256))])):v("",!0)])):v("",!0),m("g",null,[e.value.style.chart.layout.grid.axis.yLabel?(u(),n("text",{key:0,ref_key:"yAxisLabel",ref:Ce,"font-size":e.value.style.chart.layout.grid.axis.fontSize,fill:e.value.style.chart.layout.grid.axis.color,transform:"translate(".concat(e.value.style.chart.layout.grid.axis.fontSize,", ").concat(s.value.top+s.value.height/2,") rotate(-90)"),"text-anchor":"middle",style:{transition:"none"}},k(e.value.style.chart.layout.grid.axis.yLabel),9,pa)):v("",!0),e.value.style.chart.layout.grid.axis.xLabel?(u(),n("text",{key:1,ref_key:"xAxisLabel",ref:fe,"text-anchor":"middle",x:s.value.absoluteWidth/2,y:s.value.absoluteHeight-3,"font-size":e.value.style.chart.layout.grid.axis.fontSize,fill:e.value.style.chart.layout.grid.axis.color},k(e.value.style.chart.layout.grid.axis.xLabel),9,xa)):v("",!0)]),e.value.style.chart.layout.grid.yAxis.dataLabels.show?(u(),n("g",{key:2,ref_key:"scaleLabels",ref:be,class:P({"donut-opacity":!0,"donut-behind":C.value!==null})},[(u(!0),n(E,null,$(rt.value,(t,o)=>(u(),n("g",null,[t.value>=R.value.min&&t.value<=R.value.max?(u(),n("line",{key:0,x1:s.value.left,x2:s.value.left-5,y1:t.y,y2:t.y,stroke:e.value.style.chart.layout.grid.stroke,"stroke-width":e.value.style.chart.layout.grid.strokeWidth},null,8,ka)):v("",!0),t.value>=R.value.min&&t.value<=R.value.max?(u(),n("text",{key:1,x:s.value.left+e.value.style.chart.layout.grid.yAxis.dataLabels.offsetX-7,y:t.y+e.value.style.chart.layout.grid.yAxis.dataLabels.fontSize/3,"font-size":e.value.style.chart.layout.grid.yAxis.dataLabels.fontSize,"text-anchor":"end",fill:e.value.style.chart.layout.grid.yAxis.dataLabels.color,"font-weight":e.value.style.chart.layout.grid.yAxis.dataLabels.bold?"bold":"normal"},k(d(Tt)(t.value)?d(Pe)(e.value.style.chart.layout.dataLabels.formatter,t.value,d(ge)({p:e.value.style.chart.layout.dataLabels.prefix,v:t.value,s:e.value.style.chart.layout.dataLabels.suffix,r:e.value.style.chart.layout.grid.yAxis.dataLabels.roundingValue}),{datapoint:t,seriesIndex:o}):""),9,wa)):v("",!0)]))),256))],2)):v("",!0),e.value.style.chart.layout.grid.xAxis.dataLabels.show?(u(),n("g",{key:3,ref_key:"timeLabelsEls",ref:oe,class:P({"donut-opacity":!0})},[(u(!0),n(E,null,$(g.value.end-g.value.start,(t,o)=>(u(),n("g",null,[(e.value.style.chart.layout.grid.xAxis.dataLabels.showOnlyFirstAndLast&&(o===0||o===B.value-1)||!e.value.style.chart.layout.grid.xAxis.dataLabels.showOnlyFirstAndLast)&&L.value[o]&&L.value[o].text?(u(),n("g",La,[String(L.value[o].text).includes("\n")?(u(),n("text",{key:1,class:"vue-data-ui-time-label","text-anchor":e.value.style.chart.layout.grid.xAxis.dataLabels.rotation>0?"start":e.value.style.chart.layout.grid.xAxis.dataLabels.rotation<0?"end":"middle","font-size":e.value.style.chart.layout.grid.xAxis.dataLabels.fontSize,fill:e.value.style.chart.layout.grid.xAxis.dataLabels.color,transform:"translate(".concat(s.value.left+w.value*o+w.value/2,", ").concat(s.value.bottom+e.value.style.chart.layout.grid.xAxis.dataLabels.fontSize+e.value.style.chart.layout.grid.xAxis.dataLabels.offsetY,"), rotate(").concat(e.value.style.chart.layout.grid.xAxis.dataLabels.rotation,")"),innerHTML:d(Rt)({content:String(L.value[o].text),fontSize:e.value.style.chart.layout.grid.xAxis.dataLabels.fontSize,fill:e.value.style.chart.layout.grid.xAxis.dataLabels.color,x:0,y:0})},null,8,Ea)):(u(),n("text",{key:0,class:"vue-data-ui-time-label","text-anchor":e.value.style.chart.layout.grid.xAxis.dataLabels.rotation>0?"start":e.value.style.chart.layout.grid.xAxis.dataLabels.rotation<0?"end":"middle","font-size":e.value.style.chart.layout.grid.xAxis.dataLabels.fontSize,fill:e.value.style.chart.layout.grid.xAxis.dataLabels.color,transform:"translate(".concat(s.value.left+w.value*o+w.value/2,", ").concat(s.value.bottom+e.value.style.chart.layout.grid.xAxis.dataLabels.fontSize+e.value.style.chart.layout.grid.xAxis.dataLabels.offsetY,"), rotate(").concat(e.value.style.chart.layout.grid.xAxis.dataLabels.rotation,")")},k(L.value[o].text||""),9,Da))])):v("",!0)]))),256))],512)):v("",!0),(u(!0),n(E,null,$(F.value,(t,o)=>(u(),n("g",null,[e.value.style.chart.layout.line.show&&o<F.value.length-1&&![t.subtotal,F.value[o+1].subtotal].includes(null)?(u(),n("line",{key:0,class:P({"donut-opacity":!0,"donut-behind":C.value!==null}),x1:t.x,y1:t.y,x2:F.value[o+1].x,y2:F.value[o+1].y,stroke:e.value.style.chart.layout.line.stroke,"stroke-width":e.value.style.chart.layout.line.strokeWidth,"stroke-linecap":"round","stroke-linejoin":"round"},null,10,$a)):v("",!0),t.subtotal!==null?(u(),n("g",Fa,[t.subtotal?(u(),n("circle",{key:0,cx:t.x,cy:t.y,r:t.activeRadius,fill:e.value.style.chart.backgroundColor},null,8,Ba)):v("",!0)])):v("",!0)]))),256)),(u(!0),n(E,null,$(F.value,(t,o)=>(u(),n("g",{class:P({"donut-opacity":!0,"donut-behind":o!==C.value&&C.value!==null})},[t.subtotal?(u(),n("g",_a,[C.value!==null&&C.value===o?(u(),n("g",za,[(u(!0),n(E,null,$(t.donutHover,r=>(u(),n("g",null,[Cl(r)?(u(),n("path",{key:0,d:d(Nt)(r,{x:r.center.endX,y:r.center.endY},12,12,{x:t.x,y:t.y},!1,20),stroke:r.color,"stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,Sa)):v("",!0)]))),256)),(u(!0),n(E,null,$(t.donutHover,(r,b)=>(u(),n("g",null,[Cl(r)?(u(),n("text",{key:0,"data-cy-hover-label":"","text-anchor":d(Bl)(r,!0,0).anchor,x:d(Bl)(r,!0,9).x,y:d(Vt)(r,14,10),fill:e.value.style.chart.layout.grid.yAxis.dataLabels.color,"font-size":8,"font-weight":"bold"},k(r.name)+": "+k(ut(r,t.donut))+" ("+k(r.value===null?"-":dl(r.value,r,b))+") ",9,Oa)):v("",!0)]))),256)),m("g",null,[m("circle",{cx:t.x,cy:t.y,r:t.hoverRadius,fill:e.value.style.chart.backgroundColor},null,8,Ia)])])):v("",!0)])):v("",!0)],2))),256)),(u(!0),n(E,null,$(F.value,(t,o)=>(u(),n("g",{class:P({"donut-opacity":!0,"donut-behind":o!==C.value&&C.value!==null})},[t.subtotal!==null?(u(),n("g",Pa,[t.subtotal===0?(u(),n("circle",{key:0,cx:t.x,cy:t.y,r:3,fill:e.value.style.chart.color},null,8,Ta)):C.value!==null&&C.value===o?(u(),n("g",Ra,[(u(!0),n(E,null,$(t.donutHover,(r,b)=>(u(),n("path",{d:r.arcSlice,fill:"".concat(r.color),"stroke-width":1,stroke:e.value.style.chart.backgroundColor},null,8,Na))),256))])):(u(),n("g",Va,[(u(!0),n(E,null,$(t.donut,(r,b)=>(u(),n("path",{d:r.arcSlice,fill:"".concat(r.color),"stroke-width":.5,stroke:e.value.style.chart.backgroundColor},null,8,Ma))),256))]))])):v("",!0)],2))),256)),(u(!0),n(E,null,$(F.value,(t,o)=>(u(),n("g",{class:P({"donut-opacity":!0,"donut-behind":o!==C.value&&C.value!==null||ye.value&&o!==M.value.index})},[t.subtotal!==null&&e.value.style.chart.layout.dataLabels.show?(u(),n("text",{key:0,"text-anchor":"middle",x:t.x,y:C.value===t.index&&t.subtotal?t.y+e.value.style.chart.layout.dataLabels.fontSize/3:t.y-t.radius-e.value.style.chart.layout.dataLabels.fontSize+e.value.style.chart.layout.dataLabels.offsetY,"font-size":e.value.style.chart.layout.dataLabels.fontSize,"font-weight":"bold",fill:e.value.style.chart.layout.dataLabels.color},k(dl(t.subtotal,t,o)),9,Ua)):v("",!0)],2))),256)),(u(!0),n(E,null,$(F.value,(t,o)=>(u(),n("rect",{x:s.value.left+o*w.value,y:s.value.top,width:w.value,height:s.value.height,fill:[C.value,J.value].includes(t.index)?"url(#hover_".concat(z.value,")"):"transparent",class:P({"donut-hover":t.subtotal&&[C.value,J.value].includes(t.index)}),style:{pointerEvents:"none"}},null,10,Ha))),256)),(u(!0),n(E,null,$(F.value,(t,o)=>(u(),n("rect",{"data-cy-trap":"",x:s.value.left+o*w.value,y:s.value.top,width:w.value,height:s.value.height,fill:"transparent",onMouseenter:r=>nt(t),onMouseleave:r=>vl(t),onClick:r=>hl(t,o),class:P({"donut-hover":C.value===t.index&&t.subtotal})},null,42,Wa))),256)),A(l.$slots,"svg",{svg:s.value},void 0,!0)],14,na)),l.$slots.watermark?(u(),n("div",ja,[A(l.$slots,"watermark",O(I({isPrinting:d(rl)||d(ul)})),void 0,!0)])):v("",!0),m("div",{ref_key:"chartSlicer",ref:qe,style:le("width:100%;background:".concat(e.value.style.chart.backgroundColor)),"data-dom-to-png-ignore":""},[B.value>1&&e.value.style.chart.zoom.show?(u(),_(oa,{ref_key:"slicerComponent",ref:Xe,key:"slicer_".concat(Ve.value),background:e.value.style.chart.zoom.color,borderColor:e.value.style.chart.backgroundColor,fontSize:e.value.style.chart.zoom.fontSize,useResetSlot:e.value.style.chart.zoom.useResetSlot,labelLeft:L.value[0]?L.value[0].text:"",labelRight:L.value.at(-1)?L.value.at(-1).text:"",textColor:e.value.style.chart.color,inputColor:e.value.style.chart.zoom.color,selectColor:e.value.style.chart.zoom.highlightColor,max:B.value,min:0,valueStart:g.value.start,valueEnd:g.value.end,start:g.value.start,"onUpdate:start":a[0]||(a[0]=t=>g.value.start=t),end:g.value.end,"onUpdate:end":a[1]||(a[1]=t=>g.value.end=t),refreshStartPoint:e.value.style.chart.zoom.startIndex!==null?e.value.style.chart.zoom.startIndex:0,refreshEndPoint:e.value.style.chart.zoom.endIndex!==null?e.value.style.chart.zoom.endIndex+1:B.value,enableRangeHandles:e.value.style.chart.zoom.enableRangeHandles,enableSelectionDrag:e.value.style.chart.zoom.enableSelectionDrag,focusOnDrag:e.value.style.chart.zoom.focusOnDrag,focusRangeRatio:e.value.style.chart.zoom.focusRangeRatio,onReset:tl},{"reset-action":f(({reset:t})=>[A(l.$slots,"reset-action",O(I({reset:t})),void 0,!0)]),_:3},8,["background","borderColor","fontSize","useResetSlot","labelLeft","labelRight","textColor","inputColor","selectColor","max","valueStart","valueEnd","start","end","refreshStartPoint","refreshEndPoint","enableRangeHandles","enableSelectionDrag","focusOnDrag","focusRangeRatio"])):v("",!0)],4),m("div",{id:"legend-bottom-".concat(z.value)},null,8,Ga),We.value?(u(),_(Dt,{key:5,to:e.value.style.chart.legend.position==="top"?"#legend-top-".concat(z.value):"#legend-bottom-".concat(z.value)},[m("div",{ref_key:"chartLegend",ref:Ge},[e.value.style.chart.legend.show?(u(),_(aa,{key:"legend_".concat(He.value),legendSet:$e.value,config:st.value,onClickMarker:a[2]||(a[2]=({legend:t})=>K(t.uid))},{item:f(({legend:t,index:o})=>[m("div",{onClick:r=>K(t.uid),style:le("opacity:".concat(x.value.includes(t.uid)?.5:1))},k(t.display),13,Ya)]),_:1},8,["legendSet","config"])):v("",!0),A(l.$slots,"legend",{legend:$e.value},void 0,!0)],512)],8,["to"])):v("",!0),l.$slots.source?(u(),n("div",{key:6,ref_key:"source",ref:Ye,dir:"auto"},[A(l.$slots,"source",{},void 0,!0)],512)):v("",!0),Qe.value&&e.value.userOptions.buttons.table?(u(),_($t(Q.value.component),Et({key:7},Q.value.props,{ref_key:"tableUnit",ref:Y,onClose:pl}),wl({content:f(()=>[(u(),_(d(jl),{key:"table_".concat(Ue.value),colNames:G.value.colNames,head:G.value.head,body:G.value.body,config:G.value.config,title:e.value.table.useDialog?"":Q.value.title,withCloseButton:!e.value.table.useDialog,onClose:pl},{th:f(({th:t})=>{var o;return[Se(k((o=t.name)!=null?o:t),1)]}),td:f(({td:t})=>[t.value===null?(u(),n("span",Xa,"-")):(u(),n("b",qa,k(isNaN(t.value)?"":e.value.style.chart.layout.dataLabels.prefix)+k(!isNaN(t.value)&&t.value!==null?Number(t.value.toFixed(e.value.table.td.roundingValue)).toLocaleString():t)+k(isNaN(t.value)?"":e.value.style.chart.layout.dataLabels.suffix),1)),m("span",null,k(t.percentage&&!isNaN(t.percentage)?"(".concat(Number(t.percentage.toFixed(e.value.table.td.roundingPercentage)).toLocaleString(),"%)"):""),1)]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))]),_:2},[e.value.table.useDialog?{name:"title",fn:f(()=>[Se(k(Q.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:f(()=>[m("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:a[3]||(a[3]=t=>Fe(e.value.userOptions.callbacks.csv))},[Ll(d(Wl),{name:"excel",stroke:Q.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):v("",!0),e.value.style.chart.dialog.show?(u(),_(d(Re),{key:8,ref_key:"dialog",ref:_e,onClose:a[4]||(a[4]=t=>{M.value=null,ye.value=!1,ae.value=null,C.value=null,J.value=null}),backgroundColor:e.value.style.chart.dialog.backgroundColor,color:e.value.style.chart.dialog.color,headerBg:e.value.style.chart.dialog.header.backgroundColor,headerColor:e.value.style.chart.dialog.header.color,isFullscreen:W.value,fullscreenParent:T.value},{title:f(()=>[Se(k(L.value[Number(M.value.index)]?L.value[Number(M.value.index)].text:""),1)]),content:f(()=>[M.value?(u(),_(d(ql),{key:0,config:Al.value,dataset:ml.value},null,8,["config","dataset"])):v("",!0)]),_:1},8,["backgroundColor","color","headerBg","headerColor","isFullscreen","fullscreenParent"])):v("",!0),d(el)?(u(),_(Xt,{key:9})):v("",!0)],46,ra))}},Ka=Ft(Ja,[["__scopeId","data-v-e8783857"]]),mo=Object.freeze(Object.defineProperty({__proto__:null,default:Ka},Symbol.toStringTag,{value:"Module"}));export{Co as a,mo as b,Ka as v};
