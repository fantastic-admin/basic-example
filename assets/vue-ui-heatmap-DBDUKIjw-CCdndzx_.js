
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Tooltip-68Yi_FFl-CRPaJsgv.js","./vue-data-ui-BN9YfUec.js","./index-DXZKKOp8.js","./index-B7kifsnL.css","./alert-l5XlVwCh.js","./vue-data-ui-D1HaM8UR.css","./PenAndPaper-DSvu9dwa-B6YjX2xm.js","./ColorPicker-J5wOPCeB-sgb_Bfch.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-1OZ3jcm6-BbpzMig3.js","./img-BecE5qXd-CsL1o-EN.js","./dom-to-png--BNgrTZV-DTUrW_sQ.js","./PackageVersion-TgflyMpU-q2MkeeNq.js","./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"])))=>i.map(i=>d[i]);
import{c4 as Ql,J as p,e as c,au as Zl,a7 as et,a9 as _e,K as Le,av as yl,E as lt,ac as hl,b_ as oe,c as n,o as s,z as fe,A as g,f,g as $e,u as i,c0 as pl,h as O,r as $,j as ue,k as se,O as A,n as be,F as L,R as E,w as gl,l as Ve,t as S,v as tt,X as at,m as ot,N as ut,at as st,c1 as ie}from"./index-DXZKKOp8.js";import{s as it,Q as Be,A as nt,a0 as rt,L as vt,g as fl,p as bl,a1 as me,b as dt,y as ct,K as Se,I as W,f as X,c as Y,e as yt,r as ht,F as pt,h as gt}from"./vue-data-ui-BN9YfUec.js";import{E as ze,M as ft}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{t as bt,o as ml}from"./useNestedProp-dJX_8vvZ-BzBW50KN.js";import{m as mt}from"./usePrinter-DTzqpYKF-D5mkxXp9.js";import{S as xt,T as wt}from"./BaseScanner-BgWxam9d-B19ueoDW.js";import{O as kt}from"./useSvgExport-DrjCWun4-CbW14PXm.js";import{F as xl}from"./useTimeLabels-BGFjWgrv-C_AB8TRS.js";import{w as At}from"./useTableResponsive-Cbx-ACcP-D6juxeoK.js";import{a as Ct}from"./useUserOptionState-BIvW1Kz7-D6llU1BK.js";import{S as wl}from"./useTimeLabelCollider-CIsgDrl9-CjJy_OeC.js";import{o as Lt}from"./useChartAccessibility-9icAAmYg-BcUQIUvr.js";import $t from"./img-BecE5qXd-CsL1o-EN.js";import St from"./Title-BWp-37K_-BMUMQpSO.js";import{J as zt}from"./themes-AUNCOb2G-RAhReTPj.js";import _t from"./vue-ui-accordion-UpZ765hd-DndPzmcD.js";import"./alert-l5XlVwCh.js";import"./dom-to-png--BNgrTZV-DTUrW_sQ.js";function Xe({elementRef:h,callback:F,attr:D,earlyReturn:U=!1}){U||st(q=>{const m=h.value;if(!m)return;const j=new ResizeObserver(z=>{var x;const R=(x=z[0])==null?void 0:x.contentRect;let I;if(R&&R[D]!=null)I=R[D];else try{D==="width"?I=typeof m.getBBox=="function"?m.getBBox().width:m.getBoundingClientRect().width:I=typeof m.getBBox=="function"?m.getBBox().height:m.getBoundingClientRect().height}catch(ne){const B=m.getBoundingClientRect();I=D==="width"?B.width:B.height}typeof I=="number"&&!Number.isNaN(I)&&F(I)});j.observe(m),_e(()=>{requestAnimationFrame(()=>{if(!h.value)return;const z=h.value.getBoundingClientRect(),R=D==="width"?z.width:z.height;typeof R=="number"&&!Number.isNaN(R)&&F(R)})}),q(()=>j.disconnect())},{flush:"post"})}const Tt={mounted(h,F){kl(h,F.value)},updated(h,F){kl(h,F.value)}};function kl(h,{cellWidth:F,cellHeight:D,maxFontSize:U,minFontSize:q,index:m,reportRotation:j,reportHide:z,rotateAll:R,hideAll:I}){h.removeAttribute("transform"),h.removeAttribute("visibility");let x=!1,ne=!1;h.setAttribute("font-size",U);const B=h.getComputedTextLength();if(B<=F)j(m,!1),z(m,!1);else{const N=Math.floor(U*F/B);N>=q?(h.setAttribute("font-size",N),j(m,!1),z(m,!1)):(j(m,!0),z(m,!1),x=!0)}if(R&&(x=!0),x){h.setAttribute("font-size",U);const N=h.getBBox(),_=N.x+N.width/2,re=N.y+N.height/2;h.setAttribute("transform","rotate(-90 ".concat(_," ").concat(re,")"));const ee=h.getBBox().width;if(ee<=D)z(m,!1);else{const ve=Math.floor(U*D/ee);ve>=q?(h.setAttribute("font-size",ve),z(m,!1)):(ne=!0,z(m,!0))}}(I||ne)&&h.setAttribute("visibility","hidden")}const Ot=["id"],Mt=["xmlns","viewBox"],Ft=["x","y","width","height"],Rt=["x","y","height","width","fill","stroke","stroke-width"],It=["x","y","height","width","fill","stroke","stroke-width"],Nt=["x","y","width","height","fill","stroke","stroke-width"],Pt=["x","y","width","height","fill","stroke","stroke-width","onMouseover","onMouseout","onClick"],Et=["font-size","font-weight","fill","x","y"],Dt=["x","y","width","height","fill","stroke","stroke-width"],Ht=["x","y","width","height","fill","stroke","stroke-width"],Vt=["font-size","fill","x","y","font-weight"],Bt=["font-size","fill","x","y","font-weight"],Xt=["text-anchor","font-size","fill","font-weight","transform"],Ut=["text-anchor","font-size","fill","font-weight","transform"],jt={key:6},Gt=["x","y","width","height","stroke","stroke-width"],Kt={class:"vue-ui-heatmap-legend-gauge-right"},Wt=["data-value"],Yt={class:"vue-ui-heatmap-gauge-indicator-value"},qt={key:4,class:"vue-data-ui-watermark"},Jt={class:"vue-ui-data-table"},Qt={key:0},Zt=["data-cell"],ea={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},la=["data-cell"],ta={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},aa={__name:"vue-ui-heatmap",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:["selectDatapoint"],setup(h,{expose:F,emit:D}){Ql(l=>({v7e341d2a:l.tdo}));const U=oe(()=>ie(()=>import("./Tooltip-68Yi_FFl-CRPaJsgv.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),q=oe(()=>ie(()=>import("./vue-data-ui-BN9YfUec.js").then(l=>l.aw),__vite__mapDeps([1,2,3,4,5]),import.meta.url)),m=oe(()=>ie(()=>import("./PenAndPaper-DSvu9dwa-B6YjX2xm.js"),__vite__mapDeps([6,2,3,1,4,5,7,8]),import.meta.url)),j=oe(()=>ie(()=>import("./UserOptions-1OZ3jcm6-BbpzMig3.js"),__vite__mapDeps([9,2,3,8,1,4,5,10,11]),import.meta.url)),z=oe(()=>ie(()=>import("./PackageVersion-TgflyMpU-q2MkeeNq.js"),__vite__mapDeps([12,2,3]),import.meta.url)),R=oe(()=>ie(()=>import("./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"),__vite__mapDeps([13,2,3,1,4,5]),import.meta.url)),{vue_ui_heatmap:I}=bt(),x=h,ne=D,B=p({get(){return!!x.dataset&&x.dataset.length},set(l){return l}}),N=c(Be()),_=c(null),re=c(!1),ee=c(""),ve=c(void 0),de=c(null),Ue=c(0),je=c(null),Ge=c(0),Al=c(null),ce=c(null),Te=c(null),Ke=c(null),We=c(null),Cl=c(null),Ye=c(null),Ll=c(null),Oe=c(null),Me=c(null),$l=c(null),qe=c(null),le=Zl(null),e=c(Ne());function Sl(){const l=Array(7).fill("_"),a=[],o=14,u=l.length;for(let v=0;v<u;v+=1){const d=[];for(let k=0;k<o;k+=1)d.push(v+k*2);a.push({name:"".concat(l[v]),values:d})}return a}const{loading:xe,FINAL_DATASET:w,manualLoading:Fe}=xt({...et(x),FINAL_CONFIG:e,prepareConfig:Ne,callback:()=>{Promise.resolve().then(async()=>{await _e(),_.value&&rt(_.value,{delta:.1,delay:250})})},skeletonDataset:Sl(),skeletonConfig:nt({defaultConfig:e.value,userConfig:{table:{show:!1},userOptions:{show:!1},style:{backgroundColor:"#99999930",layout:{cells:{colors:{hot:"#999999",cold:"#CACACA"},columnTotal:{value:{show:!1}},rowTotal:{value:{show:!1}},value:{show:!1}},dataLabels:{xAxis:{show:!1},yAxis:{show:!1}}}}}})}),{userOptionsVisible:Re,setUserOptionsVisibility:zl,keepUserOptionState:Je}=Ct({config:e.value}),{svgRef:Ie}=Lt({config:e.value.style.title});function Qe(l){zl(l)}function Ne(){const l=ml({userConfig:x.config,defaultConfig:I});let a={};return l.theme?a={...ml({userConfig:zt.vue_ui_heatmap[l.theme]||x.config,defaultConfig:l})}:a=l,x.config&&vt(x.config,"style.layout.dataLabels.xAxis.showOnlyAtModulo")?a.style.layout.dataLabels.xAxis.showOnlyAtModulo=x.config.style.layout.dataLabels.xAxis.showOnlyAtModulo:a.style.layout.dataLabels.xAxis.showOnlyAtModulo=null,a}Le(()=>x.config,l=>{xe.value||(e.value=Ne()),Re.value=!e.value.userOptions.showOnChartHover,Pe(),Ge.value+=1,M.value.showTable=e.value.table.show,M.value.showTooltip=e.value.style.tooltip.show,ye.value=e.value.style.layout.width,he.value=e.value.style.layout.height},{deep:!0}),Le(()=>x.dataset,l=>{Array.isArray(l)&&l.length>0&&(Fe.value=!1),Pe()},{deep:!0});const{isPrinting:Ze,isImaging:el,generatePdf:ll,generateImage:tl}=mt({elementId:"heatmap__".concat(N.value),fileName:e.value.style.title.text||"vue-ui-heatmap",options:e.value.userOptions.print}),_l=p(()=>e.value.userOptions.show&&!e.value.style.title.text),M=c({showTable:e.value.table.show,showTooltip:e.value.style.tooltip.show});Le(e,()=>{M.value={showTable:e.value.table.show,showTooltip:e.value.style.tooltip.show}},{immediate:!0});const Tl=p(()=>e.value.table.responsiveBreakpoint),G=c(null),al=p(()=>!!e.value.debug);function Pe(){if(fl(x.dataset)&&(bl({componentName:"VueUiHeatmap",type:"dataset",debug:al.value}),B.value=!1,Fe.value=!0),fl(x.dataset)||(Fe.value=e.value.loading),e.value.responsive){const l=ze(()=>{const{width:a,height:o}=ft({chart:_.value,title:e.value.style.title.text?Ke.value:null,source:qe.value,noTitle:We.value});requestAnimationFrame(()=>{ye.value=a,he.value=o})});G.value&&(le.value&&G.value.unobserve(le.value),G.value.disconnect()),G.value=new ResizeObserver(l),le.value=_.value.parentNode,G.value.observe(le.value)}}yl(()=>{G.value&&(le.value&&G.value.unobserve(le.value),G.value.disconnect())}),lt(()=>{Pe()});const H=p(()=>Math.max(...w.value.flatMap(l=>(l.values||[]).length))),ye=c(e.value.style.layout.width),he=c(e.value.style.layout.height),T=p(()=>({width:Math.max(10,ye.value),height:Math.max(10,he.value)})),pe=c(0),Ol=ze(l=>{pe.value=l},100);Xe({elementRef:Oe,callback:Ol,attr:"height"});const te=c(0),Ml=ze(l=>{te.value=l},100);Xe({elementRef:Ye,callback:Ml,attr:"width"});const we=c(0),Fl=ze(l=>{we.value=l},100);Xe({elementRef:Me,callback:Fl,attr:"height"}),yl(()=>{pe.value=0,te.value=0,we.value=0});const r=p(()=>Math.min(T.value.height,T.value.width)/1e3*e.value.style.layout.cells.spacing),t=p(()=>{var ae;let l=0;e.value.style.legend.show&&(l=e.value.style.legend.width);const a=e.value.style.layout.padding,o=e.value.style.layout.dataLabels.xAxis.fontSize/3,u=e.value.style.layout.dataLabels.xAxis.fontSize/2,v=T.value.height-a.top-a.bottom-pe.value-o,d=T.value.width/60,k={x:r.value*H.value,y:r.value*((w.value||[]).length+1)},V=T.value.width-a.left-a.right-k.x-d*2-2-l-te.value,y=v-d-k.y-we.value-u-e.value.style.layout.cells.columnTotal.value.offsetY,C={width:Math.max(3,V/H.value),height:Math.max(3,y/((ae=w.value.length)!=null?ae:1))};return{top:a.top+pe.value+d+o,topLabelsHeight:pe.value,sumCellXHeight:d,height:y,left:a.left+te.value+d/2,right:a.right-l,bottom:T.value.height-a.bottom-we.value,width:V,cellSize:C}}),K=p(()=>Math.max(...w.value.flatMap(l=>l.values))),ge=p(()=>Math.min(...w.value.flatMap(l=>l.values))),J=p(()=>{const l=w.value.flatMap(a=>a.values);return l.reduce((a,o)=>a+o,0)/l.length}),Rl=p(()=>xl({values:e.value.style.layout.dataLabels.yAxis.values.length?e.value.style.layout.dataLabels.yAxis.values:w.value.map(l=>l.name),maxDatapoints:w.value.length,formatter:e.value.style.layout.dataLabels.yAxis.datetimeFormatter,start:0,end:w.value.length})),Il=p(()=>xl({values:e.value.style.layout.dataLabels.xAxis.values,maxDatapoints:H.value,formatter:e.value.style.layout.dataLabels.xAxis.datetimeFormatter,start:0,end:H.value})),b=p(()=>{const l=Rl.value.map(y=>y.text),a=Il.value.map(y=>y.text),o=w.value.map(y=>y.values.reduce((C,ae)=>C+ae,0)),u=Math.max(...o),v=Math.min(...o),d=[];for(let y=0;y<H.value;y+=1)d.push(w.value.map(C=>C.values[y]||0).reduce((C,ae)=>C+ae,0));const k=Math.max(...d),V=Math.min(...d);return{yTotals:o.map(y=>{const C=isNaN(y/u)?0:y/u;return{total:y,proportion:C,color:me(e.value.style.layout.cells.colors.cold,e.value.style.layout.cells.colors.hot,v,u,y)}}),xTotals:d.map(y=>{const C=isNaN(y/k)?0:y/k;return{total:y,proportion:C,color:me(e.value.style.layout.cells.colors.cold,e.value.style.layout.cells.colors.hot,V,k,y)}}),yLabels:l,xLabels:a.slice(0,H.value)}}),Q=p(()=>(w.value.forEach((l,a)=>{dt({datasetObject:l,requiredAttributes:["values"]}).forEach(o=>{bl({componentName:"VueUiHeatmap",type:"datasetSerieAttribute",property:"values",index:a,debug:al.value})})}),w.value.map((l,a)=>({...l,temperatures:(l.values||[]).map((o,u)=>o>=J.value?{side:"up",color:me(e.value.style.layout.cells.colors.cold,e.value.style.layout.cells.colors.hot,ge.value,K.value,o),ratio:Math.abs(Math.abs(o-J.value)/Math.abs(K.value-J.value))>1?1:Math.abs(Math.abs(o-J.value)/Math.abs(K.value-J.value)),value:o,yAxisName:b.value.yLabels[a],xAxisName:b.value.xLabels[u],id:"vue-data-ui-heatmap-cell-".concat(Be())}:{side:"down",ratio:Math.abs(1-Math.abs(o)/Math.abs(J.value))>1?1:Math.abs(1-Math.abs(o)/Math.abs(J.value)),color:me(e.value.style.layout.cells.colors.cold,e.value.style.layout.cells.colors.hot,ge.value,K.value,o),value:o,yAxisName:b.value.yLabels[a],xAxisName:b.value.xLabels[u],id:"vue-data-ui-heatmap-cell-".concat(Be())})})))),ol=p(()=>w.value.length),ul=hl(Array(ol.value*H.value||1).fill(!1)),Nl=p(()=>ul.some(l=>l));function Pl(l,a){ul[l]=a}const sl=hl(Array(ol.value*H.value||1).fill(!1)),El=p(()=>sl.some(l=>l));function Dl(l,a){sl[l]=a}const P=c(null),ke=c(null);function Hl(l,a,o,u){e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:l,seriesIndex:a}),de.value={x:o,y:u};const{value:v,yAxisName:d,xAxisName:k,id:V}=l;ve.value=V,P.value=v,ke.value={datapoint:l,seriesIndex:a,series:Q.value,config:e.value},re.value=!0;let y="";const C=e.value.style.tooltip.customFormat;pt(C)&&gt(()=>C({datapoint:l,seriesIndex:a,series:Q.value,config:e.value}))?ee.value=C({datapoint:l,seriesIndex:a,series:Q.value,config:e.value}):(y+="<div>".concat(d," ").concat(k?d?" - ".concat(k):"".concat(k):"","</div>"),y+='<div style="margin-top:6px;padding-top:6px;border-top:1px solid '.concat(e.value.style.tooltip.borderColor,';font-weight:bold;display:flex;flex-direction:row;gap:12px;align-items:center;justify-content:center"><span style="color:').concat(me(e.value.style.layout.cells.colors.cold,e.value.style.layout.cells.colors.hot,ge.value,K.value,v),'">⬤</span><span>').concat(isNaN(v)?"-":W(e.value.style.layout.cells.value.formatter,v,X({p:e.value.style.layout.dataLabels.prefix,v,s:e.value.style.layout.dataLabels.suffix,r:e.value.style.tooltip.roundingValue}),{datapoint:l,seriesIndex:a}),"</span></div>"),ee.value='<div style="font-size:'.concat(e.value.style.tooltip.fontSize,'px">').concat(y,"</div>"))}function Vl({datapoint:l,seriesIndex:a}){e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:l,seriesIndex:a}),re.value=!1,ve.value=void 0,P.value=null,de.value=null}function Bl(l){return W(e.value.style.layout.cells.value.formatter,b.value.yTotals[l].total,X({p:e.value.style.layout.dataLabels.prefix,v:b.value.yTotals[l].total,s:e.value.style.layout.dataLabels.suffix,r:e.value.style.layout.cells.value.roundingValue}),{datapoint:b.value.yTotals[l],rowIndex:l})}function Xl(l){return W(e.value.style.layout.cells.value.formatter,b.value.xTotals[l].total,X({p:e.value.style.layout.dataLabels.prefix,v:b.value.xTotals[l].total,s:e.value.style.layout.dataLabels.suffix,r:e.value.style.layout.cells.value.roundingValue}),{datapoint:b.value.xTotals[l],colIndex:l})}p(()=>{const l=w.value.map(o=>({name:o.name})),a=w.value.map(o=>o.values);return{head:l,body:a}});function Ee(l=null){_e(()=>{const a=["",...w.value.map((d,k)=>d.name)],o=[];for(let d=0;d<b.value.xLabels.length;d+=1){const k=[b.value.xLabels[d]];for(let V=0;V<w.value.length;V+=1)k.push([w.value[V].values[d]]);o.push(k)}const u=[[e.value.style.title.text],[e.value.style.title.subtitle.text],[[""],[""],[""]]].concat([a]).concat(o),v=yt(u);l?l(v):ht({csvContent:v,title:e.value.style.title.text||"vue-ui-heatmap"})})}const Z=c(!1);function il(l){Z.value=l,Ue.value+=1}function nl(){M.value.showTable=!M.value.showTable}function rl(){M.value.showTooltip=!M.value.showTooltip}const Ae=c(!1);function De(){Ae.value=!Ae.value}function Ul(l,a){e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:l,seriesIndex:a}),ne("selectDatapoint",l)}function jl(){return Q.value}async function Gl({scale:l=2}={}){if(!_.value)return;const{width:a,height:o}=_.value.getBoundingClientRect(),u=a/o,{imageUri:v,base64:d}=await $t({domElement:_.value,base64:!0,img:!0,scale:l});return{imageUri:v,base64:d,title:e.value.style.title.text,width:a,height:o,aspectRatio:u}}const vl=p(()=>({start:0,end:H.value})),dl=p(()=>b.value.xLabels);wl({timeLabelsEls:Oe,timeLabels:dl,slicer:vl,configRef:e,rotationPath:["style","layout","dataLabels","xAxis","rotation"],autoRotatePath:["style","layout","dataLabels","xAxis","autoRotate","enable"],isAutoSize:!1,targetClass:".vue-ui-heatmap-col-name",rotation:e.value.style.layout.dataLabels.xAxis.autoRotate.angle,width:ye,height:he}),wl({timeLabelsEls:Me,timeLabels:dl,slicer:vl,configRef:e,rotationPath:["style","layout","cells","columnTotal","value","rotation"],autoRotatePath:["style","layout","cells","columnTotal","value","autoRotate","enable"],isAutoSize:!1,targetClass:".vue-ui-heatmap-col-total",rotation:e.value.style.layout.cells.columnTotal.value.autoRotate.angle,width:ye,height:he});const Ce=p(()=>{const l=e.value.table.useDialog&&!e.value.table.show,a=M.value.showTable;return{component:l?R:_t,title:"".concat(e.value.style.title.text).concat(e.value.style.title.subtitle.text?": ".concat(e.value.style.title.subtitle.text):""),props:l?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:Z.value,fullscreenParent:_.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:a,maxHeight:1e4,body:{backgroundColor:e.value.style.backgroundColor,color:e.value.style.color},head:{backgroundColor:e.value.style.backgroundColor,color:e.value.style.color}}}}});Le(()=>M.value.showTable,async l=>{e.value.table.show||(l&&e.value.table.useDialog&&ce.value?(await _e(),ce.value.open()):"close"in ce.value&&ce.value.close())});const{isResponsive:Kl}=At(je,Tl);function He(){M.value.showTable=!1,Te.value&&Te.value.setTableIconState(!1)}const Wl=p(()=>e.value.style.backgroundColor),Yl=p(()=>e.value.style.title),{exportSvg:ql,getSvg:Jl}=kt({svg:Ie,title:Yl,backgroundColor:Wl});async function cl({isCb:l}){if(l){const{blob:a,url:o,text:u,dataUrl:v}=await Jl();e.value.userOptions.callbacks.svg({blob:a,url:o,text:u,dataUrl:v})}else ql()}return F({getData:jl,getImage:Gl,generatePdf:ll,generateCsv:Ee,generateImage:tl,generateSvg:cl,toggleTable:nl,toggleTooltip:rl,toggleAnnotator:De,toggleFullscreen:il}),(l,a)=>(s(),n("div",{ref_key:"heatmapChart",ref:_,class:be("vue-data-ui-component vue-ui-heatmap ".concat(Z.value?"vue-data-ui-wrapper-fullscreen":"")),style:A("font-family:".concat(e.value.style.fontFamily,";width:100%;").concat(e.value.responsive?"height: 100%;":""," text-align:center;background:").concat(e.value.style.backgroundColor)),id:"heatmap__".concat(N.value),onMouseenter:a[1]||(a[1]=()=>Qe(!0)),onMouseleave:a[2]||(a[2]=()=>Qe(!1))},[e.value.userOptions.buttons.annotator?(s(),fe(i(m),{key:0,svgRef:i(Ie),backgroundColor:e.value.style.backgroundColor,color:e.value.style.color,active:Ae.value,onClose:De},null,8,["svgRef","backgroundColor","color","active"])):g("",!0),_l.value?(s(),n("div",{key:1,ref_key:"noTitle",ref:We,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):g("",!0),e.value.style.title.text?(s(),n("div",{key:2,ref_key:"chartTitle",ref:Ke,style:"width:100%;background:transparent"},[(s(),fe(St,{key:"title_".concat(Ge.value),config:{title:{cy:"heatmap-div-title",...e.value.style.title},subtitle:{cy:"heatmap-div-subtitle",...e.value.style.title.subtitle}}},null,8,["config"]))],512)):g("",!0),e.value.userOptions.show&&B.value&&(i(Je)||i(Re))?(s(),fe(i(j),{ref_key:"userOptionsRef",ref:Te,key:"user_options_".concat(Ue.value),backgroundColor:e.value.style.backgroundColor,color:e.value.style.color,isImaging:i(el),isPrinting:i(Ze),uid:N.value,hasTooltip:e.value.userOptions.buttons.tooltip&&e.value.style.tooltip.show,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasXls:e.value.userOptions.buttons.csv,hasTable:e.value.userOptions.buttons.table,hasFullscreen:e.value.userOptions.buttons.fullscreen,isFullscreen:Z.value,isTooltip:M.value.showTooltip,titles:{...e.value.userOptions.buttonTitles},chartElement:_.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:Ae.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:il,onGeneratePdf:i(ll),onGenerateCsv:Ee,onGenerateImage:i(tl),onGenerateSvg:cl,onToggleTable:nl,onToggleTooltip:rl,onToggleAnnotator:De,style:A({visibility:i(Je)?i(Re)?"visible":"hidden":"visible"})},pl({_:2},[l.$slots.menuIcon?{name:"menuIcon",fn:O(({isOpen:o,color:u})=>[$(l.$slots,"menuIcon",ue(se({isOpen:o,color:u})),void 0,!0)]),key:"0"}:void 0,l.$slots.optionTooltip?{name:"optionTooltip",fn:O(()=>[$(l.$slots,"optionTooltip",{},void 0,!0)]),key:"1"}:void 0,l.$slots.optionPdf?{name:"optionPdf",fn:O(()=>[$(l.$slots,"optionPdf",{},void 0,!0)]),key:"2"}:void 0,l.$slots.optionCsv?{name:"optionCsv",fn:O(()=>[$(l.$slots,"optionCsv",{},void 0,!0)]),key:"3"}:void 0,l.$slots.optionImg?{name:"optionImg",fn:O(()=>[$(l.$slots,"optionImg",{},void 0,!0)]),key:"4"}:void 0,l.$slots.optionTable?{name:"optionTable",fn:O(()=>[$(l.$slots,"optionTable",{},void 0,!0)]),key:"5"}:void 0,l.$slots.optionFullscreen?{name:"optionFullscreen",fn:O(({toggleFullscreen:o,isFullscreen:u})=>[$(l.$slots,"optionFullscreen",ue(se({toggleFullscreen:o,isFullscreen:u})),void 0,!0)]),key:"6"}:void 0,l.$slots.optionAnnotator?{name:"optionAnnotator",fn:O(({toggleAnnotator:o,isAnnotator:u})=>[$(l.$slots,"optionAnnotator",ue(se({toggleAnnotator:o,isAnnotator:u})),void 0,!0)]),key:"7"}:void 0]),1032,["backgroundColor","color","isImaging","isPrinting","uid","hasTooltip","hasPdf","hasImg","hasSvg","hasXls","hasTable","hasFullscreen","isFullscreen","isTooltip","titles","chartElement","position","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):g("",!0),f("div",{class:be({"vue-ui-heatmap-chart-wrapper":!0,"vue-ui-heatmap-chart-wrapper-legend-right":e.value.style.legend.show})},[(s(),n("svg",{ref_key:"svgRef",ref:Ie,xmlns:i(ct),class:be({"vue-data-ui-fullscreen--on":Z.value,"vue-data-ui-fulscreen--off":!Z.value}),viewBox:"0 0 ".concat(T.value.width," ").concat(T.value.height),width:"100%",style:A("overflow: visible; background:transparent;color:".concat(e.value.style.color)),"aria-live":"polite",role:"img",preserveAspectRatio:"xMidYMid"},[$e(i(z)),l.$slots["chart-background"]?(s(),n("foreignObject",{key:0,x:t.value.left,y:t.value.top,width:t.value.width,height:t.value.height,style:{pointerEvents:"none"}},[$(l.$slots,"chart-background",{},void 0,!0)],8,Ft)):g("",!0),e.value.style.layout.cells.columnTotal.color.show?(s(),n("g",{key:1,ref_key:"xAxisSumRects",ref:$l},[(s(!0),n(L,null,E(b.value.xTotals,(o,u)=>(s(),n("rect",{x:t.value.left+t.value.cellSize.width*u+r.value/2+t.value.sumCellXHeight,y:t.value.top-t.value.sumCellXHeight+r.value*(T.value.height/T.value.width),height:t.value.sumCellXHeight,width:t.value.cellSize.width-r.value,fill:e.value.style.layout.cells.colors.underlayer,stroke:e.value.style.backgroundColor,"stroke-width":r.value},null,8,Rt))),256)),(s(!0),n(L,null,E(b.value.xTotals,(o,u)=>(s(),n("rect",{x:t.value.left+t.value.cellSize.width*u+r.value/2+t.value.sumCellXHeight,y:t.value.top-t.value.sumCellXHeight+r.value*(T.value.height/T.value.width),height:t.value.sumCellXHeight,width:t.value.cellSize.width-r.value,fill:o.color,stroke:e.value.style.backgroundColor,"stroke-width":r.value},null,8,It))),256))],512)):g("",!0),f("g",{ref_key:"datapoints",ref:Al},[(s(!0),n(L,null,E(Q.value,(o,u)=>(s(),n(L,null,[(s(!0),n(L,null,E(o.temperatures,(v,d)=>(s(),n("g",null,[f("rect",{x:t.value.left+t.value.cellSize.width*d+r.value/2+t.value.sumCellXHeight,y:t.value.top+t.value.cellSize.height*u+r.value/2,width:t.value.cellSize.width-r.value,height:t.value.cellSize.height-r.value,fill:e.value.style.layout.cells.colors.underlayer,stroke:e.value.style.backgroundColor,"stroke-width":r.value},null,8,Nt),f("rect",{x:t.value.left+t.value.cellSize.width*d+r.value/2+t.value.sumCellXHeight,y:t.value.top+t.value.cellSize.height*u+r.value/2,width:t.value.cellSize.width-r.value,height:t.value.cellSize.height-r.value,fill:v.color,stroke:e.value.style.backgroundColor,"stroke-width":r.value,onMouseover:k=>Hl(v,u,t.value.left+t.value.cellSize.width*d,t.value.top+t.value.cellSize.height*u),onMouseout:()=>Vl({datapoint:v,seriesIndex:u}),onClick:()=>Ul(v,u)},null,40,Pt),e.value.style.layout.cells.value.show?gl((s(),n("text",{key:0,"text-anchor":"middle","font-size":e.value.style.layout.cells.value.fontSize,"font-weight":e.value.style.layout.cells.value.bold?"bold":"normal",fill:i(Se)(v.color),x:t.value.left+t.value.cellSize.width*d+t.value.cellSize.width/2+t.value.sumCellXHeight,y:t.value.top+t.value.cellSize.height*u+t.value.cellSize.height/2+e.value.style.layout.cells.value.fontSize/3,style:{pointerEvents:"none",userSelect:"none"}},[Ve(S(i(W)(e.value.style.layout.cells.value.formatter,v.value,i(X)({p:e.value.style.layout.dataLabels.prefix,v:v.value,s:e.value.style.layout.dataLabels.suffix,r:e.value.style.layout.cells.value.roundingValue}),{datapoint:v})),1)],8,Et)),[[i(Tt),{cellWidth:t.value.cellSize.width-r.value,cellHeight:t.value.cellSize.height-r.value,maxFontSize:e.value.style.layout.cells.value.fontSize,minFontSize:10,index:u*H.value+d,reportHide:Dl,reportRotation:Pl,hideAll:El.value,rotateAll:Nl.value}]]):g("",!0)]))),256))],64))),256))],512),e.value.style.layout.cells.rowTotal.color.show?(s(),n("g",{key:2,ref_key:"yAxisSumRects",ref:Ll},[(s(!0),n(L,null,E(Q.value,(o,u)=>(s(),n(L,null,[f("rect",{x:t.value.left,y:t.value.top+t.value.cellSize.height*u,width:t.value.sumCellXHeight,height:t.value.cellSize.height-r.value,fill:e.value.style.layout.cells.colors.underlayer,stroke:e.value.style.backgroundColor,"stroke-width":r.value},null,8,Dt),f("rect",{x:t.value.left,y:t.value.top+t.value.cellSize.height*u+r.value/2,width:t.value.sumCellXHeight,height:t.value.cellSize.height-r.value,fill:b.value.yTotals[u].color,stroke:e.value.style.backgroundColor,"stroke-width":r.value},null,8,Ht)],64))),256))],512)):g("",!0),e.value.style.layout.dataLabels.yAxis.show?(s(),n("g",{key:3,ref_key:"yAxisLabels",ref:Ye},[(s(!0),n(L,null,E(Q.value,(o,u)=>(s(),n(L,null,[f("text",{class:"vue-ui-heatmap-row-name","font-size":e.value.style.layout.dataLabels.yAxis.fontSize,fill:e.value.style.layout.dataLabels.yAxis.color,x:te.value,y:t.value.top+t.value.cellSize.height*u+t.value.cellSize.height/2+e.value.style.layout.dataLabels.yAxis.fontSize/3+e.value.style.layout.dataLabels.yAxis.offsetY-(e.value.style.layout.cells.rowTotal.value.show?e.value.style.layout.dataLabels.yAxis.fontSize/1.5:0),"text-anchor":"end","font-weight":e.value.style.layout.dataLabels.yAxis.bold?"bold":"normal"},S(b.value.yLabels[u]),9,Vt),e.value.style.layout.cells.rowTotal.value.show?(s(),n("text",{key:0,class:"vue-ui-heatmap-row-total","font-size":e.value.style.layout.dataLabels.yAxis.fontSize,fill:e.value.style.layout.dataLabels.yAxis.color,x:te.value,y:t.value.top+t.value.cellSize.height*u+t.value.cellSize.height/2+e.value.style.layout.dataLabels.yAxis.fontSize+e.value.style.layout.dataLabels.yAxis.offsetY,"text-anchor":"end","font-weight":e.value.style.layout.dataLabels.yAxis.bold?"bold":"normal"},S(Bl(u)),9,Bt)):g("",!0)],64))),256))],512)):g("",!0),e.value.style.layout.dataLabels.xAxis.show?(s(),n("g",{key:4,ref_key:"xAxisLabels",ref:Oe},[(s(!0),n(L,null,E(b.value.xLabels,(o,u)=>(s(),n(L,null,[!e.value.style.layout.dataLabels.xAxis.showOnlyAtModulo||e.value.style.layout.dataLabels.xAxis.showOnlyAtModulo&&u%e.value.style.layout.dataLabels.xAxis.showOnlyAtModulo===0?(s(),n("text",{key:0,class:"vue-ui-heatmap-col-name","text-anchor":e.value.style.layout.dataLabels.xAxis.rotation===0?"middle":e.value.style.layout.dataLabels.xAxis.rotation<0?"start":"end","font-size":e.value.style.layout.dataLabels.xAxis.fontSize,fill:e.value.style.layout.dataLabels.xAxis.color,"font-weight":e.value.style.layout.dataLabels.xAxis.bold?"bold":"normal",transform:"translate(".concat(t.value.left+t.value.cellSize.width/2+t.value.width/b.value.xLabels.length*u+e.value.style.layout.dataLabels.xAxis.offsetX+t.value.sumCellXHeight,", ").concat(t.value.topLabelsHeight,"), rotate(").concat(e.value.style.layout.dataLabels.xAxis.rotation,")")},S(o),9,Xt)):g("",!0)],64))),256))],512)):g("",!0),e.value.style.layout.cells.columnTotal.value.show?(s(),n("g",{key:5,ref_key:"xAxisSums",ref:Me},[(s(!0),n(L,null,E(b.value.xLabels,(o,u)=>(s(),n("text",{class:"vue-ui-heatmap-col-total","text-anchor":e.value.style.layout.cells.columnTotal.value.rotation===0?"middle":e.value.style.layout.cells.columnTotal.value.rotation<0?"end":"start","font-size":e.value.style.layout.dataLabels.xAxis.fontSize,fill:e.value.style.layout.dataLabels.xAxis.color,"font-weight":e.value.style.layout.dataLabels.xAxis.bold?"bold":"normal",transform:"translate(".concat(t.value.left+t.value.cellSize.width/2+t.value.width/b.value.xLabels.length*u+e.value.style.layout.dataLabels.xAxis.offsetX+e.value.style.layout.cells.columnTotal.value.offsetX+t.value.sumCellXHeight,", ").concat(t.value.bottom+e.value.style.layout.dataLabels.xAxis.fontSize/2,"), rotate(").concat(e.value.style.layout.cells.columnTotal.value.rotation,")")},S(Xl(u)),9,Ut))),256))],512)):g("",!0),de.value?(s(),n("g",jt,[f("rect",{style:{"pointer-events":"none"},x:de.value.x-e.value.style.layout.cells.selected.border/2+r.value+t.value.sumCellXHeight,y:de.value.y-e.value.style.layout.cells.selected.border/2+r.value,width:t.value.cellSize.width-r.value+e.value.style.layout.cells.selected.border-r.value,height:t.value.cellSize.height-r.value+e.value.style.layout.cells.selected.border-r.value,fill:"transparent",stroke:e.value.style.layout.cells.selected.color,"stroke-width":e.value.style.layout.cells.selected.border,rx:1},null,8,Gt)])):g("",!0),$(l.$slots,"svg",{svg:T.value},void 0,!0)],14,Mt)),e.value.style.legend.show?(s(),n("div",{key:0,ref_key:"legendRight",ref:Cl,class:"vue-ui-heatmap-legend-right",style:A({"--legend-width":e.value.style.legend.width+"px"})},[i(xe)?g("",!0):(s(),n("div",{key:0,class:"vue-ui-heatmap-legend-label-max",style:A({fontSize:e.value.style.legend.fontSize+"px",color:e.value.style.legend.color})},S(i(W)(e.value.style.layout.cells.value.formatter,i(Y)(K.value),i(X)({p:e.value.style.layout.dataLabels.prefix,v:i(Y)(K.value),s:e.value.style.layout.dataLabels.suffix,r:e.value.style.legend.roundingValue}))),5)),f("div",Kt,[f("div",{class:"vue-ui-heatmap-gauge",style:A({background:"linear-gradient(to bottom, ".concat(e.value.style.layout.cells.colors.hot,", ").concat(e.value.style.layout.cells.colors.cold,")")})},[gl(f("div",{class:"vue-ui-heatmap-gauge-indicator","data-value":i(W)(e.value.style.layout.cells.value.formatter,i(Y)(P.value),i(X)({p:e.value.style.layout.dataLabels.prefix,v:i(Y)(P.value),s:e.value.style.layout.dataLabels.suffix,r:e.value.style.legend.roundingValue})),style:A({position:"absolute",width:"100%",height:"2px",background:[void 0,null].includes(P.value)?"transparent":i(Se)(ke.value.datapoint.color),top:"".concat([void 0,null].includes(P.value)?0:(1-P.value/K.value)*100,"%"),transition:"all 0.2s ease-in-out","--background-color":e.value.style.backgroundColor,"--gauge-arrow-color":i(Se)(e.value.style.backgroundColor),"--gauge-arrow-text-color":i(Se)(e.value.style.backgroundColor),"--gauge-arrow-value":P.value,"--gauge-arrow-font-size":e.value.style.legend.fontSize+"px"})},[f("div",Yt,S(i(W)(e.value.style.layout.cells.value.formatter,i(Y)(P.value),i(X)({p:e.value.style.layout.dataLabels.prefix,v:i(Y)(P.value),s:e.value.style.layout.dataLabels.suffix,r:e.value.style.legend.roundingValue}))),1)],12,Wt),[[tt,![void 0,null].includes(P.value)]])],4)]),i(xe)?g("",!0):(s(),n("div",{key:1,class:"vue-ui-heatmap-legend-label-min",style:A({fontSize:e.value.style.legend.fontSize+"px",color:e.value.style.legend.color})},S(i(W)(e.value.style.layout.cells.value.formatter,i(Y)(ge.value),i(X)({p:e.value.style.layout.dataLabels.prefix,v:i(Y)(ge.value),s:e.value.style.layout.dataLabels.suffix,r:e.value.style.legend.roundingValue}))),5))],4)):g("",!0)],2),l.$slots.watermark?(s(),n("div",qt,[$(l.$slots,"watermark",ue(se({isPrinting:i(Ze)||i(el)})),void 0,!0)])):g("",!0),l.$slots.source?(s(),n("div",{key:5,ref_key:"source",ref:qe,dir:"auto"},[$(l.$slots,"source",{},void 0,!0)],512)):g("",!0),$e(i(U),{show:M.value.showTooltip&&re.value,backgroundColor:e.value.style.tooltip.backgroundColor,color:e.value.style.tooltip.color,borderRadius:e.value.style.tooltip.borderRadius,borderColor:e.value.style.tooltip.borderColor,borderWidth:e.value.style.tooltip.borderWidth,fontSize:e.value.style.tooltip.fontSize,backgroundOpacity:e.value.style.tooltip.backgroundOpacity,position:e.value.style.tooltip.position,offsetY:e.value.style.tooltip.offsetY,parent:_.value,content:ee.value,isFullscreen:Z.value,isCustom:e.value.style.tooltip.customFormat&&typeof e.value.style.tooltip.customFormat=="function",smooth:e.value.style.tooltip.smooth,backdropFilter:e.value.style.tooltip.backdropFilter,smoothForce:e.value.style.tooltip.smoothForce,smoothSnapThreshold:e.value.style.tooltip.smoothSnapThreshold},{"tooltip-before":O(()=>[$(l.$slots,"tooltip-before",ue(se({...ke.value})),void 0,!0)]),"tooltip-after":O(()=>[$(l.$slots,"tooltip-after",ue(se({...ke.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","borderRadius","borderColor","borderWidth","fontSize","backgroundOpacity","position","offsetY","parent","content","isFullscreen","isCustom","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),B.value&&e.value.userOptions.buttons.table?(s(),fe(ut(Ce.value.component),ot({key:6},Ce.value.props,{ref_key:"tableUnit",ref:ce,onClose:He}),pl({content:O(()=>[f("div",{ref_key:"tableContainer",ref:je,class:"vue-ui-heatmap-table atom-data-table",style:A("".concat(e.value.table.useDialog?"":"max-height: 300px; margin-top: 24px;"))},[f("div",{style:A("width:100%;overflow-x:auto;position:relative;".concat(e.value.table.useDialog?"":"padding-top:36px",";")),class:be({"vue-ui-responsive":i(Kl)})},[e.value.table.useDialog?g("",!0):(s(),n("div",{key:0,role:"button",tabindex:"0",style:A("width:32px; position: absolute; top: 0; left:4px; padding: 0 0px; display: flex; align-items:center;justify-content:center;height: 36px; width: 32px; cursor:pointer; background:".concat(e.value.table.th.backgroundColor,";")),onClick:He,onKeypress:at(He,["enter"])},[$e(i(q),{name:"close",stroke:e.value.table.th.color,"stroke-width":2},null,8,["stroke"])],36)),f("table",Jt,[e.value.table.useDialog?g("",!0):(s(),n("caption",{key:0,style:A("backgroundColor:".concat(e.value.table.th.backgroundColor,";color:").concat(e.value.table.th.color,";outline:").concat(e.value.table.th.outline))},[Ve(S(e.value.style.title.text)+" ",1),e.value.style.title.subtitle.text?(s(),n("span",Qt,S(e.value.style.title.subtitle.text),1)):g("",!0)],4)),f("thead",null,[f("tr",{role:"row",style:A("background:".concat(e.value.table.th.backgroundColor,";color:").concat(e.value.table.th.color))},[f("th",{style:A("outline:".concat(e.value.table.th.outline,";padding-right:6px"))},null,4),(s(!0),n(L,null,E(h.dataset,(o,u)=>(s(),n("th",{align:"right",style:A("outline:".concat(e.value.table.th.outline,";padding-right:6px"))},S(o.name),5))),256))],4)]),f("tbody",null,[(s(!0),n(L,null,E(b.value.xLabels,(o,u)=>(s(),n("tr",{role:"row",class:be({"vue-ui-data-table__tbody__row":!0,"vue-ui-data-table__tbody__row-even":u%2===0,"vue-ui-data-table__tbody__row-odd":u%2!==0}),style:A("background:".concat(e.value.table.td.backgroundColor,";color:").concat(e.value.table.td.color))},[f("td",{"data-cell":e.value.table.colNames.xAxis,class:"vue-ui-data-table__tbody__td",style:A("outline:".concat(e.value.table.td.outline))},[f("div",ea,S(o),1)],12,Zt),(s(!0),n(L,null,E(h.dataset,(v,d)=>(s(),n("td",{class:"vue-ui-data-table__tbody__td","data-cell":h.dataset[d].name,style:A("outline:".concat(e.value.table.td.outline))},[f("div",ta,S(isNaN(v.values[u])?"-":i(X)({p:e.value.style.layout.dataLabels.prefix,v:v.values[u],s:e.value.style.layout.dataLabels.suffix,r:e.value.table.td.roundingValue})),1)],12,la))),256))],6))),256))])])],6)],4)]),_:2},[e.value.table.useDialog?{name:"title",fn:O(()=>[Ve(S(Ce.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:O(()=>[f("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:a[0]||(a[0]=o=>Ee(e.value.userOptions.callbacks.csv))},[$e(i(q),{name:"excel",stroke:Ce.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):g("",!0),i(xe)?(s(),fe(wt,{key:7})):g("",!0)],46,Ot))}},ka=it(aa,[["__scopeId","data-v-7b02a740"]]);export{ka as default};
