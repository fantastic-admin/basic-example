
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Tooltip-D0pGX8qz-BS2YwyOE.js","./vue-data-ui-8Gmf-dDN.js","./index-CJB5jCfL.js","./index-D6D_bXIl.css","./alert-I_0TAljB.js","./vue-data-ui-C46fMXq5.css","./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js","./useNestedProp-DaR1dBmj-yWXLkJlG.js","./DataTable-BfEbVwm4-B-GxLkq-.js","./Shape-12_eh8zD-Cy1mu6XW.js","./PenAndPaper--ADXtx65-ugytqLuo.js","./ColorPicker-BYn8PF2Z-DkxHqz9_.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-Cy-iNhZU-CnpDVImt.js","./img-CqYIrJ8I-E54QgU9o.js","./dom-to-png-WXGPkYro-BQsfl1t5.js","./PackageVersion-By5ZZJ0U-Cc8IPeAX.js","./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"])))=>i.map(i=>d[i]);
import{e as v,av as Ue,J as d,E as ql,aw as Jl,a8 as Zl,K as ee,au as Ql,c1 as E,c as r,o as s,r as x,z as B,A as h,f as w,g as fe,h as p,j as $,k as _,u,O as I,c3 as He,F as m,R as k,t as z,n as P,bq as Kl,l as Ge,m as et,N as lt,c4 as O,aa as tt}from"./index-CJB5jCfL.js";import{s as at,J as qe,E as Je,A as Ze,a as ot,x as st,$ as rt,u as it,o as le,h as Qe,L as Y,F as j,d as nt,b as ut,l as ct,Y as vt,m as dt,B as R,v as ht,N as te,e as yt,f as xt,g as pt}from"./vue-data-ui-8Gmf-dDN.js";import{E as Ke,M as ft}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{s as bt,i as be}from"./useNestedProp-DaR1dBmj-yWXLkJlG.js";import{T as gt,j as mt}from"./BaseScanner-BMpwQAfz-mc47WWxo.js";import{m as kt}from"./usePrinter-ChVMpU2f-B27PF0nl.js";import{O as Ct}from"./useSvgExport-ByUukOZt-XO0OK7cR.js";import{i as At}from"./useThemeCheck-DGJ31Vi5-GRZcYzX8.js";import{a as wt}from"./useUserOptionState-BIvW1Kz7-D70wY835.js";import{o as $t}from"./useChartAccessibility-9icAAmYg-CuAxjhEs.js";import{S as _t}from"./useTimeLabelCollider-CIsgDrl9-BAa7N0ra.js";import Ft from"./img-CqYIrJ8I-E54QgU9o.js";import Lt from"./Title-D0nD-PMs-DAiwElB_.js";import It from"./Legend-D2xmnFPH-CItLelVI.js";import"./alert-I_0TAljB.js";import"./dom-to-png-WXGPkYro-BQsfl1t5.js";import"./Shape-12_eh8zD-Cy1mu6XW.js";const el={table:{th:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},td:{backgroundColor:"#1A1A1A",color:"#CCCCCC"}},style:{chart:{backgroundColor:"#1A1A1A",color:"#CCCCCC",title:{color:"#CCCCCC",subtitle:{color:"#757575"}},tooltip:{backgroundColor:"#1A1A1A",backgroundOpacity:70,color:"#CCCCCC",borderColor:"#5A5A5A"},legend:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},grid:{xAxis:{stroke:"#5A5A5A"},horizontalLines:{stroke:"#4A4A4A"},yAxis:{stroke:"#5A5A5A"},verticalLines:{stroke:"#4A4A4A"}},axes:{x:{labels:{color:"#CCCCCC"},name:{color:"#CCCCCC"}},y:{labels:{color:"#CCCCCC"},name:{color:"#CCCCCC"}}},plots:{stroke:"#1A1A1A",labels:{color:"#CCCCCC"}}}}},ll={table:{th:{backgroundColor:"#FFF8E1",color:"#424242"},td:{backgroundColor:"#FFF8E1",color:"#424242"}},style:{chart:{backgroundColor:"#FFF8E1",color:"#424242",title:{color:"#424242",subtitle:{color:"#757575"}},tooltip:{backgroundColor:"#FFECB3",backgroundOpacity:30,color:"#424242",borderColor:"#FF8A65"},legend:{backgroundColor:"#FFF8E1",color:"#424242"},grid:{xAxis:{stroke:"#5D403740"},horizontalLines:{stroke:"#5D403740"},yAxis:{stroke:"#5D403740"},verticalLines:{stroke:"#5D403740"}},axes:{x:{labels:{color:"#424242"},name:{color:"#424242"}},y:{labels:{color:"#424242"},name:{color:"#424242"}}},plots:{stroke:"#FFF8E1",gradient:{intensity:20},labels:{color:"#424242"}}}}},tl={table:{th:{backgroundColor:"#1E1E1E",color:"#BDBDBD"},td:{backgroundColor:"#1E1E1E",color:"#BDBDBD"}},style:{chart:{backgroundColor:"#1E1E1E",color:"#BDBDBD",title:{color:"#FFF8E1",subtitle:{color:"#BDBDBD"}},tooltip:{backgroundColor:"#1E1E1E",backgroundOpacity:30,color:"#FFF8E1",borderColor:"#FF8A65"},legend:{backgroundColor:"#1E1E1E",color:"#BDBDBD"},grid:{xAxis:{stroke:"#5D403780"},horizontalLines:{stroke:"#5D403780"},yAxis:{stroke:"#5D403780"},verticalLines:{stroke:"#5D403780"}},axes:{x:{labels:{color:"#BDBDBD"},name:{color:"#BDBDBD"}},y:{labels:{color:"#BDBDBD"},name:{color:"#BDBDBD"}}},plots:{stroke:"#1E1E1E",gradient:{intensity:20},labels:{color:"#BDBDBD"}}}}},al={table:{th:{backgroundColor:"#1A1A1A",color:"#99AA99"},td:{backgroundColor:"#1A1A1A",color:"#AACCAA"}},style:{chart:{backgroundColor:"#1A1A1A",color:"#99AA99",title:{color:"#66CC66",subtitle:{color:"#99AA99"}},tooltip:{backgroundColor:"#2A2F2A",color:"#AACCAA",borderColor:"#66CC66"},legend:{backgroundColor:"#1A1A1A",color:"#99AA99"},grid:{xAxis:{stroke:"#5F6A5F"},horizontalLines:{stroke:"#3A3A3A"},yAxis:{stroke:"#5F6A5F"},verticalLines:{stroke:"#3A3A3A"}},axes:{x:{labels:{color:"#5F6A5F"},name:{color:"#5F6A5F"}},y:{labels:{color:"#5F6A5F"},name:{color:"#5F6A5F"}}},plots:{stroke:"#1A1A1A",gradient:{intensity:20},labels:{color:"#5F6A5F"}}}}},ol={table:{th:{backgroundColor:"#fbfafa",color:"#8F837A"},td:{backgroundColor:"#fbfafa",color:"#8F837A"}},style:{chart:{backgroundColor:"#fbfafa",color:"#8A9892",title:{color:"#8A9892",subtitle:{color:"#99AA99"}},tooltip:{backgroundColor:"#fbfafa",color:"#8A9892"},legend:{backgroundColor:"#fbfafa",color:"#99AA99"},grid:{xAxis:{stroke:"#8F837A"},horizontalLines:{show:!1},yAxis:{stroke:"#8F837A"},verticalLines:{show:!1}},axes:{x:{labels:{color:"#8F837A"},name:{color:"#8F837A"}},y:{labels:{color:"#8F837A"},name:{color:"#8F837A"}}},plots:{stroke:"#fbfafa",gradient:{intensity:20},labels:{color:"#8F837A"}}}}},sl={table:{th:{backgroundColor:"#f6f6fb",color:"#50606C"},td:{backgroundColor:"#f6f6fb",color:"#50606C"}},style:{chart:{backgroundColor:"#f6f6fb",color:"#50606C",title:{color:"#50606C",subtitle:{color:"#718890"}},tooltip:{backgroundColor:"#f6f6fb",color:"#50606C"},legend:{backgroundColor:"#f6f6fb",color:"#61747E"},grid:{xAxis:{stroke:"#829C98"},horizontalLines:{stroke:"#92B0AB"},yAxis:{stroke:"#829C98"},verticalLines:{stroke:"#92B0AB"}},axes:{x:{labels:{color:"#50606C"},name:{color:"#50606C"}},y:{labels:{color:"#50606C"},name:{color:"#50606C"}}},plots:{stroke:"#50606C",gradient:{intensity:20},labels:{color:"#50606C"}}}}},rl={default:{},dark:el,celebration:ll,celebrationNight:tl,hack:al,zen:ol,concrete:sl},za=Object.freeze(Object.defineProperty({__proto__:null,celebration:ll,celebrationNight:tl,concrete:sl,dark:el,default:rl,hack:al,zen:ol},Symbol.toStringTag,{value:"Module"})),St=["id"],Tt=["id"],zt=["xmlns","viewBox"],Mt=["x","y","width","height"],Dt={key:1},Et=["id"],Bt=["stop-color"],Ot=["stop-color"],Nt=["stop-color"],Pt={key:2},Rt=["x1","x2","y1","y2","stroke","stroke-width"],Xt={key:3},Yt=["stroke","stroke-width","x1","x2","y1","y2"],jt=["x","y","fill","font-size"],Vt=["transform","font-size","fill","font-weight"],Wt={key:6},Ut=["x1","x2","y1","y2","stroke","stroke-width"],Ht={key:7},Gt=["stroke","stroke-width","x1","x2","y1","y2"],qt=["transform","fill","font-size","text-anchor"],Jt=["x","y","font-size","fill","font-weight"],Zt=["x1","x2","y1","y2","stroke","stroke-width"],Qt=["x1","x2","y1","y2","stroke","stroke-width"],Kt=["d","stroke","stroke-width"],ea=["d","stroke","stroke-width"],la=["cx","cy","fill","r"],ta=["cx","cy","fill","r","stroke","stroke-width"],aa={key:1},oa=["x","y","font-size","fill","font-weight"],sa=["x","y","font-size","fill","font-weight","innerHTML"],ra={key:2},ia=["x","y","font-size","font-weight","fill"],na=["cx","cy","r","onMouseenter","onMouseleave","onClick"],ua={key:4,class:"vue-data-ui-watermark"},ca=["id"],va=["onClick"],da=["innerHTML"],ha={__name:"vue-ui-history-plot",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:["selectLegend","selectDatapoint"],setup(il,{expose:nl,emit:ul}){const cl=E(()=>O(()=>import("./Tooltip-D0pGX8qz-BS2YwyOE.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),vl=E(()=>O(()=>import("./vue-data-ui-8Gmf-dDN.js").then(l=>l.aA),__vite__mapDeps([1,2,3,4,5]),import.meta.url)),dl=E(()=>O(()=>import("./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js"),__vite__mapDeps([6,2,3,1,4,5,7]),import.meta.url)),hl=E(()=>O(()=>import("./DataTable-BfEbVwm4-B-GxLkq-.js"),__vite__mapDeps([8,2,3,9,1,4,5]),import.meta.url)),yl=E(()=>O(()=>import("./PenAndPaper--ADXtx65-ugytqLuo.js"),__vite__mapDeps([10,2,3,1,4,5,11,12]),import.meta.url)),xl=E(()=>O(()=>import("./UserOptions-Cy-iNhZU-CnpDVImt.js"),__vite__mapDeps([13,2,3,12,1,4,5,14,15]),import.meta.url)),pl=E(()=>O(()=>import("./PackageVersion-By5ZZJ0U-Cc8IPeAX.js"),__vite__mapDeps([16,2,3]),import.meta.url)),fl=E(()=>O(()=>import("./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"),__vite__mapDeps([17,2,3,1,4,5]),import.meta.url)),{vue_ui_history_plot:bl}=bt(),{isThemeValid:gl,warnInvalidTheme:ml}=At(),y=il,S=v(null),ge=v(null),me=v(0),ke=v(null),Ce=v(0),Ae=v(0),we=v(0),M=Ue(null),X=Ue(null),$e=v(null),T=v(qe()),ae=v(!1),oe=v(""),g=v([]),V=v(!1),A=v(null),W=v(!1),_e=v(null),Fe=v(!1),U=v(null),se=v(null),re=v(null),ie=v(null),G=v(null),ne=v(null),q=d({get:()=>!!y.dataset&&y.dataset.length,set:l=>l}),Le=ul;ql(()=>{Fe.value=!0,Se()});const Ie=d(()=>!!e.value.debug);function Se(){if(Je(y.dataset)?(Ze({componentName:"VueUiHistoryPlot",type:"dataset",debug:Ie.value}),ce.value=!0):y.dataset.forEach((l,a)=>{ot({datasetObject:l,requiredAttributes:["name","values"]}).forEach(t=>{q.value=!1,Ze({componentName:"VueUiHistoryPlot",type:"datasetSerieAttribute",property:t,index:a,debug:Ie.value})})}),Je(y.dataset)||(ce.value=e.value.loading),e.value.responsive){const l=Ke(()=>{const{width:a,height:t}=ft({chart:S.value,title:e.value.style.chart.title.text?ge.value:null,noTitle:$e.value,legend:e.value.style.chart.legend.show?ke.value:null,source:_e.value});requestAnimationFrame(()=>{f.value.width=a,f.value.height=t,e.value.responsiveProportionalSizing?(i.value.plots=R({relator:Math.min(a,t),adjuster:600,source:e.value.style.chart.plots.radius,threshold:3,fallback:3}),i.value.indexLabels=R({relator:Math.min(a,t),adjuster:600,source:e.value.style.chart.plots.indexLabels.fontSize,threshold:6,fallback:6}),i.value.labels=R({relator:Math.min(a,t),adjuster:600,source:e.value.style.chart.plots.labels.fontSize,threshold:6,fallback:6}),i.value.xAxisLabels=R({relator:Math.min(a,t),adjuster:600,source:e.value.style.chart.axes.x.labels.fontSize,threshold:6,fallback:6}),i.value.xAxisName=R({relator:Math.min(a,t),adjuster:600,source:e.value.style.chart.axes.x.name.fontSize,threshold:6,fallback:6}),i.value.yAxisLabels=R({relator:Math.min(a,t),adjuster:600,source:e.value.style.chart.axes.y.labels.fontSize,threshold:6,fallback:6}),i.value.yAxisName=R({relator:Math.min(a,t),adjuster:600,source:e.value.style.chart.axes.y.name.fontSize,threshold:6,fallback:6})):(i.value.plots=e.value.style.chart.plots.radius,i.value.indexLabels=e.value.style.chart.plots.indexLabels.fontSize,i.value.labels=e.value.style.chart.plots.labels.fontSize,i.value.xAxisLabels=e.value.style.chart.axes.x.labels.fontSize,i.value.xAxisName=e.value.style.chart.axes.x.name.fontSize,i.value.yAxisLabels=e.value.style.chart.axes.y.labels.fontSize,i.value.yAxisName=e.value.style.chart.axes.y.name.fontSize)})});M.value&&(X.value&&M.value.unobserve(X.value),M.value.disconnect()),M.value=new ResizeObserver(l),X.value=S.value.parentNode,M.value.observe(X.value)}}Jl(()=>{M.value&&(X.value&&M.value.unobserve(X.value),M.value.disconnect())});function ue(){const l=be({userConfig:y.config,defaultConfig:bl});let a={};const t=l.theme;if(t)if(!gl.value(l))ml(l),a=l;else{const n=be({userConfig:rl[t]||y.config,defaultConfig:l});a={...be({userConfig:y.config,defaultConfig:n}),customPalette:l.customPalette.length?l.customPalette:ht[t]||le}}else a=l;return y.config&&te(y.config,"style.chart.axes.x.scaleMin")?a.style.chart.axes.x.scaleMin=y.config.style.chart.axes.x.scaleMin:a.style.chart.axes.x.scaleMin=null,y.config&&te(y.config,"style.chart.axes.x.scaleMax")?a.style.chart.axes.x.scaleMax=y.config.style.chart.axes.x.scaleMax:a.style.chart.axes.x.scaleMax=null,y.config&&te(y.config,"style.chart.axes.y.scaleMin")?a.style.chart.axes.y.scaleMin=y.config.style.chart.axes.y.scaleMin:a.style.chart.axes.y.scaleMin=null,y.config&&te(y.config,"style.chart.axes.y.scaleMax")?a.style.chart.axes.y.scaleMax=y.config.style.chart.axes.y.scaleMax:a.style.chart.axes.y.scaleMax=null,a}const e=v(ue()),{loading:D,FINAL_DATASET:kl,manualLoading:ce}=gt({...Zl(y),FINAL_CONFIG:e,prepareConfig:ue,skeletonDataset:[{name:"",color:"#CACACA",values:[{label:"",x:1,y:9},{label:"",x:4,y:1},{label:"",x:7,y:9},{label:"",x:9,y:4}]}],skeletonConfig:st({defaultConfig:e.value,userConfig:{userOptions:{show:!1},table:{show:!1},style:{chart:{backgroundColor:"#99999930",axes:{x:{scaleMin:0,scaleMax:10,labels:{show:!1},name:{text:""}},y:{scaleMin:0,scaleMax:10,labels:{show:!1},name:{text:""}}},grid:{xAxis:{stroke:"#6A6A6A"},horizontalLines:{stroke:"#6A6A6A50"},yAxis:{stroke:"#6A6A6A"},verticalLines:{stroke:"#6A6A6A50"}},legend:{backgroundColor:"transparent"},paths:{useSerieColor:!1,stroke:"#6A6A6A"},plots:{stroke:"#6A6A6A",indexLabels:{show:!1},labels:{show:!1}}}}}})}),{userOptionsVisible:ve,setUserOptionsVisibility:Te,keepUserOptionState:ze}=wt({config:e.value}),{svgRef:de}=$t({config:e.value.style.chart.title});ee(()=>y.config,l=>{D.value||(e.value=ue()),ve.value=!e.value.userOptions.showOnChartHover,Se(),me.value+=1,Ae.value+=1,Ce.value+=1,f.value.height=e.value.style.chart.height,f.value.width=e.value.style.chart.width,i.value.plots=e.value.style.chart.plots.radius,i.value.indexLabels=e.value.style.chart.plots.indexLabels.fontSize,i.value.labels=e.value.style.chart.plots.labels.fontSize,i.value.xAxisLabels=e.value.style.chart.axes.x.labels.fontSize,i.value.xAxisName=e.value.style.chart.axes.x.name.fontSize,i.value.yAxisLabels=e.value.style.chart.axes.y.labels.fontSize,i.value.yAxisName=e.value.style.chart.axes.y.name.fontSize,C.value.showTable=e.value.table.show,C.value.showTooltip=e.value.style.chart.tooltip.show},{deep:!0}),ee(()=>y.dataset,l=>{Array.isArray(l)&&l.length>0&&(ce.value=!1)},{deep:!0});const{isPrinting:Me,isImaging:De,generatePdf:Ee,generateImage:Be}=kt({elementId:"history_plot_".concat(T.value),fileName:e.value.style.chart.title.text||"vue-ui-history-plot",options:e.value.userOptions.print}),Cl=d(()=>e.value.userOptions.show&&!e.value.style.chart.title.text),Al=d(()=>rt(e.value.customPalette)),C=v({showTable:e.value.table.show,showTooltip:e.value.style.chart.tooltip.show});ee(e,()=>{C.value={showTable:e.value.table.show,showTooltip:e.value.style.chart.tooltip.show}},{immediate:!0});const f=v({height:e.value.style.chart.height,width:e.value.style.chart.width}),wl=d(()=>f.value.width),$l=d(()=>f.value.height);function _l(){let l=0;ne.value&&(l=Array.from(ne.value.querySelectorAll("text")).reduce((t,n)=>{const o=n.getComputedTextLength();return o>t?o:t},0));const a=ie.value?ie.value.getBoundingClientRect().width:0;return l+a+(a?24:0)}const Oe=v(0),Fl=Ke(l=>{Oe.value=l});Ql(l=>{const a=G.value;if(!a)return;const t=new ResizeObserver(n=>{Fl(n[0].contentRect.height)});t.observe(a),l(()=>t.disconnect())});const Ne=d(()=>{let l=0;re.value&&(l=re.value.getBBox().height+i.value.xAxisName/2);let a=0;return G.value&&(a=Oe.value),l+a}),c=d(()=>{const l=e.value.style.chart.padding.left,a=e.value.style.chart.padding.top,t=_l(),n=e.value.style.chart.plots.radius;return{left:l+t+e.value.style.chart.axes.y.name.offsetX,top:a+n,right:f.value.width-e.value.style.chart.padding.right-n-e.value.style.chart.axes.y.name.offsetX,bottom:f.value.height-e.value.style.chart.padding.bottom-Ne.value-n-e.value.style.chart.axes.x.name.offsetY,width:f.value.width-l-e.value.style.chart.padding.right-t-n-e.value.style.chart.axes.y.name.offsetX,height:f.value.height-a-e.value.style.chart.padding.bottom-Ne.value-n*2-e.value.style.chart.axes.x.name.offsetY}}),i=v({plots:e.value.style.chart.plots.radius,indexLabels:e.value.style.chart.plots.indexLabels.fontSize,labels:e.value.style.chart.plots.labels.fontSize,xAxisLabels:e.value.style.chart.axes.x.labels.fontSize,xAxisName:e.value.style.chart.axes.x.name.fontSize,yAxisLabels:e.value.style.chart.axes.y.labels.fontSize,yAxisName:e.value.style.chart.axes.y.name.fontSize}),F=d(()=>kl.value.map((l,a)=>({...l,color:l.color?it(l.color):Al.value[a]||le[a]||le[a%le.length],seriesIndex:a}))),Ll=d(()=>Math.max(...F.value.filter(l=>!g.value.includes(l.seriesIndex)).flatMap(l=>l.values.map(a=>a.x)))),Il=d(()=>{const l=Math.min(...F.value.filter(a=>!g.value.includes(a.seriesIndex)).flatMap(a=>a.values.map(t=>t.x)));return l<0?l:0}),Sl=d(()=>Math.max(...F.value.filter(l=>!g.value.includes(l.seriesIndex)).flatMap(l=>l.values.map(a=>a.y)))),Tl=d(()=>{const l=Math.min(...F.value.filter(a=>!g.value.includes(a.seriesIndex)).flatMap(a=>a.values.map(t=>t.y)));return l<0?l:0}),b=d(()=>{const l=Qe(e.value.style.chart.axes.x.scaleMin===null?Il.value:e.value.style.chart.axes.x.scaleMin,e.value.style.chart.axes.x.scaleMax===null?Ll.value:e.value.style.chart.axes.x.scaleMax,e.value.style.chart.axes.x.ticks),a=Qe(e.value.style.chart.axes.y.scaleMin===null?Tl.value:e.value.style.chart.axes.y.scaleMin,e.value.style.chart.axes.y.scaleMax===null?Sl.value:e.value.style.chart.axes.y.scaleMax,e.value.style.chart.axes.y.ticks);return{x:l,y:a,tickX:l.ticks.map(t=>({x:c.value.left+(t-l.min)/(l.max-l.min)*c.value.width,y1:c.value.top,y2:c.value.bottom,value:t})),tickY:a.ticks.map(t=>({y:c.value.bottom-(t-a.min)/(a.max-a.min)*c.value.height,x1:c.value.left,x2:c.value.right,value:t}))}});function zl(l){const a=b.value.x.min<0?Math.abs(b.value.x.min):b.value.x.min>0?-b.value.x.min:0;return c.value.left+((l||0)+a)/(b.value.x.max+a)*c.value.width}function Ml(l){const a=b.value.y.min<0?Math.abs(b.value.y.min):b.value.y.min>0?-b.value.y.min:0;return c.value.bottom-((l||0)+a)/(b.value.y.max+a)*c.value.height}const N=d(()=>F.value.filter(l=>!g.value.includes(l.seriesIndex)).map((l,a)=>{const t=l.values.map((o,L)=>({valueX:o.x,valueY:o.y,label:o.label,x:zl(o.x),y:Ml(o.y),color:l.color,seriesName:l.name,id:qe()})),n=t.map(o=>"".concat(o.x,",").concat(o.y," ")).join("").trim();return{...l,plots:t,path:"M".concat(n)}}));function J(l){g.value.includes(l)?g.value=g.value.filter(a=>a!==l):g.value.push(l)}function Pe(l){return F.value.length?F.value.find(t=>t.name===l)||(e.value.debug&&console.warn('VueUiHistoryPlot - Series name not found "'.concat(l,'"')),null):(e.value.debug&&console.warn("VueUiHistoryPlot - There are no series to show."),null)}function Dl(l){const a=Pe(l);a!==null&&g.value.includes(a.seriesIndex)&&J(a.seriesIndex)}function El(l){const a=Pe(l);a!==null&&(g.value.includes(a.seriesIndex)||J(a.seriesIndex))}const he=d(()=>F.value.map(l=>({...l,opacity:g.value.includes(l.seriesIndex)?.5:1,segregate:()=>J(l.seriesIndex),isSegregated:g.value.includes(l.seriesIndex),shape:"circle"}))),Bl=d(()=>({cy:"history-plot-div-legend",backgroundColor:e.value.style.chart.legend.backgroundColor,color:e.value.style.chart.legend.color,fontSize:e.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:e.value.style.chart.legend.bold?"bold":""}));function Ol({datapoint:l,plotIndex:a,seriesIndex:t}){e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:{...l,plotIndex:a,seriesIndex:t},seriesIndex:t}),Le("selectDatapoint",l)}function Re(l){Le("selectLegend",{...l,isSegregated:!l.isSegregated,opacity:l.isSegregated?1:.5})}function Xe(l){V.value=l,we.value+=1}const ye=v(null);function Nl({datapoint:l,plotIndex:a,seriesIndex:t}){e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:{...l,plotIndex:a,seriesIndex:t},seriesIndex:t}),ae.value=!1,A.value=null}function Pl({datapoint:l,plotIndex:a,seriesIndex:t}){e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:{...l,plotIndex:a,seriesIndex:t},seriesIndex:t}),ye.value={datapoint:l,seriesIndex:t,plotIndex:a,config:e.value,series:F.value},A.value=l;const n=e.value.style.chart.tooltip.customFormat;if(W.value=!1,pt(n))try{const o=n({seriesIndex:t,datapoint:l,plotIndex:a,series:F.value,config:e.value});typeof o=="string"&&(oe.value=o,W.value=!0)}catch(o){console.warn("Custom format cannot be applied."),W.value=!1}if(!W.value){let o="";o+='<div style="display:flex;flex-direction:row;gap:6px;align-items:center;border-bottom:1px solid '.concat(e.value.style.chart.tooltip.borderColor,';margin-bottom:3px;padding-bottom:6px;"><svg viewBox="0 0 12 12" height="14" width="14"><circle cx="6" cy="6" r="6" stroke="none" fill="').concat(l.color,'"/></svg><span>').concat(l.seriesName,"</span></div>"),o+="<div>".concat(l.label,"</div>"),o+="<div>".concat(e.value.style.chart.axes.x.name.text||"x",": ").concat(Y(e.value.style.chart.axes.x.labels.formatter,l.valueX,j({p:e.value.style.chart.axes.x.labels.prefix,v:l.valueX,s:e.value.style.chart.axes.x.labels.suffix,r:e.value.style.chart.axes.x.labels.rounding})),"</div>"),o+="<div>".concat(e.value.style.chart.axes.y.name.text||"y",": ").concat(Y(e.value.style.chart.axes.y.labels.formatter,l.valueY,j({p:e.value.style.chart.axes.y.labels.prefix,v:l.valueY,s:e.value.style.chart.axes.y.labels.suffix,r:e.value.style.chart.axes.y.labels.rounding})),"</div>"),oe.value="<div>".concat(o,"</div>")}ae.value=!0}d(()=>({head:N.value.map(l=>({name:l.name,color:l.color}))}));const Z=d(()=>{const l=[e.value.table.columnNames.series,e.value.table.columnNames.datapoint,e.value.table.columnNames.x,e.value.table.columnNames.y],a=N.value.flatMap(n=>n.plots.map(o=>[{color:o.color,name:o.seriesName},o.label,Y(e.value.style.chart.axes.x.labels.formatter,o.valueX,j({p:e.value.style.chart.axes.x.labels.prefix,v:o.valueX,s:e.value.style.chart.axes.x.labels.suffix,r:e.value.style.chart.axes.x.labels.rounding})),Y(e.value.style.chart.axes.y.labels.formatter,o.valueY,j({p:e.value.style.chart.axes.y.labels.prefix,v:o.valueY,s:e.value.style.chart.axes.y.labels.suffix,r:e.value.style.chart.axes.y.labels.rounding}))])),t={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint};return{head:l,body:a,config:t,colNames:l}});function xe(l=null){tt(()=>{const a=[[e.value.table.columnNames.series],[e.value.table.columnNames.datapoint],[e.value.table.columnNames.x],[e.value.table.columnNames.y]],t=N.value.flatMap(L=>L.plots.map(K=>[[K.seriesName],[K.label],[K.valueX],[K.valueY]])),n=[[e.value.style.chart.title.text],[e.value.style.chart.title.subtitle.text],a].concat(t),o=yt(n);l?l(o):xt({csvContent:o,title:e.value.style.chart.title.text||"vue-ui-history-plot"})})}const Q=v(!1);function pe(){Q.value=!Q.value}function Ye(){C.value.showTable=!C.value.showTable}function je(){C.value.showTooltip=!C.value.showTooltip}function Rl(){return N.value}async function Xl({scale:l=2}={}){if(!S.value)return;const{width:a,height:t}=S.value.getBoundingClientRect(),n=a/t,{imageUri:o,base64:L}=await Ft({domElement:S.value,base64:!0,img:!0,scale:l});return{imageUri:o,base64:L,title:e.value.style.chart.title.text,width:a,height:t,aspectRatio:n}}const Yl=d(()=>b.value.tickX),jl=d(()=>({start:0,end:b.value.tickX.length}));_t({timeLabelsEls:G,timeLabels:Yl,slicer:jl,configRef:e,rotationPath:["style","chart","axes","x","labels","rotation"],autoRotatePath:["style","chart","axes","x","labels","autoRotate","enable"],isAutoSize:!1,width:wl,height:$l,targetClass:".vue-ui-history-plot-x-axis-scale",rotation:e.value.style.chart.axes.x.labels.autoRotate.angle});const H=d(()=>{const l=e.value.table.useDialog&&!e.value.table.show,a=C.value.showTable;return{component:l?fl:dl,title:"".concat(e.value.style.chart.title.text).concat(e.value.style.chart.title.subtitle.text?": ".concat(e.value.style.chart.title.subtitle.text):""),props:l?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:V.value,fullscreenParent:S.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:a,maxHeight:1e4,body:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color},head:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color}}}}});ee(()=>C.value.showTable,l=>{e.value.table.show||(l&&e.value.table.useDialog&&U.value?U.value.open():"close"in U.value&&U.value.close())});function Ve(){C.value.showTable=!1,se.value&&se.value.setTableIconState(!1)}const Vl=d(()=>e.value.style.chart.backgroundColor),Wl=d(()=>e.value.style.chart.legend),Ul=d(()=>e.value.style.chart.title),{exportSvg:Hl,getSvg:Gl}=Ct({svg:de,title:Ul,legend:Wl,legendItems:he,backgroundColor:Vl});async function We({isCb:l}){if(l){const{blob:a,url:t,text:n,dataUrl:o}=await Gl();e.value.userOptions.callbacks.svg({blob:a,url:t,text:n,dataUrl:o})}else Hl()}return nl({getData:Rl,getImage:Xl,generatePdf:Ee,generateCsv:xe,generateImage:Be,generateSvg:We,hideSeries:El,showSeries:Dl,toggleTable:Ye,toggleTooltip:je,toggleAnnotator:pe,toggleFullscreen:Xe}),(l,a)=>(s(),r("div",{id:"history_plot_".concat(T.value),ref_key:"historyPlotChart",ref:S,class:P({"vue-data-ui-component":!0,"vue-ui-history-plot":!0,"vue-data-ui-wrapper-fullscreen":V.value}),style:I("background:".concat(e.value.style.chart.backgroundColor,";color:").concat(e.value.style.chart.color,";font-family:").concat(e.value.style.fontFamily,"; position: relative; ").concat(e.value.responsive?"height: 100%":"")),onMouseenter:a[2]||(a[2]=()=>u(Te)(!0)),onMouseleave:a[3]||(a[3]=()=>u(Te)(!1))},[x(l.$slots,"userConfig",{},void 0,!0),e.value.userOptions.buttons.annotator?(s(),B(u(yl),{key:0,svgRef:u(de),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,active:Q.value,onClose:pe},{"annotator-action-close":p(()=>[x(l.$slots,"annotator-action-close",{},void 0,!0)]),"annotator-action-color":p(({color:t})=>[x(l.$slots,"annotator-action-color",$(_({color:t})),void 0,!0)]),"annotator-action-draw":p(({mode:t})=>[x(l.$slots,"annotator-action-draw",$(_({mode:t})),void 0,!0)]),"annotator-action-undo":p(({disabled:t})=>[x(l.$slots,"annotator-action-undo",$(_({disabled:t})),void 0,!0)]),"annotator-action-redo":p(({disabled:t})=>[x(l.$slots,"annotator-action-redo",$(_({disabled:t})),void 0,!0)]),"annotator-action-delete":p(({disabled:t})=>[x(l.$slots,"annotator-action-delete",$(_({disabled:t})),void 0,!0)]),_:3},8,["svgRef","backgroundColor","color","active"])):h("",!0),Cl.value?(s(),r("div",{key:1,ref_key:"noTitle",ref:$e,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):h("",!0),e.value.style.chart.title.text?(s(),r("div",{key:2,ref_key:"chartTitle",ref:ge,class:"vue-ui-xy-title",style:I("font-family:".concat(e.value.style.fontFamily))},[(s(),B(Lt,{key:"title_".concat(me.value),config:{title:{cy:"history-plot-div-title",...e.value.style.chart.title},subtitle:{cy:"history-plot-div-subtitle",...e.value.style.chart.title.subtitle}}},null,8,["config"]))],4)):h("",!0),w("div",{id:"legend-top-".concat(T.value)},null,8,Tt),e.value.userOptions.show&&q.value&&(u(ze)||u(ve))?(s(),B(u(xl),{ref_key:"userOptionsRef",ref:se,key:"user_option_".concat(we.value),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isPrinting:u(Me),isImaging:u(De),uid:T.value,hasTooltip:e.value.style.chart.tooltip.show&&e.value.userOptions.buttons.tooltip,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasXls:e.value.userOptions.buttons.csv,hasTable:e.value.userOptions.buttons.table,hasLabel:!1,hasFullscreen:e.value.userOptions.buttons.fullscreen,isFullscreen:V.value,chartElement:S.value,position:e.value.userOptions.position,isTooltip:C.value.showTooltip,titles:{...e.value.userOptions.buttonTitles},hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:Q.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:Xe,onGeneratePdf:u(Ee),onGenerateCsv:xe,onGenerateImage:u(Be),onGenerateSvg:We,onToggleTable:Ye,onToggleTooltip:je,onToggleAnnotator:pe,style:I({visibility:u(ze)?u(ve)?"visible":"hidden":"visible"})},He({_:2},[l.$slots.menuIcon?{name:"menuIcon",fn:p(({isOpen:t,color:n})=>[x(l.$slots,"menuIcon",$(_({isOpen:t,color:n})),void 0,!0)]),key:"0"}:void 0,l.$slots.optionTooltip?{name:"optionTooltip",fn:p(()=>[x(l.$slots,"optionTooltip",{},void 0,!0)]),key:"1"}:void 0,l.$slots.optionPdf?{name:"optionPdf",fn:p(()=>[x(l.$slots,"optionPdf",{},void 0,!0)]),key:"2"}:void 0,l.$slots.optionCsv?{name:"optionCsv",fn:p(()=>[x(l.$slots,"optionCsv",{},void 0,!0)]),key:"3"}:void 0,l.$slots.optionImg?{name:"optionImg",fn:p(()=>[x(l.$slots,"optionImg",{},void 0,!0)]),key:"4"}:void 0,l.$slots.optionSvg?{name:"optionSvg",fn:p(()=>[x(l.$slots,"optionSvg",{},void 0,!0)]),key:"5"}:void 0,l.$slots.optionTable?{name:"optionTable",fn:p(()=>[x(l.$slots,"optionTable",{},void 0,!0)]),key:"6"}:void 0,l.$slots.optionFullscreen?{name:"optionFullscreen",fn:p(({toggleFullscreen:t,isFullscreen:n})=>[x(l.$slots,"optionFullscreen",$(_({toggleFullscreen:t,isFullscreen:n})),void 0,!0)]),key:"7"}:void 0,l.$slots.optionAnnotator?{name:"optionAnnotator",fn:p(({toggleAnnotator:t,isAnnotator:n})=>[x(l.$slots,"optionAnnotator",$(_({toggleAnnotator:t,isAnnotator:n})),void 0,!0)]),key:"8"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasTooltip","hasPdf","hasImg","hasSvg","hasXls","hasTable","hasFullscreen","isFullscreen","chartElement","position","isTooltip","titles","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):h("",!0),(s(),r("svg",{ref_key:"svgRef",ref:de,xmlns:u(nt),viewBox:"0 0 ".concat(f.value.width<0?.1:f.value.width," ").concat(f.value.height<0?.1:f.value.height),style:I("max-width:100%;overflow:visible;background:transparent;color:".concat(e.value.style.chart.color))},[fe(u(pl)),l.$slots["chart-background"]?(s(),r("foreignObject",{key:0,x:c.value.left,y:c.value.top,width:c.value.width<=0?10:c.value.width,height:c.value.height<=0?10:c.value.height,style:{pointerEvents:"none"}},[x(l.$slots,"chart-background",{},void 0,!0)],8,Mt)):h("",!0),e.value.style.chart.plots.gradient.show?(s(),r("defs",Dt,[(s(!0),r(m,null,k(N.value,(t,n)=>(s(),r("radialGradient",{id:"gradient_".concat(n,"_").concat(T.value),fy:"30%"},[w("stop",{offset:"10%","stop-color":u(ut)(t.color,e.value.style.chart.plots.gradient.intensity/100)},null,8,Bt),w("stop",{offset:"90%","stop-color":u(ct)(t.color,.1)},null,8,Ot),w("stop",{offset:"100%","stop-color":t.color},null,8,Nt)],8,Et))),256))])):h("",!0),e.value.style.chart.grid.verticalLines.show?(s(),r("g",Pt,[(s(!0),r(m,null,k(b.value.tickX,t=>(s(),r("line",{x1:t.x,x2:t.x,y1:t.y1,y2:t.y2,stroke:e.value.style.chart.grid.verticalLines.stroke,"stroke-width":e.value.style.chart.grid.verticalLines.strokeWidth,"stroke-linecap":"round"},null,8,Rt))),256))])):h("",!0),e.value.style.chart.axes.y.labels.show?(s(),r("g",Xt,[(s(!0),r(m,null,k(b.value.tickY,t=>(s(),r("line",{stroke:e.value.style.chart.grid.verticalLines.stroke,"stroke-width":e.value.style.chart.grid.verticalLines.strokeWidth,"stroke-linecap":"round",x1:c.value.left-5,x2:c.value.left,y1:t.y,y2:t.y},null,8,Yt))),256))])):h("",!0),e.value.style.chart.axes.y.labels.show?(s(),r("g",{key:4,ref_key:"yAxisScales",ref:ne},[(s(!0),r(m,null,k(b.value.tickY,t=>(s(),r("text",{x:c.value.left+e.value.style.chart.axes.y.labels.offsetX-4-e.value.style.chart.plots.radius,y:t.y+i.value.yAxisLabels/3,fill:e.value.style.chart.axes.y.labels.color,"font-size":i.value.yAxisLabels,"text-anchor":"end"},z(u(Y)(e.value.style.chart.axes.y.labels.formatter,t.value,u(j)({p:e.value.style.chart.axes.y.labels.prefix,v:t.value,s:e.value.style.chart.axes.y.labels.suffix,r:e.value.style.chart.axes.y.labels.rounding}))),9,jt))),256))],512)):h("",!0),e.value.style.chart.axes.y.name.text?(s(),r("text",{key:5,ref_key:"yAxisLabel",ref:ie,transform:"translate(".concat(i.value.yAxisName,", ").concat(f.value.height/2+e.value.style.chart.axes.y.name.offsetY,"), rotate(-90)"),"font-size":i.value.yAxisName,fill:e.value.style.chart.axes.y.name.color,"font-weight":e.value.style.chart.axes.y.name.bold?"bold":"normal","text-anchor":"middle"},z(e.value.style.chart.axes.y.name.text),9,Vt)):h("",!0),e.value.style.chart.grid.horizontalLines.show?(s(),r("g",Wt,[(s(!0),r(m,null,k(b.value.tickY,t=>(s(),r("line",{x1:t.x1,x2:t.x2,y1:t.y,y2:t.y,stroke:e.value.style.chart.grid.horizontalLines.stroke,"stroke-width":e.value.style.chart.grid.horizontalLines.strokeWidth,"stroke-linecap":"round"},null,8,Ut))),256))])):h("",!0),e.value.style.chart.axes.x.labels.show?(s(),r("g",Ht,[(s(!0),r(m,null,k(b.value.tickX,t=>(s(),r("line",{stroke:e.value.style.chart.grid.verticalLines.stroke,"stroke-width":e.value.style.chart.grid.verticalLines.strokeWidth,"stroke-linecap":"round",x1:t.x,x2:t.x,y1:c.value.bottom,y2:c.value.bottom+5},null,8,Gt))),256))])):h("",!0),e.value.style.chart.axes.x.labels.show?(s(),r("g",{key:8,ref_key:"xAxisScales",ref:G},[(s(!0),r(m,null,k(b.value.tickX,t=>(s(),r("text",{class:"vue-ui-history-plot-x-axis-scale",transform:"translate(".concat(t.x,", ").concat(c.value.bottom+e.value.style.chart.axes.x.labels.offsetY+i.value.xAxisLabels+e.value.style.chart.plots.radius,"), rotate(").concat(e.value.style.chart.axes.x.labels.rotation,")"),fill:e.value.style.chart.axes.x.labels.color,"font-size":i.value.xAxisLabels,"text-anchor":e.value.style.chart.axes.x.labels.rotation>0?"start":e.value.style.chart.axes.x.labels.rotation<0?"end":"middle"},z(u(Y)(e.value.style.chart.axes.x.labels.formatter,t.value,u(j)({p:e.value.style.chart.axes.x.labels.prefix,v:t.value,s:e.value.style.chart.axes.x.labels.suffix,r:e.value.style.chart.axes.x.labels.rounding}))),9,qt))),256))],512)):h("",!0),e.value.style.chart.axes.x.name.text?(s(),r("text",{key:9,ref_key:"xAxisLabel",ref:re,x:f.value.width/2+e.value.style.chart.axes.x.name.offsetX,y:f.value.height,"font-size":i.value.xAxisName,fill:e.value.style.chart.axes.x.name.color,"font-weight":e.value.style.chart.axes.x.name.bold?"bold":"normal","text-anchor":"middle"},z(e.value.style.chart.axes.x.name.text),9,Jt)):h("",!0),e.value.style.chart.grid.xAxis.show?(s(),r("line",{key:10,x1:c.value.left,x2:c.value.left+c.value.width,y1:c.value.bottom,y2:c.value.bottom,stroke:e.value.style.chart.grid.xAxis.stroke,"stroke-width":e.value.style.chart.grid.xAxis.strokeWidth,"stroke-linecap":"round"},null,8,Zt)):h("",!0),e.value.style.chart.grid.yAxis.show?(s(),r("line",{key:11,x1:c.value.left,x2:c.value.left,y1:c.value.top,y2:c.value.bottom,stroke:e.value.style.chart.grid.yAxis.stroke,"stroke-width":e.value.style.chart.grid.yAxis.strokeWidth,"stroke-linecap":"round"},null,8,Qt)):h("",!0),(s(!0),r(m,null,k(N.value,(t,n)=>(s(),r("g",null,[e.value.style.chart.paths.show?(s(),r("g",{key:0,style:I({opacity:A.value===null?1:.3})},[w("path",{d:t.path,stroke:e.value.style.chart.backgroundColor,"stroke-width":e.value.style.chart.paths.strokeWidth+4,fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:P({animated:e.value.useCssAnimation&&!u(D)})},null,10,Kt),w("path",{d:t.path,stroke:e.value.style.chart.paths.useSerieColor?t.color:e.value.style.chart.paths.stroke,"stroke-width":e.value.style.chart.paths.strokeWidth,fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:P({animated:e.value.useCssAnimation&&!u(D)})},null,10,ea)],4)):h("",!0),(s(!0),r(m,null,k(t.plots,o=>(s(),r("circle",{cx:o.x,cy:o.y,fill:e.value.style.chart.backgroundColor,r:i.value.plots,stroke:"none"},null,8,la))),256)),(s(!0),r(m,null,k(t.plots,o=>(s(),r("circle",{cx:o.x,cy:o.y,fill:e.value.style.chart.plots.gradient.show?"url(#gradient_".concat(n,"_").concat(T.value,")"):o.color,r:i.value.plots,stroke:e.value.style.chart.plots.stroke,"stroke-width":e.value.style.chart.plots.strokeWidth,class:P({animated:e.value.useCssAnimation&&!u(D)}),style:I({opacity:A.value===null||A.value.id===o.id?1:.3,transition:"opacity 0.2s ease-in-out"})},null,14,ta))),256)),e.value.style.chart.plots.labels.show?(s(),r("g",aa,[(s(!0),r(m,null,k(t.plots,o=>(s(),r("g",null,[String(o.label).includes("\n")?(s(),r("text",{key:1,x:o.x+e.value.style.chart.plots.labels.offsetX,y:o.y+e.value.style.chart.plots.labels.offsetY+i.value.plots+i.value.labels,"font-size":i.value.labels,fill:e.value.style.chart.plots.labels.color,"font-weight":e.value.style.chart.plots.labels.bold?"bold":"normal","text-anchor":"middle",class:P({animated:e.value.useCssAnimation&&!u(D)}),style:I({opacity:A.value===null||A.value.id===o.id?1:.3,transition:"opacity 0.2s ease-in-out"}),innerHTML:u(vt)({content:String(o.label),fontSize:i.value.labels,fill:e.value.style.chart.plots.labels.color,x:o.x+e.value.style.chart.plots.labels.offsetX,y:o.y+e.value.style.chart.plots.labels.offsetY+i.value.plots+i.value.labels})},null,14,sa)):(s(),r("text",{key:0,x:o.x+e.value.style.chart.plots.labels.offsetX,y:o.y+e.value.style.chart.plots.labels.offsetY+i.value.plots+i.value.labels,"font-size":i.value.labels,fill:e.value.style.chart.plots.labels.color,"font-weight":e.value.style.chart.plots.labels.bold?"bold":"normal","text-anchor":"middle",class:P({animated:e.value.useCssAnimation&&!u(D)}),style:I({opacity:A.value===null||A.value.id===o.id?1:.3,transition:"opacity 0.2s ease-in-out"})},z(o.label),15,oa))]))),256))])):h("",!0),e.value.style.chart.plots.indexLabels.show?(s(),r("g",ra,[(s(!0),r(m,null,k(t.plots,(o,L)=>(s(),r("text",{x:o.x+e.value.style.chart.plots.indexLabels.offsetX,y:o.y+e.value.style.chart.plots.indexLabels.offsetY+i.value.indexLabels/3,"font-size":i.value.indexLabels,"font-weight":e.value.style.chart.plots.indexLabels.bold?"bold":"normal",fill:e.value.style.chart.plots.indexLabels.adaptColorToBackground?u(dt)(t.color):e.value.style.chart.plots.indexLabels.color,"text-anchor":"middle",class:P({animated:e.value.useCssAnimation&&!u(D)}),style:I({opacity:A.value===null||A.value.id===o.id?1:.3,transition:"opacity 0.2s ease-in-out"})},z(e.value.style.chart.plots.indexLabels.startAtZero?L:L+1),15,ia))),256))])):h("",!0)]))),256)),(s(!0),r(m,null,k(N.value,t=>(s(),r("g",null,[(s(!0),r(m,null,k(t.plots,(n,o)=>(s(),r("circle",{cx:n.x,cy:n.y,fill:"transparent",r:i.value.plots,stroke:"none",onMouseenter:L=>Pl({datapoint:n,plotIndex:o,seriesIndex:t.seriesIndex}),onMouseleave:L=>Nl({datapoint:n,plotIndex:o,seriesIndex:t.seriesIndex}),onClick:L=>Ol({datapoint:n,plotIndex:o,seriesIndex:t.seriesIndex})},null,40,na))),256))]))),256)),x(l.$slots,"svg",{svg:f.value},void 0,!0)],12,zt)),l.$slots.watermark?(s(),r("div",ua,[x(l.$slots,"watermark",$(_({isPrinting:u(Me)||u(De)})),void 0,!0)])):h("",!0),w("div",{id:"legend-bottom-".concat(T.value)},null,8,ca),Fe.value?(s(),B(Kl,{key:5,to:e.value.style.chart.legend.position==="top"?"#legend-top-".concat(T.value):"#legend-bottom-".concat(T.value)},[w("div",{ref_key:"chartLegend",ref:ke},[e.value.style.chart.legend.show&&q.value?(s(),B(It,{key:"legend_".concat(Ce.value),legendSet:he.value,config:Bl.value,onClickMarker:a[0]||(a[0]=({legend:t})=>{J(t.seriesIndex),Re(t)})},{item:p(({legend:t,index:n})=>[w("div",{onClick:o=>{t.segregate(),Re(t)},style:I("opacity:".concat(g.value.includes(t.seriesIndex)?.5:1))},z(t.name),13,va)]),_:1},8,["legendSet","config"])):x(l.$slots,"legend",{key:1,legend:he.value},void 0,!0)],512)],8,["to"])):h("",!0),l.$slots.source?(s(),r("div",{key:6,ref_key:"source",ref:_e,dir:"auto"},[x(l.$slots,"source",{},void 0,!0)],512)):h("",!0),fe(u(cl),{show:C.value.showTooltip&&ae.value,backgroundColor:e.value.style.chart.tooltip.backgroundColor,color:e.value.style.chart.tooltip.color,fontSize:e.value.style.chart.tooltip.fontSize,borderRadius:e.value.style.chart.tooltip.borderRadius,borderColor:e.value.style.chart.tooltip.borderColor,borderWidth:e.value.style.chart.tooltip.borderWidth,backgroundOpacity:e.value.style.chart.tooltip.backgroundOpacity,position:e.value.style.chart.tooltip.position,offsetY:e.value.style.chart.tooltip.offsetY,parent:S.value,content:oe.value,isCustom:W.value,isFullscreen:V.value,smooth:e.value.style.chart.tooltip.smooth,backdropFilter:e.value.style.chart.tooltip.backdropFilter,smoothForce:e.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:e.value.style.chart.tooltip.smoothSnapThreshold},{"tooltip-before":p(()=>[x(l.$slots,"tooltip-before",$(_({...ye.value})),void 0,!0)]),"tooltip-after":p(()=>[x(l.$slots,"tooltip-after",$(_({...ye.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","fontSize","borderRadius","borderColor","borderWidth","backgroundOpacity","position","offsetY","parent","content","isCustom","isFullscreen","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),q.value&&e.value.userOptions.buttons.table?(s(),B(lt(H.value.component),et({key:7},H.value.props,{ref_key:"tableUnit",ref:U,onClose:Ve}),He({content:p(()=>[(s(),B(u(hl),{key:"table_".concat(Ae.value),colNames:Z.value.colNames,head:Z.value.head,body:Z.value.body,config:Z.value.config,title:e.value.table.useDialog?"":H.value.title,withCloseButton:!e.value.table.useDialog,onClose:Ve},{th:p(({th:t})=>[w("div",{innerHTML:t,style:{display:"flex","align-items":"center"}},null,8,da)]),td:p(({td:t})=>[Ge(z(t.name||t),1)]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))]),_:2},[e.value.table.useDialog?{name:"title",fn:p(()=>[Ge(z(H.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:p(()=>[w("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:a[1]||(a[1]=t=>xe(e.value.userOptions.callbacks.csv))},[fe(u(vl),{name:"excel",stroke:H.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):h("",!0),u(D)?(s(),B(mt,{key:8})):h("",!0)],46,St))}},ya=at(ha,[["__scopeId","data-v-64d73bdd"]]),Ma=Object.freeze(Object.defineProperty({__proto__:null,default:ya},Symbol.toStringTag,{value:"Module"}));export{za as a,Ma as b,ya as v};
