
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Tooltip-D0pGX8qz-BS2YwyOE.js","./vue-data-ui-8Gmf-dDN.js","./index-CJB5jCfL.js","./index-D6D_bXIl.css","./alert-I_0TAljB.js","./vue-data-ui-C46fMXq5.css","./PenAndPaper--ADXtx65-ugytqLuo.js","./ColorPicker-BYn8PF2Z-DkxHqz9_.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-Cy-iNhZU-CnpDVImt.js","./img-CqYIrJ8I-E54QgU9o.js","./dom-to-png-WXGPkYro-BQsfl1t5.js","./PackageVersion-By5ZZJ0U-Cc8IPeAX.js","./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"])))=>i.map(i=>d[i]);
import{c0 as kl,ac as xl,J as c,e as i,a8 as $l,K as te,aw as wl,E as De,c1 as oe,c as n,o as r,z as K,A as f,r as y,g as re,h as p,j as P,k as V,u as s,c3 as fe,O as g,f as u,t as m,n as Q,F as O,R as D,m as ka,l as xa,Y as _l,N as Al,aa as Me,c4 as ue}from"./index-CJB5jCfL.js";import{s as Ll,J as Tl,x as Sl,v as Fl,o as Z,N as Ne,$ as zl,A as ve,E as Be,c as F,u as Re,L as ce,F as G,d as El,w as Xe,X as Il,Y as je,a7 as Pl,e as Vl,f as Ol,g as Dl,p as Ml}from"./vue-data-ui-8Gmf-dDN.js";import{E as Nl,M as Bl}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{s as Rl,i as Ue}from"./useNestedProp-DaR1dBmj-yWXLkJlG.js";import{T as Xl,j as jl}from"./BaseScanner-BMpwQAfz-mc47WWxo.js";import{m as Ul}from"./usePrinter-ChVMpU2f-B27PF0nl.js";import{O as Gl}from"./useSvgExport-ByUukOZt-XO0OK7cR.js";import{i as Hl}from"./useThemeCheck-DGJ31Vi5-GRZcYzX8.js";import{w as Wl}from"./useTableResponsive-Cbx-ACcP-N4cIDcbC.js";import{a as Yl}from"./useUserOptionState-BIvW1Kz7-D70wY835.js";import{o as ql}from"./useChartAccessibility-9icAAmYg-CuAxjhEs.js";import $a from"./Legend-D2xmnFPH-CItLelVI.js";import Jl from"./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js";import Kl from"./Title-D0nD-PMs-DAiwElB_.js";import{b as wa}from"./Shape-12_eh8zD-Cy1mu6XW.js";import Ql from"./img-CqYIrJ8I-E54QgU9o.js";import"./alert-I_0TAljB.js";import"./dom-to-png-WXGPkYro-BQsfl1t5.js";const _a={style:{chart:{backgroundColor:"#1A1A1A",color:"#CCCCCC",layout:{separators:{color:"#4A4A4A"},bars:{dataLabels:{color:"#CCCCCC"},nameLabels:{color:"#CCCCCC"},parentLabels:{color:"#CCCCCC"}},highlighter:{color:"#CCCCCC"}},legend:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},title:{color:"#CCCCCC",subtitle:{color:"#757575"}},tooltip:{backgroundColor:"#1A1A1A",backgroundOpacity:70,color:"#CCCCCC",borderColor:"#5A5A5A"}}},table:{th:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},td:{backgroundColor:"#1A1A1A",color:"#CCCCCC"}}},Aa={style:{chart:{backgroundColor:"#FFF8E1",color:"#424242",layout:{bars:{borderRadius:0,useGradient:!1,dataLabels:{color:"#424242"},nameLabels:{color:"#424242"},parentLabels:{color:"#424242"}},highlighter:{color:"#FF8A65"},separators:{show:!1}},legend:{backgroundColor:"#FFF8E1",color:"#424242"},title:{color:"#424242",subtitle:{color:"#757575"}},tooltip:{backgroundColor:"#FFECB3",backgroundOpacity:30,color:"#424242",borderColor:"#FF8A65"}}},table:{th:{backgroundColor:"#FFF8E1",color:"#424242"},td:{backgroundColor:"#FFF8E1",color:"#424242"}}},La={style:{chart:{backgroundColor:"#1E1E1E",color:"#BDBDBD",layout:{bars:{borderRadius:0,useGradient:!1,dataLabels:{color:"#BDBDBD"},nameLabels:{color:"#BDBDBD"},parentLabels:{color:"#FFF8E1"}},highlighter:{color:"#FF8A65"},separators:{show:!1}},legend:{backgroundColor:"#1E1E1E",color:"#BDBDBD"},title:{color:"#FFF8E1",subtitle:{color:"#BDBDBD"}},tooltip:{backgroundColor:"#1E1E1E",backgroundOpacity:30,color:"#FFF8E1",borderColor:"#FF8A65"}}},table:{th:{backgroundColor:"#1E1E1E",color:"#BDBDBD"},td:{backgroundColor:"#1E1E1E",color:"#BDBDBD"}}},Ta={style:{chart:{backgroundColor:"#1A1A1A",color:"#99AA99",layout:{bars:{borderRadius:0,useGradient:!1,dataLabels:{color:"#AACCAA"},nameLabels:{color:"#99CC99"},parentLabels:{color:"#99CC99"}},highlighter:{color:"#66CC66"},separators:{show:!1}},legend:{backgroundColor:"#1A1A1A",color:"#99AA99"},title:{color:"#66CC66",subtitle:{color:"#99AA99"}},tooltip:{backgroundColor:"#2A2F2A",color:"#AACCAA",borderColor:"#66CC66"}}},table:{th:{backgroundColor:"#1A1A1A",color:"#99AA99"},td:{backgroundColor:"#1A1A1A",color:"#AACCAA"}}},Sa={style:{chart:{backgroundColor:"#fbfafa",color:"#8A9892",layout:{bars:{borderRadius:8,useGradient:!0,dataLabels:{color:"#A0AC94"},nameLabels:{color:"#8A9892"},parentLabels:{color:"#8A9892"}},highlighter:{color:"#8F837A"},separators:{show:!1}},legend:{backgroundColor:"#fbfafa",color:"#99AA99"},title:{color:"#8A9892",subtitle:{color:"#99AA99"}},tooltip:{backgroundColor:"#fbfafa",color:"#8A9892"}}},table:{th:{backgroundColor:"#fbfafa",color:"#8F837A"},td:{backgroundColor:"#fbfafa",color:"#8F837A"}}},Fa={style:{chart:{backgroundColor:"#f6f6fb",color:"#50606C",layout:{bars:{borderRadius:0,useGradient:!0,dataLabels:{color:"#61747E"},nameLabels:{color:"#8A9892"},parentLabels:{color:"#8A9892"}},highlighter:{color:"#50606C"},separators:{show:!0,color:"#DEE1DE"}},legend:{backgroundColor:"#f6f6fb",color:"#61747E"},title:{color:"#50606C",subtitle:{color:"#718890"}},tooltip:{backgroundColor:"#f6f6fb",color:"#50606C"}}},table:{th:{backgroundColor:"#f6f6fb",color:"#50606C"},td:{backgroundColor:"#f6f6fb",color:"#50606C"}}},za={default:{},dark:_a,celebration:Aa,celebrationNight:La,hack:Ta,zen:Sa,concrete:Fa},io=Object.freeze(Object.defineProperty({__proto__:null,celebration:Aa,celebrationNight:La,concrete:Fa,dark:_a,default:za,hack:Ta,zen:Sa},Symbol.toStringTag,{value:"Module"})),Zl=["id"],et=["onClick"],at=["xmlns","viewBox"],lt=["width","height"],tt=["id"],ot=["stop-color"],rt=["stop-color"],ut={key:1},nt=["x","y","width","height","fill","rx"],st=["x","y","width","height","fill","rx","stroke","stroke-width"],it=["x","y","width","height","fill","rx","stroke","stroke-width"],vt=["x1","x2","y1","y2","stroke","stroke-width"],ct=["x1","x2","y1","y2","stroke","stroke-width"],dt={class:"vue-ui-horizontal-bar-parent-label"},ht=["y","height","width","fill"],bt=["y","font-size","fill","x","font-weight","innerHTML"],pt=["y","font-size","fill","x","font-weight"],gt={class:"vue-ui-horizontal-bar-child-label"},yt=["x","y","font-size","font-weight","innerHTML"],ft={class:"vue-ui-horizontal-bar-child-label"},mt=["x","y","font-size","fill","font-weight","innerHTML"],Ct={class:"vue-ui-horizontal-bar-child-label"},kt=["x","y","text-anchor","font-size","fill","font-weight"],xt=["y","width","height","fill","onMouseenter","onMouseleave","onClick"],$t={key:5,class:"vue-data-ui-watermark"},wt=["onClick"],_t={style:"width:100%;padding-top: 36px;position:relative"},At={class:"vue-ui-data-table"},Lt={key:0},Tt={style:{width:"100%"}},St=["data-cell"],Ft={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},zt=["data-cell"],Et={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},It=["data-cell"],Pt={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},Vt=["data-cell"],Ot={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},Dt=["data-cell"],Mt={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},Nt=["data-cell"],Bt={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},Rt=["data-cell"],Xt={style:{display:"flex","align-items":"center",gap:"5px","justify-content":"flex-end",width:"100%","padding-right":"3px"}},jt={__name:"vue-ui-horizontal-bar",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:["selectLegend"],setup(Ea,{expose:Ia,emit:Pa}){kl(a=>({v48241b92:a.tdo}));const Va=oe(()=>ue(()=>import("./Tooltip-D0pGX8qz-BS2YwyOE.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),Ge=oe(()=>ue(()=>import("./vue-data-ui-8Gmf-dDN.js").then(a=>a.aA),__vite__mapDeps([1,2,3,4,5]),import.meta.url)),Oa=oe(()=>ue(()=>import("./PenAndPaper--ADXtx65-ugytqLuo.js"),__vite__mapDeps([6,2,3,1,4,5,7,8]),import.meta.url)),Da=oe(()=>ue(()=>import("./UserOptions-Cy-iNhZU-CnpDVImt.js"),__vite__mapDeps([9,2,3,8,1,4,5,10,11]),import.meta.url)),Ma=oe(()=>ue(()=>import("./PackageVersion-By5ZZJ0U-Cc8IPeAX.js"),__vite__mapDeps([12,2,3]),import.meta.url)),Na=oe(()=>ue(()=>import("./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"),__vite__mapDeps([13,2,3,1,4,5]),import.meta.url)),{vue_ui_vertical_bar:Ba}=Rl(),{isThemeValid:Ra,warnInvalidTheme:Xa}=Hl(),ja=xl(),k=Ea,me=c({get(){return!!k.dataset&&k.dataset.length},set(a){return a}}),z=i(Tl()),Ce=i(!1),ke=i(""),Ua=i(null),He=i(0),M=i(null),We=i(null),xe=i(null),Ye=i(null),qe=i(null),Je=i(0),$e=i(0),Ga=i(null),ne=i(null),we=i(null),Ha=i(null),_e=i(null),_=i([]),Wa=i({none:0,asc:1,desc:2}),X=i(0),de=i(!1),se=i(0),ee=i(0),Ae=i(null),Ya=Pa,e=i(Fe()),qa=c(()=>[{name:"",value:6,color:"#d9d9d9"},{name:"",value:5,color:"#d9d9d9"},{name:"",value:4,color:"#d9d9d9"},{name:"",value:3,color:"#d9d9d9"},{name:"",value:2,color:"#d9d9d9"},{name:"",value:1,color:"#d9d9d9"}]),{loading:Ke,FINAL_DATASET:Qe,manualLoading:Le}=Xl({...$l(k),FINAL_CONFIG:e,prepareConfig:Fe,callback:()=>{Promise.resolve().then(async()=>{$.value.showTable=e.value.table.show,Za()})},skeletonDataset:qa.value,skeletonConfig:Sl({defaultConfig:e.value,userConfig:{useCssAnimation:!1,userOptions:{show:!1},table:{show:!1},style:{chart:{backgroundColor:"#99999930",layout:{bars:{offsetX:110,dataLabels:{color:"transparent",value:{prefix:"",suffix:"",formatter:null}},nameLabels:{color:"transparent"}},separators:{color:"#7A7A7A"}},legend:{show:!0,backgroundColor:"transparent",color:"transparent",prefix:"",suffix:"",formatter:null},title:{color:"#1A1A1A",subtitle:{color:"#5A5A5A"}}}}}})}),{userOptionsVisible:Te,setUserOptionsVisibility:Ze,keepUserOptionState:ea}=Yl({config:e.value}),{svgRef:Se}=ql({config:e.value.style.chart.title});function Fe(){const a=Ue({userConfig:k.config,defaultConfig:Ba});let t={};const l=a.theme;if(l)if(!Ra.value(a))Xa(a),t=a;else{const o=Ue({userConfig:za[l]||k.config,defaultConfig:a});t={...Ue({userConfig:k.config,defaultConfig:o}),customPalette:a.customPalette.length?a.customPalette:Fl[l]||Z}}else t=a;return k.config&&Ne(k.config,"events.datapointEnter")?t.events.datapointEnter=k.config.events.datapointEnter:t.events.datapointEnter=null,k.config&&Ne(k.config,"events.datapointLeave")?t.events.datapointLeave=k.config.events.datapointLeave:t.events.datapointLeave=null,k.config&&Ne(k.config,"events.datapointClick")?t.events.datapointClick=k.config.events.datapointClick:t.events.datapointClick=null,t}const N=i(e.value.style.chart.width),j=i(e.value.style.chart.height),x=i(e.value.style.chart.layout.bars.gap);te(()=>k.config,a=>{Ke.value||(e.value=Fe()),Te.value=!e.value.userOptions.showOnChartHover,Je.value+=1,$e.value+=1,$.value.showTable=e.value.table.show,$.value.sortDesc=e.value.style.chart.layout.bars.sort==="desc",$.value.showTooltip=e.value.style.chart.tooltip.show,N.value=e.value.style.chart.width,j.value=e.value.style.chart.height,x.value=e.value.style.chart.layout.bars.gap},{deep:!0}),te(()=>k.dataset,a=>{Array.isArray(a)&&a.length>0&&(Le.value=!1)},{deep:!0});const{isPrinting:aa,isImaging:la,generatePdf:ta,generateImage:oa}=Ul({elementId:"vue-ui-vertical-bar_".concat(z.value),fileName:e.value.style.chart.title.text||"vue-ui-vertical-bar",options:e.value.userOptions.print}),Ja=c(()=>e.value.userOptions.show&&!e.value.style.chart.title.text),ra=c(()=>zl(e.value.customPalette)),ua=i(null),Ka=c(()=>e.value.table.responsiveBreakpoint),he=c(()=>!!e.value.debug),Qa=i(0),U=i(null),H=i(null);function Za(){if(M.value&&(Be(k.dataset)&&(ve({componentName:"VueUiVerticalBar",type:"dataset",debug:he.value}),me.value=!1,Le.value=!0),Be(k.dataset)||(Le.value=e.value.loading),e.value.responsive)){const a=Nl(()=>{const{width:t,height:l}=Bl({chart:M.value,title:e.value.style.chart.title.text?We.value:null,legend:e.value.style.chart.legend.show?xe.value:null,source:Ye.value,noTitle:qe.value});Qa.value=l/3,requestAnimationFrame(async()=>{j.value=l,N.value=t})});U.value&&(H.value&&U.value.unobserve(H.value),U.value.disconnect()),U.value=new ResizeObserver(a),Me(()=>{var t;H.value=(t=M.value)==null?void 0:t.parentNode,H.value&&U.value.observe(H.value)})}}wl(()=>{U.value&&(H.value&&U.value.unobserve(H.value),U.value.disconnect())});const $=i({showTable:e.value.table.show,sortDesc:e.value.style.chart.layout.bars.sort==="desc",showTooltip:e.value.style.chart.tooltip.show}),na=c(()=>$.value.sortDesc),E=c(()=>(Qe.value.forEach((a,t)=>{!a.value&&!a.children&&ve({componentName:"VueUiVerticalBar",type:"datasetAttributeEmpty",property:"value (index ".concat(t,")"),debug:he.value}),a.children&&(Be(a.children)?ve({componentName:"VueUiVerticalBar",type:"datasetAttributeEmpty",property:"children (index ".concat(t,")"),debug:he.value}):a.children.forEach((l,o)=>{[null,void 0].includes(l.name)&&ve({componentName:"VueUiVerticalBar",type:"datasetSerieAttribute",property:"name",key:"children",index:o,debug:he.value})}))}),Qe.value.map((a,t)=>{const l="vertical_parent_".concat(t,"_").concat(z.value),o=a.children&&a.children.length>0,h=F(a.value?a.value:o?a.children.map(b=>b.value||0).reduce((b,w)=>b+w,0):0),C=h>=0?1:-1;return{...a,id:l,absoluteIndex:t,shape:"square",opacity:_.value.includes(l)?.5:1,value:Math.abs(h),sign:C,hasChildren:o,isChild:!1,segregate:()=>Y(l),isSegregated:_.value.includes(l),color:Re(a.color)||ra.value[t]||Z[t]||Z[t%Z.length],children:!a.children||!a.children.length?[]:a.children.toSorted(de.value?()=>0:(b,w)=>na.value?w.value-b.value:b.value-w.value).map((b,w)=>({...b,value:F(Math.abs(b.value)),absoluteIndex:t,sign:b.value>=0?1:-1,isChild:!0,parentId:l,parentName:a.name,parentValue:h,parentSign:C,id:"vertical_child_".concat(t,"_").concat(w,"_").concat(z.value),childIndex:w,color:Re(b.color)||Re(a.color)||ra.value[t]||Z[t]||Z[t%Z.length]})).map((b,w)=>({...b,isFirstChild:w===0,isLastChild:w===a.children.length-1}))}}).toSorted(de.value?()=>0:(a,t)=>na.value?t.value-a.value:a.value-t.value))),W=c(()=>E.value.filter(a=>!_.value.includes(a.id))),A=c(()=>W.value.flatMap(a=>a.hasChildren?a.children:a)),el=c(()=>E.value.flatMap(a=>a.hasChildren?a.children:a)),sa=c(()=>W.value.flatMap(a=>a.children&&a.children.length>0?a.children.length:1).reduce((a,t)=>a+t,0)),ia=c(()=>({cy:"vertical-bar-div-legend",backgroundColor:e.value.style.chart.legend.backgroundColor,color:e.value.style.chart.legend.color,fontSize:e.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:e.value.style.chart.legend.bold?"bold":""})),L=c(()=>e.value.style.chart.layout.bars.parentLabels.show?e.value.style.chart.layout.bars.parentLabels.fontSize*3+e.value.style.chart.layout.bars.parentLabels.paddingBottom:0),T=c(()=>{const a=[];let t=0;return A.value.forEach((l,o)=>{l.isChild&&l.childIndex===0&&e.value.style.chart.layout.bars.parentLabels.show&&(t+=1),a[o]=t}),a}),d=c(()=>{const a=Math.max(0,...T.value)*L.value;return(j.value-24-(sa.value-1)*x.value-a)/sa.value}),R=c(()=>({width:N.value,height:j.value,padding:{top:12,left:128+e.value.style.chart.layout.bars.offsetX,right:64+e.value.style.chart.layout.bars.paddingRight,bottom:12}})),ze=i(0);function va(){Me(()=>{if(!_e.value){ze.value=0;return}const a=Array.from(_e.value.querySelectorAll("text")).reduce((t,l)=>{var h,C;const o=(C=(h=l.getBBox)==null?void 0:h.call(l).width)!=null?C:l.getComputedTextLength();return o>t?o:t},0);ze.value=a+12})}te(()=>[A.value,N.value,j.value,e.value.style.chart.layout.bars.nameLabels,e.value.style.chart.layout.bars.offsetX],()=>va(),{deep:!0}),De(()=>{va()});function be(){Me(()=>{se.value=0,ee.value=0,requestAnimationFrame(()=>{if(!Ae.value){se.value=0,ee.value=0;return}const a=Array.from(Ae.value.querySelectorAll("text"));if(!a.length){se.value=0,ee.value=0;return}let t=1/0,l=0;a.forEach(ye=>{const le=ye.getBBox(),ie=le.x,Ca=le.x+le.width;ie<t&&(t=ie),Ca>l&&(l=Ca)});const o=0,h=N.value,C=24,b=Math.max(0,o-t+C),w=Math.max(0,l-h+C);ee.value=b,se.value=w})})}te(_,()=>be(),{deep:!0}),te(()=>[A.value,N.value,j.value],()=>be(),{deep:!0}),De(()=>be());const v=c(()=>{const a=ze.value+Math.abs(e.value.style.chart.layout.bars.nameLabels.offsetX)+ee.value+e.value.style.chart.layout.bars.offsetX,t=R.value.width-R.value.padding.right,l=Math.max(0,t-a-se.value-ee.value-e.value.style.chart.layout.bars.offsetX);return{top:R.value.padding.top,bottom:R.value.padding.top+R.value.height,left:a,right:t,width:l,fullHeight:R.value.padding.top+R.value.padding.bottom+R.value.height}});async function Y(a){if(_.value.includes(a))_.value=_.value.filter(t=>t!==a);else{if(_.value.length===E.value.length-1)return;_.value.push(a)}Ya("selectLegend",W.value),be()}function ca(a){return E.value.length?E.value.find(l=>l.name===a)||(e.value.debug&&console.warn('VueUiHorizontalBar - Series name not found "'.concat(a,'"')),null):(e.value.debug&&console.warn("VueUiHorizontalBar - There are no series to show."),null)}function al(a){const t=ca(a);t!==null&&_.value.includes(t.id)&&Y(t.id)}function ll(a){const t=ca(a);t!==null&&(_.value.includes(t.id)||Y(t.id))}const B=c(()=>W.value.map(a=>Math.abs(a.value)).reduce((a,t)=>a+t,0));function da(a,t=!1,l=0){return t?G({v:F(Math.abs(a)/B.value*100),s:"%",r:l}):Math.abs(a)/B.value}const q=c(()=>A.value.map(a=>a.sign).includes(-1)),tl=c(()=>Math.max(...W.value.flatMap(a=>a.children&&a.children.length?Math.max(...a.children.map(t=>t.value)):a.value)));function S(a){const t=a/tl.value;return v.value.width/(q.value?2:1)*t}function ol(a){return S(a)+v.value.left}function ae(a,t){const l=W.value.find(o=>o.id===a.parentId);return{y:v.value.top+(x.value+d.value)*t+T.value[t]*L.value-L.value+e.value.style.chart.layout.bars.parentLabels.fontSize,name:l.name,value:[void 0,NaN,null].includes(l.value)?"":l.sign===1?l.value:-l.value,percentageToTotal:isNaN(l.value/B.value)?"":da(l.value,!0,e.value.style.chart.layout.bars.dataLabels.percentage.roundingPercentage),sign:l.sign}}function rl(){return W.value}function ha(a,t){return ae(a,t).name}function ul(a,t){const l=ae(a,t);return ba(l.value,l,t,a.parentSign||a.sign)}const Ee=i(null),Ie=i(null);function nl({datapoint:a,seriesIndex:t}){e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:a,seriesIndex:t})}function sl({datapoint:a,seriesIndex:t}){e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:a,seriesIndex:t}),Ua.value=null,Ce.value=!1,Ee.value=null}function il(a,t){e.value.events.datapointEnter&&e.value.events.datapointEnter({datpoint:a,seriesIndex:t}),Ie.value={datapoint:a,seriesIndex:t,series:E.value,config:e.value},Ce.value=!0,Ee.value=a.id;let l="";const o=a.isChild?a.parentName:a.name,h=a.isChild?a.name:"",C=e.value.style.chart.tooltip.customFormat;Dl(C)&&Ml(()=>C({datapoint:a,series:E.value,config:e.value,seriesIndex:t}))?ke.value=C({datapoint:a,series:E.value,config:e.value,seriesIndex:t}):(l+='<div style="width:100%;text-align:center;border-bottom:1px solid '.concat(e.value.style.chart.tooltip.borderColor,';padding-bottom:6px;margin-bottom:3px;text-align:left;">\n                <div style="display:flex;align-items:center;gap:4px;"><svg viewBox="0 0 60 60" height="14" width="14"><rect x="0" y="0" height="60" width="60" rx="5" stroke="none" fill="').concat(a.color,'"/>').concat(ja.pattern?'<rect x="0" y="0" height="60" width="60" rx="5" stroke="none" fill="url(#pattern_'.concat(z.value,"_").concat(a.absoluteIndex,')"/>'):"","</svg> ").concat(o,"</div>\n                ").concat(h?"<div>".concat(h,"</div>"):"","\n            </div>"),e.value.style.chart.tooltip.showValue&&(l+="<div>".concat(e.value.translations.value,": <b>").concat(ce(e.value.style.chart.layout.bars.dataLabels.value.formatter,a.sign===1?a.value:-a.value,G({p:e.value.style.chart.tooltip.prefix,v:a.sign===1?a.value:-a.value,s:e.value.style.chart.tooltip.suffix,r:e.value.style.chart.tooltip.roundingValue}),{datapoint:a,seriesIndex:t}),"</b></div>")),e.value.style.chart.tooltip.showPercentage&&(l+="<div>".concat(e.value.translations.percentageToTotal," : <b>").concat(G({v:Math.abs(a.value)/B.value*100,s:"%",r:e.value.style.chart.tooltip.roundingPercentage}),"</b></div>"),a.isChild&&(l+="<div>".concat(e.value.translations.percentageToSerie,": <b>").concat(G({v:Math.abs(a.value)/Math.abs(a.parentValue)*100,s:"%",r:e.value.style.chart.tooltip.roundingPercentage}),"</b></div>"))),ke.value='<div style="text-align:left">'.concat(l,"</div>"))}function ba(a,t,l,o){if(!e.value.style.chart.layout.bars.dataLabels.value.show)return"";const h=ce(e.value.style.chart.layout.bars.dataLabels.value.formatter,F(o===-1&&a>=0?-a:a),G({p:e.value.style.chart.layout.bars.dataLabels.value.prefix,v:F(o===-1&&a>=0?-a:a),s:e.value.style.chart.layout.bars.dataLabels.value.suffix,r:e.value.style.chart.layout.bars.dataLabels.value.roundingValue}),{datapoint:t,seriesIndex:l}),C="(".concat(da(a,!0,e.value.style.chart.layout.bars.dataLabels.percentage.roundingPercentage),")");return"".concat(h).concat(e.value.style.chart.layout.bars.dataLabels.percentage.show?" ".concat(C):"")}const I=c(()=>{const a=[e.value.translations.parentName,e.value.translations.value,e.value.translations.percentageToTotal,e.value.translations.childName,e.value.translations.value,e.value.translations.percentageToSerie,e.value.translations.percentageToTotal],t=A.value.map(l=>l.isChild?l.isFirstChild?{color:l.color,parentName:l.parentName,parentValue:l.parentValue,percentageToTotal:l.parentValue/B.value,childName:l.name,childValue:l.sign===1?l.value:-l.value,childPercentageToParent:Math.abs(l.value)/Math.abs(l.parentValue),childPercentageToTotal:Math.abs(l.value)/B.value}:{color:"",parentName:"",parentValue:"",percentageToTotal:"",childName:l.name,childValue:l.sign===1?l.value:-l.value,childPercentageToParent:Math.abs(l.value)/Math.abs(l.parentValue),childPercentageToTotal:Math.abs(l.value)/B.value}:{color:l.color,parentName:l.name,parentValue:l.sign===1?l.value:-l.value,percentageToTotal:Math.abs(l.value)/B.value,childName:"",childValue:"",childPercentageToParent:"",childPercentageToTotal:""});return{head:a,body:t}});function Pe(a=null){const t=[[e.value.style.chart.title.text],[e.value.style.chart.title.subtitle.text],[""]],l=I.value.head,o=I.value.body.map(b=>[b.parentName,b.parentValue,b.percentageToTotal,b.childName,b.childValue,b.childPercentageToParent,b.childPercentageToTotal]),h=t.concat([l]).concat(o),C=Vl(h);a?a(C):Ol({csvContent:C,title:e.value.style.chart.title.text||"vue-ui-vertical-bar"})}const J=i(!1);function pa(a){J.value=a,He.value+=1}function ga(){$.value.showTable=!$.value.showTable}De(()=>{["none","asc","desc"].includes(e.value.style.chart.layout.bars.sort)||ve({componentName:"VueUiVerticalBar",type:"attributeWrongValue",property:"style.chart.layout.bars.sort",key:e.value.style.chart.layout.bars.sort}),X.value=Wa.value[e.value.style.chart.layout.bars.sort],$.value.sortDesc=X.value===2,de.value=X.value===0});function vl(){X.value+=1,X.value>2&&(X.value=0)}function ya(){vl(),$.value.sortDesc=X.value===2,de.value=X.value===0}function fa(){$.value.showTooltip=!$.value.showTooltip}const pe=i(!1);function Ve(){pe.value=!pe.value}async function cl({scale:a=2}={}){if(!M.value)return;const{width:t,height:l}=M.value.getBoundingClientRect(),o=t/l,{imageUri:h,base64:C}=await Ql({domElement:M.value,base64:!0,img:!0,scale:a});return{imageUri:h,base64:C,title:e.value.style.chart.title.text,width:t,height:l,aspectRatio:o}}const ge=c(()=>{const a=e.value.table.useDialog&&!e.value.table.show,t=$.value.showTable;return{component:a?Na:Jl,title:"".concat(e.value.style.chart.title.text).concat(e.value.style.chart.title.subtitle.text?": ".concat(e.value.style.chart.title.subtitle.text):""),props:a?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:J.value,fullscreenParent:M.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:t,maxHeight:1e4,body:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color},head:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color}}}}});te(()=>$.value.showTable,a=>{e.value.table.show||(a&&e.value.table.useDialog&&ne.value?ne.value.open():"close"in ne.value&&ne.value.close())});const{isResponsive:dl}=Wl(ua,Ka);function Oe(){$.value.showTable=!1,we.value&&we.value.setTableIconState(!1)}const hl=c(()=>E.value.map((a,t)=>({...a,shape:"square",display:"".concat(a.name,": ").concat(ce(e.value.style.chart.layout.bars.dataLabels.value.formatter,a.value,G({p:e.value.style.chart.legend.prefix,v:a.value,s:e.value.style.chart.legend.suffix,r:e.value.style.chart.legend.roundingValue}),{datapoint:a,seriesIndex:t}))}))),bl=c(()=>e.value.style.chart.backgroundColor),pl=c(()=>e.value.style.chart.legend),gl=c(()=>e.value.style.chart.title),yl=c(()=>hl.value.map(a=>({...a,name:a.display}))),{exportSvg:fl,getSvg:ml}=Gl({svg:Se,title:gl,legend:pl,legendItems:yl,backgroundColor:bl});async function ma({isCb:a}){if(a){const{blob:t,url:l,text:o,dataUrl:h}=await ml();e.value.userOptions.callbacks.svg({blob:t,url:l,text:o,dataUrl:h})}else fl()}function Cl(){console.warn("[autoSize]: this legacy method can be safely removed as it ha no impact.")}return Ia({autoSize:Cl,getData:rl,getImage:cl,generatePdf:ta,generateCsv:Pe,generateImage:oa,generateSvg:ma,hideSeries:ll,showSeries:al,toggleTable:ga,toggleSort:ya,toggleTooltip:fa,toggleAnnotator:Ve,toggleFullscreen:pa}),(a,t)=>(r(),n("div",{class:Q("vue-data-ui-component vue-ui-vertical-bar ".concat(J.value?"vue-data-ui-wrapper-fullscreen":""," ").concat(e.value.useCssAnimation?"":"vue-ui-dna"," ").concat(e.value.responsive?"vue-ui-vertical-bar-autosize":"")),ref_key:"verticalBarChart",ref:M,id:"vue-ui-vertical-bar_".concat(z.value),style:g("font-family:".concat(e.value.style.fontFamily,";width:100%; text-align:center;background:").concat(e.value.style.chart.backgroundColor,";height:100%")),onMouseenter:t[3]||(t[3]=()=>s(Ze)(!0)),onMouseleave:t[4]||(t[4]=()=>s(Ze)(!1))},[e.value.userOptions.buttons.annotator?(r(),K(s(Oa),{key:0,svgRef:s(Se),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,active:pe.value,onClose:Ve},{"annotator-action-close":p(()=>[y(a.$slots,"annotator-action-close",{},void 0,!0)]),"annotator-action-color":p(({color:l})=>[y(a.$slots,"annotator-action-color",P(V({color:l})),void 0,!0)]),"annotator-action-draw":p(({mode:l})=>[y(a.$slots,"annotator-action-draw",P(V({mode:l})),void 0,!0)]),"annotator-action-undo":p(({disabled:l})=>[y(a.$slots,"annotator-action-undo",P(V({disabled:l})),void 0,!0)]),"annotator-action-redo":p(({disabled:l})=>[y(a.$slots,"annotator-action-redo",P(V({disabled:l})),void 0,!0)]),"annotator-action-delete":p(({disabled:l})=>[y(a.$slots,"annotator-action-delete",P(V({disabled:l})),void 0,!0)]),_:3},8,["svgRef","backgroundColor","color","active"])):f("",!0),Ja.value?(r(),n("div",{key:1,ref_key:"noTitle",ref:qe,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):f("",!0),e.value.style.chart.title.text?(r(),n("div",{key:2,ref_key:"chartTitle",ref:We,style:"width:100%;background:transparent;padding-bottom:12px"},[(r(),K(Kl,{key:"title_".concat(Je.value),config:{title:{cy:"vertical-bar-div-title",...e.value.style.chart.title},subtitle:{cy:"vertical-bar-div-subtitle",...e.value.style.chart.title.subtitle}}},null,8,["config"]))],512)):f("",!0),e.value.userOptions.show&&me.value&&(s(ea)||s(Te))?(r(),K(s(Da),{ref_key:"userOptionsRef",ref:we,key:"user_options_".concat(He.value),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isImaging:s(la),isPrinting:s(aa),uid:z.value,hasTooltip:e.value.userOptions.buttons.tooltip&&e.value.style.chart.tooltip.show,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasXls:e.value.userOptions.buttons.csv,hasTable:e.value.userOptions.buttons.table,hasSort:e.value.userOptions.buttons.sort,hasFullscreen:e.value.userOptions.buttons.fullscreen,isFullscreen:J.value,isTooltip:$.value.showTooltip,titles:{...e.value.userOptions.buttonTitles},chartElement:M.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:pe.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:pa,onGeneratePdf:s(ta),onGenerateCsv:Pe,onGenerateImage:s(oa),onGenerateSvg:ma,onToggleTable:ga,onToggleSort:ya,onToggleTooltip:fa,onToggleAnnotator:Ve,style:g({visibility:s(ea)?s(Te)?"visible":"hidden":"visible"})},fe({_:2},[a.$slots.menuIcon?{name:"menuIcon",fn:p(({isOpen:l,color:o})=>[y(a.$slots,"menuIcon",P(V({isOpen:l,color:o})),void 0,!0)]),key:"0"}:void 0,a.$slots.optionTooltip?{name:"optionTooltip",fn:p(()=>[y(a.$slots,"optionTooltip",{},void 0,!0)]),key:"1"}:void 0,a.$slots.optionPdf?{name:"optionPdf",fn:p(()=>[y(a.$slots,"optionPdf",{},void 0,!0)]),key:"2"}:void 0,a.$slots.optionCsv?{name:"optionCsv",fn:p(()=>[y(a.$slots,"optionCsv",{},void 0,!0)]),key:"3"}:void 0,a.$slots.optionImg?{name:"optionImg",fn:p(()=>[y(a.$slots,"optionImg",{},void 0,!0)]),key:"4"}:void 0,a.$slots.optionSvg?{name:"optionSvg",fn:p(()=>[y(a.$slots,"optionSvg",{},void 0,!0)]),key:"5"}:void 0,a.$slots.optionTable?{name:"optionTable",fn:p(()=>[y(a.$slots,"optionTable",{},void 0,!0)]),key:"6"}:void 0,a.$slots.optionLabels?{name:"optionLabels",fn:p(()=>[y(a.$slots,"optionLabels",{},void 0,!0)]),key:"7"}:void 0,a.$slots.optionSort?{name:"optionSort",fn:p(()=>[y(a.$slots,"optionSort",{},void 0,!0)]),key:"8"}:void 0,a.$slots.optionFullscreen?{name:"optionFullscreen",fn:p(({toggleFullscreen:l,isFullscreen:o})=>[y(a.$slots,"optionFullscreen",P(V({toggleFullscreen:l,isFullscreen:o})),void 0,!0)]),key:"9"}:void 0,a.$slots.optionAnnotator?{name:"optionAnnotator",fn:p(({toggleAnnotator:l,isAnnotator:o})=>[y(a.$slots,"optionAnnotator",P(V({toggleAnnotator:l,isAnnotator:o})),void 0,!0)]),key:"10"}:void 0]),1032,["backgroundColor","color","isImaging","isPrinting","uid","hasTooltip","hasPdf","hasImg","hasSvg","hasXls","hasTable","hasSort","hasFullscreen","isFullscreen","isTooltip","titles","chartElement","position","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):f("",!0),e.value.style.chart.legend.show&&e.value.style.chart.legend.position==="top"?(r(),n("div",{key:4,ref_key:"chartLegend",ref:xe},[(r(),K($a,{key:"legend_top_".concat($e.value),legendSet:E.value,config:ia.value,onClickMarker:t[0]||(t[0]=({legend:l})=>Y(l.id))},fe({item:p(({legend:l,index:o})=>[u("div",{onClick:h=>Y(l.id),style:g("opacity:".concat(_.value.includes(l.id)?.5:1))},m(l.name)+": "+m(s(ce)(e.value.style.chart.layout.bars.dataLabels.value.formatter,l.value,s(G)({p:e.value.style.chart.legend.prefix,v:l.value,s:e.value.style.chart.legend.suffix,r:e.value.style.chart.legend.roundingValue}),{datapoint:l,seriesIndex:o})),13,et)]),_:2},[a.$slots.pattern?{name:"legend-pattern",fn:p(({legend:l,index:o})=>[re(wa,{shape:l.shape,radius:30,stroke:"none",plot:{x:30,y:30},fill:"url(#pattern_".concat(z.value,"_").concat(o,")")},null,8,["shape","fill"])]),key:"0"}:void 0]),1032,["legendSet","config"]))],512)):f("",!0),(r(),n("svg",{ref_key:"svgRef",ref:Se,xmlns:s(El),class:Q({"vue-data-ui-fullscreen--on":J.value,"vue-data-ui-fulscreen--off":!J.value}),viewBox:"0 0 ".concat(N.value," ").concat(j.value),style:g("max-width:100%;overflow:visible;background:transparent;color:".concat(e.value.style.chart.color))},[u("g",{ref_key:"G",ref:Ga,class:"vue-data-ui-g"},[re(s(Ma)),a.$slots["chart-background"]?(r(),n("foreignObject",{key:0,x:0,y:0,width:N.value,height:j.value,style:{pointerEvents:"none"}},[y(a.$slots,"chart-background",{},void 0,!0)],8,lt)):f("",!0),(r(!0),n(O,null,D(A.value,(l,o)=>(r(),n("linearGradient",{x1:"0%",y1:"0%",x2:"100%",y2:"0%",id:"vertical_bar_gradient_".concat(z.value,"_").concat(o)},[u("stop",{offset:"0%","stop-color":l.color},null,8,ot),u("stop",{offset:"100%","stop-color":s(Xe)(s(Il)(l.color,.03),100-e.value.style.chart.layout.bars.gradientIntensity)},null,8,rt)],8,tt))),256)),a.$slots.pattern?(r(),n("g",ut,[(r(!0),n(O,null,D(A.value,l=>(r(),n("defs",null,[y(a.$slots,"pattern",ka({ref_for:!0},{seriesIndex:l.absoluteIndex,patternId:"pattern_".concat(z.value,"_").concat(l.absoluteIndex)}),void 0,!0)]))),256))])):f("",!0),(r(!0),n(O,null,D(A.value,(l,o)=>(r(),n("g",null,[u("rect",{x:s(F)(q.value?v.value.left+v.value.width/2-(l.sign===1?0:S(l.value)<=0?1e-4:S(l.value)):v.value.left),y:v.value.top+(x.value+d.value)*o+T.value[o]*L.value,width:s(F)(S(l.value)<=0?1e-4:S(l.value)),height:d.value<=0?1e-4:d.value,fill:e.value.style.chart.layout.bars.underlayerColor,rx:e.value.style.chart.layout.bars.borderRadius,class:Q({animated:e.value.useCssAnimation})},null,10,nt)]))),256)),(r(!0),n(O,null,D(A.value,(l,o)=>(r(),n("g",null,[u("rect",{x:s(F)(q.value?v.value.left+v.value.width/2-(l.sign===1?0:S(l.value)<=0?1e-4:S(l.value)):v.value.left),y:v.value.top+(x.value+d.value)*o+T.value[o]*L.value,width:s(F)(S(l.value)<=0?1e-4:S(l.value)),height:d.value<=0?1e-4:d.value,fill:e.value.style.chart.layout.bars.useGradient?"url(#vertical_bar_gradient_".concat(z.value,"_").concat(o,")"):s(Xe)(l.color,e.value.style.chart.layout.bars.fillOpacity),rx:e.value.style.chart.layout.bars.borderRadius,stroke:e.value.style.chart.layout.bars.useStroke?l.color:"none","stroke-width":e.value.style.chart.layout.bars.useStroke?e.value.style.chart.layout.bars.strokeWidth:0,class:Q({animated:e.value.useCssAnimation})},null,10,st),a.$slots.pattern?(r(),n("rect",{key:0,x:s(F)(q.value?v.value.left+v.value.width/2-(l.sign===1?0:S(l.value)<=0?1e-4:S(l.value)):v.value.left),y:v.value.top+(x.value+d.value)*o+T.value[o]*L.value,width:s(F)(S(l.value)<=0?1e-4:S(l.value)),height:d.value<=0?1e-4:d.value,fill:"url(#pattern_".concat(z.value,"_").concat(l.absoluteIndex,")"),rx:e.value.style.chart.layout.bars.borderRadius,stroke:e.value.style.chart.layout.bars.useStroke?l.color:"none","stroke-width":e.value.style.chart.layout.bars.useStroke?e.value.style.chart.layout.bars.strokeWidth:0,class:Q({animated:e.value.useCssAnimation})},null,10,it)):f("",!0),(!l.isChild||l.isLastChild)&&e.value.style.chart.layout.separators.show&&o!==A.value.length-1?(r(),n("line",{key:1,x1:N.value,x2:e.value.style.chart.layout.separators.fullWidth?0:v.value.left,y1:d.value+x.value/2+v.value.top+(x.value+d.value)*o+T.value[o]*L.value,y2:d.value+x.value/2+v.value.top+(x.value+d.value)*o+T.value[o]*L.value,stroke:e.value.style.chart.layout.separators.color,"stroke-width":e.value.style.chart.layout.separators.strokeWidth,"stroke-linecap":"round",style:{transition:"none !important",animation:"none !important"}},null,8,vt)):f("",!0),q.value&&e.value.style.chart.layout.separators.show?(r(),n("line",{key:2,x1:v.value.left+v.value.width/2,x2:v.value.left+v.value.width/2,y1:v.value.top,y2:v.value.bottom,stroke:e.value.style.chart.layout.separators.color,"stroke-width":e.value.style.chart.layout.separators.strokeWidth,"stroke-linecap":"round"},null,8,ct)):f("",!0)]))),256)),u("g",{ref_key:"parentLabels",ref:Ha},[(r(!0),n(O,null,D(A.value,(l,o)=>(r(),n("g",dt,[l.isChild&&l.childIndex===0&&e.value.style.chart.layout.bars.parentLabels.show?(r(),n("rect",{key:0,class:"vue-ui-horizontal-bar-parent-marker",x:2,y:ae(l,o).y-e.value.style.chart.layout.bars.parentLabels.fontSize/1.5,height:e.value.style.chart.layout.bars.parentLabels.fontSize/1.5,width:e.value.style.chart.layout.bars.parentLabels.fontSize/1.5,rx:1,fill:l.color,style:{animation:"none !important",transition:"none !important"}},null,8,ht)):f("",!0),l.isChild&&l.childIndex===0&&e.value.style.chart.layout.bars.parentLabels.show?(r(),n("text",{key:1,y:ae(l,o).y,"font-size":e.value.style.chart.layout.bars.parentLabels.fontSize,fill:e.value.style.chart.layout.bars.parentLabels.color,x:e.value.style.chart.layout.bars.parentLabels.offsetX+e.value.style.chart.layout.bars.parentLabels.fontSize,"font-weight":e.value.style.chart.layout.bars.parentLabels.bold?"bold":"normal","text-anchor":"start",innerHTML:s(je)({content:"".concat(ha(l,o)),fontSize:e.value.style.chart.layout.bars.parentLabels.fontSize,fill:e.value.style.chart.layout.bars.parentLabels.color,x:e.value.style.chart.layout.bars.parentLabels.offsetX+e.value.style.chart.layout.bars.parentLabels.fontSize,y:ae(l,o).y,translateY:!1})},null,8,bt)):f("",!0),l.isChild&&l.childIndex===0&&e.value.style.chart.layout.bars.parentLabels.show?(r(),n("text",{key:2,y:ae(l,o).y+s(Pl)(ha(l,o))*e.value.style.chart.layout.bars.parentLabels.fontSize*1.1,"font-size":e.value.style.chart.layout.bars.parentLabels.fontSize,fill:e.value.style.chart.layout.bars.parentLabels.color,x:e.value.style.chart.layout.bars.parentLabels.offsetX+e.value.style.chart.layout.bars.parentLabels.fontSize,"font-weight":e.value.style.chart.layout.bars.dataLabels.bold?"bold":"normal","text-anchor":"start"},m(ul(l,o)),9,pt)):f("",!0)]))),256))],512),u("g",{ref_key:"childLabels",ref:_e},[(r(!0),n(O,null,D(el.value,(l,o)=>(r(),n("g",gt,[(l.isChild||!l.hasChildren)&&e.value.style.chart.layout.bars.nameLabels.show?(r(),n("text",{key:0,"text-anchor":"start",x:Math.abs(e.value.style.chart.layout.bars.nameLabels.offsetX),y:s(F)(v.value.top+(x.value+d.value)*o+d.value/2+e.value.style.chart.layout.bars.nameLabels.fontSize/2+T.value[o]*L.value),"font-size":e.value.style.chart.layout.bars.nameLabels.fontSize,fill:"transparent","font-weight":e.value.style.chart.layout.bars.nameLabels.bold?"bold":"normal",style:{"user-select":"none"},innerHTML:s(je)({content:l.name,fontSize:e.value.style.chart.layout.bars.nameLabels.fontSize,fill:"transparent",x:Math.abs(e.value.style.chart.layout.bars.nameLabels.offsetX),y:s(F)(v.value.top+(x.value+d.value)*o+d.value/2+e.value.style.chart.layout.bars.nameLabels.fontSize/2+T.value[o]*L.value),translateY:!0})},null,8,yt)):f("",!0)]))),256))],512),u("g",null,[(r(!0),n(O,null,D(A.value,(l,o)=>(r(),n("g",ft,[(l.isChild||!l.hasChildren)&&e.value.style.chart.layout.bars.nameLabels.show?(r(),n("text",{key:0,"text-anchor":"end",x:v.value.left+e.value.style.chart.layout.bars.nameLabels.offsetX-6,y:v.value.top+(x.value+d.value)*o+d.value/2+e.value.style.chart.layout.bars.nameLabels.fontSize/3+T.value[o]*L.value,"font-size":e.value.style.chart.layout.bars.nameLabels.fontSize,fill:e.value.style.chart.layout.bars.nameLabels.color,"font-weight":e.value.style.chart.layout.bars.nameLabels.bold?"bold":"normal",innerHTML:s(je)({content:l.name,fontSize:e.value.style.chart.layout.bars.nameLabels.fontSize,fill:e.value.style.chart.layout.bars.nameLabels.color,x:v.value.left+e.value.style.chart.layout.bars.nameLabels.offsetX-6,y:v.value.top+(x.value+d.value)*o+d.value/2+e.value.style.chart.layout.bars.nameLabels.fontSize/3+T.value[o]*L.value,translateY:!0})},null,8,mt)):f("",!0)]))),256))]),u("g",{ref_key:"dataLabels",ref:Ae},[(r(!0),n(O,null,D(A.value,(l,o)=>(r(),n("g",Ct,[u("text",{x:q.value?v.value.left+v.value.width/2+(l.sign===1?-12:12)+(l.sign===1?-e.value.style.chart.layout.bars.dataLabels.offsetX:e.value.style.chart.layout.bars.dataLabels.offsetX):Math.min(ol(l.value)+3+e.value.style.chart.layout.bars.dataLabels.offsetX,v.value.right-2),y:v.value.top+(x.value+d.value)*o+d.value/2+T.value[o]*L.value+e.value.style.chart.layout.bars.dataLabels.fontSize/3,"text-anchor":!q.value||l.sign===-1?"start":"end","font-size":e.value.style.chart.layout.bars.dataLabels.fontSize,fill:e.value.style.chart.layout.bars.dataLabels.color,"font-weight":e.value.style.chart.layout.bars.dataLabels.bold?"bold":"normal"},m(ba(l.value,l,o,l.sign)),9,kt)]))),256))],512),(r(!0),n(O,null,D(A.value,(l,o)=>(r(),n("g",null,[u("rect",{x:0,y:v.value.top+(x.value+d.value)*o-x.value/2+T.value[o]*L.value,width:N.value,height:d.value+x.value<=0?1e-4:d.value+x.value,fill:Ee.value===l.id?s(Xe)(e.value.style.chart.layout.highlighter.color,e.value.style.chart.layout.highlighter.opacity):"transparent",onMouseenter:h=>il(l,o),onMouseleave:h=>sl({datapoint:l,seriesIndex:o}),onClick:h=>nl({datapoint:l,seriesIndex:o})},null,40,xt)]))),256)),y(a.$slots,"svg",{svg:R.value},void 0,!0)],512)],14,at)),a.$slots.watermark?(r(),n("div",$t,[y(a.$slots,"watermark",P(V({isPrinting:s(aa)||s(la)})),void 0,!0)])):f("",!0),e.value.style.chart.legend.show&&e.value.style.chart.legend.position==="bottom"?(r(),n("div",{key:6,ref_key:"chartLegend",ref:xe},[(r(),K($a,{key:"legend_bottom_".concat($e.value),legendSet:E.value,config:ia.value,onClickMarker:t[1]||(t[1]=({legend:l})=>Y(l.id))},fe({item:p(({legend:l,index:o})=>[u("div",{onClick:h=>Y(l.id),style:g("opacity:".concat(_.value.includes(l.id)?.5:1))},m(l.name)+": "+m(s(ce)(e.value.style.chart.layout.bars.dataLabels.value.formatter,l.value,s(G)({p:e.value.style.chart.legend.prefix,v:l.value,s:e.value.style.chart.legend.suffix,r:e.value.style.chart.legend.roundingValue}),{datapoint:l,seriesIndex:o})),13,wt)]),_:2},[a.$slots.pattern?{name:"legend-pattern",fn:p(({legend:l,index:o})=>[re(wa,{shape:l.shape,radius:30,stroke:"none",plot:{x:30,y:30},fill:"url(#pattern_".concat(z.value,"_").concat(o,")")},null,8,["shape","fill"])]),key:"0"}:void 0]),1032,["legendSet","config"]))],512)):f("",!0),y(a.$slots,"legend",{legend:E.value},void 0,!0),a.$slots.source?(r(),n("div",{key:7,ref_key:"source",ref:Ye,dir:"auto"},[y(a.$slots,"source",{},void 0,!0)],512)):f("",!0),re(s(Va),{show:$.value.showTooltip&&Ce.value&&_.value.length<k.dataset.length,backgroundColor:e.value.style.chart.tooltip.backgroundColor,color:e.value.style.chart.tooltip.color,borderRadius:e.value.style.chart.tooltip.borderRadius,borderColor:e.value.style.chart.tooltip.borderColor,borderWidth:e.value.style.chart.tooltip.borderWidth,fontSize:e.value.style.chart.tooltip.fontSize,backgroundOpacity:e.value.style.chart.tooltip.backgroundOpacity,position:e.value.style.chart.tooltip.position,offsetY:e.value.style.chart.tooltip.offsetY,parent:M.value,content:ke.value,isFullscreen:J.value,isCustom:e.value.style.chart.tooltip.customFormat&&typeof e.value.style.chart.tooltip.customFormat=="function",smooth:e.value.style.chart.tooltip.smooth,backdropFilter:e.value.style.chart.tooltip.backdropFilter,smoothForce:e.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:e.value.style.chart.tooltip.smoothSnapThreshold},{"tooltip-before":p(()=>[y(a.$slots,"tooltip-before",P(V({...Ie.value})),void 0,!0)]),"tooltip-after":p(()=>[y(a.$slots,"tooltip-after",P(V({...Ie.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","borderRadius","borderColor","borderWidth","fontSize","backgroundOpacity","position","offsetY","parent","content","isFullscreen","isCustom","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),me.value&&e.value.userOptions.buttons.table?(r(),K(Al(ge.value.component),ka({key:8},ge.value.props,{ref_key:"tableUnit",ref:ne,onClose:Oe}),fe({content:p(()=>[u("div",{ref_key:"tableContainer",ref:ua,class:"vue-ui-vertical-bar-table atom-data-table",style:g("".concat(e.value.table.useDialog?"":"max-height: 300px; margin-top: 24px"))},[u("div",_t,[e.value.table.useDialog?f("",!0):(r(),n("div",{key:0,role:"button",tabindex:"0",style:g("width:32px; position: absolute; top: 0; right:4px; padding: 0 0px; display: flex; align-items:center;justify-content:center;height: 36px; width: 32px; cursor:pointer; background:".concat(e.value.table.th.backgroundColor,";")),onClick:Oe,onKeypress:_l(Oe,["enter"])},[re(s(Ge),{name:"close",stroke:e.value.table.th.color,"stroke-width":2},null,8,["stroke"])],36)),u("div",{style:{width:"100%","container-type":"inline-size"},class:Q({"vue-ui-responsive":s(dl)})},[u("table",At,[e.value.table.useDialog?f("",!0):(r(),n("caption",{key:0,style:g({backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline}),class:"vue-ui-data-table__caption"},[xa(m(e.value.style.chart.title.text)+" ",1),e.value.style.chart.title.subtitle.text?(r(),n("span",Lt,m(e.value.style.chart.title.subtitle.text),1)):f("",!0)],4)),u("thead",null,[u("tr",{role:"row",style:g("background:".concat(e.value.table.th.backgroundColor,";color:").concat(e.value.table.th.color))},[(r(!0),n(O,null,D(I.value.head,l=>(r(),n("th",{style:g("outline:".concat(e.value.table.th.outline))},[u("div",Tt,m(l),1)],4))),256))],4),u("tr",null,[u("th",{style:g("background:".concat(e.value.table.th.backgroundColor,";color:").concat(e.value.table.th.color,";outline:").concat(e.value.table.th.outline))},null,4),u("th",{style:g("background:".concat(e.value.table.th.backgroundColor,";color:").concat(e.value.table.th.color,";outline:").concat(e.value.table.th.outline,";text-align:right;padding-right:5px;font-weight:bold"))}," ∑ "+m(e.value.table.td.prefix)+m(isNaN(B.value)?"":B.value.toFixed(e.value.table.td.roundingValue))+m(e.value.table.td.suffix),5),u("th",{style:g("background:".concat(e.value.table.th.backgroundColor,";color:").concat(e.value.table.th.color,";outline:").concat(e.value.table.th.outline,";text-align:right;padding-right:5px;font-weight:bold"))}," 100% ",4),u("th",{style:g("background:".concat(e.value.table.th.backgroundColor,";color:").concat(e.value.table.th.color,";outline:").concat(e.value.table.th.outline))},null,4),u("th",{style:g("background:".concat(e.value.table.th.backgroundColor,";color:").concat(e.value.table.th.color,";outline:").concat(e.value.table.th.outline))},null,4),u("th",{style:g("background:".concat(e.value.table.th.backgroundColor,";color:").concat(e.value.table.th.color,";outline:").concat(e.value.table.th.outline))},null,4),u("th",{style:g("background:".concat(e.value.table.th.backgroundColor,";color:").concat(e.value.table.th.color,";outline:").concat(e.value.table.th.outline))},null,4)])]),u("tbody",null,[(r(!0),n(O,null,D(I.value.body,(l,o)=>{var h,C,b,w,ye,le,ie;return r(),n("tr",{class:Q({"vue-ui-data-table__tbody__row":!0,"vue-ui-data-table__tbody__row-even":o%2===0,"vue-ui-data-table__tbody__row-odd":o%2!==0}),style:g("background:".concat(e.value.table.td.backgroundColor,";color:").concat(e.value.table.td.color))},[u("td",{class:"vue-ui-data-table__tbody__td",style:g("outline:".concat(e.value.table.td.outline,";font-variant-numeric: tabular-nums;")),"data-cell":(h=I.value.head[0])!=null?h:""},[u("div",Ft,[l.color?(r(),n("span",{key:0,style:g("color:".concat(l.color,";margin-right:3px"))},"⬤",4)):f("",!0),u("span",null,m(l.parentName),1)])],12,St),u("td",{class:"vue-ui-data-table__tbody__td",style:g("outline:".concat(e.value.table.td.outline)),"data-cell":(C=I.value.head[1])!=null?C:""},[u("div",Et,m(e.value.table.td.prefix)+m(["",NaN,void 0].includes(l.parentValue)?"":l.parentValue.toFixed(e.value.table.td.roundingValue))+m(e.value.table.td.suffix),1)],12,zt),u("td",{class:"vue-ui-data-table__tbody__td",style:g("outline:".concat(e.value.table.td.outline)),"data-cell":(b=I.value.head[2])!=null?b:""},[u("div",Pt,m(["",NaN,void 0].includes(l.percentageToTotal)?"":"".concat((l.percentageToTotal*100).toFixed(e.value.table.td.roundingPercentage),"%")),1)],12,It),u("td",{class:"vue-ui-data-table__tbody__td",style:g("outline:".concat(e.value.table.td.outline)),"data-cell":(w=I.value.head[3])!=null?w:""},[u("div",Ot,m(l.childName),1)],12,Vt),u("td",{class:"vue-ui-data-table__tbody__td",style:g("outline:".concat(e.value.table.td.outline)),"data-cell":(ye=I.value.head[4])!=null?ye:""},[u("div",Mt,m(e.value.table.td.prefix)+m(["",NaN,void 0].includes(l.childValue)?"":l.childValue.toFixed(e.value.table.td.roundingValue))+m(e.value.table.td.suffix),1)],12,Dt),u("td",{class:"vue-ui-data-table__tbody__td",style:g("outline:".concat(e.value.table.td.outline)),"data-cell":(le=I.value.head[5])!=null?le:""},[u("div",Bt,m(["",NaN,void 0].includes(l.childPercentageToParent)?"":"".concat((l.childPercentageToParent*100).toFixed(e.value.table.td.roundingPercentage),"%")),1)],12,Nt),u("td",{class:"vue-ui-data-table__tbody__td",style:g("outline:".concat(e.value.table.td.outline)),"data-cell":(ie=I.value.head[6])!=null?ie:""},[u("div",Xt,m(["",NaN,void 0].includes(l.childPercentageToTotal)?"":"".concat((l.childPercentageToTotal*100).toFixed(e.value.table.td.roundingPercentage),"%")),1)],12,Rt)],6)}),256))])])],2)])],4)]),_:2},[e.value.table.useDialog?{name:"title",fn:p(()=>[xa(m(ge.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:p(()=>[u("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:t[2]||(t[2]=l=>Pe(e.value.userOptions.callbacks.csv))},[re(s(Ge),{name:"excel",stroke:ge.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):f("",!0),s(Ke)?(r(),K(jl,{key:9})):f("",!0)],46,Zl))}},Ut=Ll(jt,[["__scopeId","data-v-b9914315"]]),vo=Object.freeze(Object.defineProperty({__proto__:null,default:Ut},Symbol.toStringTag,{value:"Module"}));export{io as a,vo as b,Ut as v};
