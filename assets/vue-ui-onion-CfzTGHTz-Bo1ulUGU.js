
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Tooltip-68Yi_FFl-CRPaJsgv.js","./vue-data-ui-BN9YfUec.js","./index-DXZKKOp8.js","./index-B7kifsnL.css","./alert-l5XlVwCh.js","./vue-data-ui-D1HaM8UR.css","./vue-ui-accordion-UpZ765hd-DndPzmcD.js","./useNestedProp-dJX_8vvZ-BzBW50KN.js","./DataTable-BT7VF2ua-Cw2NNXsE.js","./Shape-CNXKB8O0-BJGuTKHC.js","./UserOptions-1OZ3jcm6-BbpzMig3.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./img-BecE5qXd-CsL1o-EN.js","./dom-to-png--BNgrTZV-DTUrW_sQ.js","./PenAndPaper-DSvu9dwa-B6YjX2xm.js","./ColorPicker-J5wOPCeB-sgb_Bfch.js","./PackageVersion-TgflyMpU-q2MkeeNq.js","./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"])))=>i.map(i=>d[i]);
import{J as i,e as u,a7 as Ot,a9 as Be,K as U,au as Ye,E as At,av as It,b_ as A,c as v,o as r,z as I,A as g,f as F,g as ve,u as s,c0 as Ue,h,r as p,j as E,k as L,O as M,n as J,F as G,R as X,t as N,bn as Ft,l as Ge,m as Pt,N as St,c1 as P}from"./index-DXZKKOp8.js";import{s as Dt,Q as Mt,A as Rt,v as Et,m as Xe,C as Lt,g as He,p as ce,a as Nt,f as V,y as Vt,I as de,F as We,e as zt,r as Bt,h as Yt}from"./vue-data-ui-BN9YfUec.js";import{E as Ut,M as Gt}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{t as Xt,o as qe}from"./useNestedProp-dJX_8vvZ-BzBW50KN.js";import{S as Ht,T as Wt}from"./BaseScanner-BgWxam9d-B19ueoDW.js";import{m as qt}from"./usePrinter-DTzqpYKF-D5mkxXp9.js";import{O as Jt}from"./useSvgExport-DrjCWun4-CbW14PXm.js";import{a as jt}from"./useUserOptionState-BIvW1Kz7-D6llU1BK.js";import{o as Kt}from"./useChartAccessibility-9icAAmYg-BcUQIUvr.js";import{v as Qt}from"./useAutoSizeLabelsInsideViewbox-BhzfwQ_k-BVRzd4un.js";import Zt from"./img-BecE5qXd-CsL1o-EN.js";import ea from"./Title-BWp-37K_-BMUMQpSO.js";import ta from"./Legend-G6GMcdAc-7HaGLNN7.js";import{J as aa}from"./themes-AUNCOb2G-RAhReTPj.js";import"./alert-l5XlVwCh.js";import"./dom-to-png--BNgrTZV-DTUrW_sQ.js";import"./Shape-CNXKB8O0-BJGuTKHC.js";const la=["id"],oa=["id"],na=["xmlns","viewBox"],sa=["width","height"],ra=["cx","cy","r","stroke","stroke-width","stroke-dasharray","stroke-dashoffset"],ua=["cx","cy","r","stroke","stroke-width","stroke-dasharray","stroke-dashoffset"],ia=["id"],va=["stdDeviation"],ca=["filter"],da=["cx","cy","r","stroke-width","stroke-dasharray","stroke-dashoffset"],ha=["cx","cy","r","stroke-width","stroke-dasharray","stroke-dashoffset","onMouseenter","onMouseleave","onClick"],pa={key:2},ga=["onMouseenter","onMouseleave","onClick"],ma=["x","y","font-size","fill","font-weight"],fa={key:4,class:"vue-data-ui-watermark"},ya=["id"],ba=["onClick"],ka=["innerHTML"],wa={__name:"vue-ui-onion",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:["selectLegend"],setup(Je,{expose:je,emit:Ke}){const Qe=A(()=>P(()=>import("./Tooltip-68Yi_FFl-CRPaJsgv.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),Ze=A(()=>P(()=>import("./vue-data-ui-BN9YfUec.js").then(t=>t.aw),__vite__mapDeps([1,2,3,4,5]),import.meta.url)),et=A(()=>P(()=>import("./vue-ui-accordion-UpZ765hd-DndPzmcD.js"),__vite__mapDeps([6,2,3,1,4,5,7]),import.meta.url)),tt=A(()=>P(()=>import("./DataTable-BT7VF2ua-Cw2NNXsE.js"),__vite__mapDeps([8,2,3,9,1,4,5]),import.meta.url)),at=A(()=>P(()=>import("./UserOptions-1OZ3jcm6-BbpzMig3.js"),__vite__mapDeps([10,2,3,11,1,4,5,12,13]),import.meta.url)),lt=A(()=>P(()=>import("./PenAndPaper-DSvu9dwa-B6YjX2xm.js"),__vite__mapDeps([14,2,3,1,4,5,15,11]),import.meta.url)),ot=A(()=>P(()=>import("./PackageVersion-TgflyMpU-q2MkeeNq.js"),__vite__mapDeps([16,2,3]),import.meta.url)),nt=A(()=>P(()=>import("./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"),__vite__mapDeps([17,2,3,1,4,5]),import.meta.url)),{vue_ui_onion:st}=Xt(),x=Je,he=i(()=>!!x.dataset&&x.dataset.length),y=u(Mt()),rt=u(null),pe=u(0),j=u(!1),K=u(""),b=u([]),$=u(null),ge=u(null),me=u(null),fe=u(null),ye=u(null),be=u(0),ke=u(0),we=u(0),C=u(!1),xe=u(!1),z=u(null),e=u(ee()),{loading:k,FINAL_DATASET:$e,manualLoading:Q}=Ht({...Ot(x),FINAL_CONFIG:e,prepareConfig:ee,callback:()=>{Promise.resolve().then(async()=>{await Be(),Se()})},skeletonDataset:[{name:"_",percentage:50,value:1,color:"#DBDBDB"},{name:"_",percentage:50,value:1,color:"#C4C4C4"},{name:"_",percentage:50,value:1,color:"#ADADAD"},{name:"_",percentage:50,value:1,color:"#969696"}],skeletonConfig:Rt({defaultConfig:e.value,userConfig:{userOptions:{show:!1},table:{show:!1},style:{chart:{backgroundColor:"#99999930",layout:{gutter:{color:"#99999950"},labels:{show:!1}},legend:{backgroundColor:"transparent"}}}}})}),{userOptionsVisible:Z,setUserOptionsVisibility:Ce,keepUserOptionState:_e}=jt({config:e.value}),{svgRef:H}=Kt({config:e.value.style.chart.title});function ee(){const t=qe({userConfig:x.config,defaultConfig:st});return t.theme?{...qe({userConfig:aa.vue_ui_onion[t.theme]||x.config,defaultConfig:t}),customPalette:Et[t.theme]||Xe}:t}U(()=>x.config,t=>{k.value||(e.value=ee()),Z.value=!e.value.userOptions.showOnChartHover,Pe(),be.value+=1,ke.value+=1,we.value+=1,m.value.showTable=e.value.table.show,m.value.showTooltip=e.value.style.chart.tooltip.show},{deep:!0});const{isPrinting:Te,isImaging:Oe,generatePdf:Ae,generateImage:Ie}=qt({elementId:"vue-ui-onion_".concat(y.value),fileName:e.value.style.chart.title.text||"vue-ui-onion",options:e.value.userOptions.print}),ut=i(()=>e.value.userOptions.show&&!e.value.style.chart.title.text),it=i(()=>Lt(e.value.customPalette)),m=u({showTable:e.value.table.show,showTooltip:e.value.style.chart.tooltip.show});U(e,()=>{m.value={showTable:e.value.table.show,showTooltip:e.value.style.chart.tooltip.show}},{immediate:!0});const n=u({height:512,width:512,padding:{top:64,left:64,right:64,bottom:64},minRadius:64}),T=Ye(null),R=Ye(null);At(()=>{xe.value=!0,Pe()});const vt=i({get:()=>e.value.style.chart.layout.labels.fontSize,set:t=>t}),{autoSizeLabels:Fe}=Qt({svgRef:H,fontSize:e.value.style.chart.layout.labels.fontSize,minFontSize:e.value.style.chart.layout.labels.minFontSize,sizeRef:vt,labelClass:".vue-ui-onion-label"}),ct=i(()=>e.value.debug);let te=null;function Pe(){if(He(x.dataset)&&(ce({componentName:"VueUiOnion",type:"dataset",debug:ct.value}),Q.value=!0),He(x.dataset)||(Q.value=e.value.loading),e.value.responsive){const t=Ut(()=>{te&&clearTimeout(te),C.value=!0;let{width:l,height:a}=Gt({chart:$.value,title:e.value.style.chart.title.text?ge.value:null,legend:e.value.style.chart.legend.show?me.value:null,source:fe.value,noTitle:ye.value});a-=12,requestAnimationFrame(async()=>{n.value.width=l,n.value.height=a,n.value.padding.top=Math.max(l,a)*.125,n.value.padding.right=Math.max(l,a)*.125,n.value.padding.bottom=Math.max(l,a)*.125,n.value.padding.left=Math.max(l,a)*.125,n.value.minRadius=Math.min(l,a)*.125,te=setTimeout(()=>{C.value=!1,Fe()},0)})});T.value&&(R.value&&T.value.unobserve(R.value),T.value.disconnect()),T.value=new ResizeObserver(t),R.value=$.value.parentNode,T.value.observe(R.value)}requestAnimationFrame(Fe)}It(()=>{T.value&&(R.value&&T.value.unobserve(R.value),T.value.disconnect())});const d=i(()=>({top:n.value.padding.top,left:n.value.padding.left,right:n.value.width-n.value.padding.right,bottom:n.value.height-n.value.padding.bottom,centerX:n.value.width/2,centerY:n.value.height/2,width:n.value.width-n.value.padding.right-n.value.padding.left,height:n.value.height-n.value.padding.bottom-n.value.padding.top,minRadius:n.value.minRadius,maxRadius:Math.min(n.value.width,n.value.height)-n.value.padding.top*2})),f=i(()=>($e.value.forEach((t,l)=>{[null,void 0].includes(t.name)&&ce({componentName:"VueUiOnion",type:"datasetSerieAttribute",property:"name",index:l}),[void 0].includes(t.percentage)&&ce({componentName:"VueUiOnion",type:"datasetSerieAttribute",property:"percentage",index:l})}),$e.value.map((t,l)=>{const a="onion_serie_".concat(l,"_").concat(y.value);return{...t,percentage:t.percentage||0,targetPercentage:t.percentage||0,color:Nt(t.color)||it.value[l]||Xe[l],id:a,shape:"circle",opacity:b.value.includes(a)?.5:1,absoluteIndex:l,segregate:()=>De(a),isSegregated:b.value.includes(a)}}))),ae=i(()=>f.value.map((t,l)=>{var a;return{...t,display:"".concat(t.name?t.name+": ":"").concat(V({v:(a=t.percentage)!=null?a:0,s:"%",r:e.value.style.chart.legend.roundingPercentage}))}})),B=u(f.value),dt=i(()=>e.value.useStartAnimation),ht=u(null),pt=i(()=>Math.max(...f.value.map(t=>t.percentage))),le=u(!1);U(()=>f.value,Se,{immediate:!0,deep:!0}),U(()=>x.dataset,t=>{Array.isArray(t)&&t.length>0&&(Q.value=!1)},{deep:!0});function Se(){if(dt.value&&!le.value&&!k.value){let t=function(){l>=pt.value?(cancelAnimationFrame(ht.value),B.value=f.value,le.value=!0):(B.value=f.value.map(a=>({...a,percentage:l<a.targetPercentage?l:a.targetPercentage})),l+=1,requestAnimationFrame(t),le.value=!0)};B.value=f.value.map(a=>({...a,percentage:0}));let l=0;t()}else B.value=f.value}const gt=i(()=>({cy:"onion-div-legend",backgroundColor:e.value.style.chart.legend.backgroundColor,color:e.value.style.chart.legend.color,fontSize:e.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:e.value.style.chart.legend.bold?"bold":""})),mt=i(()=>f.value.filter(t=>!b.value.includes(t.id)).length),S=i(()=>{const t=Math.min(d.value.width,d.value.height)/2/f.value.length;return{gutter:(t>e.value.style.chart.layout.maxThickness?e.value.style.chart.layout.maxThickness:t)*e.value.style.chart.layout.gutter.width,track:(t>e.value.style.chart.layout.maxThickness?e.value.style.chart.layout.maxThickness:t)*e.value.style.chart.layout.track.width}}),_=i(()=>B.value.filter(t=>!b.value.includes(t.id)).map((t,l)=>{const a=(d.value.maxRadius-S.value.track)/mt.value/2*(1+l),o=d.value.centerY-a;return{percentage:t.percentage||0,...t,labelY:o,radius:a,path:ft(a,t.percentage||0)}}));function ft(t,l){const a=2*Math.PI*t,o=a*.75,c="".concat(o," ").concat(a),w=o*(1-l/100);return{bgDashArray:"".concat(o," ").concat(a),bgDashOffset:0,dashArray:c,dashOffset:w,fullOffset:0,active:"\n            M ".concat(d.value.centerX,",").concat(d.value.centerY-t," \n            A ").concat(t,",").concat(t," 0 1 1 \n            ").concat(d.value.centerX+t*Math.cos(Math.PI*3/4),",").concat(d.value.centerY+t*Math.sin(Math.PI*3/4),"\n        ").trim()}}const yt=Ke;function De(t){b.value.includes(t)?b.value=b.value.filter(l=>l!==t):b.value.push(t),yt("selectLegend",_.value)}function bt(){return _.value}const oe=i(()=>{const t=[e.value.table.translations.serie,e.value.table.translations.percentage,e.value.table.translations.value],l=_.value.map(a=>[a.name,a.percentage,a.value]);return{head:t,body:l}}),W=i(()=>{const t=oe.value.head,l=_.value.map(o=>{var c;return['<span style="color:'.concat(o.color,'">⬤</span> ').concat(o.name),"".concat(Number((c=o.percentage)!=null?c:0).toFixed(e.value.table.td.roundingPercentage).toLocaleString(),"%"),"".concat(o.prefix||"").concat([null,void 0,NaN,"NaN"].includes(o.value)?"-":o.value.toFixed(e.value.table.td.roundingValue).toLocaleString()).concat(o.suffix||"")]}),a={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint};return{head:t,body:l,config:a,colNames:t}});function ne(t=null){Be(()=>{const l=[[e.value.style.chart.title.text],[e.value.style.chart.title.subtitle.text],[""]],a=oe.value.head,o=oe.value.body,c=l.concat([a]).concat(o),w=zt(c);t?t(w):Bt({csvContent:w,title:e.value.style.chart.title.text||"vue-ui-onion"})})}const O=u(void 0),D=u(!1);function Me(t){D.value=t,pe.value+=1}function Re({datapoint:t}){e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:t,seriesIndex:t.absoluteIndex})}function Ee({datapoint:t}){O.value=void 0,j.value=!1,e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:t,seriesIndex:t.absoluteIndex})}const se=u(null);function Le({datapoint:t,seriesIndex:l,show:a=!0}){e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:t,seriesIndex:t.absoluteIndex});const o=t.absoluteIndex;O.value=l,se.value={datapoint:t,seriesIndex:o,series:f.value,config:e.value},j.value=a;let c="";const w=e.value.style.chart.tooltip.customFormat;if(We(w)&&Yt(()=>w({seriesIndex:o,datapoint:t,series:f.value,config:e.value})))K.value=w({seriesIndex:o,datapoint:t,series:f.value,config:e.value});else{const ue=e.value.style.chart.tooltip.showPercentage,ie=e.value.style.chart.tooltip.showValue;c+='<div style="width: 100%; border-bottom: 1px solid '.concat(e.value.style.chart.tooltip.borderColor,'; padding-bottom: 6px;margin-bottom:3px;display:flex;flex-direction:row;gap:3px;align-items:center"><svg viewBox="0 0 12 12" height="14" width="14"><circle cx="6" cy="6" r="6" stroke="none" fill="').concat(t.color,'"/></svg><span></span>').concat(t.name,"</span></div>"),c+='<div style="width:100%;text-align:left;"><b>'.concat(ue?V({p:"",v:t.percentage,s:"%",r:e.value.style.chart.tooltip.roundingPercentage}):"","</b> ").concat(ue&&ie?"(":"").concat(ie?de(e.value.style.chart.layout.labels.value.formatter,t.value,V({p:t.prefix||"",v:t.value,s:t.suffix||"",r:e.value.style.chart.tooltip.roundingValue}),{datapoint:t,seriesIndex:l}):"").concat(ue&&ie?")":"","</div>"),K.value="<div>".concat(c,"</div>")}}function Ne(){m.value.showTable=!m.value.showTable}function Ve(){m.value.showTooltip=!m.value.showTooltip}const q=u(!1);function re(){q.value=!q.value}async function kt({scale:t=2}={}){if(!$.value)return;const{width:l,height:a}=$.value.getBoundingClientRect(),o=l/a,{imageUri:c,base64:w}=await Zt({domElement:$.value,base64:!0,img:!0,scale:t});return{imageUri:c,base64:w,title:e.value.style.chart.title.text,width:l,height:a,aspectRatio:o}}const Y=i(()=>{const t=e.value.table.useDialog&&!e.value.table.show,l=m.value.showTable;return{component:t?nt:et,title:"".concat(e.value.style.chart.title.text).concat(e.value.style.chart.title.subtitle.text?": ".concat(e.value.style.chart.title.subtitle.text):""),props:t?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:D.value,fullscreenParent:$.value,forcedWidth:Math.min(600,window.innerWidth*.8)}:{hideDetails:!0,config:{open:l,maxHeight:1e4,body:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color},head:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color}}}}});U(()=>m.value.showTable,t=>{e.value.table.show||(t&&e.value.table.useDialog&&z.value?z.value.open():"close"in z.value&&z.value.close())});const wt=i(()=>ae.value.map(t=>({...t,name:t.display}))),xt=i(()=>e.value.style.chart.backgroundColor),$t=i(()=>e.value.style.chart.legend),Ct=i(()=>e.value.style.chart.title),{exportSvg:_t,getSvg:Tt}=Jt({svg:H,title:Ct,legend:$t,legendItems:wt,backgroundColor:xt});async function ze({isCb:t}){if(t){const{blob:l,url:a,text:o,dataUrl:c}=await Tt();e.value.userOptions.callbacks.svg({blob:l,url:a,text:o,dataUrl:c})}else _t()}return je({getData:bt,getImage:kt,generatePdf:Ae,generateCsv:ne,generateImage:Ie,generateSvg:ze,toggleTable:Ne,toggleTooltip:Ve,toggleAnnotator:re,toggleFullscreen:Me}),(t,l)=>(r(),v("div",{class:J("vue-data-ui-component vue-ui-onion ".concat(D.value?"vue-data-ui-wrapper-fullscreen":""," ").concat(e.value.useCssAnimation?"":"vue-ui-dna")),ref_key:"onionChart",ref:$,id:"vue-ui-onion_".concat(y.value),style:M("font-family:".concat(e.value.style.fontFamily,";width:100%; ").concat(e.value.responsive?"height: 100%;":""," text-align:center;background:").concat(e.value.style.chart.backgroundColor)),onMouseenter:l[4]||(l[4]=()=>s(Ce)(!0)),onMouseleave:l[5]||(l[5]=()=>s(Ce)(!1))},[e.value.userOptions.buttons.annotator?(r(),I(s(lt),{key:0,svgRef:s(H),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,active:q.value,onClose:re},null,8,["svgRef","backgroundColor","color","active"])):g("",!0),ut.value?(r(),v("div",{key:1,ref_key:"noTitle",ref:ye,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):g("",!0),e.value.style.chart.title.text?(r(),v("div",{key:2,ref_key:"chartTitle",ref:ge,style:"width:100%;background:transparent"},[(r(),I(ea,{key:"title_".concat(be.value),config:{title:{cy:"onion-div-title",...e.value.style.chart.title},subtitle:{cy:"onion-div-subtitle",...e.value.style.chart.title.subtitle}}},null,8,["config"]))],512)):g("",!0),F("div",{id:"legend-top-".concat(y.value)},null,8,oa),e.value.userOptions.show&&he.value&&(s(_e)||s(Z))?(r(),I(s(at),{ref_key:"details",ref:rt,key:"user_options".concat(pe.value),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isImaging:s(Oe),isPrinting:s(Te),uid:y.value,hasTooltip:e.value.userOptions.buttons.tooltip&&e.value.style.chart.tooltip.show,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasXls:e.value.userOptions.buttons.csv,hasTable:e.value.userOptions.buttons.table,hasFullscreen:e.value.userOptions.buttons.fullscreen,isFullscreen:D.value,isTooltip:m.value.showTooltip,titles:{...e.value.userOptions.buttonTitles},chartElement:$.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:q.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:Me,onGeneratePdf:s(Ae),onGenerateCsv:ne,onGenerateImage:s(Ie),onGenerateSvg:ze,onToggleTable:Ne,onToggleTooltip:Ve,onToggleAnnotator:re,style:M({visibility:s(_e)?s(Z)?"visible":"hidden":"visible"})},Ue({_:2},[t.$slots.menuIcon?{name:"menuIcon",fn:h(({isOpen:a,color:o})=>[p(t.$slots,"menuIcon",E(L({isOpen:a,color:o})),void 0,!0)]),key:"0"}:void 0,t.$slots.optionTooltip?{name:"optionTooltip",fn:h(()=>[p(t.$slots,"optionTooltip",{},void 0,!0)]),key:"1"}:void 0,t.$slots.optionPdf?{name:"optionPdf",fn:h(()=>[p(t.$slots,"optionPdf",{},void 0,!0)]),key:"2"}:void 0,t.$slots.optionCsv?{name:"optionCsv",fn:h(()=>[p(t.$slots,"optionCsv",{},void 0,!0)]),key:"3"}:void 0,t.$slots.optionImg?{name:"optionImg",fn:h(()=>[p(t.$slots,"optionImg",{},void 0,!0)]),key:"4"}:void 0,t.$slots.optionTable?{name:"optionTable",fn:h(()=>[p(t.$slots,"optionTable",{},void 0,!0)]),key:"5"}:void 0,t.$slots.optionFullscreen?{name:"optionFullscreen",fn:h(({toggleFullscreen:a,isFullscreen:o})=>[p(t.$slots,"optionFullscreen",E(L({toggleFullscreen:a,isFullscreen:o})),void 0,!0)]),key:"6"}:void 0,t.$slots.optionAnnotator?{name:"optionAnnotator",fn:h(({toggleAnnotator:a,isAnnotator:o})=>[p(t.$slots,"optionAnnotator",E(L({toggleAnnotator:a,isAnnotator:o})),void 0,!0)]),key:"7"}:void 0]),1032,["backgroundColor","color","isImaging","isPrinting","uid","hasTooltip","hasPdf","hasImg","hasSvg","hasXls","hasTable","hasFullscreen","isFullscreen","isTooltip","titles","chartElement","position","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):g("",!0),(r(),v("svg",{ref_key:"svgRef",ref:H,xmlns:s(Vt),class:J({"vue-data-ui-fullscreen--on":D.value,"vue-data-ui-fulscreen--off":!D.value,resizing:C.value}),viewBox:"0 0 ".concat(n.value.width<=0?10:n.value.width," ").concat(n.value.height<=0?10:n.value.height),style:M("max-width:100%;overflow:visible;background:transparent;color:".concat(e.value.style.chart.color))},[ve(s(ot)),t.$slots["chart-background"]?(r(),v("foreignObject",{key:0,x:0,y:0,width:n.value.width<=0?10:n.value.width,height:n.value.height<=0?10:n.value.height,style:{pointerEvents:"none"}},[p(t.$slots,"chart-background",{},void 0,!0)],8,sa)):g("",!0),(r(!0),v(G,null,X(_.value,(a,o)=>(r(),v("circle",{cx:d.value.centerX,cy:d.value.centerY,r:a.radius<=0?1e-4:a.radius,stroke:e.value.style.chart.layout.gutter.color,"stroke-width":S.value.gutter,fill:"none","stroke-dasharray":a.path.bgDashArray,"stroke-dashoffset":a.path.fullOffset,"stroke-linecap":"round",class:J({"vue-ui-onion-path":!0,"vue-ui-onion-blur":e.value.useBlurOnHover&&![null,void 0].includes(O.value)&&O.value!==o}),style:M({transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:C.value||s(k)?"none":"all 0.3s ease-in-out !important",animation:C.value||s(k)?"none":"xyAnimation 0.5s ease-in"})},null,14,ra))),256)),(r(!0),v(G,null,X(_.value,(a,o)=>(r(),v("circle",{cx:d.value.centerX,cy:d.value.centerY,r:a.radius<0?1e-4:a.radius,stroke:"".concat(a.color),"stroke-width":S.value.track,fill:"none","stroke-dasharray":a.path.dashArray,"stroke-dashoffset":a.path.dashOffset,class:J({"vue-ui-onion-path":!0,"vue-ui-onion-blur":e.value.useBlurOnHover&&![null,void 0].includes(O.value)&&O.value!==o}),"stroke-linecap":"round",style:M({transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:C.value||s(k)?"none":"all 0.3s ease-in-out !important",animation:C.value||s(k)?"none":"xyAnimation 0.5s ease-in"})},null,14,ua))),256)),F("defs",null,[F("filter",{id:"blur_".concat(y.value),x:"-50%",y:"-50%",width:"200%",height:"200%"},[F("feGaussianBlur",{in:"SourceGraphic",stdDeviation:100/e.value.style.chart.gradientIntensity},null,8,va)],8,ia)]),e.value.style.chart.useGradient?(r(),v("g",{key:1,filter:"url(#blur_".concat(y.value,")")},[(r(!0),v(G,null,X(_.value,(a,o)=>(r(),v("circle",{cx:d.value.centerX,cy:d.value.centerY,r:a.radius<=0?1e-4:a.radius,stroke:"white","stroke-width":S.value.track/3,fill:"none","stroke-linecap":"round","stroke-dasharray":a.path.dashArray,"stroke-dashoffset":a.path.dashOffset,style:M({transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:C.value||s(k)?"none":"all 0.3s ease-in-out !important",animation:C.value||s(k)?"none":"xyAnimation 0.5s ease-in"})},null,12,da))),256))],8,ca)):g("",!0),(r(!0),v(G,null,X(_.value,(a,o)=>(r(),v("circle",{cx:d.value.centerX,cy:d.value.centerY,r:a.radius<=0?1e-4:a.radius,stroke:"transparent","stroke-width":Math.max(S.value.track,S.value.gutter),fill:"none","stroke-dasharray":a.path.bgDashArray,"stroke-dashoffset":a.path.fullOffset,"stroke-linecap":"round",class:"vue-ui-onion-path",style:{transform:"rotate(-90deg)",transformOrigin:"50% 50%"},onMouseenter:c=>Le({datapoint:a,show:!0,seriesIndex:o}),onMouseleave:c=>Ee({datapoint:a}),onClick:c=>Re({datapoint:a})},null,40,ha))),256)),e.value.style.chart.layout.labels.show?(r(),v("g",pa,[(r(!0),v(G,null,X(_.value,(a,o)=>(r(),v("g",{onMouseenter:c=>Le({datapoint:a,show:!0,seriesIndex:o}),onMouseleave:c=>Ee({datapoint:a}),onClick:c=>Re({datapoint:a})},[b.value.includes(a.id)?g("",!0):(r(),v("text",{key:0,class:"vue-ui-onion-label",x:n.value.width/2-S.value.gutter*.8+e.value.style.chart.layout.labels.offsetX,y:a.labelY+e.value.style.chart.layout.labels.offsetY,"text-anchor":"end","font-size":e.value.style.chart.layout.labels.fontSize,fill:e.value.useBlurOnHover&&![null,void 0].includes(O.value)&&O.value===o?a.color:e.value.style.chart.layout.labels.color,"font-weight":e.value.style.chart.layout.labels.bold?"bold":"normal"},N(a.name?a.name+": ":"")+" "+N(e.value.style.chart.layout.labels.percentage.show?s(V)({v:a.percentage,s:"%",r:e.value.style.chart.layout.labels.roundingPercentage}):"")+" "+N(!e.value.style.chart.layout.labels.percentage.show&&e.value.style.chart.layout.labels.value.show?": ".concat(s(de)(e.value.style.chart.layout.labels.value.formatter,a.value,s(V)({p:a.prefix||"",v:a.value||0,s:a.suffix||"",r:e.value.style.chart.layout.labels.roundingValue}),{datapoint:a,seriesIndex:o})):"".concat(e.value.style.chart.layout.labels.value.show&&a.value?"(".concat(s(de)(e.value.style.chart.layout.labels.value.formatter,a.value,s(V)({p:a.prefix||"",v:a.value||0,s:a.suffix||"",r:e.value.style.chart.layout.labels.roundingValue}),{datapoint:a,seriesIndex:o}),")"):"")),9,ma))],40,ga))),256))])):g("",!0),p(t.$slots,"svg",{svg:n.value},void 0,!0)],14,na)),t.$slots.watermark?(r(),v("div",fa,[p(t.$slots,"watermark",E(L({isPrinting:s(Te)||s(Oe)})),void 0,!0)])):g("",!0),F("div",{id:"legend-bottom-".concat(y.value)},null,8,ya),xe.value?(r(),I(Ft,{key:5,to:e.value.style.chart.legend.position==="top"?"#legend-top-".concat(y.value):"#legend-bottom-".concat(y.value)},[F("div",{ref_key:"chartLegend",ref:me},[e.value.style.chart.legend.show?(r(),I(ta,{key:"legend_".concat(we.value),legendSet:ae.value,config:gt.value,onClickMarker:l[0]||(l[0]=({legend:a})=>De(a.id))},{item:h(({legend:a})=>[s(k)?g("",!0):(r(),v("div",{key:0,"data-cy-legend-item":"",onClick:o=>a.segregate(),style:M("opacity:".concat(b.value.includes(a.id)?.5:1))},N(a.display),13,ba))]),_:1},8,["legendSet","config"])):p(t.$slots,"legend",{key:1,legend:ae.value},void 0,!0)],512)],8,["to"])):g("",!0),t.$slots.source?(r(),v("div",{key:6,ref_key:"source",ref:fe,dir:"auto"},[p(t.$slots,"source",{},void 0,!0)],512)):g("",!0),ve(s(Qe),{show:m.value.showTooltip&&j.value,backgroundColor:e.value.style.chart.tooltip.backgroundColor,color:e.value.style.chart.tooltip.color,borderRadius:e.value.style.chart.tooltip.borderRadius,borderColor:e.value.style.chart.tooltip.borderColor,borderWidth:e.value.style.chart.tooltip.borderWidth,fontSize:e.value.style.chart.tooltip.fontSize,backgroundOpacity:e.value.style.chart.tooltip.backgroundOpacity,position:e.value.style.chart.tooltip.position,offsetY:e.value.style.chart.tooltip.offsetY,parent:$.value,content:K.value,isFullscreen:D.value,isCustom:s(We)(e.value.style.chart.tooltip.customFormat),smooth:e.value.style.chart.tooltip.smooth,backdropFilter:e.value.style.chart.tooltip.backdropFilter,smoothForce:e.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:e.value.style.chart.tooltip.smoothSnapThreshold},{"tooltip-before":h(()=>[p(t.$slots,"tooltip-before",E(L({...se.value})),void 0,!0)]),"tooltip-after":h(()=>[p(t.$slots,"tooltip-after",E(L({...se.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","borderRadius","borderColor","borderWidth","fontSize","backgroundOpacity","position","offsetY","parent","content","isFullscreen","isCustom","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),he.value&&e.value.userOptions.buttons.table?(r(),I(St(Y.value.component),Pt({key:7},Y.value.props,{ref_key:"tableUnit",ref:z,onClose:l[3]||(l[3]=a=>m.value.showTable=!1)}),Ue({content:h(()=>[(r(),I(s(tt),{key:"table_".concat(ke.value),colNames:W.value.colNames,head:W.value.head,body:W.value.body,config:W.value.config,title:e.value.table.useDialog?"":Y.value.title,withCloseButton:!e.value.table.useDialog,onClose:l[2]||(l[2]=a=>m.value.showTable=!1)},{th:h(({th:a})=>[Ge(N(a),1)]),td:h(({td:a})=>[F("div",{innerHTML:a},null,8,ka)]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))]),_:2},[e.value.table.useDialog?{name:"title",fn:h(()=>[Ge(N(Y.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:h(()=>[F("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:l[1]||(l[1]=a=>ne(e.value.userOptions.callbacks.csv))},[ve(s(Ze),{name:"excel",stroke:Y.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):g("",!0),s(k)?(r(),I(Wt,{key:8})):g("",!0)],46,la))}},Va=Dt(wa,[["__scopeId","data-v-75c2d02d"]]);export{Va as default};
