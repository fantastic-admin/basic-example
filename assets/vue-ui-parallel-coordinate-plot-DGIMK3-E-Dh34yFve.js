
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Tooltip-D0pGX8qz-BS2YwyOE.js","./vue-data-ui-8Gmf-dDN.js","./index-CJB5jCfL.js","./index-D6D_bXIl.css","./alert-I_0TAljB.js","./vue-data-ui-C46fMXq5.css","./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js","./useNestedProp-DaR1dBmj-yWXLkJlG.js","./DataTable-BfEbVwm4-B-GxLkq-.js","./Shape-12_eh8zD-Cy1mu6XW.js","./PenAndPaper--ADXtx65-ugytqLuo.js","./ColorPicker-BYn8PF2Z-DkxHqz9_.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-Cy-iNhZU-CnpDVImt.js","./img-CqYIrJ8I-E54QgU9o.js","./dom-to-png-WXGPkYro-BQsfl1t5.js","./PackageVersion-By5ZZJ0U-Cc8IPeAX.js","./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"])))=>i.map(i=>d[i]);
import{J as b,e as d,a8 as Yt,K as te,av as Qe,E as Gt,aw as Jt,au as Xt,c1 as D,c as n,o as i,z as I,A as g,f as O,g as ye,h,r as p,j as F,k as _,u as v,c3 as Ze,O as E,n as J,F as w,R as M,t as j,bq as qt,l as et,m as Kt,N as Qt,aa as Zt,c4 as L}from"./index-CJB5jCfL.js";import{s as ea,J as ge,x as ta,v as aa,o as ae,E as tt,A as at,a as la,$ as oa,u as sa,h as ia,Z as ra,Q as na,aa as ua,d as ca,Y as va,g as lt,B as le,e as da,f as ha,L as ot,F as st,p as pa}from"./vue-data-ui-8Gmf-dDN.js";import{E as it,M as ma}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{s as ba,i as fe}from"./useNestedProp-DaR1dBmj-yWXLkJlG.js";import{m as ya}from"./usePrinter-ChVMpU2f-B27PF0nl.js";import{T as ga,j as fa}from"./BaseScanner-BMpwQAfz-mc47WWxo.js";import{O as xa}from"./useSvgExport-ByUukOZt-XO0OK7cR.js";import{i as ka}from"./useThemeCheck-DGJ31Vi5-GRZcYzX8.js";import{a as Ca}from"./useUserOptionState-BIvW1Kz7-D70wY835.js";import{o as Aa}from"./useChartAccessibility-9icAAmYg-CuAxjhEs.js";import{S as wa}from"./useTimeLabelCollider-CIsgDrl9-BAa7N0ra.js";import Sa from"./Title-D0nD-PMs-DAiwElB_.js";import $a from"./Legend-D2xmnFPH-CItLelVI.js";import{b as Fa}from"./Shape-12_eh8zD-Cy1mu6XW.js";import _a from"./img-CqYIrJ8I-E54QgU9o.js";import"./alert-I_0TAljB.js";import"./dom-to-png-WXGPkYro-BQsfl1t5.js";const rt={style:{chart:{backgroundColor:"#1A1A1A",color:"#CCCCCC",legend:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},title:{color:"#CCCCCC",subtitle:{color:"#757575"}},tooltip:{backgroundColor:"#1A1A1A",backgroundOpacity:70,color:"#CCCCCC",borderColor:"#5A5A5A"},yAxis:{stroke:"#5A5A5A",labels:{axisNamesColor:"#CCCCCC",ticks:{color:"#CCCCCC"}}}}},table:{th:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},td:{backgroundColor:"#1A1A1A",color:"#CCCCCC"}}},nt={style:{chart:{backgroundColor:"#FFF8E1",color:"#424242",legend:{backgroundColor:"#FFF8E1",color:"#424242"},title:{color:"#424242",subtitle:{color:"#757575"}},tooltip:{backgroundColor:"#FFECB3",backgroundOpacity:30,color:"#424242",borderColor:"#FF8A65"},yAxis:{stroke:"#5D4037",labels:{axisNamesColor:"#424242",ticks:{color:"#424242"}}}}},table:{th:{backgroundColor:"#FFF8E1",color:"#424242"},td:{backgroundColor:"#FFF8E1",color:"#424242"}}},ut={style:{chart:{backgroundColor:"#1E1E1E",color:"#BDBDBD",legend:{backgroundColor:"#1E1E1E",color:"#BDBDBD"},title:{color:"#FFF8E1",subtitle:{color:"#BDBDBD"}},tooltip:{backgroundColor:"#1E1E1E",backgroundOpacity:30,color:"#FFF8E1",borderColor:"#FF8A65"},yAxis:{stroke:"#5D4037",labels:{axisNamesColor:"#BDBDBD",ticks:{color:"#BDBDBD"}}}}},table:{th:{backgroundColor:"#1E1E1E",color:"#BDBDBD"},td:{backgroundColor:"#1E1E1E",color:"#BDBDBD"}}},ct={style:{chart:{backgroundColor:"#1A1A1A",color:"#99AA99",legend:{backgroundColor:"#1A1A1A",color:"#99AA99"},title:{color:"#66CC66",subtitle:{color:"#99AA99"}},tooltip:{backgroundColor:"#2A2F2A",color:"#AACCAA",borderColor:"#66CC66",borderRadius:0},yAxis:{stroke:"#3A3A3A",labels:{axisNamesColor:"#99AA99",ticks:{color:"#5A5A5A"}}}}},table:{th:{backgroundColor:"#1A1A1A",color:"#99AA99"},td:{backgroundColor:"#1A1A1A",color:"#AACCAA"}}},vt={style:{chart:{backgroundColor:"#fbfafa",color:"#8A9892",legend:{backgroundColor:"#fbfafa",color:"#99AA99"},title:{color:"#8A9892",subtitle:{color:"#99AA99"}},tooltip:{backgroundColor:"#fbfafa",color:"#8A9892"},yAxis:{stroke:"#8F837A",labels:{axisNamesColor:"#8F837A",ticks:{color:"#8F837A"}}}}},table:{th:{backgroundColor:"#fbfafa",color:"#8F837A"},td:{backgroundColor:"#fbfafa",color:"#8F837A"}}},dt={style:{chart:{backgroundColor:"#f6f6fb",color:"#50606C",legend:{backgroundColor:"#f6f6fb",color:"#61747E"},title:{color:"#50606C",subtitle:{color:"#718890"}},tooltip:{backgroundColor:"#f6f6fb",color:"#50606C"},yAxis:{stroke:"#50606C",labels:{axisNamesColor:"#50606C",ticks:{color:"#50606C"}}}}},table:{th:{backgroundColor:"#f6f6fb",color:"#50606C"},td:{backgroundColor:"#f6f6fb",color:"#50606C"}}},ht={default:{},dark:rt,celebration:nt,celebrationNight:ut,hack:ct,zen:vt,concrete:dt},bl=Object.freeze(Object.defineProperty({__proto__:null,celebration:nt,celebrationNight:ut,concrete:dt,dark:rt,default:ht,hack:ct,zen:vt},Symbol.toStringTag,{value:"Module"})),Ta=["id"],za=["id"],Na=["xmlns","viewBox"],Ia=["x","y","width","height"],Oa={style:{"pointer-events":"none"}},Ea=["x1","x2","y1","y2","stroke","stroke-width"],Ma=["x1","x2","y1","y2","stroke","stroke-width"],Pa={key:0},Da=["x","y","fill","font-size","font-weight"],La=["fill","font-size","font-weight","text-anchor","transform"],Ba=["fill","font-size","font-weight","text-anchor","transform","innerHTML"],Ra={key:0},Va=["x","y","font-size","fill"],ja=["width","x","y"],Wa={style:{width:"100%"}},Ua=["x","y","fill","font-weight","font-size","onMouseenter","onMouseleave","onClick"],Ha=["d","stroke","stroke-width","onMouseenter","onMouseleave","onClick"],Ya=["d","onMouseenter","onMouseleave","onClick"],Ga={key:4,class:"vue-data-ui-watermark"},Ja=["id"],Xa=["onClick"],qa=["innerHTML"],Ka={__name:"vue-ui-parallel-coordinate-plot",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:["selectLegend","selectDatapoint"],setup(pt,{expose:mt,emit:bt}){const yt=D(()=>L(()=>import("./Tooltip-D0pGX8qz-BS2YwyOE.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),gt=D(()=>L(()=>import("./vue-data-ui-8Gmf-dDN.js").then(t=>t.aA),__vite__mapDeps([1,2,3,4,5]),import.meta.url)),ft=D(()=>L(()=>import("./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js"),__vite__mapDeps([6,2,3,1,4,5,7]),import.meta.url)),xt=D(()=>L(()=>import("./DataTable-BfEbVwm4-B-GxLkq-.js"),__vite__mapDeps([8,2,3,9,1,4,5]),import.meta.url)),kt=D(()=>L(()=>import("./PenAndPaper--ADXtx65-ugytqLuo.js"),__vite__mapDeps([10,2,3,1,4,5,11,12]),import.meta.url)),Ct=D(()=>L(()=>import("./UserOptions-Cy-iNhZU-CnpDVImt.js"),__vite__mapDeps([13,2,3,12,1,4,5,14,15]),import.meta.url)),At=D(()=>L(()=>import("./PackageVersion-By5ZZJ0U-Cc8IPeAX.js"),__vite__mapDeps([16,2,3]),import.meta.url)),wt=D(()=>L(()=>import("./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"),__vite__mapDeps([17,2,3,1,4,5]),import.meta.url)),{vue_ui_parallel_coordinate_plot:St}=ba(),{isThemeValid:$t,warnInvalidTheme:Ft}=ka(),S=pt,X=b({get(){return!!S.dataset&&S.dataset.length},set(t){return t}}),xe=d(0),N=d(null),ke=d(null),Ce=d(null),Ae=d(null),we=d(null),Se=d(0),$e=d(0),Fe=d(0),_e=d(!1),H=d(null),oe=d(null),se=d(null),B=d(ge()),R=d(!1);function Te(t){R.value=t,xe.value+=1}const e=d(ue()),{loading:V,FINAL_DATASET:_t,manualLoading:ie}=ga({...Yt(S),FINAL_CONFIG:e,prepareConfig:ue,callback:()=>{Promise.resolve().then(async()=>{await Zt(),y.value.showTable=e.value.table.show})},skeletonDataset:[{name:"",shape:"circle",color:"transparent",series:[{name:"",values:[1,10,100,1e3]}]},{name:"",shape:"circle",color:"#CACACA",series:[{name:"",values:[.2,3,50,800]}]},{name:"",shape:"circle",color:"transparent",series:[{name:"",values:[0,0,0,0]}]}],skeletonConfig:ta({defaultConfig:e.value,userConfig:{useCssAnimation:!1,userOptions:{show:!1},table:{show:!1},style:{chart:{backgroundColor:"#99999930",legend:{show:!0,backgroundColor:"transparent"},yAxis:{stroke:"#6A6A6A",labels:{showAxisNames:!1,axisNames:[],ticks:{color:"#6A6A6A"}}}}}}})}),{userOptionsVisible:re,setUserOptionsVisibility:ze,keepUserOptionState:Ne}=Ca({config:e.value}),{svgRef:ne}=Aa({config:e.value.style.chart.title});function ue(){const t=fe({userConfig:S.config,defaultConfig:St}),l=t.theme;if(!l)return t;if(!$t.value(t))return Ft(t),t;const a=fe({userConfig:ht[l]||S.config,defaultConfig:t}),s=fe({userConfig:S.config,defaultConfig:a});return{...s,customPalette:s.customPalette.length?s.customPalette:aa[l]||ae}}te(()=>S.config,t=>{V.value||(e.value=ue()),re.value=!e.value.userOptions.showOnChartHover,Oe(),Se.value+=1,Fe.value+=1,$e.value+=1,y.value.dataLabels.show=e.value.style.chart.yAxis.labels.datapoints.show,y.value.showTable=e.value.table.show,y.value.showTooltip=e.value.style.chart.tooltip.show},{deep:!0}),te(()=>S.dataset,t=>{Array.isArray(t)&&t.length>0&&(ie.value=!1)},{deep:!0});const P=Qe(null),W=Qe(null);Gt(()=>{_e.value=!0,Oe()});const Ie=b(()=>!!e.value.debug);function Oe(){if(tt(S.dataset)?(at({componentName:"VueUiParallelCoordinatePlot",type:"dataset",debug:Ie.value}),ie.value=!0):S.dataset.forEach((t,l)=>{la({datasetObject:t,requiredAttributes:["name","series"]}).forEach(a=>{X.value=!1,at({componentName:"VueUiParallelCoordinatePlot",type:"datasetSerieAttribute",property:a,index:l,debug:Ie.value})})}),tt(S.dataset)||(ie.value=e.value.loading),e.value.responsive){const t=it(()=>{const{width:l,height:a}=ma({chart:N.value,title:e.value.style.chart.title.text?ke.value:null,legend:e.value.style.chart.legend.show?Ce.value:null,source:Ae.value,noTitle:we.value});requestAnimationFrame(()=>{c.value.width=l,c.value.height=a-12,e.value.responsiveProportionalSizing?(c.value.plotSize=le({relator:Math.min(l,a),adjuster:600,source:e.value.style.chart.plots.radius,threshold:2,fallback:2}),c.value.ticksFontSize=le({relator:Math.min(l,a),adjuster:600,source:e.value.style.chart.yAxis.labels.ticks.fontSize,threshold:10,fallback:10}),c.value.datapointFontSize=le({relator:Math.min(l,a),adjuster:600,source:e.value.style.chart.yAxis.labels.datapoints.fontSize,threshold:10,fallback:10}),c.value.axisNameFontSize=le({relator:Math.min(l,a),adjuster:600,source:e.value.style.chart.yAxis.labels.axisNamesFontSize,threshold:12,fallback:12})):(c.value.plotSize=e.value.style.chart.plots.radius,c.value.ticksFontSize=e.value.style.chart.yAxis.labels.ticks.fontSize,c.value.datapointFontSize=e.value.style.chart.yAxis.labels.datapoints.fontSize,c.value.axisNameFontSize=e.value.style.chart.yAxis.labels.axisNamesFontSize)})});P.value&&(W.value&&P.value.unobserve(W.value),P.value.disconnect()),P.value=new ResizeObserver(t),W.value=N.value.parentNode,P.value.observe(W.value)}}Jt(()=>{P.value&&(W.value&&P.value.unobserve(W.value),P.value.disconnect())});const{isPrinting:Ee,isImaging:Me,generatePdf:Pe,generateImage:De}=ya({elementId:"pcp_".concat(B.value),fileName:e.value.style.chart.title.text||"vue-ui-parallel-coordinate-plot",options:e.value.userOptions.print}),Tt=b(()=>e.value.userOptions.show&&!e.value.style.chart.title.text),c=d({height:e.value.style.chart.height,width:e.value.style.chart.width,plotSize:e.value.style.chart.plots.radius,ticksFontSize:e.value.style.chart.yAxis.labels.ticks.fontSize,datapointFontSize:e.value.style.chart.yAxis.labels.datapoints.fontSize,axisNameFontSize:e.value.style.chart.yAxis.labels.axisNamesFontSize}),Le=b(()=>c.value.width),Be=b(()=>c.value.height),Y=d(0),zt=it(t=>{Y.value=t},100);Xt(t=>{const l=se.value;if(!l)return;const a=new ResizeObserver(s=>{zt(s[0].contentRect.height)});a.observe(l),t(()=>a.disconnect())});const m=b(()=>{const{top:t,right:l,bottom:a,left:s}=e.value.style.chart.padding,o=Be.value,u=Le.value;return{chartHeight:Math.max(.001,o),chartWidth:Math.max(.001,u),height:Math.max(.001,o-t-a-Y.value-c.value.datapointFontSize*2),width:Math.max(.001,u-s-l),top:t+Y.value+c.value.datapointFontSize,left:s,right:u-l,bottom:o-a-c.value.datapointFontSize}}),Nt=b(()=>oa(e.value.customPalette)),y=d({dataLabels:{show:e.value.style.chart.yAxis.labels.datapoints.show},showTable:e.value.table.show,showTooltip:e.value.style.chart.tooltip.show});te(e,()=>{y.value={dataLabels:{show:e.value.style.chart.yAxis.labels.datapoints.show},showTable:e.value.table.show,showTooltip:e.value.style.chart.tooltip.show}},{immediate:!0});const $=d([]);function q(t){$.value.includes(t)?$.value=$.value.filter(l=>l!==t):$.value.push(t)}const T=b(()=>_t.value.map((t,l)=>{const a=sa(t.color)||Nt.value[l]||ae[l]||ae[l%ae.length];return{...t,series:t.series.map(s=>({...s,id:ge(),color:a})),seriesIndex:l,color:a,id:ge(),shape:t.shape||"circle"}}));function Re(t){return T.value.length?T.value.find(a=>a.name===t)||(e.value.debug&&console.warn('VueUiParallelCoordinatePlot - Series name not found "'.concat(t,'"')),null):(e.value.debug&&console.warn("VueUiParallelCoordinatePlot - There are no series to show."),null)}function It(t){const l=Re(t);l!==null&&$.value.includes(l.id)&&q(l.id)}function Ot(t){const l=Re(t);l!==null&&($.value.includes(l.id)||q(l.id))}const Ve=b(()=>T.value.map(t=>({...t,opacity:$.value.includes(t.id)?.5:1,segregate:()=>q(t.id),isSegregated:$.value.includes(t.id),shape:t.shape||"circle"}))),Et=b(()=>({cy:"pcp-div-legend",backgroundColor:e.value.style.chart.legend.backgroundColor,color:e.value.style.chart.legend.color,fontSize:e.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:e.value.style.chart.legend.bold?"bold":""})),je=b(()=>Math.max(...T.value.filter(t=>!$.value.includes(t.id)).map(t=>Math.max(...t.series.flatMap(l=>l.values.length))))),A=b(()=>m.value.width/je.value),ce=b(()=>T.value.filter(t=>!$.value.includes(t.id))),f=b(()=>{let t=[];for(let l=0;l<je.value;l+=1){const a=Math.min(...ce.value.flatMap(x=>x.series.map(k=>k.values[l]||0)||0)),s=Math.max(...ce.value.flatMap(x=>x.series.map(k=>k.values[l]||0)||0)),o=s===a?a/4:a,u=s===a?s*2:s,r=ia(o,u,e.value.style.chart.yAxis.scaleTicks),z=r.ticks.map((x,k)=>{const Ut=r.min<0?x+Math.abs(r.min):x-Math.abs(r.min),Ht=r.min<0?r.max+Math.abs(r.min):r.max-Math.abs(r.min);return{y:m.value.bottom-m.value.height*(Ut/Ht),x:m.value.left+A.value*l+A.value/2,value:x}});t.push({scale:r,ticks:z,name:e.value.style.chart.yAxis.labels.axisNames[l]||"Y-".concat(l+1)})}return t}),ve=b(()=>ce.value.map((t,l)=>({...t,series:t.series.map((a,s)=>({...a,datapoints:a.values.map((o,u)=>{const r=f.value[u].scale.min<0?(o||0)+Math.abs(f.value[u].scale.min):(o||0)-Math.abs(f.value[u].scale.min),z=f.value[u].scale.min<0?f.value[u].scale.max+Math.abs(f.value[u].scale.min):f.value[u].scale.max-Math.abs(f.value[u].scale.min);return{name:a.name,seriesName:t.name,axisIndex:u,datapointIndex:s,seriesIndex:l,value:o||0,x:m.value.left+A.value*u+A.value/2,y:m.value.bottom-m.value.height*(r/z),comment:a.comments&&a.comments[u]||""}})}))})).map(t=>({...t,series:t.series.map(l=>{const a=ra(l.datapoints),s=na(l.datapoints),o=ua(e.value.style.chart.lines.smooth?"M ".concat(s):"M ".concat(a));return{...l,smoothPath:s,straightPath:a,pathLength:o}})})));function We({value:t,index:l,datapoint:a}){return ot(e.value.style.chart.yAxis.labels.formatters[l]||null,t,st({p:e.value.style.chart.yAxis.labels.prefixes[l]||"",v:t,s:e.value.style.chart.yAxis.labels.suffixes[l]||"",r:e.value.style.chart.yAxis.labels.roundings[l]||0}),{datapoint:a,seriesIndex:l})}const C=d(null),de=d(null),he=d(!1),pe=d("");function K({shape:t,serie:l,S:a}){e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:{...l,shape:t},seriesIndex:a}),C.value=null,he.value=null}function Q({shape:t,serieName:l,serie:a,relativeIndex:s,seriesIndex:o,S:u}){e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:{...a,shape:t},seriesIndex:u}),de.value={serie:a,relativeIndex:s,seriesIndex:o,series:T.value,scales:f.value},he.value=!0,C.value=a.id;let r="";const z=e.value.style.chart.tooltip.customFormat;lt(z)&&pa(()=>z({serie:a,seriesIndex:a.seriesIndex,series:T.value,config:e.value,scales:f.value}))?pe.value=z({serie:a,seriesIndex:a.seriesIndex,series:T.value,config:e.value,scales:f.value}):(r+='<div style="width:100%;text-align:center;border-bottom:1px solid '.concat(e.value.style.chart.tooltip.borderColor,';padding-bottom:6px;margin-bottom:3px;">').concat(l?l+" - ":"").concat(a.name,"</div>"),f.value.map(x=>x.name).forEach((x,k)=>{r+='\n                <div class="vue-ui-tooltip-item" style="text-align:left">\n                    <span>'.concat(x,": </span>\n                    <span>\n                        ").concat(ot(e.value.style.chart.yAxis.labels.formatters[k]||null,a.datapoints[k].value,st({p:e.value.style.chart.yAxis.labels.prefixes[k]||"",v:a.datapoints[k].value,s:e.value.style.chart.yAxis.labels.suffixes[k]||"",r:e.value.style.chart.yAxis.labels.roundings[k]||""}),{datapoint:a.datapoints[k],seriesIndex:k}),"    \n                    </span>\n                </div>\n            "),e.value.style.chart.comments.showInTooltip&&a.datapoints[k].comment&&(r+='<div class="vue-data-ui-tooltip-comment" style="background:'.concat(a.color,"20; padding: 6px; margin-bottom: 6px; border-left: 1px solid ").concat(a.color,'">').concat(a.datapoints[k].comment,"</div>"))}),pe.value="<div>".concat(r,"</div>"))}function Mt(){return T.value}const U=b(()=>{const t=[e.value.table.columnNames.series].concat([e.value.table.columnNames.item]).concat(f.value.map(o=>o.name)),l=ve.value.flatMap((o,u)=>o.series.map(r=>[o.name].concat([r.name]).concat(r.values))),a={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint},s=[e.value.table.columnNames.series].concat([e.value.table.columnNames.item]).concat(f.value.map(o=>o.name));return{body:l,head:t,config:a,colNames:s}}),Ue=b(()=>ve.value.length===0?{head:[],body:[],config:{},columnNames:[]}:{head:U.value.head,body:U.value.body});function me(t=null){const l=[[e.value.style.chart.title.text],[e.value.style.chart.title.subtitle.text],[""]],a=Ue.value.head,s=Ue.value.body,o=l.concat([a]).concat(s),u=da(o);t?t(u):ha({csvContent:u,title:e.value.style.chart.title.text||"vue-ui-parallel-coordinate-plot"})}const He=bt;function Z({serie:t,shape:l,S:a}){e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:{...t,shape:l},seriesIndex:a}),He("selectDatapoint",t)}function Ye(t){He("selectLegend",{...t,isSegregated:!t.isSegregated,opacity:t.isSegregated?1:.5})}function Ge(){y.value.showTable=!y.value.showTable}function Je(){y.value.dataLabels.show=!y.value.dataLabels.show}function Xe(){y.value.showTooltip=!y.value.showTooltip}const ee=d(!1);function be(){ee.value=!ee.value}async function Pt({scale:t=2}={}){if(!N.value)return;const{width:l,height:a}=N.value.getBoundingClientRect(),s=l/a,{imageUri:o,base64:u}=await _a({domElement:N.value,base64:!0,img:!0,scale:t});return{imageUri:o,base64:u,title:e.value.style.chart.title.text,width:l,height:a,aspectRatio:s}}const Dt=d({start:0,end:1}),Lt=b(()=>f.value.map(t=>t.name));wa({timeLabelsEls:se,timeLabels:Lt,slicer:Dt,configRef:e,rotationPath:["style","chart","yAxis","labels","axisNamesRotation"],autoRotatePath:["style","chart","yAxis","labels","axisNamesAutoRotate","enable"],isAutoSize:!1,width:Le,height:Be,targetClass:".vue-ui-parallel-coordinate-plot-x-label",rotation:e.value.style.chart.yAxis.labels.axisNamesAutoRotate.angle});const G=b(()=>{const t=e.value.table.useDialog&&!e.value.table.show,l=y.value.showTable;return{component:t?wt:ft,title:"".concat(e.value.style.chart.title.text).concat(e.value.style.chart.title.subtitle.text?": ".concat(e.value.style.chart.title.subtitle.text):""),props:t?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:R.value,fullscreenParent:N.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:l,maxHeight:1e4,body:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color},head:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color}}}}});te(()=>y.value.showTable,t=>{e.value.table.show||(t&&e.value.table.useDialog&&H.value?H.value.open():"close"in H.value&&H.value.close())});function qe(){y.value.showTable=!1,oe.value&&oe.value.setTableIconState(!1)}const Bt=b(()=>e.value.style.chart.backgroundColor),Rt=b(()=>e.value.style.chart.legend),Vt=b(()=>e.value.style.chart.title),{exportSvg:jt,getSvg:Wt}=xa({svg:ne,title:Vt,legend:Rt,legendItems:Ve,backgroundColor:Bt});async function Ke({isCb:t}){if(t){const{blob:l,url:a,text:s,dataUrl:o}=await Wt();e.value.userOptions.callbacks.svg({blob:l,url:a,text:s,dataUrl:o})}else jt()}return mt({getData:Mt,getImage:Pt,generateCsv:me,generatePdf:Pe,generateImage:De,generateSvg:Ke,hideSeries:Ot,showSeries:It,toggleTable:Ge,toggleLabels:Je,toggleTooltip:Xe,toggleAnnotator:be,toggleFullscreen:Te}),(t,l)=>(i(),n("div",{ref_key:"pcpChart",ref:N,class:J("vue-data-ui-component vue-ui-pcp ".concat(R.value?"vue-data-ui-wrapper-fullscreen":""," ").concat(e.value.useCssAnimation?"":"vue-ui-dna")),style:E("font-family:".concat(e.value.style.fontFamily,";width:100%; text-align:center;background:").concat(e.value.style.chart.backgroundColor,";").concat(e.value.responsive?"height:100%":"")),id:"pcp_".concat(B.value),onMouseenter:l[2]||(l[2]=()=>v(ze)(!0)),onMouseleave:l[3]||(l[3]=()=>v(ze)(!1))},[e.value.userOptions.buttons.annotator?(i(),I(v(kt),{key:0,svgRef:v(ne),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,active:ee.value,onClose:be},{"annotator-action-close":h(()=>[p(t.$slots,"annotator-action-close",{},void 0,!0)]),"annotator-action-color":h(({color:a})=>[p(t.$slots,"annotator-action-color",F(_({color:a})),void 0,!0)]),"annotator-action-draw":h(({mode:a})=>[p(t.$slots,"annotator-action-draw",F(_({mode:a})),void 0,!0)]),"annotator-action-undo":h(({disabled:a})=>[p(t.$slots,"annotator-action-undo",F(_({disabled:a})),void 0,!0)]),"annotator-action-redo":h(({disabled:a})=>[p(t.$slots,"annotator-action-redo",F(_({disabled:a})),void 0,!0)]),"annotator-action-delete":h(({disabled:a})=>[p(t.$slots,"annotator-action-delete",F(_({disabled:a})),void 0,!0)]),_:3},8,["svgRef","backgroundColor","color","active"])):g("",!0),Tt.value?(i(),n("div",{key:1,ref_key:"noTitle",ref:we,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):g("",!0),e.value.style.chart.title.text?(i(),n("div",{key:2,ref_key:"chartTitle",ref:ke,style:"width:100%;background:transparent;padding-bottom:24px"},[(i(),I(Sa,{key:"title_".concat(Se.value),config:{title:{cy:"pcp-div-title",...e.value.style.chart.title},subtitle:{cy:"pcp-div-subtitle",...e.value.style.chart.title.subtitle}}},null,8,["config"]))],512)):g("",!0),O("div",{id:"legend-top-".concat(B.value)},null,8,za),e.value.userOptions.show&&X.value&&(v(Ne)||v(re))?(i(),I(v(Ct),{ref_key:"userOptionsRef",ref:oe,key:"user_options_".concat(xe.value),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isPrinting:v(Ee),isImaging:v(Me),uid:B.value,hasTooltip:e.value.userOptions.buttons.tooltip&&e.value.style.chart.tooltip.show,hasPdf:e.value.userOptions.buttons.pdf,hasXls:e.value.userOptions.buttons.csv,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasTable:e.value.userOptions.buttons.table,hasLabel:e.value.userOptions.buttons.labels,hasFullscreen:e.value.userOptions.buttons.fullscreen,isFullscreen:R.value,isTooltip:y.value.showTooltip,titles:{...e.value.userOptions.buttonTitles},chartElement:N.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:ee.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:Te,onGeneratePdf:v(Pe),onGenerateCsv:me,onGenerateImage:v(De),onGenerateSvg:Ke,onToggleTable:Ge,onToggleLabels:Je,onToggleTooltip:Xe,onToggleAnnotator:be,style:E({visibility:v(Ne)?v(re)?"visible":"hidden":"visible"})},Ze({_:2},[t.$slots.menuIcon?{name:"menuIcon",fn:h(({isOpen:a,color:s})=>[p(t.$slots,"menuIcon",F(_({isOpen:a,color:s})),void 0,!0)]),key:"0"}:void 0,t.$slots.optionPdf?{name:"optionPdf",fn:h(()=>[p(t.$slots,"optionPdf",{},void 0,!0)]),key:"1"}:void 0,t.$slots.optionCsv?{name:"optionCsv",fn:h(()=>[p(t.$slots,"optionCsv",{},void 0,!0)]),key:"2"}:void 0,t.$slots.optionImg?{name:"optionImg",fn:h(()=>[p(t.$slots,"optionImg",{},void 0,!0)]),key:"3"}:void 0,t.$slots.optionSvg?{name:"optionSvg",fn:h(()=>[p(t.$slots,"optionSvg",{},void 0,!0)]),key:"4"}:void 0,t.$slots.optionTable?{name:"optionTable",fn:h(()=>[p(t.$slots,"optionTable",{},void 0,!0)]),key:"5"}:void 0,t.$slots.optionLabels?{name:"optionLabels",fn:h(()=>[p(t.$slots,"optionLabels",{},void 0,!0)]),key:"6"}:void 0,t.$slots.optionFullscreen?{name:"optionFullscreen",fn:h(({toggleFullscreen:a,isFullscreen:s})=>[p(t.$slots,"optionFullscreen",F(_({toggleFullscreen:a,isFullscreen:s})),void 0,!0)]),key:"7"}:void 0,t.$slots.optionAnnotator?{name:"optionAnnotator",fn:h(({toggleAnnotator:a,isAnnotator:s})=>[p(t.$slots,"optionAnnotator",F(_({toggleAnnotator:a,isAnnotator:s})),void 0,!0)]),key:"8"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasTooltip","hasPdf","hasXls","hasImg","hasSvg","hasTable","hasLabel","hasFullscreen","isFullscreen","isTooltip","titles","chartElement","position","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):g("",!0),(i(),n("svg",{ref_key:"svgRef",ref:ne,xmlns:v(ca),class:J({"vue-data-ui-fullscreen--on":R.value,"vue-data-ui-fulscreen--off":!R.value}),viewBox:"0 0 ".concat(m.value.chartWidth<=0?10:m.value.chartWidth," ").concat(m.value.chartHeight<=0?10:m.value.chartHeight),style:E("max-width:100%; overflow: visible; background:transparent;color:".concat(e.value.style.chart.color))},[ye(v(At)),t.$slots["chart-background"]?(i(),n("foreignObject",{key:0,x:m.value.left,y:m.value.top,width:m.value.width,height:m.value.height,style:{pointerEvents:"none"}},[p(t.$slots,"chart-background",{},void 0,!0)],8,Ia)):g("",!0),(i(!0),n(w,null,M(f.value,(a,s)=>(i(),n("g",Oa,[O("line",{x1:m.value.left+A.value*s+A.value/2,x2:m.value.left+A.value*s+A.value/2,y1:m.value.top,y2:m.value.bottom,stroke:e.value.style.chart.yAxis.stroke,"stroke-width":e.value.style.chart.yAxis.strokeWidth},null,8,Ea),e.value.style.chart.yAxis.labels.ticks.show?(i(),n(w,{key:0},[(i(!0),n(w,null,M(a.ticks,o=>(i(),n("line",{x1:o.x,x2:o.x-10,y1:o.y,y2:o.y,stroke:e.value.style.chart.yAxis.stroke,"stroke-width":e.value.style.chart.yAxis.strokeWidth,style:E("opacity:".concat(C.value&&!y.value.showTooltip?.2:1))},null,12,Ma))),256)),v(V)?g("",!0):(i(),n("g",Pa,[(i(!0),n(w,null,M(a.ticks,o=>(i(),n("text",{x:o.x-12+e.value.style.chart.yAxis.labels.ticks.offsetX,y:o.y+e.value.style.chart.yAxis.labels.ticks.offsetY+c.value.ticksFontSize/3,fill:e.value.style.chart.yAxis.labels.ticks.color,"text-anchor":"end","font-size":c.value.ticksFontSize,"font-weight":e.value.style.chart.yAxis.labels.ticks.bold?"bold":"normal",style:E("opacity:".concat(C.value&&!y.value.showTooltip?.2:1))},j(We({value:o.value,index:s,datapoint:o})),13,Da))),256))]))],64)):g("",!0)]))),256)),e.value.style.chart.yAxis.labels.showAxisNames?(i(),n("g",{key:1,ref_key:"xAxisLabels",ref:se},[(i(!0),n(w,null,M(f.value,(a,s)=>(i(),n(w,null,[String(a.name).includes("\n")?(i(),n("text",{key:1,class:"vue-ui-parallel-coordinate-plot-x-label",fill:e.value.style.chart.yAxis.labels.axisNamesColor,"font-size":c.value.axisNameFontSize,"font-weight":e.value.style.chart.yAxis.labels.axisNamesBold?"bold":"","text-anchor":e.value.style.chart.yAxis.labels.axisNamesRotation===0?"middle":e.value.style.chart.yAxis.labels.axisNamesRotation<0?"start":"end",transform:"translate(".concat(m.value.left+A.value*s+A.value/2,", ").concat(Y.value-c.value.axisNameFontSize,"), rotate(").concat(e.value.style.chart.yAxis.labels.axisNamesRotation,")"),innerHTML:v(va)({content:String(a.name),fontSize:c.value.axisNameFontSize,fill:e.value.style.chart.yAxis.labels.axisNamesColor,x:0,y:0})},null,8,Ba)):(i(),n("text",{key:0,class:"vue-ui-parallel-coordinate-plot-x-label",fill:e.value.style.chart.yAxis.labels.axisNamesColor,"font-size":c.value.axisNameFontSize,"font-weight":e.value.style.chart.yAxis.labels.axisNamesBold?"bold":"","text-anchor":e.value.style.chart.yAxis.labels.axisNamesRotation===0?"middle":e.value.style.chart.yAxis.labels.axisNamesRotation<0?"start":"end",transform:"translate(".concat(m.value.left+A.value*s+A.value/2,", ").concat(Y.value-c.value.axisNameFontSize,"), rotate(").concat(e.value.style.chart.yAxis.labels.axisNamesRotation,")")},j(a.name),9,La))],64))),256))],512)):g("",!0),(i(!0),n(w,null,M(ve.value,(a,s)=>(i(),n("g",null,[(i(!0),n(w,null,M(a.series,(o,u)=>(i(),n("g",null,[e.value.style.chart.plots.show?(i(),n("g",Ra,[(i(!0),n(w,null,M(o.datapoints,(r,z)=>(i(),I(Fa,{plot:{x:r.x,y:r.y},color:a.color,shape:a.shape,radius:a.shape==="triangle"?c.value.plotSize*1.2:c.value.plotSize,stroke:e.value.style.chart.backgroundColor,strokeWidth:.5,onMouseenter:x=>Q({shape:a.shape,serieName:a.name,serie:o,relativeIndex:u,seriesIndex:o.seriesIndex,S:s}),onMouseleave:x=>K({serie:o,shape:a.shape,S:s}),style:E("opacity:".concat(C.value?C.value===o.id?e.value.style.chart.plots.opacity:.2:e.value.style.chart.plots.opacity)),onClick:()=>Z({serie:o,shape:a.shape,S:s})},null,8,["plot","color","shape","radius","stroke","onMouseenter","onMouseleave","style","onClick"]))),256)),y.value.showTooltip?g("",!0):(i(),n(w,{key:0},[C.value&&C.value===o.id&&o.datapoints.length?(i(),n("text",{key:0,x:o.datapoints[0].x-c.value.ticksFontSize,y:o.datapoints[0].y+c.value.ticksFontSize/3,"text-anchor":"end","font-size":c.value.ticksFontSize,fill:a.color,"font-weight":"bold"},j(o.name),9,Va)):g("",!0)],64)),e.value.style.chart.comments.show?(i(!0),n(w,{key:1},M(o.datapoints,r=>(i(),n("g",null,[r.comment?(i(),n("foreignObject",{key:0,style:{overflow:"visible"},height:"12",width:e.value.style.chart.comments.width,x:r.x-e.value.style.chart.comments.width/2+e.value.style.chart.comments.offsetX,y:r.y+e.value.style.chart.comments.offsetY+6},[O("div",Wa,[p(t.$slots,"plot-comment",{plot:{...r,color:a.color}},void 0,!0)])],8,ja)):g("",!0)]))),256)):g("",!0)])):g("",!0),!v(V)&&(y.value.dataLabels.show||C.value&&C.value===o.id)?(i(!0),n(w,{key:1},M(o.datapoints,(r,z)=>(i(),n("text",{x:r.x+12+e.value.style.chart.yAxis.labels.datapoints.offsetX,y:r.y+e.value.style.chart.yAxis.labels.datapoints.offsetY+c.value.datapointFontSize/3,fill:e.value.style.chart.yAxis.labels.datapoints.useSerieColor?a.color:e.value.style.chart.yAxis.labels.datapoints.color,"text-anchor":"start","font-weight":e.value.style.chart.yAxis.labels.datapoints.bold?"bold":"normal",class:J({"vue-ui-pcp-animated":!1,"vue-ui-pcp-transition":!v(V)}),"font-size":c.value.datapointFontSize,onMouseenter:x=>Q({shape:a.shape,serieName:a.name,serie:o,relativeIndex:u,seriesIndex:o.seriesIndex,S:s}),onMouseleave:x=>K({serie:o,shape:a.shape,S:s}),onClick:()=>Z({serie:o,shape:a.shape,S:s}),style:E("opacity:".concat(C.value?C.value===o.id?1:.2:1))},j(We({value:r.value,index:z,datapoint:r})),47,Ua))),256)):g("",!0),O("path",{d:"M".concat(e.value.style.chart.lines.smooth?o.smoothPath:o.straightPath),stroke:a.color,"stroke-width":e.value.style.chart.lines.strokeWidth,fill:"none",class:J({"vue-ui-pcp-animated vue-data-ui-line-animated":e.value.useCssAnimation,"vue-ui-pcp-transition":!v(V)}),onMouseenter:r=>Q({shape:a.shape,serieName:a.name,serie:o,relativeIndex:u,seriesIndex:o.seriesIndex,S:s}),onMouseleave:r=>K({serie:o,shape:a.shape,S:s}),onClick:()=>Z({serie:o,shape:a.shape,S:s}),style:E("opacity:".concat(C.value?C.value===o.id?e.value.style.chart.lines.opacity:.2:e.value.style.chart.lines.opacity,"; stroke-dasharray:").concat(o.pathLength,"; stroke-dashoffset: ").concat(e.value.useCssAnimation?o.pathLength:0))},null,46,Ha),y.value.showTooltip?(i(),n("path",{key:2,d:"M".concat(e.value.style.chart.lines.smooth?o.smoothPath:o.straightPath),stroke:"transparent","stroke-width":12,fill:"none",class:J({"vue-ui-pcp-animated vue-data-ui-line-animated":e.value.useCssAnimation,"vue-ui-pcp-transition":!v(V)}),onMouseenter:r=>Q({shape:a.shape,serieName:a.name,serie:o,relativeIndex:u,seriesIndex:o.seriesIndex,S:s}),onMouseleave:r=>K({serie:o,shape:a.shape,S:s}),onClick:()=>Z({serie:o,shape:a.shape,S:s}),style:{opacity:"0"}},null,42,Ya)):g("",!0)]))),256))]))),256)),p(t.$slots,"svg",{svg:m.value},void 0,!0)],14,Na)),t.$slots.watermark?(i(),n("div",Ga,[p(t.$slots,"watermark",F(_({isPrinting:v(Ee)||v(Me)})),void 0,!0)])):g("",!0),O("div",{id:"legend-bottom-".concat(B.value)},null,8,Ja),_e.value?(i(),I(qt,{key:5,to:e.value.style.chart.legend.position==="top"?"#legend-top-".concat(B.value):"#legend-bottom-".concat(B.value)},[O("div",{ref_key:"chartLegend",ref:Ce},[e.value.style.chart.legend.show&&X.value?(i(),I($a,{key:"legend_".concat($e.value),legendSet:Ve.value,config:Et.value,onClickMarker:l[0]||(l[0]=({legend:a})=>{q(a.id),Ye(a)})},{item:h(({legend:a,index:s})=>[O("div",{onClick:o=>{a.segregate(),Ye(a)},style:E("opacity:".concat($.value.includes(a.id)?.5:1))},j(a.name),13,Xa)]),_:1},8,["legendSet","config"])):p(t.$slots,"legend",{key:1,legend:T.value},void 0,!0)],512)],8,["to"])):g("",!0),t.$slots.source?(i(),n("div",{key:6,ref_key:"source",ref:Ae,dir:"auto"},[p(t.$slots,"source",{},void 0,!0)],512)):g("",!0),ye(v(yt),{show:y.value.showTooltip&&he.value,backgroundColor:e.value.style.chart.tooltip.backgroundColor,color:e.value.style.chart.tooltip.color,fontSize:e.value.style.chart.tooltip.fontSize,borderRadius:e.value.style.chart.tooltip.borderRadius,borderColor:e.value.style.chart.tooltip.borderColor,borderWidth:e.value.style.chart.tooltip.borderWidth,backgroundOpacity:e.value.style.chart.tooltip.backgroundOpacity,position:e.value.style.chart.tooltip.position,offsetY:e.value.style.chart.tooltip.offsetY,parent:N.value,content:pe.value,isFullscreen:R.value,isCustom:v(lt)(e.value.style.chart.tooltip.customFormat),smooth:e.value.style.chart.tooltip.smooth,backdropFilter:e.value.style.chart.tooltip.backdropFilter,smoothForce:e.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:e.value.style.chart.tooltip.smoothSnapThreshold},{"tooltip-before":h(()=>[p(t.$slots,"tooltip-before",F(_({...de.value})),void 0,!0)]),"tooltip-after":h(()=>[p(t.$slots,"tooltip-after",F(_({...de.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","fontSize","borderRadius","borderColor","borderWidth","backgroundOpacity","position","offsetY","parent","content","isFullscreen","isCustom","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),X.value&&e.value.userOptions.buttons.table?(i(),I(Qt(G.value.component),Kt({key:7},G.value.props,{ref_key:"tableUnit",ref:H,onClose:qe}),Ze({content:h(()=>[(i(),I(v(xt),{key:"table_".concat(Fe.value),colNames:U.value.colNames,head:U.value.head,body:U.value.body,config:U.value.config,title:e.value.table.useDialog?"":G.value.title,withCloseButton:!e.value.table.useDialog,onClose:qe},{th:h(({th:a})=>[O("div",{innerHTML:a},null,8,qa)]),td:h(({td:a})=>[et(j(a),1)]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))]),_:2},[e.value.table.useDialog?{name:"title",fn:h(()=>[et(j(G.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:h(()=>[O("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:l[1]||(l[1]=a=>me(e.value.userOptions.callbacks.csv))},[ye(v(gt),{name:"excel",stroke:G.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):g("",!0),v(V)?(i(),I(fa,{key:8})):g("",!0)],46,Ta))}},Qa=ea(Ka,[["__scopeId","data-v-43c25705"]]),yl=Object.freeze(Object.defineProperty({__proto__:null,default:Qa},Symbol.toStringTag,{value:"Module"}));export{bl as a,yl as b,Qa as v};
