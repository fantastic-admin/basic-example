
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./PenAndPaper--ADXtx65-ugytqLuo.js","./index-CJB5jCfL.js","./index-D6D_bXIl.css","./vue-data-ui-8Gmf-dDN.js","./alert-I_0TAljB.js","./vue-data-ui-C46fMXq5.css","./ColorPicker-BYn8PF2Z-DkxHqz9_.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-Cy-iNhZU-CnpDVImt.js","./img-CqYIrJ8I-E54QgU9o.js","./dom-to-png-WXGPkYro-BQsfl1t5.js","./PackageVersion-By5ZZJ0U-Cc8IPeAX.js"])))=>i.map(i=>d[i]);
import{c0 as wt,J as f,e as u,a8 as At,K as Z,av as Pe,E as $t,aw as Ct,c as s,o as i,z as V,A as g,h,r as v,j as x,k as w,u as r,c1 as ee,c3 as _t,O as E,n as te,g as Lt,f as Ot,F as _,R as I,m as Se,t as U,l as Ee,c4 as le}from"./index-CJB5jCfL.js";import{s as zt,J as Pt,x as St,v as Et,o as Ie,$ as It,E as Fe,A as Be,a as Ft,d as Bt,m as Me,L as oe,F as ae,B as ie}from"./vue-data-ui-8Gmf-dDN.js";import{E as Mt,M as Dt}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{s as Rt,i as se}from"./useNestedProp-DaR1dBmj-yWXLkJlG.js";import{T as Tt,j as jt}from"./BaseScanner-BMpwQAfz-mc47WWxo.js";import{m as Nt}from"./usePrinter-ChVMpU2f-B27PF0nl.js";import{O as Vt}from"./useSvgExport-ByUukOZt-XO0OK7cR.js";import{i as Ut}from"./useThemeCheck-DGJ31Vi5-GRZcYzX8.js";import{a as Gt}from"./useUserOptionState-BIvW1Kz7-D70wY835.js";import{o as Wt}from"./useChartAccessibility-9icAAmYg-CuAxjhEs.js";import{v as Jt}from"./useAutoSizeLabelsInsideViewbox-DmpzKQ9i-BMsDV4GS.js";import Yt from"./img-CqYIrJ8I-E54QgU9o.js";import qt from"./Title-D0nD-PMs-DAiwElB_.js";import"./alert-I_0TAljB.js";import"./dom-to-png-WXGPkYro-BQsfl1t5.js";const De={style:{backgroundColor:"#1A1A1A",color:"#CCCCCC",labels:{color:"#CCCCCC"},circle:{stroke:"#5A5A5A"},plot:{color:"#1A1A1A"},title:{color:"#CCCCCC",subtitle:{color:"#757575"}}}},Re={style:{backgroundColor:"#FFF8E1",color:"#424242",labels:{color:"#424242"},circle:{stroke:"#5D403780"},plot:{color:"#5D4037"},title:{color:"#424242",subtitle:{color:"#757575"}}}},Te={style:{backgroundColor:"#1E1E1E",color:"#BDBDBD",labels:{color:"#BDBDBD"},circle:{stroke:"#5D403780"},plot:{color:"#5D4037"},title:{color:"#FFF8E1",subtitle:{color:"#BDBDBD"}}}},je={style:{backgroundColor:"#1A1A1A",color:"#99AA99",labels:{color:"#AACCAA"},circle:{stroke:"#333333"},plot:{color:"#66CC66"},title:{color:"#66CC66",subtitle:{color:"#99AA99"}}}},Ne={style:{backgroundColor:"#fbfafa",color:"#8A9892",labels:{color:"#A0AC94"},circle:{stroke:"transparent"},plot:{color:"#C09E85"},title:{color:"#8A9892",subtitle:{color:"#99AA99"}}}},Ve={style:{backgroundColor:"#f6f6fb",color:"#50606C",labels:{color:"#61747E"},circle:{stroke:"#D2D7E0"},plot:{color:"#97ACB7"},title:{color:"#50606C",subtitle:{color:"#718890"}}}},Ue={default:{},dark:De,celebration:Re,celebrationNight:Te,hack:je,zen:Ne,concrete:Ve},zl=Object.freeze(Object.defineProperty({__proto__:null,celebration:Re,celebrationNight:Te,concrete:Ve,dark:De,default:Ue,hack:je,zen:Ne},Symbol.toStringTag,{value:"Module"})),Kt=["id"],Ht=["xmlns","viewBox"],Qt=["width","height"],Xt=["cx","cy","r","stroke","stroke-width"],Zt={key:1},el=["stroke","d","stroke-width"],tl={style:{"pointer-events":"none"}},ll=["cx","cy","fill","r","stroke"],ol=["x","y","fill","font-size"],al={key:2},il=["stroke","stroke-width","x1","x2","y1","y2"],sl={style:{"pointer-events":"none"}},rl=["cx","cy","fill","r","stroke"],nl=["x","y","fill","font-size"],ul=["text-anchor","transform","x","y","font-weight","font-size","fill","text-decoration","onClick","onMouseenter","onMouseleave"],cl=["cx","cy","fill","stroke","r","onClick","onMouseenter","onMouseleave"],vl={key:4,class:"vue-data-ui-watermark"},dl={__name:"vue-ui-relation-circle",props:{dataset:{type:Array,default(){return[]}},config:{type:Object,default(){return{}}}},setup(Ge,{expose:We}){wt(e=>({v0ccf0e06:at.value,v0ab0445c:ot.value,v08643f3e:it.value}));const Je=ee(()=>le(()=>import("./PenAndPaper--ADXtx65-ugytqLuo.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url)),Ye=ee(()=>le(()=>import("./UserOptions-Cy-iNhZU-CnpDVImt.js"),__vite__mapDeps([8,1,2,7,3,4,5,9,10]),import.meta.url)),qe=ee(()=>le(()=>import("./PackageVersion-By5ZZJ0U-Cc8IPeAX.js"),__vite__mapDeps([11,1,2]),import.meta.url)),{vue_ui_relation_circle:Ke}=Rt(),{isThemeValid:He,warnInvalidTheme:Qe}=Ut(),p=Ge,Xe=f(()=>!!p.dataset&&Object.keys(p.dataset).length),F=u(Pt()),re=u(0),L=u(null),ne=u(null),ue=u(null),ce=u(null),ve=u(0),l=u(J()),{loading:de,FINAL_DATASET:Ze,manualLoading:G}=Tt({...At(p),FINAL_CONFIG:l,prepareConfig:J,skeletonDataset:[{id:"A",label:"_",relations:["B","C","D","E","F","G"]},{id:"B",label:"_",relations:["A"]},{id:"C",label:"_",relations:["A"]},{id:"D",label:"_",relations:["A"]},{id:"E",label:"_",relations:["A"]},{id:"F",label:"_",relations:["A"]},{id:"G",label:"_",relations:["A"]}],skeletonConfig:St({defaultConfig:l.value,userConfig:{userOptions:{show:!1},customPalette:new Array(7).fill("#CACACA"),style:{backgroundColor:"#99999930",labels:{color:"#6A6A6A"},circle:{stroke:"#6A6A6A"},plot:{color:"#6A6A6A",useSerieColor:!0},links:{maxWidth:2}}}})}),{userOptionsVisible:W,setUserOptionsVisibility:ye,keepUserOptionState:ge}=Gt({config:l.value}),{svgRef:M}=Wt({config:l.value.style.title});function J(){const e=se({userConfig:p.config,defaultConfig:Ke}),o=e.theme;if(!o)return e;if(!He.value(e))return Qe(e),e;const t=se({userConfig:Ue[o]||p.config,defaultConfig:e}),a=se({userConfig:p.config,defaultConfig:t});return{...a,customPalette:a.customPalette.length?a.customPalette:Et[o]||Ie}}Z(()=>p.config,e=>{l.value=J(),W.value=!l.value.userOptions.showOnChartHover,O.value=l.value.style.size,m.value=l.value.style.weightLabels.size,R.value=l.value.style.plot.radius,B.value=l.value.style.labels.fontSize,n.value.height=l.value.style.size,n.value.width=l.value.style.size,xe(),ve.value+=1},{deep:!0}),Z(()=>p.dataset,e=>{Array.isArray(e)&&e.length>0&&(G.value=!1)},{deep:!0});const{isPrinting:fe,isImaging:he,generatePdf:pe,generateImage:me}=Nt({elementId:"relation_circle_".concat(F.value),fileName:l.value.style.title.text||"vue-ui-relation-circle",options:l.value.userOptions.print}),et=f(()=>l.value.userOptions.show&&!l.value.style.title.text),be=f(()=>It(l.value.customPalette)),A=u([]),b=u([]),d=u({}),k=u([]),tt=u(0),D=f(()=>Ze.value.slice(0,l.value.style.limit).map(e=>{const o=Array.isArray(e.relations)?e.relations:[];return{...e,weights:Array.isArray(e.weights)?e.weights:new Array(o.length).fill(1),relations:o}}));Z(D,()=>{A.value=[],b.value=[],Y(),q()});const O=u(l.value.style.size),m=u(l.value.style.weightLabels.size),R=u(l.value.style.plot.radius),B=u(l.value.style.labels.fontSize),n=u({height:l.value.style.size,width:l.value.style.size}),z=f({get(){return O.value*l.value.style.circle.radiusProportion},set(e){return e}}),lt=f(()=>l.value.style.links.curved),ot=f(()=>"".concat(l.value.style.animation.speedMs,"ms")),at=f(()=>z.value*2),it=f(()=>z.value*4),$=Pe(null),P=Pe(null);$t(()=>{xe(),document.getElementById("relation_circle_".concat(F.value)).addEventListener("click",Ae)});const ke=f(()=>l.value.debug);function xe(){if(Fe(p.dataset)?(Be({componentName:"VueUiRelationCircle",type:"dataset",debug:ke.value}),G.value=!0):p.dataset.forEach((e,o)=>{Ft({datasetObject:e,requiredAttributes:["id","label","relations","weights"]}).forEach(t=>{Be({componentName:"VueUiRelationCircle",type:"datasetSerieAttribute",property:t,index:o,debug:ke.value})})}),Fe(p.dataset)||(G.value=l.value.loading),l.value.responsive){const e=Mt(()=>{const{width:o,height:t}=Dt({chart:L.value,title:l.value.style.title.text?ne.value:null,source:ue.value,noTitle:ce.value});requestAnimationFrame(()=>{O.value=Math.min(o,t),n.value.width=Math.max(.1,o),n.value.height=Math.max(.1,t-12),z.value=O.value*l.value.style.circle.radiusProportion,A.value=[],b.value=[],Y(),q(),we(),l.value.responsiveProportionalSizing?(m.value=ie({relator:O.value,adjuster:l.value.style.size,source:l.value.style.weightLabels.size,threshold:6,fallback:6}),R.value=ie({relator:O.value,adjuster:l.value.style.size,source:l.value.style.plot.radius,threshold:1,fallback:1}),B.value=ie({relator:O.value,adjuster:l.value.style.size,source:l.value.style.labels.fontSize,threshold:6,fallback:6})):(m.value=l.value.style.weightLabels.size,R.value=l.value.style.plot.radius,B.value=l.value.style.labels.fontSize)})});$.value&&(P.value&&$.value.unobserve(P.value),$.value.disconnect()),$.value=new ResizeObserver(e),P.value=L.value.parentNode,$.value.observe(P.value)}else A.value=[],b.value=[],Y(),q();we()}Ct(()=>{document.getElementById("relation_circle_".concat(F.value)).removeEventListener("click",Ae),$.value&&(P.value&&$.value.unobserve(P.value),$.value.disconnect())});const{autoSizeLabels:we}=Jt({svgRef:M,fontSize:l.value.style.labels.fontSize,minFontSize:l.value.style.labels.minFontSize,sizeRef:B,labelClass:".vue-ui-relation-circle-legend"});function Ae(e){const o=e.target;o&&Array.from(o.classList).includes("vue-ui-user-options")||o&&Array.from(o.classList).includes("vue-ui-user-options-summary")||o&&Array.from(o.classList).includes("vue-data-ui-button")||o&&Array.from(o.classList).includes("vue-ui-relation-circle-legend")||(d.value={},k.value=[])}function Y(){const e=6.28319/D.value.length,o=360/D.value.length;let t=0,a=0;D.value.forEach((y,c)=>{const Q=y.weights.reduce((kt,xt)=>kt+xt,0),X=z.value*Math.cos(t)+n.value.width/2,bt=z.value*Math.sin(t)+n.value.height/2+l.value.style.circle.offsetY;A.value.push({x:X,y:bt,...y,color:y.color?y.color:be.value[c]?be.value[c]:Ie[c],regAngle:a,totalWeight:Q}),t+=e,a+=o})}function st(e,o){const t=(e.x+o.x)/2,a=(e.y+o.y)/2;return{x:t,y:a}}function q(){b.value=[],A.value.forEach(e=>{A.value.filter(o=>o.relations.includes(e.id)).forEach((o,t)=>{const a=o.relations.indexOf(e.id);b.value.push({weight:o.weights[a]?o.weights[a]:0,relationId:"".concat(e.id,"_").concat(o.id),x1:e.x,y1:e.y,x2:o.x,y2:o.y,colorSource:e.color,colorTarget:o.color,midPointLine:st({x:e.x,y:e.y},{x:o.x,y:o.y}),midPointBezier:rt({x1:e.x,x2:o.x,y1:e.y,y2:o.y}),...e})})})}function rt(e){const o={x:e.x1,y:e.y1},t={x:e.x2,y:e.y2},a={x:e.x1,y:e.y1},y={x:n.value.width/2,y:n.value.height/2+l.value.style.circle.offsetY},c=.5,Q=Math.pow(1-c,3)*o.x+3*Math.pow(1-c,2)*c*a.x+3*(1-c)*Math.pow(c,2)*y.x+Math.pow(c,3)*t.x,X=Math.pow(1-c,3)*o.y+3*Math.pow(1-c,2)*c*a.y+3*(1-c)*Math.pow(c,2)*y.y+Math.pow(c,3)*t.y;return{x:Q,y:X}}const nt=f(()=>Math.max(...b.value.map(e=>e.weight)));function ut(e){return Object.hasOwn(d.value,"x")?k.value.includes(e.id)?"opacity:1":"opacity:0.1":"opacity:1"}function C(e){return e.colorSource}function $e(e){return Object.hasOwn(d.value,"x")?k.value.includes(e.id)&&e.relationId==="".concat(e.id,"_").concat(d.value.id)||e.relationId==="".concat(d.value.id,"_").concat(e.id)?"opacity:1;stroke-width:".concat(K(e)):"opacity: 0":"opacity: 1"}function S(e){return Object.hasOwn(d.value,"x")?!!(k.value.includes(e.id)&&e.relationId==="".concat(e.id,"_").concat(d.value.id)||e.relationId==="".concat(d.value.id,"_").concat(e.id)):!1}function ct(e){return e.regAngle>90&&e.regAngle<270?"end":"start"}function vt(e){return e.regAngle>90&&e.regAngle<270?e.x-5:e.x+5}function dt(e){return Object.hasOwn(d.value,"x")?d.value.id===e.id||k.value.includes(e.id)?"opacity:1":"opacity:0.2":"opacity:1"}function yt(e){return e.regAngle>90&&e.regAngle<270?"rotate(".concat(e.regAngle+180,",").concat(e.x,",").concat(e.y,")"):"rotate(".concat(e.regAngle,",").concat(e.x,",").concat(e.y,")")}const T=u(null);function Ce(e,o){T.value=o,l.value.events.datapointEnter&&l.value.events.datapointEnter({datapoint:e,seriesIndex:o})}function _e(e,o){T.value=null,l.value.events.datapointLeave&&l.value.events.datapointLeave({datapoint:e,seriesIndex:o})}function Le(e,o){l.value.events.datapointClick&&l.value.events.datapointClick({datapoint:e,seriesIndex:o}),tt.value=360-e.regAngle,d.value.id&&e.id===d.value.id?(d.value={},k.value=[]):(d.value=e,k.value=[...e.relations])}function K(e){const o=e.weight/nt.value*l.value.style.links.maxWidth;return Math.max(.3,o)}const j=u(!1);function Oe(e){j.value=e,re.value+=1}const N=u(!1);function H(){N.value=!N.value}async function gt({scale:e=2}={}){if(!L.value)return;const{width:o,height:t}=L.value.getBoundingClientRect(),a=o/t,{imageUri:y,base64:c}=await Yt({domElement:L.value,base64:!0,img:!0,scale:e});return{imageUri:y,base64:c,title:l.value.style.title.text,width:o,height:t,aspectRatio:a}}const ft=f(()=>l.value.style.backgroundColor),ht=f(()=>l.value.style.title),{exportSvg:pt,getSvg:mt}=Vt({svg:M,title:ht,backgroundColor:ft});async function ze({isCb:e}){if(e){const{blob:o,url:t,text:a,dataUrl:y}=await mt();l.value.userOptions.callbacks.svg({blob:o,url:t,text:a,dataUrl:y})}else pt()}return We({getImage:gt,generatePdf:pe,generateSvg:ze,generateImage:me,toggleAnnotator:H,toggleFullscreen:Oe}),(e,o)=>(i(),s("div",{ref_key:"relationCircleChart",ref:L,class:"vue-data-ui-component vue-ui-relation-circle",style:E("width:100%;background:".concat(l.value.style.backgroundColor,";text-align:center;").concat(l.value.responsive?"height: 100%":"")),id:"relation_circle_".concat(F.value),onMouseenter:o[0]||(o[0]=()=>r(ye)(!0)),onMouseleave:o[1]||(o[1]=()=>r(ye)(!1))},[l.value.userOptions.buttons.annotator?(i(),V(r(Je),{key:0,svgRef:r(M),backgroundColor:l.value.style.backgroundColor,color:l.value.style.color,active:N.value,onClose:H},{"annotator-action-close":h(()=>[v(e.$slots,"annotator-action-close",{},void 0,!0)]),"annotator-action-color":h(({color:t})=>[v(e.$slots,"annotator-action-color",x(w({color:t})),void 0,!0)]),"annotator-action-draw":h(({mode:t})=>[v(e.$slots,"annotator-action-draw",x(w({mode:t})),void 0,!0)]),"annotator-action-undo":h(({disabled:t})=>[v(e.$slots,"annotator-action-undo",x(w({disabled:t})),void 0,!0)]),"annotator-action-redo":h(({disabled:t})=>[v(e.$slots,"annotator-action-redo",x(w({disabled:t})),void 0,!0)]),"annotator-action-delete":h(({disabled:t})=>[v(e.$slots,"annotator-action-delete",x(w({disabled:t})),void 0,!0)]),_:3},8,["svgRef","backgroundColor","color","active"])):g("",!0),et.value?(i(),s("div",{key:1,ref_key:"noTitle",ref:ce,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):g("",!0),l.value.style.title.text?(i(),s("div",{key:2,ref_key:"chartTitle",ref:ne,style:"width:100%;background:transparent"},[(i(),V(qt,{key:"title_".concat(ve.value),config:{title:{cy:"relation-div-title",...l.value.style.title},subtitle:{cy:"relation-div-subtitle",...l.value.style.title.subtitle}}},null,8,["config"]))],512)):g("",!0),l.value.userOptions.show&&Xe.value&&(r(ge)||r(W))?(i(),V(r(Ye),{ref:"details",key:"user_options_".concat(re.value),backgroundColor:l.value.style.backgroundColor,color:l.value.style.color,isPrinting:r(fe),isImaging:r(he),uid:F.value,hasPdf:l.value.userOptions.buttons.pdf,hasImg:l.value.userOptions.buttons.img,hasSvg:l.value.userOptions.buttons.svg,hasFullscreen:l.value.userOptions.buttons.img,hasXls:!1,isFullscreen:j.value,titles:{...l.value.userOptions.buttonTitles},chartElement:L.value,position:l.value.userOptions.position,hasAnnotator:l.value.userOptions.buttons.annotator,isAnnotation:N.value,callbacks:l.value.userOptions.callbacks,printScale:l.value.userOptions.print.scale,onToggleFullscreen:Oe,onGeneratePdf:r(pe),onGenerateImage:r(me),onGenerateSvg:ze,onToggleAnnotator:H,style:E({visibility:r(ge)?r(W)?"visible":"hidden":"visible"})},_t({_:2},[e.$slots.menuIcon?{name:"menuIcon",fn:h(({isOpen:t,color:a})=>[v(e.$slots,"menuIcon",x(w({isOpen:t,color:a})),void 0,!0)]),key:"0"}:void 0,e.$slots.optionPdf?{name:"optionPdf",fn:h(()=>[v(e.$slots,"optionPdf",{},void 0,!0)]),key:"1"}:void 0,e.$slots.optionImg?{name:"optionImg",fn:h(()=>[v(e.$slots,"optionImg",{},void 0,!0)]),key:"2"}:void 0,e.$slots.optionSvg?{name:"optionSvg",fn:h(()=>[v(e.$slots,"optionSvg",{},void 0,!0)]),key:"3"}:void 0,e.$slots.optionFullscreen?{name:"optionFullscreen",fn:h(({toggleFullscreen:t,isFullscreen:a})=>[v(e.$slots,"optionFullscreen",x(w({toggleFullscreen:t,isFullscreen:a})),void 0,!0)]),key:"4"}:void 0,e.$slots.optionAnnotator?{name:"optionAnnotator",fn:h(({toggleAnnotator:t,isAnnotator:a})=>[v(e.$slots,"optionAnnotator",x(w({toggleAnnotator:t,isAnnotator:a})),void 0,!0)]),key:"5"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasPdf","hasImg","hasSvg","hasFullscreen","isFullscreen","titles","chartElement","position","hasAnnotator","isAnnotation","callbacks","printScale","onGeneratePdf","onGenerateImage","style"])):g("",!0),(i(),s("svg",{ref_key:"svgRef",ref:M,xmlns:r(Bt),class:te([{"vue-data-ui-fullscreen--on":j.value,"vue-data-ui-fulscreen--off":!j.value},"relation-circle"]),viewBox:"0 0 ".concat(n.value.width<=0?10:n.value.width," ").concat(n.value.height<=0?10:n.value.height),width:"100%",style:"user-select:none; background:transparent"},[Lt(r(qe)),e.$slots["chart-background"]?(i(),s("foreignObject",{key:0,x:0,y:0,width:n.value.width<=0?10:n.value.width,height:n.value.height<=0?10:n.value.height,style:{pointerEvents:"none"}},[v(e.$slots,"chart-background",{},void 0,!0)],8,Qt)):g("",!0),Ot("circle",{cx:(n.value.width<=0?1e-4:n.value.width)/2,cy:(n.value.height<=0?1e-4:n.value.height)/2+l.value.style.circle.offsetY,r:z.value<=0?1e-4:z.value,stroke:l.value.style.circle.stroke,"stroke-width":l.value.style.circle.strokeWidth,fill:"transparent",class:"main-circle"},null,8,Xt),lt.value?(i(),s("g",Zt,[(i(!0),s(_,null,I(b.value,(t,a)=>(i(),s("path",{key:"relation_".concat(a),style:E($e(t)),stroke:C(t),class:te(["relation",{"vue-ui-relation-circle-selected":d.value.hasOwnProperty("id")&&k.value.includes(t.id)}]),d:"M".concat(t.x1,",").concat(t.y1," C").concat(t.x1,",").concat(t.y1," ").concat(n.value.width/2,",").concat(n.value.height/2+l.value.style.circle.offsetY," ").concat(t.x2,",").concat(t.y2),fill:"none","stroke-width":K(t),"stroke-linecap":"round"},null,14,el))),128)),(i(!0),s(_,null,I(b.value,(t,a)=>(i(),s("g",tl,[S(t)?v(e.$slots,"dataLabel",Se({key:0,ref_for:!0},{x:t.midPointBezier.x,y:t.midPointBezier.y,color:C(t),weight:t.weight,fontSize:m.value}),void 0,!0):g("",!0),S(t)&&!e.$slots.dataLabel?(i(),s("circle",{key:1,cx:t.midPointBezier.x,cy:t.midPointBezier.y,fill:C(t),r:m.value,stroke:l.value.style.backgroundColor,"stroke-width":"1"},null,8,ll)):g("",!0),S(t)&&!e.$slots.dataLabel?(i(),s("text",{key:2,x:t.midPointBezier.x,y:t.midPointBezier.y+m.value/3,fill:r(Me)(C(t)),"text-anchor":"middle","font-size":m.value},U(r(oe)(l.value.style.weightLabels.formatter,t.weight,r(ae)({p:l.value.style.weightLabels.prefix,v:t.weight,s:l.value.style.weightLabels.suffix,r:l.value.style.weightLabels.rounding}),{...t})),9,ol)):g("",!0)]))),256))])):(i(),s("g",al,[(i(!0),s(_,null,I(b.value,(t,a)=>(i(),s("line",{key:"relation_".concat(a),stroke:C(t),"stroke-width":K(t),style:E($e(t)),x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,class:te({"vue-ui-relation-circle-selected":d.value.hasOwnProperty("id")&&k.value.includes(t.id)}),"stroke-linecap":"round"},null,14,il))),128)),(i(!0),s(_,null,I(b.value,(t,a)=>(i(),s("g",sl,[S(t)?v(e.$slots,"dataLabel",Se({key:0,ref_for:!0},{x:t.midPointLine.x,y:t.midPointLine.y,color:C(t),weight:t.weight,fontSize:m.value}),void 0,!0):g("",!0),S(t)&&!e.$slots.dataLabel&&l.value.style.weightLabels.show?(i(),s("circle",{key:1,cx:t.midPointLine.x,cy:t.midPointLine.y,fill:C(t),r:m.value,stroke:l.value.style.backgroundColor,"stroke-width":"1"},null,8,rl)):g("",!0),S(t)&&!e.$slots.dataLabel&&l.value.style.weightLabels.show?(i(),s("text",{key:2,x:t.midPointLine.x,y:t.midPointLine.y+m.value/3,fill:r(Me)(C(t)),"text-anchor":"middle","font-size":m.value},U(r(oe)(l.value.style.weightLabels.formatter,t.weight,r(ae)({p:l.value.style.weightLabels.prefix,v:t.weight,s:l.value.style.weightLabels.suffix,r:l.value.style.weightLabels.rounding}),{...t})),9,nl)):g("",!0)]))),256))])),(i(!0),s(_,null,I(A.value,(t,a)=>(i(),s("text",{key:"plot_text_".concat(a),"text-anchor":ct(t),transform:yt(t),x:vt(t),y:t.y+5,class:"vue-ui-relation-circle-legend","transform-origin":"start","font-weight":d.value.id===t.id?"900":"400",style:E("font-family:".concat(l.value.style.fontFamily,";").concat(dt(t))),"font-size":B.value,fill:l.value.style.labels.color,"text-decoration":a===T.value?"underline":void 0,onClick:y=>Le(t,a),onMouseenter:y=>Ce(t,a),onMouseleave:y=>_e(t,a)},[r(de)?(i(),s(_,{key:0},[Ee(" -------- ")],64)):(i(),s(_,{key:1},[Ee(U(t.label)+" ("+U(r(oe)(l.value.style.weightLabels.formatter,t.totalWeight,r(ae)({p:l.value.style.weightLabels.prefix,v:t.totalWeight,s:l.value.style.weightLabels.suffix,r:l.value.style.weightLabels.rounding}),{...t}))+") ",1)],64))],44,ul))),128)),(i(!0),s(_,null,I(A.value,(t,a)=>(i(),s("circle",{cx:t.x,cy:t.y,key:"plot_".concat(a),style:E("".concat(ut(t),"; transition: r 0.2s ease-in-out;")),class:"vue-ui-relation-circle-plot",fill:l.value.style.plot.useSerieColor?t.color:l.value.style.plot.color,stroke:l.value.style.backgroundColor,"stroke-width":"1",r:R.value*(a===T.value?2:1),onClick:y=>Le(t,a),onMouseenter:y=>Ce(t,a),onMouseleave:y=>_e(t,a)},null,44,cl))),128)),v(e.$slots,"svg",{svg:n.value},void 0,!0)],10,Ht)),e.$slots.watermark?(i(),s("div",vl,[v(e.$slots,"watermark",x(w({isPrinting:r(fe)||r(he)})),void 0,!0)])):g("",!0),e.$slots.source?(i(),s("div",{key:5,ref_key:"source",ref:ue,dir:"auto"},[v(e.$slots,"source",{},void 0,!0)],512)):g("",!0),r(de)?(i(),V(jt,{key:6})):g("",!0)],44,Kt))}},yl=zt(dl,[["__scopeId","data-v-f336b6ba"]]),Pl=Object.freeze(Object.defineProperty({__proto__:null,default:yl},Symbol.toStringTag,{value:"Module"}));export{zl as a,Pl as b,yl as v};
