
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./vue-ui-xy-DXMbNkHe-D4Z92zkq.js","./index-DXZKKOp8.js","./index-B7kifsnL.css","./vue-data-ui-BN9YfUec.js","./alert-l5XlVwCh.js","./vue-data-ui-D1HaM8UR.css","./useResponsive-DfdjqQps-DzVAt69W.js","./useNestedProp-dJX_8vvZ-BzBW50KN.js","./usePrinter-DTzqpYKF-D5mkxXp9.js","./BaseScanner-BgWxam9d-B19ueoDW.js","./useTimeLabels-BGFjWgrv-C_AB8TRS.js","./useSvgExport-DrjCWun4-CbW14PXm.js","./useTimeLabelCollider-CIsgDrl9-CjJy_OeC.js","./img-BecE5qXd-CsL1o-EN.js","./dom-to-png--BNgrTZV-DTUrW_sQ.js","./Title-BWp-37K_-BMUMQpSO.js","./themes-AUNCOb2G-RAhReTPj.js","./Shape-CNXKB8O0-BJGuTKHC.js","./SlicerPreview-ij72TAs6-Cxp5eJgP.js","./vue-ui-accordion-UpZ765hd-DndPzmcD.js","./DataTable-BT7VF2ua-Cw2NNXsE.js","./PenAndPaper-DSvu9dwa-B6YjX2xm.js","./ColorPicker-J5wOPCeB-sgb_Bfch.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-1OZ3jcm6-BbpzMig3.js","./PackageVersion-TgflyMpU-q2MkeeNq.js","./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"])))=>i.map(i=>d[i]);
import{J as v,e as i,au as ut,a7 as rl,av as it,K as Q,a9 as _e,at as nl,b_ as T,c as n,o as r,z as O,A as c,r as m,f as y,u,c0 as Oe,h as p,j as se,k as re,O as $,n as ne,g as Pe,F as f,R as k,m as Le,t as N,l as Se,N as ul,c1 as z}from"./index-DXZKKOp8.js";import{s as il,Q as Te,A as vl,C as cl,a as dl,m as ue,au as vt,ah as hl,_ as ct,z as yl,as as pl,y as gl,K as fl,S as ml,I as ie,f as ve,v as bl,p as ze,b as dt,g as xl,e as kl,r as Al,U as wl}from"./vue-data-ui-BN9YfUec.js";import{E as ht,M as Cl}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{t as $l,o as yt}from"./useNestedProp-dJX_8vvZ-BzBW50KN.js";import{S as _l,T as Ol}from"./BaseScanner-BgWxam9d-B19ueoDW.js";import{m as Pl}from"./usePrinter-DTzqpYKF-D5mkxXp9.js";import{O as Ll}from"./useSvgExport-DrjCWun4-CbW14PXm.js";import{F as Sl}from"./useTimeLabels-BGFjWgrv-C_AB8TRS.js";import{a as Tl}from"./useUserOptionState-BIvW1Kz7-D6llU1BK.js";import{o as zl}from"./useChartAccessibility-9icAAmYg-BcUQIUvr.js";import{S as Ml}from"./useTimeLabelCollider-CIsgDrl9-CjJy_OeC.js";import{J as El}from"./themes-AUNCOb2G-RAhReTPj.js";import Il from"./Legend-G6GMcdAc-7HaGLNN7.js";import Dl from"./Title-BWp-37K_-BMUMQpSO.js";import{w as Fl}from"./Shape-CNXKB8O0-BJGuTKHC.js";import Rl from"./img-BecE5qXd-CsL1o-EN.js";import"./alert-l5XlVwCh.js";import"./dom-to-png--BNgrTZV-DTUrW_sQ.js";const Nl=["id"],Vl=["xmlns","viewBox"],Bl=["id"],Hl=["stop-color"],Xl=["stop-color"],Ul=["stop-color"],Gl=["stop-color"],Wl=["id"],jl=["stop-color"],Yl=["stop-color"],Kl=["stop-color"],ql=["stop-color"],Zl={key:0},Jl=["fill","d"],Ql=["stroke","stroke-width","d"],ea=["fill","d"],ta=["stroke","stroke-dasharray","stroke-width","d"],la=["x1","y1","x2","y2","stroke","stroke-width","stroke-dasharray"],aa=["cx","cy","stroke","stroke-width","r","fill"],oa=["x","y","font-size","font-weight","fill","text-decoration","onMouseenter","onClick"],sa={key:0},ra=["font-size","fill","font-weight","transform","text-anchor"],na=["font-size","fill","font-weight","transform","text-anchor","innerHTML"],ua=["x","y","width","height","onMouseenter","onMouseleave","onClick"],ia=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],va=["cx","cy","stroke","stroke-width","r","fill"],ca=["x","y","text-anchor","font-size","fill"],da={key:4,class:"vue-data-ui-watermark"},ha=["onClick"],ya=["innerHTML"],pa={__name:"vue-ui-ridgeline",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:["selectLegend","selectDatapoint","selectX"],setup(pt,{expose:gt,emit:ft}){const mt=T(()=>z(()=>import("./vue-ui-xy-DXMbNkHe-D4Z92zkq.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),bt=T(()=>z(()=>import("./vue-data-ui-BN9YfUec.js").then(t=>t.aw),__vite__mapDeps([3,1,2,4,5]),import.meta.url)),xt=T(()=>z(()=>import("./vue-ui-accordion-UpZ765hd-DndPzmcD.js"),__vite__mapDeps([19,1,2,3,4,5,7]),import.meta.url)),kt=T(()=>z(()=>import("./DataTable-BT7VF2ua-Cw2NNXsE.js"),__vite__mapDeps([20,1,2,17,3,4,5]),import.meta.url)),At=T(()=>z(()=>import("./PenAndPaper-DSvu9dwa-B6YjX2xm.js"),__vite__mapDeps([21,1,2,3,4,5,22,23]),import.meta.url)),wt=T(()=>z(()=>import("./UserOptions-1OZ3jcm6-BbpzMig3.js"),__vite__mapDeps([24,1,2,23,3,4,5,13,14]),import.meta.url)),Ct=T(()=>z(()=>import("./PackageVersion-TgflyMpU-q2MkeeNq.js"),__vite__mapDeps([25,1,2]),import.meta.url)),Me=T(()=>z(()=>import("./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"),__vite__mapDeps([26,1,2,3,4,5]),import.meta.url)),{vue_ui_ridgeline:$t}=$l(),V=pt,U=v({get(){return Array.isArray(E.value)&&E.value.length>0},set(t){return t}}),ce=ft,_=i(null),Ee=i(null),Ie=i(null),P=ut(null),M=ut(null),De=i(null),Fe=i(null),de=i(0),_t=i(0),he=i(0),A=i(Te()),Re=i(0),Ot=i(0),Ne=i(512),d=i(null),B=i(null),ye=i(null),Ve=i(0),pe=i(null),G=i(null),ge=i(null);function fe(){const t=yt({userConfig:V.config,defaultConfig:$t});return t.theme?{...yt({userConfig:El.vue_ui_ridgeline[t.theme]||V.config,defaultConfig:t}),customPalette:bl[t.theme]||ue}:t}const e=i(fe()),{loading:W,FINAL_DATASET:E,manualLoading:me}=_l({...rl(V),FINAL_CONFIG:e,prepareConfig:fe,skeletonDataset:[{name:"_",datapoints:[{name:"__",color:"#999999",values:[28.639,32.04,41.134,44.525,21.151,2.436,.218,.024,.002,0,0,0]},{name:"_",color:"#CACACA",values:[13.253,15.621,23.36,33.698,29.935,10.874,2.364,.561,.107,.02,.006,.004]}]},{name:"_",datapoints:[{name:"_",color:"#999999",values:[10.851,13.195,21.617,36.556,42.292,21.006,3.398,.223,.013,.001,0,0]},{name:"_",color:"#CACACA",values:[3.171,4.115,8.108,18.248,31.641,29.063,12.031,2.742,.504,.102,.032,.021]}]},{name:"_",datapoints:[{name:"_",color:"#999999",values:[1.731,2.334,5.125,13.626,29.911,38.524,24.168,7.646,1.575,.317,.097,.063]},{name:"_",color:"#CACACA",values:[.25,.367,1.026,3.944,13.635,28.891,30.149,15.419,4.714,1.246,.442,.299]}]},{name:"_",datapoints:[{name:"_",color:"#999999",values:[.034,.054,.194,1.065,5.747,20.735,38.306,32.899,15.318,5.566,2.422,1.76]},{name:"_",color:"#CACACA",values:[.001,.002,.009,.095,1.124,8.342,27.115,35.08,21.449,9.093,4.243,3.143]}]},{name:"_",datapoints:[{name:"_",color:"#999999",values:[0,.001,.004,.051,.567,3.322,14.215,44.783,40.351,20.377,9.866,7.378]},{name:"_",color:"#CACACA",values:[0,0,0,0,.001,.11,4.136,27.498,43.24,29.807,17.345,13.678]}]},{name:"_",datapoints:[{name:"_",color:"#999999",values:[0,0,0,0,.025,.598,3.886,10.645,54.479,45.953,30.814,24.55]},{name:"_",color:"#CACACA",values:[0,0,0,0,0,0,.007,1.655,26.63,52.017,45.192,39.651]}]}],skeletonConfig:vl({defaultConfig:e.value,userConfig:{userOptions:{show:!1},table:{show:!1},style:{chart:{backgroundColor:"#99999930",areas:{maxPoint:{show:!1},opacity:.9,stroke:{useSerieColor:!0}},legend:{backgroundColor:"transparent"},padding:{right:-24,left:0},xAxis:{labels:{values:[]}},yAxis:{labels:{fontSize:0}},zeroLine:{show:!1}}}}})}),w=i(Math.min(e.value.style.chart.areas.height,e.value.style.chart.areas.rowHeight)),{userOptionsVisible:ee,setUserOptionsVisibility:Be,keepUserOptionState:He}=Tl({config:e.value}),{svgRef:te}=zl({config:e.value.style.chart.title}),be=v(()=>!!e.value.debug);function Xe(){var o;const t=E.value||[];if(!Array.isArray(t)||t.length===0){ze({componentName:"VueUiRidgeline",type:"dataset",debug:be.value}),me.value=!0;return}if(t.forEach((l,s)=>{dt({datasetObject:l,requiredAttributes:["name","datapoints"]}).forEach(a=>{U.value=!1,ze({componentName:"VueUiRidgeline",type:"datasetSerieAttribute",property:a,index:s,debug:be.value})}),Array.isArray(l.datapoints)&&l.datapoints.length&&l.datapoints.forEach((a,h)=>{dt({datasetObject:a,requiredAttributes:["name","values"]}).forEach(C=>{U.value=!1,ze({componentName:"VueUiRidgeline",type:"datasetSerieAttribute",property:"datapoint.".concat(C),index:"".concat(s,"-").concat(h),debug:be.value})})})}),Ot.value=t.length,w.value=Math.min(e.value.style.chart.areas.height,e.value.style.chart.areas.rowHeight),xl(V.dataset)||(me.value=e.value.loading),e.value.responsive){const l=ht(()=>{const{width:s,height:a}=Cl({chart:_.value,title:e.value.style.chart.title.text?Ee.value:null,legend:e.value.style.chart.legend.show?Ie.value:null,source:De.value,noTitle:Fe.value,padding:e.value.style.chart.padding});requestAnimationFrame(()=>{Ne.value=s,w.value=t.length?a/t.length:0,Ve.value=a-12})});P.value&&(M.value&&P.value.unobserve(M.value),P.value.disconnect()),P.value=new ResizeObserver(l),M.value=((o=_.value)==null?void 0:o.parentNode)||null,M.value&&P.value.observe(M.value)}}it(()=>{P.value&&(M.value&&P.value.unobserve(M.value),P.value.disconnect())});const{isPrinting:Ue,isImaging:Ge,generatePdf:We,generateImage:je}=Pl({elementId:"vue-ui-ridgeline_".concat(A.value),fileName:e.value.style.chart.title.text||"vue-ui-ridgeline",options:e.value.userOptions.print}),Pt=v(()=>e.value.userOptions.show&&!e.value.style.chart.title.text),Lt=v(()=>cl(e.value.customPalette)),I=i({showTable:e.value.table.show});Q(()=>E.value,async t=>{Array.isArray(t)&&t.length&&(ee.value=!e.value.userOptions.showOnChartHover,await _e(),Xe(),de.value+=1,he.value+=1,I.value.showTable=e.value.table.show)},{deep:!0,immediate:!0}),Q(()=>V.dataset,t=>{Array.isArray(t)&&t.length>0&&(me.value=!1)},{deep:!0}),Q(()=>W.value,async t=>{t||(await _e(),Xe())},{immediate:!0}),Q(()=>V.config,()=>{e.value=fe(E.value||null),ee.value=!e.value.userOptions.showOnChartHover,w.value=Math.min(e.value.style.chart.areas.height,e.value.style.chart.areas.rowHeight),I.value.showTable=e.value.table.show,de.value+=1,he.value+=1},{deep:!0});const xe=v(()=>e.value.style.chart.areas.height/e.value.style.chart.areas.rowHeight);function Ye(t){S.value.includes(t)?S.value=S.value.filter(o=>o!==t):S.value.push(t),ce("selectLegend",X.value)}const L=v(()=>U.value?(E.value||[]).map(t=>({...t,labelLen:Ft(t.name,e.value.style.chart.yAxis.labels.fontSize),uid:Te(),datapoints:t.datapoints.map((o,l)=>{const s=o.color?dl(o.color):Lt.value[l]||ue[l]||ue[l%ue.length],a=vt(o.name);return{...o,color:s,id:a}})})):[]),Ke=v(()=>e.value.style.chart.padding.top+w.value*(E.value||[]).length+w.value*xe.value+e.value.style.chart.padding.bottom),g=v(()=>{const t=e.value.style.chart.padding;return{width:Ne.value,height:Ke.value,padding:t}}),St=v(()=>g.value.width),Tt=v(()=>g.value.height),ke=i(0),zt=ht(t=>{ke.value=t},100);nl(t=>{const o=pe.value;if(!o)return;const l=new ResizeObserver(s=>{zt(s[0].contentRect.height)});l.observe(o),t(()=>l.disconnect())}),it(()=>{ke.value=0});const b=v(()=>({fullHeight:g.value.height+ke.value,top:g.value.padding.top,left:g.value.padding.left,right:g.value.width-g.value.padding.right,bottom:g.value.height-e.value.style.chart.padding.bottom,width:g.value.width-(g.value.padding.left+g.value.padding.right)})),j=v(()=>Math.max(...L.value.flatMap(t=>t.datapoints.map(o=>o.values.length)))),Y=v(()=>Sl({values:e.value.style.chart.xAxis.labels.values,maxDatapoints:j.value,formatter:e.value.style.chart.xAxis.labels.datetimeFormatter,start:0,end:e.value.style.chart.xAxis.labels.values.length})),H=v(()=>{const t=Math.max(...L.value.map(a=>a.labelLen)),o=g.value.padding.left+t+16+e.value.style.chart.yAxis.labels.offsetX,l=(b.value.width-o)/j.value,s=[];for(let a=0;a<j.value;a+=1)s.push({selectorX:o+l*a,x:o+l*a-l/2,y:b.value.top,label:e.value.style.chart.xAxis.labels.values[a]?Y.value[a].text:"",index:a,width:l,height:Ke.value});return s});function Ae(t){return L.value.map(o=>o.datapoints.map(l=>({dp:l,selected:l.values[t.index]})))}function Mt(t){d.value=t;const o=Ae(t);e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:o,seriesIndex:t.index})}function Et(t){d.value=null;const o=Ae(t);e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:o,seriesIndex:t.index})}function It(t){const o=Ae(t);e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:o,seriesIndex:t.index}),ce("selectX",o)}function Dt(t,o){return t.length*o/2+o}function qe(t,o,l){const s=Dt(o,l);return t+s>b.value.right}function Ft(t,o,l="sans-serif"){const s=document.createElement("canvas").getContext("2d"),a=typeof o=="number"?"".concat(o,"px"):o;return s.font="".concat(a," ").concat(l),s.measureText(t).width}const X=v(()=>{w.value;const t=Math.max(...L.value.map(x=>x.labelLen)),o=Math.max(...L.value.flatMap(x=>x.datapoints.flatMap(q=>q.values))),l=Math.min(...L.value.flatMap(x=>x.datapoints.flatMap(q=>q.values))),s=g.value.padding.left+t+16+e.value.style.chart.yAxis.labels.offsetX,a=(b.value.width-s)/j.value,h=Math.abs(Math.min(l,0)),C=o+h;function ot(x){return isNaN(x/C)?0:x/C}return L.value.map((x,q)=>{const st=b.value.top+w.value*q,F=b.value.top+st+w.value*xe.value*(1-ot(h));return{...x,label:{x:s-e.value.style.chart.yAxis.labels.fontSize,y:F},datapoints:x.datapoints.map(Z=>{const R=Z.values.map((J,tl)=>{const ll=isNaN(J)||[void 0,null,"NaN",NaN,1/0,-1/0].includes(J)?0:J||0,al=s+a*tl,ol=b.value.top+st+w.value*xe.value*(1-ot(ll+h)),sl=J===Math.max(...Z.values);return{x:al,y:ol,value:J,isMaxPoint:sl,zero:F}}),Zt="".concat(hl(R,F,!1,!1)),Jt="M ".concat(s,",").concat(F," ").concat(ct(R)," ").concat(R.at(-1).x,",").concat(F),Qt="M ".concat(s,",").concat(F," ").concat(R.at(-1).x,",").concat(F),rt="M ".concat(yl(R)),nt="M ".concat(ct(R)),el=pl(e.value.style.chart.areas.smooth?rt:nt);return{...Z,uid:Te(),plots:R,smoothPath:Zt,straightPath:Jt,zeroPath:Qt,pathLength:el,smoothPathRidge:rt,straightPathRidge:nt}}).filter(Z=>!S.value.includes(Z.id))}})}),S=i([]);function Rt(t){const o=new Map;return t.forEach(l=>{l.datapoints.forEach((s,a)=>{const h=vt(s.name);o.has(h)||o.set(h,{id:h,name:s.name,color:s.color,shape:"circle",segregate:()=>Ye(h),isSegregated:S.value.includes(h),opacity:S.value.includes(h)?.5:1})})}),Array.from(o.values())}const le=v(()=>Rt(L.value)),Nt=v(()=>({cy:"donut-div-legend",backgroundColor:e.value.style.chart.legend.backgroundColor,color:e.value.style.chart.legend.color,fontSize:e.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:e.value.style.chart.legend.bold?"bold":""})),D=i(!1);function Ze(t){D.value=t,Re.value+=1}const Je=i({}),Qe=i([]);function Vt(t){ce("selectDatapoint",t),e.value.style.chart.dialog.show&&(Qe.value=t.datapoints.map(o=>({name:o.name,color:o.color,type:"line",useArea:!0,smooth:e.value.style.chart.areas.smooth,series:o.values})),B.value=t,Je.value=wl({...e.value.style.chart.dialog.xyChart,responsive:!0,chart:{...e.value.style.chart.dialog.xyChart.chart,grid:{...e.value.style.chart.dialog.xyChart.chart.grid,labels:{...e.value.style.chart.dialog.xyChart.chart.grid.labels,xAxisLabels:{...e.value.style.chart.dialog.xyChart.chart.grid.labels.xAxisLabels,values:e.value.style.chart.xAxis.labels.values,autoRotate:{enable:!0,angle:e.value.style.chart.dialog.xyChart.chart.grid.labels.xAxisLabels.autoRotate.angle},datetimeFormatter:e.value.style.chart.xAxis.labels.datetimeFormatter}}},tooltip:{...e.value.style.chart.dialog.xyChart.chart.tooltip,showTimeLabel:e.value.style.chart.xAxis.labels.values.length>0}}}),ye.value&&ye.value.open())}const we=i(null);function Bt(t){we.value=t}function Ht(){we.value=null}const ae=i(!1);function Ce(){ae.value=!ae.value}function et(){I.value.showTable=!I.value.showTable}const tt=v(()=>({body:X.value.flatMap(t=>t.datapoints.flatMap(o=>({...o,rowName:"".concat(t.name,": ").concat(o.name)}))).map(t=>[{name:t.rowName,color:t.color},...t.values])})),oe=v(()=>{const t=[e.value.table.columnNames.series,...Y.value.map(l=>l.text)],o={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint};return{colNames:[e.value.table.columnNames.series,...Y.value.map(l=>l.text)],head:t,body:tt.value.body,config:o}});function $e(t=null){_e(()=>{const o=[[e.value.table.columnNames.series,...Y.map(a=>[a.text])],...tt.value.body.map((a,h)=>[a[0].name,...a.slice(1)])],l=[[e.value.style.chart.title.text],[e.value.style.chart.title.subtitle.text]].concat(o),s=kl(l);t?t(s):Al({csvContent:s,title:e.value.style.chart.title.text||"vue-ui-ridgeline"})})}function Xt(){return X.value}async function Ut({scale:t=2}={}){if(!_.value)return;const{width:o,height:l}=_.value.getBoundingClientRect(),s=o/l,{imageUri:a,base64:h}=await Rl({domElement:_.value,base64:!0,img:!0,scale:t});return{imageUri:a,base64:h,title:e.value.style.chart.title.text,width:o,height:l,aspectRatio:s}}const Gt=v(()=>({min:0,max:j.value}));Ml({timeLabelsEls:pe,timeLabels:Y,slicer:Gt,configRef:e,rotationPath:["style","chart","xAxis","labels","rotation"],autoRotatePath:["style","chart","xAxis","labels","autoRotate","enable"],isAutoSize:!1,width:St,height:Tt,targetClass:".vue-ui-ridgeline-x-axis-label",angle:e.value.style.chart.xAxis.labels.autoRotate.angle});const K=v(()=>{const t=e.value.table.useDialog&&!e.value.table.show,o=I.value.showTable;return{component:t?Me:xt,title:"".concat(e.value.style.chart.title.text).concat(e.value.style.chart.title.subtitle.text?": ".concat(e.value.style.chart.title.subtitle.text):""),props:t?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:D.value,fullscreenParent:_.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:o,maxHeight:1e4,body:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color},head:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color}}}}});Q(()=>I.value.showTable,t=>{e.value.table.show||(t&&e.value.table.useDialog&&G.value?G.value.open():"close"in G.value&&G.value.close())});function lt(){I.value.showTable=!1,ge.value&&ge.value.setTableIconState(!1)}const Wt=v(()=>e.value.style.chart.backgroundColor),jt=v(()=>({...e.value.style.chart.legend,position:"bottom"})),Yt=v(()=>e.value.style.chart.title),{exportSvg:Kt,getSvg:qt}=Ll({svg:te,title:Yt,legend:jt,legendItems:le,backgroundColor:Wt});async function at({isCb:t}){if(t){const{blob:o,url:l,text:s,dataUrl:a}=await qt();e.value.userOptions.callbacks.svg({blob:o,url:l,text:s,dataUrl:a})}else Kt()}return gt({getData:Xt,getImage:Ut,generateImage:je,generateSvg:at,generatePdf:We,generateCsv:$e,toggleAnnotator:Ce,toggleTable:et,toggleFullscreen:Ze}),(t,o)=>(r(),n("div",{ref_key:"ridgelineChart",ref:_,class:ne("vue-data-ui-component vue-ui-ridgeline ".concat(D.value?"vue-data-ui-wrapper-fullscreen":"")),id:"vue-ui-ridgeline_".concat(A.value),style:$({fontFamily:e.value.style.fontFamily,width:"100%",textAlign:"center",background:e.value.style.chart.backgroundColor,height:e.value.responsive?"100%":void 0}),onMouseenter:o[3]||(o[3]=()=>u(Be)(!0)),onMouseleave:o[4]||(o[4]=()=>u(Be)(!1))},[e.value.userOptions.buttons.annotator&&u(te)?(r(),O(u(At),{key:0,color:e.value.style.chart.color,backgroundColor:e.value.style.chart.backgroundColor,active:ae.value,svgRef:u(te),onClose:Ce},null,8,["color","backgroundColor","active","svgRef"])):c("",!0),m(t.$slots,"userConfig",{},void 0,!0),Pt.value?(r(),n("div",{key:1,ref_key:"noTitle",ref:Fe,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):c("",!0),e.value.style.chart.title.text?(r(),n("div",{key:2,ref_key:"chartTitle",ref:Ee,style:"width:100%;background:transparent;padding-bottom:24px"},[(r(),O(Dl,{key:"title_".concat(de.value),config:{title:{cy:"ridgeline-div-title",...e.value.style.chart.title},subtitle:{cy:"ridgeline-div-subtitle",...e.value.style.chart.title.subtitle}}},null,8,["config"]))],512)):c("",!0),e.value.userOptions.show&&U.value&&(u(He)||u(ee))?(r(),O(u(wt),{ref_key:"userOptionsRef",ref:ge,key:"user_option_".concat(Re.value),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isPrinting:u(Ue),isImaging:u(Ge),uid:A.value,hasTooltip:!1,callbacks:e.value.userOptions.callbacks,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasXls:e.value.userOptions.buttons.csv,hasTable:e.value.userOptions.buttons.table,hasLabel:!1,hasFullscreen:e.value.userOptions.buttons.fullscreen,isFullscreen:D.value,printScale:e.value.userOptions.print.scale,chartElement:_.value,position:e.value.userOptions.position,isTooltip:!1,titles:{...e.value.userOptions.buttonTitles},hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:ae.value,tableDialog:e.value.table.useDialog,style:$({visibility:u(He)?u(ee)?"visible":"hidden":"visible"}),onToggleFullscreen:Ze,onGeneratePdf:u(We),onGenerateCsv:$e,onGenerateImage:u(je),onGenerateSvg:at,onToggleTable:et,onToggleAnnotator:Ce},Oe({_:2},[t.$slots.menuIcon?{name:"menuIcon",fn:p(({isOpen:l,color:s})=>[m(t.$slots,"menuIcon",se(re({isOpen:l,color:s})),void 0,!0)]),key:"0"}:void 0,t.$slots.optionTooltip?{name:"optionTooltip",fn:p(()=>[m(t.$slots,"optionTooltip",{},void 0,!0)]),key:"1"}:void 0,t.$slots.optionPdf?{name:"optionPdf",fn:p(()=>[m(t.$slots,"optionPdf",{},void 0,!0)]),key:"2"}:void 0,t.$slots.optionCsv?{name:"optionCsv",fn:p(()=>[m(t.$slots,"optionCsv",{},void 0,!0)]),key:"3"}:void 0,t.$slots.optionImg?{name:"optionImg",fn:p(()=>[m(t.$slots,"optionImg",{},void 0,!0)]),key:"4"}:void 0,t.$slots.optionTable?{name:"optionTable",fn:p(()=>[m(t.$slots,"optionTable",{},void 0,!0)]),key:"5"}:void 0,t.$slots.optionFullscreen?{name:"optionFullscreen",fn:p(({toggleFullscreen:l,isFullscreen:s})=>[m(t.$slots,"optionFullscreen",se(re({toggleFullscreen:l,isFullscreen:s})),void 0,!0)]),key:"6"}:void 0,t.$slots.optionAnnotator?{name:"optionAnnotator",fn:p(({toggleAnnotator:l,isAnnotator:s})=>[m(t.$slots,"optionAnnotator",se(re({toggleAnnotator:l,isAnnotator:s})),void 0,!0)]),key:"7"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","callbacks","hasPdf","hasImg","hasSvg","hasXls","hasTable","hasFullscreen","isFullscreen","printScale","chartElement","position","titles","hasAnnotator","isAnnotation","tableDialog","style","onGeneratePdf","onGenerateImage"])):c("",!0),(r(),n("svg",{ref_key:"svgRef",ref:te,xmlns:u(gl),class:ne({"vue-data-ui-fullscreen--on":D.value,"vue-data-ui-fulscreen--off":!D.value}),viewBox:"0 0 ".concat(g.value.width<=0?10:g.value.width," ").concat(b.value.fullHeight<=0?10:b.value.fullHeight),style:$("max-width:100%;overflow:visible;background:transparent;color:".concat(e.value.style.chart.color,";").concat(e.value.responsive?"height: ".concat(Ve.value,"px; width: 100%;"):""))},[Pe(u(Ct)),y("defs",null,[(r(!0),n(f,null,k(le.value,(l,s)=>(r(),n("linearGradient",{id:"gradient-".concat(l.id,"-").concat(A.value),x1:"50%",y1:"0%",x2:"50%",y2:"100%"},[y("stop",{offset:"0%","stop-color":l.color,"stop-opacity":"1"},null,8,Hl),y("stop",{offset:"30%","stop-color":l.color,"stop-opacity":"0.7"},null,8,Xl),y("stop",{offset:"70%","stop-color":l.color,"stop-opacity":"0.3"},null,8,Ul),y("stop",{offset:"100%","stop-color":l.color,"stop-opacity":"0.1"},null,8,Gl)],8,Bl))),256)),(r(!0),n(f,null,k(X.value,(l,s)=>(r(),n(f,null,[(r(!0),n(f,null,k(l.datapoints,(a,h)=>(r(),n("linearGradient",{key:"grad".concat(a.id),id:"gradient-single-".concat(A.value,"-").concat(a.uid),x1:"50%",y1:"0%",x2:"50%",y2:"100%"},[y("stop",{offset:"0%","stop-color":a.color,"stop-opacity":"1"},null,8,jl),y("stop",{offset:"30%","stop-color":a.color,"stop-opacity":"0.7"},null,8,Yl),y("stop",{offset:"70%","stop-color":a.color,"stop-opacity":"0.3"},null,8,Kl),y("stop",{offset:"100%","stop-color":a.color,"stop-opacity":"0.1"},null,8,ql)],8,Wl))),128))],64))),256))]),(r(!0),n(f,null,k(X.value,(l,s)=>(r(),n("g",{key:"ds-".concat(s)},[(r(!0),n(f,null,k(l.datapoints,(a,h)=>(r(),n("g",{key:a.id},[t.$slots.pattern?(r(),n("g",Zl,[y("defs",null,[m(t.$slots,"pattern",Le({ref_for:!0},{datapointIndex:s,seriesIndex:h,patternId:"pattern_".concat(A.value,"_").concat(a.uid)}),void 0,!0)])])):c("",!0),y("path",{fill:t.$slots.pattern?"url(#pattern_".concat(A.value,"_").concat(a.uid,")"):e.value.style.chart.backgroundColor,stroke:"none","stroke-linecap":"round",d:e.value.style.chart.areas.smooth?a.smoothPath:a.straightPath,style:$({opacity:e.value.style.chart.areas.opacity})},null,12,Jl),y("path",{fill:"none",stroke:e.value.style.chart.areas.stroke.useSerieColor?a.color:e.value.style.chart.areas.stroke.color,"stroke-width":e.value.style.chart.areas.strokeWidth,d:e.value.style.chart.areas.smooth?a.smoothPathRidge:a.straightPathRidge,"stroke-linecap":"round","stroke-linejoin":"round",class:ne({"vue-ui-ridgeline-animate":e.value.useCssAnimation&&!u(W)}),style:$({strokeDasharray:a.pathLength,strokeDashoffset:e.value.useCssAnimation?a.pathLength:0})},null,14,Ql),y("path",{fill:e.value.style.chart.areas.useGradient?e.value.style.chart.areas.useCommonColor?"url(#gradient-".concat(a.id,"-").concat(A.value,")"):"url(#gradient-single-".concat(A.value,"-").concat(a.uid,")"):a.color,stroke:"none",d:e.value.style.chart.areas.smooth?a.smoothPath:a.straightPath,"stroke-linecap":"round","stroke-linejoin":"round",class:ne({"vue-ui-ridgeline-animate":e.value.useCssAnimation&&!u(W)}),style:$({strokeDasharray:a.pathLength,strokeDashoffset:e.value.useCssAnimation?a.pathLength:0})},null,14,ea),e.value.style.chart.zeroLine.show?(r(),n("path",{key:1,stroke:e.value.style.chart.zeroLine.useSerieColor?a.color:e.value.style.chart.zeroLine.stroke,"stroke-dasharray":e.value.style.chart.zeroLine.strokeDasharray,"stroke-width":e.value.style.chart.zeroLine.strokeWidth,d:a.zeroPath,"stroke-linecap":"round"},null,8,ta)):c("",!0),e.value.style.chart.areas.maxPoint.show&&a.plots.length>1?(r(!0),n(f,{key:2},k(a.plots,C=>(r(),n(f,null,[C.isMaxPoint?(r(),n("line",{key:0,x1:C.x,y1:C.y,x2:C.x,y2:C.zero,stroke:e.value.style.chart.areas.maxPoint.adaptStrokeToBackground?u(fl)(a.color):e.value.style.chart.areas.maxPoint.stroke,"stroke-width":e.value.style.chart.areas.maxPoint.strokeWidth,"stroke-linecap":"round","stroke-dasharray":e.value.style.chart.areas.maxPoint.strokeDasharray},null,8,la)):c("",!0)],64))),256)):c("",!0),a.plots.length===1?(r(),n("circle",{key:3,cx:a.plots[0].x,cy:a.plots[0].y,stroke:e.value.style.chart.selector.dot.stroke,"stroke-width":e.value.style.chart.selector.dot.strokeWidth,r:e.value.style.chart.selector.dot.radius,fill:e.value.style.chart.selector.dot.useDatapointColor?a.color:e.value.style.chart.selector.dot.fill,style:{pointerEvents:"none"}},null,8,aa)):c("",!0)]))),128)),y("text",{x:l.label.x,y:l.label.y,"text-anchor":"end","font-size":e.value.style.chart.yAxis.labels.fontSize,"font-weight":e.value.style.chart.yAxis.labels.bold?"bold":"normal",fill:e.value.style.chart.yAxis.labels.color,style:$({cursor:e.value.style.chart.dialog.show?"pointer":"default"}),"text-decoration":e.value.style.chart.dialog.show&&(we.value===s||B.value&&l.uid===B.value.uid)?"underline":"",onMouseenter:a=>Bt(s),onMouseleave:Ht,onClick:a=>Vt(l)},N(l.name),45,oa)]))),128)),e.value.style.chart.xAxis.labels.values.length?(r(),n("g",{key:0,ref_key:"timeLabelsEls",ref:pe},[(r(!0),n(f,null,k(H.value,(l,s)=>m(t.$slots,"time-label",Le({ref_for:!0},{show:l&&!e.value.style.chart.xAxis.labels.showOnlyFirstAndLast&&!e.value.style.chart.xAxis.labels.showOnlyAtModulo||l&&e.value.style.chart.xAxis.labels.showOnlyFirstAndLast&&(s===0||s===H.value.length-1)||l&&d.value&&d.value.index===s||l&&!e.value.style.chart.xAxis.labels.showOnlyFirstAndLast&&e.value.style.chart.xAxis.labels.showOnlyAtModulo&&s%Math.floor(H.value.length/e.value.style.chart.xAxis.labels.modulo)===0,fontSize:e.value.style.chart.xAxis.labels.fontSize,content:l.label,textAnchor:e.value.style.chart.xAxis.labels.rotation>0?"start":e.value.style.chart.xAxis.labels.rotation<0?"end":"middle",fill:e.value.style.chart.xAxis.labels.color,transform:"translate(".concat(l.selectorX,", ").concat(b.value.top+l.height+e.value.style.chart.xAxis.labels.offsetY,"), rotate(").concat(e.value.style.chart.xAxis.labels.rotation,")"),x:l.selectorX,y:b.value.bottom+e.value.style.chart.xAxis.labels.offsetY}),()=>[l&&!e.value.style.chart.xAxis.labels.showOnlyFirstAndLast&&!e.value.style.chart.xAxis.labels.showOnlyAtModulo||l&&e.value.style.chart.xAxis.labels.showOnlyFirstAndLast&&(s===0||s===H.value.length-1)||l&&d.value&&d.value.index===s||l&&!e.value.style.chart.xAxis.labels.showOnlyFirstAndLast&&e.value.style.chart.xAxis.labels.showOnlyAtModulo&&s%Math.floor(H.value.length/e.value.style.chart.xAxis.labels.modulo)===0?(r(),n("g",sa,[String(l.label).includes("\n")?(r(),n("text",{key:1,class:"vue-ui-ridgeline-x-axis-label","font-size":e.value.style.chart.xAxis.labels.fontSize,fill:e.value.style.chart.xAxis.labels.color,"font-weight":e.value.style.chart.xAxis.labels.bold?"bold":"normal",transform:"translate(".concat(l.selectorX,", ").concat(b.value.bottom+e.value.style.chart.xAxis.labels.offsetY,"), rotate(").concat(e.value.style.chart.xAxis.labels.rotation,")"),"text-anchor":e.value.style.chart.xAxis.labels.rotation>0?"start":e.value.style.chart.xAxis.labels.rotation<0?"end":"middle",style:$({opacity:d.value?d.value.index===s?1:.2:1}),innerHTML:u(ml)({content:String(l.label),fontSize:e.value.style.chart.xAxis.labels.fontSize,fill:e.value.style.chart.xAxis.labels.color,x:0,y:0})},null,12,na)):(r(),n("text",{key:0,class:"vue-ui-ridgeline-x-axis-label","font-size":e.value.style.chart.xAxis.labels.fontSize,fill:e.value.style.chart.xAxis.labels.color,"font-weight":e.value.style.chart.xAxis.labels.bold?"bold":"normal",transform:"translate(".concat(l.selectorX,", ").concat(b.value.bottom+e.value.style.chart.xAxis.labels.offsetY,"), rotate(").concat(e.value.style.chart.xAxis.labels.rotation,")"),"text-anchor":e.value.style.chart.xAxis.labels.rotation>0?"start":e.value.style.chart.xAxis.labels.rotation<0?"end":"middle",style:$({opacity:d.value?d.value.index===s?1:.2:1})},N(l.label),13,ra))])):c("",!0)],!0)),256))],512)):c("",!0),y("g",null,[(r(!0),n(f,null,k(H.value,(l,s)=>(r(),n("rect",{x:l.x,y:l.y,width:l.width<0?.1:l.width,height:l.height<0?.1:l.height,fill:"transparent",onMouseenter:a=>Mt(l),onMouseleave:a=>Et(l),onClick:()=>It(l)},null,40,ua))),256)),e.value.style.chart.selector.show&&d.value?(r(),n("line",{key:0,x1:d.value.selectorX,x2:d.value.selectorX,y1:d.value.y,y2:d.value.y+d.value.height-w.value/2,stroke:e.value.style.chart.selector.stroke,"stroke-width":e.value.style.chart.selector.strokeWidth,"stroke-dasharray":e.value.style.chart.selector.strokeDasharray,"stroke-linecap":"round",style:{pointerEvents:"none"}},null,8,ia)):c("",!0),d.value?(r(!0),n(f,{key:1},k(X.value,l=>(r(),n(f,null,[(r(!0),n(f,null,k(l.datapoints,s=>(r(),n(f,null,[(r(!0),n(f,null,k(s.plots,(a,h)=>(r(),n(f,null,[d.value&&d.value.index===h?(r(),n("circle",{key:0,cx:a.x,cy:a.y,stroke:e.value.style.chart.selector.dot.stroke,"stroke-width":e.value.style.chart.selector.dot.strokeWidth,r:e.value.style.chart.selector.dot.radius,fill:e.value.style.chart.selector.dot.useDatapointColor?s.color:e.value.style.chart.selector.dot.fill,style:{pointerEvents:"none"}},null,8,va)):c("",!0),d.value&&d.value.index===h?(r(),n("text",{key:1,x:qe(a.x,u(ie)(e.value.style.chart.selector.labels.formatter,a.value,u(ve)({p:e.value.style.chart.xAxis.labels.prefix,v:a.value,s:e.value.style.chart.xAxis.labels.suffix,r:e.value.style.chart.selector.labels.rounding})),e.value.style.chart.selector.labels.fontSize)?a.x-e.value.style.chart.selector.labels.fontSize/2:a.x+e.value.style.chart.selector.labels.fontSize/2,y:a.y+e.value.style.chart.selector.labels.fontSize/3,"text-anchor":qe(a.x,u(ie)(e.value.style.chart.selector.labels.formatter,a.value,u(ve)({p:e.value.style.chart.xAxis.labels.prefix,v:a.value,s:e.value.style.chart.xAxis.labels.suffix,r:e.value.style.chart.selector.labels.rounding})),e.value.style.chart.selector.labels.fontSize)?"end":"start","font-size":e.value.style.chart.selector.labels.fontSize,fill:e.value.style.chart.selector.labels.color,style:{pointerEvents:"none"}},N(u(ie)(e.value.style.chart.selector.labels.formatter,a.value,u(ve)({p:e.value.style.chart.xAxis.labels.prefix,v:a.value,s:e.value.style.chart.xAxis.labels.suffix,r:e.value.style.chart.selector.labels.rounding}))),9,ca)):c("",!0)],64))),256))],64))),256))],64))),256)):c("",!0)]),m(t.$slots,"svg",{svg:g.value},void 0,!0)],14,Vl)),t.$slots.watermark?(r(),n("div",da,[m(t.$slots,"watermark",se(re({isPrinting:u(Ue)||u(Ge)})),void 0,!0)])):c("",!0),y("div",{ref_key:"chartLegend",ref:Ie},[e.value.style.chart.legend.show?(r(),O(Il,{key:"legend_".concat(he.value),legendSet:le.value,config:Nt.value,onClickMarker:o[0]||(o[0]=({legend:l})=>Ye(l.id))},Oe({item:p(({legend:l})=>[u(W)?c("",!0):(r(),n("div",{key:0,style:$("opacity:".concat(S.value.includes(l.id)?.5:1)),onClick:s=>l.segregate()},N(l.name),13,ha))]),_:2},[t.$slots.pattern?{name:"legend-pattern",fn:p(({legend:l,index:s})=>[Pe(Fl,{shape:l.shape,radius:30,stroke:"none",plot:{x:30,y:30},fill:"url(#pattern_".concat(A.value,"_").concat(s,")")},null,8,["shape","fill"])]),key:"0"}:void 0]),1032,["legendSet","config"])):c("",!0),m(t.$slots,"legend",{legend:le.value},void 0,!0)],512),t.$slots.source?(r(),n("div",{key:5,ref_key:"source",ref:De,dir:"auto"},[m(t.$slots,"source",{},void 0,!0)],512)):c("",!0),U.value&&e.value.userOptions.buttons.table?(r(),O(ul(K.value.component),Le({key:6},K.value.props,{ref_key:"tableUnit",ref:G,onClose:lt}),Oe({content:p(()=>[(r(),O(u(kt),{key:"table_".concat(_t.value),colNames:oe.value.colNames,head:oe.value.head,body:oe.value.body,config:oe.value.config,title:e.value.table.useDialog?"":K.value.title,withCloseButton:!e.value.table.useDialog,onClose:lt},{th:p(({th:l})=>[y("div",{innerHTML:l},null,8,ya)]),td:p(({td:l})=>[Se(N(l.name?l.name:u(ie)(e.value.style.chart.selector.labels.formatter,l,u(ve)({p:e.value.style.chart.xAxis.labels.prefix,v:l,s:e.value.style.chart.xAxis.labels.suffix,r:e.value.table.td.roundingValue}))),1)]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))]),_:2},[e.value.table.useDialog?{name:"title",fn:p(()=>[Se(N(K.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:p(()=>[y("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:o[1]||(o[1]=l=>$e(e.value.userOptions.callbacks.csv))},[Pe(u(bt),{name:"excel",stroke:K.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):c("",!0),e.value.style.chart.dialog.show?(r(),O(u(Me),{key:7,ref_key:"dialog",ref:ye,onClose:o[2]||(o[2]=l=>B.value=null),backgroundColor:e.value.style.chart.dialog.backgroundColor,color:e.value.style.chart.dialog.color,headerBg:e.value.style.chart.dialog.header.backgroundColor,headerColor:e.value.style.chart.dialog.header.color,isFullscreen:D.value,fullscreenParent:_.value,withPadding:""},{title:p(()=>[Se(N(B.value.name),1)]),content:p(()=>[B.value?(r(),O(u(mt),{key:0,config:Je.value,dataset:Qe.value},null,8,["config","dataset"])):c("",!0)]),_:1},8,["backgroundColor","color","headerBg","headerColor","isFullscreen","fullscreenParent"])):c("",!0),u(W)?(r(),O(Ol,{key:8})):c("",!0)],46,Nl))}},Ea=il(pa,[["__scopeId","data-v-0a6ef1d2"]]);export{Ea as default};
