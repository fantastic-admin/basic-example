
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Tooltip-68Yi_FFl-CRPaJsgv.js","./vue-data-ui-BN9YfUec.js","./index-DXZKKOp8.js","./index-B7kifsnL.css","./alert-l5XlVwCh.js","./vue-data-ui-D1HaM8UR.css","./vue-ui-accordion-UpZ765hd-DndPzmcD.js","./useNestedProp-dJX_8vvZ-BzBW50KN.js","./DataTable-BT7VF2ua-Cw2NNXsE.js","./Shape-CNXKB8O0-BJGuTKHC.js","./PenAndPaper-DSvu9dwa-B6YjX2xm.js","./ColorPicker-J5wOPCeB-sgb_Bfch.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-1OZ3jcm6-BbpzMig3.js","./img-BecE5qXd-CsL1o-EN.js","./dom-to-png--BNgrTZV-DTUrW_sQ.js","./PackageVersion-TgflyMpU-q2MkeeNq.js","./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"])))=>i.map(i=>d[i]);
import{ab as Ct,e as r,J as c,a7 as xt,K as Q,au as Me,E as Tt,av as At,b_ as I,c as h,o as i,z as O,A as f,f as $,g as X,u,c0 as ve,h as d,r as g,j as R,k as B,O as D,n as G,F as ce,R as de,m as We,t as pe,bn as It,l as ze,N as Ot,c1 as F,a9 as Ft}from"./index-DXZKKOp8.js";import{s as Pt,Q as Ge,A as St,v as Vt,m as L,g as Ue,p as he,b as Dt,C as Lt,N as Nt,a as je,I as He,f as N,y as Et,O as Rt,G as Bt,c as Y,e as Mt,r as Wt,F as zt,h as Gt}from"./vue-data-ui-BN9YfUec.js";import{E as Ut,M as jt}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{t as Ht,o as Je}from"./useNestedProp-dJX_8vvZ-BzBW50KN.js";import{m as Jt}from"./usePrinter-DTzqpYKF-D5mkxXp9.js";import{S as Kt,T as Qt}from"./BaseScanner-BgWxam9d-B19ueoDW.js";import{O as Xt}from"./useSvgExport-DrjCWun4-CbW14PXm.js";import{a as Yt}from"./useUserOptionState-BIvW1Kz7-D6llU1BK.js";import{o as qt}from"./useChartAccessibility-9icAAmYg-BcUQIUvr.js";import Zt from"./img-BecE5qXd-CsL1o-EN.js";import{w as el}from"./Shape-CNXKB8O0-BJGuTKHC.js";import tl from"./Title-BWp-37K_-BMUMQpSO.js";import{J as ll}from"./themes-AUNCOb2G-RAhReTPj.js";import al from"./Legend-G6GMcdAc-7HaGLNN7.js";import"./alert-l5XlVwCh.js";import"./dom-to-png--BNgrTZV-DTUrW_sQ.js";const ol=["id"],ul=["id"],sl=["xmlns","viewBox"],nl=["width","height"],rl=["id"],il=["stop-color"],vl=["stop-color"],cl={key:1},dl=["stroke","cx","cy","r","fill"],pl=["stroke","stroke-width","cx","cy","r","fill"],hl=["stroke","stroke-width","cx","cy","r","fill"],gl=["cx","cy","r","onMouseenter","onMouseleave","onClick"],ml={key:4,class:"vue-data-ui-watermark"},yl=["id"],bl=["onClick"],fl=["innerHTML"],kl={__name:"vue-ui-rings",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:["selectLegend"],setup(Ke,{expose:Qe,emit:Xe}){const Ye=I(()=>F(()=>import("./Tooltip-68Yi_FFl-CRPaJsgv.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),qe=I(()=>F(()=>import("./vue-data-ui-BN9YfUec.js").then(t=>t.aw),__vite__mapDeps([1,2,3,4,5]),import.meta.url)),Ze=I(()=>F(()=>import("./vue-ui-accordion-UpZ765hd-DndPzmcD.js"),__vite__mapDeps([6,2,3,1,4,5,7]),import.meta.url)),et=I(()=>F(()=>import("./DataTable-BT7VF2ua-Cw2NNXsE.js"),__vite__mapDeps([8,2,3,9,1,4,5]),import.meta.url)),tt=I(()=>F(()=>import("./PenAndPaper-DSvu9dwa-B6YjX2xm.js"),__vite__mapDeps([10,2,3,1,4,5,11,12]),import.meta.url)),lt=I(()=>F(()=>import("./UserOptions-1OZ3jcm6-BbpzMig3.js"),__vite__mapDeps([13,2,3,12,1,4,5,14,15]),import.meta.url)),at=I(()=>F(()=>import("./PackageVersion-TgflyMpU-q2MkeeNq.js"),__vite__mapDeps([16,2,3]),import.meta.url)),ot=I(()=>F(()=>import("./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"),__vite__mapDeps([17,2,3,1,4,5]),import.meta.url)),{vue_ui_rings:ut}=Ht(),st=Ct(),k=Ke,P=r(!1),ge=c(()=>!!k.dataset&&k.dataset.length),y=r(Ge()),U=r(!1),q=r(""),C=r(null),me=r(0),x=r(null),ye=r(null),be=r(null),fe=r(null),ke=r(null),we=r(0),$e=r(0),_e=r(0),Z=r(!1),Ce=r(!1),M=r(null),ee=r(null),e=r(ae()),{loading:S,FINAL_DATASET:xe,manualLoading:j}=Kt({...xt(k),FINAL_CONFIG:e,prepareConfig:ae,skeletonDataset:[{name:"_",values:[13],color:"#808080"},{name:"_",values:[8],color:"#969696"},{name:"_",values:[5],color:"#ADADAD"},{name:"_",values:[3],color:"#C4C4C4"},{name:"_",values:[2],color:"#DBDBDB"}],skeletonConfig:St({defaultConfig:e.value,userConfig:{userOptions:{show:!1},table:{show:!1},style:{chart:{backgroundColor:"#99999930",layout:{rings:{stroke:"#6A6A6A",gradient:{underlayerColor:"#FFFFFF"}}},legend:{backgroundColor:"transparent"}}}}})}),{userOptionsVisible:te,setUserOptionsVisibility:Te,keepUserOptionState:Ae}=Yt({config:e.value}),{svgRef:le}=qt({config:e.value.style.chart.title});function ae(){const t=Je({userConfig:k.config,defaultConfig:ut});return t.theme?{...Je({userConfig:ll.vue_ui_rings[t.theme]||k.config,defaultConfig:t}),customPalette:Vt[t.theme]||L}:t}Q(()=>k.config,t=>{S.value||(e.value=ae()),te.value=!e.value.userOptions.showOnChartHover,Ie(),we.value+=1,$e.value+=1,_e.value+=1,w.value.showTable=e.value.table.show,w.value.showTooltip=e.value.style.chart.tooltip.show},{deep:!0}),Q(()=>k.dataset,t=>{Array.isArray(t)&&t.length>0&&(j.value=!1)},{deep:!0});const T=Me(null),E=Me(null);Tt(()=>{Ce.value=!0,Ie()});const oe=c(()=>!!e.value.debug);function Ie(){if(Ue(k.dataset)?(he({componentName:"VueUiRings",type:"dataset",debug:oe.value}),j.value=!0):k.dataset.forEach((t,a)=>{t.values.length||(he({componentName:"VueUiRings",type:"dataset",debug:oe.value}),j.value=!0),Dt({datasetObject:t,requiredAttributes:["name","values"]}).forEach(l=>{he({componentName:"VueUiRings",type:"datasetSerieAttribute",property:l,index:a,debug:oe.value})})}),Ue(k.dataset)||(j.value=e.value.loading),e.value.responsive){const t=Ut(()=>{Z.value=!0;const{width:a,height:l}=jt({chart:x.value,title:e.value.style.chart.title.text?ye.value:null,legend:e.value.style.chart.legend.show?be.value:null,source:fe.value,noTitle:ke.value});requestAnimationFrame(()=>{n.value.width=a,n.value.height=l-12,Z.value=!1})});T.value&&(E.value&&T.value.unobserve(E.value),T.value.disconnect()),T.value=new ResizeObserver(t),E.value=x.value.parentNode,T.value.observe(E.value)}setTimeout(()=>{P.value=!0},600)}At(()=>{T.value&&(E.value&&T.value.unobserve(E.value),T.value.disconnect())});const{isPrinting:Oe,isImaging:Fe,generatePdf:Pe,generateImage:Se}=Jt({elementId:"rings_".concat(y.value),fileName:e.value.style.chart.title.text||"vue-ui-rings",options:e.value.userOptions.print}),nt=c(()=>e.value.userOptions.show&&!e.value.style.chart.title.text),Ve=c(()=>Lt(e.value.customPalette)),w=r({showTable:e.value.table.show,showTooltip:e.value.style.chart.tooltip.show});Q(e,()=>{w.value={showTable:e.value.table.show,showTooltip:e.value.style.chart.tooltip.show}},{immediate:!0});const n=r({height:360,width:360}),rt=c(()=>Math.min(n.value.height,n.value.width)),it=Xe,b=r([]);function ue(t){b.value.includes(t)?b.value=b.value.filter(a=>a!==t):b.value.push(t),it("selectLegend",m.value.map(a=>({name:a.name,color:a.color,value:a.value})))}const vt=c(()=>Math.max(...H.value.filter(t=>!b.value.includes(t.uid)).map(({value:t})=>t)));function De(t){return t/vt.value}const H=c(()=>xe.value.map(({values:t,name:a,color:l=null},o)=>{const s=Nt(t).reduce((v,z)=>v+z,0);return{name:a,color:l||je(l)||Ve.value[o]||L[o]||L[o%L.length],value:s,proportion:s/xe.value.map(v=>(v.values||[]).reduce((z,_t)=>z+_t,0)).reduce((v,z)=>v+z,0),uid:Ge(),absoluteIndex:o}})),se=c(()=>H.value.map((t,a)=>({...t,shape:"circle",opacity:b.value.includes(t.uid)?.5:1,segregate:()=>ue(t.uid),isSegregated:b.value.includes(t.uid),display:"".concat(t.name).concat(e.value.style.chart.legend.showPercentage||e.value.style.chart.legend.showValue?": ":"").concat(e.value.style.chart.legend.showValue?He(e.value.style.chart.layout.labels.dataLabels.formatter,t.value,N({p:e.value.style.chart.layout.labels.dataLabels.prefix,v:t.value,s:e.value.style.chart.layout.labels.dataLabels.suffix,r:e.value.style.chart.legend.roundingValue}),{datapoint:t,index:a}):"").concat(e.value.style.chart.legend.showPercentage?b.value.includes(t.uid)?"".concat(e.value.style.chart.legend.showValue?" (":"","- %").concat(e.value.style.chart.legend.showValue?")":""):"".concat(e.value.style.chart.legend.showValue?" (":"").concat(isNaN(t.value/_.value)?"-":N({v:t.value/_.value*100,s:"%",r:e.value.style.chart.legend.roundingPercentage})).concat(e.value.style.chart.legend.showValue?")":""):"")})).toSorted((t,a)=>a.value-t.value)),ct=c(()=>({cy:"rings-div-legend",backgroundColor:e.value.style.chart.legend.backgroundColor,color:e.value.style.chart.legend.color,fontSize:e.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:e.value.style.chart.legend.bold?"bold":""})),_=c(()=>H.value.filter(t=>!b.value.includes(t.uid)).map(({value:t})=>t).reduce((t,a)=>t+a,0)),m=c(()=>H.value.filter(t=>!b.value.includes(t.uid)).map(({name:t,value:a,color:l=null,uid:o,absoluteIndex:s},v)=>({absoluteIndex:s,uid:o,name:t,color:l||je(l)||Ve.value[v]||L[v]||L[v%L.length],value:a,proportion:De(a),percentage:a/_.value*100,strokeWidth:e.value.style.chart.layout.rings.strokeWidth*De(a)})).toSorted((t,a)=>a.value-t.value));function dt(){return m.value.map(({name:t,color:a,value:l,absoluteValues:o,percentage:s})=>({name:t,color:a,value:l,absoluteValues:o,percentage:s}))}const p=c(()=>rt.value-e.value.style.chart.layout.rings.strokeWidth*2);function pt(t,a){e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:t,seriesIndex:a})}function ht(t,a){C.value=null,U.value=!1,e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:t,seriesIndex:a})}const ne=r(null);function gt(t,a){if(e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:t,seriesIndex:a}),b.value.length===k.dataset.length)return;ne.value={datapoint:t,seriesIndex:a,series:m.value,config:e.value},C.value=a;const l=m.value[a],o=e.value.style.chart.tooltip.customFormat;if(zt(o)&&Gt(()=>o({seriesIndex:a,datapoint:t,series:m.value,config:e.value})))q.value=o({seriesIndex:a,datapoint:t,series:m.value,config:e.value});else{let s="";s+='<div style="width:100%;text-align:center;border-bottom:1px solid '.concat(e.value.style.chart.tooltip.borderColor,';padding-bottom:6px;margin-bottom:3px;">').concat(l.name,"</div>"),s+='<div style="display:flex;flex-direction:row;gap:6px;align-items:center;"><svg viewBox="0 0 60 60" height="14" width="14"><circle cx="30" cy="30" r="30" stroke="none" fill="'.concat(l.color,'" />').concat(st.pattern?'<circle cx="30" cy="30" r="30" stroke="none" fill="url(#pattern_'.concat(y.value,"_").concat(t.absoluteIndex,')" />'):"","</svg>"),e.value.style.chart.tooltip.showValue&&(s+="<b>".concat(He(e.value.style.chart.layout.labels.dataLabels.formatter,l.value,N({p:e.value.style.chart.layout.labels.dataLabels.prefix,v:l.value,s:e.value.style.chart.layout.labels.dataLabels.suffix,r:e.value.style.chart.tooltip.roundingValue}),{datapoint:t,seriesIndex:a}),"\n      </b>")),e.value.style.chart.tooltip.showPercentage&&(e.value.style.chart.tooltip.showValue?s+="<span>(".concat(N({v:l.value/_.value*100,s:"%",r:e.value.style.chart.tooltip.roundingPercentage}),")</span></div>"):s+="<b>".concat(N({v:l.value/_.value*100,s:"%",r:e.value.style.chart.tooltip.roundingPercentage}),"</b></div>")),q.value=s}U.value=!0}const A=c(()=>{const t=m.value.map(l=>({name:l.name,color:l.color})),a=m.value.map(l=>l.value);return{head:t,body:a}}),J=c(()=>{const t=[' <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>',N({p:e.value.style.chart.layout.labels.dataLabels.prefix,v:_.value,s:e.value.style.chart.layout.labels.dataLabels.suffix,r:e.value.table.td.roundingValue}),"100%"],a=A.value.head.map((s,v)=>[{color:s.color,name:s.name},N({p:e.value.style.chart.layout.labels.dataLabels.prefix,v:A.value.body[v],s:e.value.style.chart.layout.labels.dataLabels.suffix,r:e.value.table.td.roundingValue}),isNaN(A.value.body[v]/_.value)?"-":(A.value.body[v]/_.value*100).toFixed(e.value.table.td.roundingPercentage)+"%"]),l={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint},o=[e.value.table.columnNames.series,e.value.table.columnNames.value,e.value.table.columnNames.percentage];return{head:t,body:a,config:l,colNames:o}});function re(t=null){Ft(()=>{const a=A.value.head.map((s,v)=>[[s.name],[A.value.body[v]],[isNaN(A.value.body[v]/_.value)?"-":A.value.body[v]/_.value*100]]),l=[[e.value.style.chart.title.text],[e.value.style.chart.title.subtitle.text],[[""],["val"],["%"]]].concat(a),o=Mt(l);t?t(o):Wt({csvContent:o,title:e.value.style.chart.title.text||"vue-ui-rings"})})}const V=r(!1);function Le(t){V.value=t,me.value+=1}function Ne(){w.value.showTable=!w.value.showTable}function Ee(){w.value.showTooltip=!w.value.showTooltip}const K=r(!1);function ie(){K.value=!K.value}async function mt({scale:t=2}={}){if(!x.value)return;const{width:a,height:l}=x.value.getBoundingClientRect(),o=a/l,{imageUri:s,base64:v}=await Zt({domElement:x.value,base64:!0,img:!0,scale:t});return{imageUri:s,base64:v,title:e.value.style.chart.title.text,width:a,height:l,aspectRatio:o}}const W=c(()=>{const t=e.value.table.useDialog&&!e.value.table.show,a=w.value.showTable;return{component:t?ot:Ze,title:"".concat(e.value.style.chart.title.text).concat(e.value.style.chart.title.subtitle.text?": ".concat(e.value.style.chart.title.subtitle.text):""),props:t?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:V.value,fullscreenParent:x.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:a,maxHeight:1e4,body:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color},head:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color}}}}});Q(()=>w.value.showTable,t=>{e.value.table.show||(t&&e.value.table.useDialog&&M.value?M.value.open():"close"in M.value&&M.value.close())});function Re(){w.value.showTable=!1,ee.value&&ee.value.setTableIconState(!1)}const yt=c(()=>se.value.map(t=>({...t,name:t.display}))),bt=c(()=>e.value.style.chart.backgroundColor),ft=c(()=>e.value.style.chart.legend),kt=c(()=>e.value.style.chart.title),{exportSvg:wt,getSvg:$t}=Xt({svg:le,title:kt,legend:ft,legendItems:yt,backgroundColor:bt});async function Be({isCb:t}){if(t){const{blob:a,url:l,text:o,dataUrl:s}=await $t();e.value.userOptions.callbacks.svg({blob:a,url:l,text:o,dataUrl:s})}else wt()}return Qe({getData:dt,getImage:mt,generatePdf:Pe,generateCsv:re,generateImage:Se,generateSvg:Be,toggleTable:Ne,toggleTooltip:Ee,toggleAnnotator:ie,toggleFullscreen:Le}),(t,a)=>(i(),h("div",{ref_key:"ringsChart",ref:x,class:G("vue-data-ui-component vue-ui-rings ".concat(V.value?"vue-data-ui-wrapper-fullscreen":""," ").concat(e.value.useCssAnimation?"":"vue-ui-dna")),style:D("font-family:".concat(e.value.style.fontFamily,";text-align:center;width:100%;background:").concat(e.value.style.chart.backgroundColor,";").concat(e.value.responsive?"height: 100%":"")),id:"rings_".concat(y.value),onMouseleave:a[2]||(a[2]=l=>{C.value=null,U.value=!1,u(Te)(!1)}),onMouseenter:a[3]||(a[3]=()=>u(Te)(!0))},[e.value.userOptions.buttons.annotator?(i(),O(u(tt),{key:0,svgRef:u(le),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,active:K.value,onClose:ie},null,8,["svgRef","backgroundColor","color","active"])):f("",!0),nt.value?(i(),h("div",{key:1,ref_key:"noTitle",ref:ke,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):f("",!0),e.value.style.chart.title.text?(i(),h("div",{key:2,ref_key:"chartTitle",ref:ye,style:"width:100%;background:transparent"},[(i(),O(tl,{key:"title_".concat(we.value),config:{title:{cy:"rings-div-title",...e.value.style.chart.title},subtitle:{cy:"rings-div-subtitle",...e.value.style.chart.title.subtitle}}},null,8,["config"]))],512)):f("",!0),$("div",{id:"legend-top-".concat(y.value)},null,8,ul),e.value.userOptions.show&&ge.value&&(u(Ae)||u(te))?(i(),O(u(lt),{ref_key:"userOptionsRef",ref:ee,key:"user_options_".concat(me.value),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isPrinting:u(Oe),isImaging:u(Fe),uid:y.value,hasTooltip:e.value.userOptions.buttons.tooltip&&e.value.style.chart.tooltip.show,hasPdf:e.value.userOptions.buttons.pdf,hasXls:e.value.userOptions.buttons.csv,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasTable:e.value.userOptions.buttons.table,hasFullscreen:e.value.userOptions.buttons.fullscreen,isTooltip:w.value.showTooltip,isFullscreen:V.value,titles:{...e.value.userOptions.buttonTitles},chartElement:x.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:K.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:Le,onGeneratePdf:u(Pe),onGenerateCsv:re,onGenerateImage:u(Se),onGenerateSvg:Be,onToggleTable:Ne,onToggleTooltip:Ee,onToggleAnnotator:ie,style:D({visibility:u(Ae)?u(te)?"visible":"hidden":"visible"})},ve({_:2},[t.$slots.menuIcon?{name:"menuIcon",fn:d(({isOpen:l,color:o})=>[g(t.$slots,"menuIcon",R(B({isOpen:l,color:o})),void 0,!0)]),key:"0"}:void 0,t.$slots.optionTooltip?{name:"optionTooltip",fn:d(()=>[g(t.$slots,"optionTooltip",{},void 0,!0)]),key:"1"}:void 0,t.$slots.optionPdf?{name:"optionPdf",fn:d(()=>[g(t.$slots,"optionPdf",{},void 0,!0)]),key:"2"}:void 0,t.$slots.optionCsv?{name:"optionCsv",fn:d(()=>[g(t.$slots,"optionCsv",{},void 0,!0)]),key:"3"}:void 0,t.$slots.optionImg?{name:"optionImg",fn:d(()=>[g(t.$slots,"optionImg",{},void 0,!0)]),key:"4"}:void 0,t.$slots.optionTable?{name:"optionTable",fn:d(()=>[g(t.$slots,"optionTable",{},void 0,!0)]),key:"5"}:void 0,t.$slots.optionFullscreen?{name:"optionFullscreen",fn:d(({toggleFullscreen:l,isFullscreen:o})=>[g(t.$slots,"optionFullscreen",R(B({toggleFullscreen:l,isFullscreen:o})),void 0,!0)]),key:"6"}:void 0,t.$slots.optionAnnotator?{name:"optionAnnotator",fn:d(({toggleAnnotator:l,isAnnotator:o})=>[g(t.$slots,"optionAnnotator",R(B({toggleAnnotator:l,isAnnotator:o})),void 0,!0)]),key:"7"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasTooltip","hasPdf","hasXls","hasImg","hasSvg","hasTable","hasFullscreen","isTooltip","isFullscreen","titles","chartElement","position","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):f("",!0),(i(),h("svg",{ref_key:"svgRef",ref:le,xmlns:u(Et),class:G({"vue-data-ui-fullscreen--on":V.value,"vue-data-ui-fulscreen--off":!V.value,resizing:Z.value||u(S)}),viewBox:"0 0 ".concat(n.value.width<=0?10:n.value.width," ").concat(n.value.height<=0?10:n.value.height),style:D("max-width:100%;overflow:visible;background:transparent;color:".concat(e.value.style.chart.color))},[X(u(at)),t.$slots["chart-background"]?(i(),h("foreignObject",{key:0,x:0,y:0,width:n.value.width<=0?10:n.value.width,height:n.value.height<=0?10:n.value.height,style:{pointerEvents:"none"}},[g(t.$slots,"chart-background",{},void 0,!0)],8,nl)):f("",!0),$("defs",null,[(i(!0),h(ce,null,de(m.value,(l,o)=>(i(),h("radialGradient",{cx:"50%",cy:"30%",r:"50%",fx:"50%",fy:"50%",id:"gradient_".concat(y.value,"_").concat(o)},[$("stop",{offset:"0%","stop-color":u(Rt)(u(Bt)(l.color,.05),100-e.value.style.chart.layout.rings.gradient.intensity)},null,8,il),$("stop",{offset:"100%","stop-color":l.color},null,8,vl)],8,rl))),256))]),t.$slots.pattern?(i(),h("g",cl,[(i(!0),h(ce,null,de(m.value,l=>(i(),h("defs",null,[g(t.$slots,"pattern",We({ref_for:!0},{seriesIndex:l.absoluteIndex,patternId:"pattern_".concat(y.value,"_").concat(l.absoluteIndex)}),void 0,!0)]))),256))])):f("",!0),(i(!0),h(ce,null,de(m.value,(l,o)=>(i(),h("g",null,[$("circle",{class:G({"vue-ui-rings-item":P.value&&e.value.useCssAnimation,"vue-rings-item-onload":!P.value&&e.value.useCssAnimation&&!u(S),"vue-ui-rings-opacity":C.value!==null&&C.value!==o}),style:D("animation-delay:".concat(o*100,"ms")),stroke:e.value.style.chart.layout.rings.stroke,cx:n.value.width/2,cy:o===0?n.value.height/2:n.value.height/2+p.value*m.value[0].proportion/2-p.value*l.proportion/2-2*(o+1),r:u(Y)(p.value*l.proportion/2*.9<=0?1e-4:p.value*l.proportion/2*.9),fill:e.value.style.chart.layout.rings.gradient.underlayerColor},null,14,dl),$("circle",{class:G({"vue-ui-rings-item":P.value&&e.value.useCssAnimation,"vue-rings-item-onload":!P.value&&e.value.useCssAnimation&&!u(S),"vue-ui-rings-shadow":e.value.style.chart.layout.rings.useShadow,"vue-ui-rings-blur":C.value!==null&&C.value!==o}),style:D("animation-delay:".concat(o*100,"ms")),stroke:e.value.style.chart.layout.rings.stroke,"stroke-width":l.strokeWidth<.5?.5:l.strokeWidth,cx:n.value.width/2,cy:o===0?n.value.height/2:n.value.height/2+p.value*m.value[0].proportion/2-p.value*l.proportion/2-2*(o+1),r:u(Y)(p.value*l.proportion/2*.9<=0?1e-4:p.value*l.proportion/2*.9),fill:e.value.style.chart.layout.rings.gradient.show?"url(#gradient_".concat(y.value,"_").concat(o,")"):l.color},null,14,pl),t.$slots.pattern?(i(),h("circle",{key:0,class:G({"vue-ui-rings-item":P.value&&e.value.useCssAnimation,"vue-rings-item-onload":!P.value&&e.value.useCssAnimation&&!u(S),"vue-ui-rings-shadow":e.value.style.chart.layout.rings.useShadow,"vue-ui-rings-blur":C.value!==null&&C.value!==o}),style:D("animation-delay:".concat(o*100,"ms")),stroke:e.value.style.chart.layout.rings.stroke,"stroke-width":l.strokeWidth<.5?.5:l.strokeWidth,cx:n.value.width/2,cy:o===0?n.value.height/2:n.value.height/2+p.value*m.value[0].proportion/2-p.value*l.proportion/2-2*(o+1),r:u(Y)(p.value*l.proportion/2*.9<=0?1e-4:p.value*l.proportion/2*.9),fill:"url(#pattern_".concat(y.value,"_").concat(l.absoluteIndex,")")},null,14,hl)):f("",!0),$("circle",{stroke:"none",cx:n.value.width/2,cy:o===0?n.value.height/2:n.value.height/2+p.value*m.value[0].proportion/2-p.value*l.proportion/2-2*(o+1),r:u(Y)(p.value*l.proportion/2*.9<=0?1e-4:p.value*l.proportion/2*.9),fill:"transparent",onMouseenter:s=>gt(l,o),onMouseleave:s=>ht(l,o),onClick:s=>pt(l,o)},null,40,gl)]))),256)),g(t.$slots,"svg",{svg:n.value},void 0,!0)],14,sl)),t.$slots.watermark?(i(),h("div",ml,[g(t.$slots,"watermark",R(B({isPrinting:u(Oe)||u(Fe)})),void 0,!0)])):f("",!0),$("div",{id:"legend-bottom-".concat(y.value)},null,8,yl),Ce.value?(i(),O(It,{key:5,to:e.value.style.chart.legend.position==="top"?"#legend-top-".concat(y.value):"#legend-bottom-".concat(y.value)},[$("div",{ref_key:"chartLegend",ref:be},[e.value.style.chart.legend.show?(i(),O(al,{key:"legend_".concat(_e.value),legendSet:se.value,config:ct.value,onClickMarker:a[0]||(a[0]=({legend:l})=>ue(l.uid))},ve({item:d(({legend:l,index:o})=>[u(S)?f("",!0):(i(),h("div",{key:0,onClick:s=>ue(l.uid),style:D("opacity:".concat(b.value.includes(l.uid)?.5:1))},pe(l.display),13,bl))]),_:2},[t.$slots.pattern?{name:"legend-pattern",fn:d(({legend:l,index:o})=>[X(el,{shape:l.shape,radius:30,stroke:"none",plot:{x:30,y:30},fill:"url(#pattern_".concat(y.value,"_").concat(o,")")},null,8,["shape","fill"])]),key:"0"}:void 0]),1032,["legendSet","config"])):g(t.$slots,"legend",{key:1,legend:se.value},void 0,!0)],512)],8,["to"])):f("",!0),t.$slots.source?(i(),h("div",{key:6,ref_key:"source",ref:fe,dir:"auto"},[g(t.$slots,"source",{},void 0,!0)],512)):f("",!0),X(u(Ye),{show:w.value.showTooltip&&U.value&&b.value.length<k.dataset.length,backgroundColor:e.value.style.chart.tooltip.backgroundColor,color:e.value.style.chart.tooltip.color,borderRadius:e.value.style.chart.tooltip.borderRadius,borderColor:e.value.style.chart.tooltip.borderColor,borderWidth:e.value.style.chart.tooltip.borderWidth,fontSize:e.value.style.chart.tooltip.fontSize,backgroundOpacity:e.value.style.chart.tooltip.backgroundOpacity,position:e.value.style.chart.tooltip.position,offsetY:e.value.style.chart.tooltip.offsetY,parent:x.value,content:q.value,isFullscreen:V.value,isCustom:e.value.style.chart.tooltip.customFormat&&typeof e.value.style.chart.tooltip.customFormat=="function",smooth:e.value.style.chart.tooltip.smooth,backdropFilter:e.value.style.chart.tooltip.backdropFilter,smoothForce:e.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:e.value.style.chart.tooltip.smoothSnapThreshold},{"tooltip-before":d(()=>[g(t.$slots,"tooltip-before",R(B({...ne.value})),void 0,!0)]),"tooltip-after":d(()=>[g(t.$slots,"tooltip-after",R(B({...ne.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","borderRadius","borderColor","borderWidth","fontSize","backgroundOpacity","position","offsetY","parent","content","isFullscreen","isCustom","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),ge.value&&e.value.userOptions.buttons.table?(i(),O(Ot(W.value.component),We({key:7},W.value.props,{ref_key:"tableUnit",ref:M,onClose:Re}),ve({content:d(()=>[(i(),O(u(et),{key:"table_".concat($e.value),colNames:J.value.colNames,head:J.value.head,body:J.value.body,config:J.value.config,title:e.value.table.useDialog?"":W.value.title,withCloseButton:!e.value.table.useDialog,onClose:Re},{th:d(({th:l})=>[$("div",{innerHTML:l,style:{display:"flex","align-items":"center"}},null,8,fl)]),td:d(({td:l})=>[ze(pe(l.name||l),1)]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))]),_:2},[e.value.table.useDialog?{name:"title",fn:d(()=>[ze(pe(W.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:d(()=>[$("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:a[1]||(a[1]=l=>re(e.value.userOptions.callbacks.csv))},[X(u(qe),{name:"excel",stroke:W.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):f("",!0),u(S)?(i(),O(Qt,{key:8})):f("",!0)],46,ol))}},El=Pt(kl,[["__scopeId","data-v-5c6dcdcf"]]);export{El as default};
