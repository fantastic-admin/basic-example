
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Tooltip-68Yi_FFl-CRPaJsgv.js","./vue-data-ui-BN9YfUec.js","./index-DXZKKOp8.js","./index-B7kifsnL.css","./alert-l5XlVwCh.js","./vue-data-ui-D1HaM8UR.css","./vue-ui-accordion-UpZ765hd-DndPzmcD.js","./useNestedProp-dJX_8vvZ-BzBW50KN.js","./DataTable-BT7VF2ua-Cw2NNXsE.js","./Shape-CNXKB8O0-BJGuTKHC.js","./PenAndPaper-DSvu9dwa-B6YjX2xm.js","./ColorPicker-J5wOPCeB-sgb_Bfch.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-1OZ3jcm6-BbpzMig3.js","./img-BecE5qXd-CsL1o-EN.js","./dom-to-png--BNgrTZV-DTUrW_sQ.js","./PackageVersion-TgflyMpU-q2MkeeNq.js","./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"])))=>i.map(i=>d[i]);
import{J as z,e as C,a7 as pt,K as Te,au as zl,E as gt,av as ft,b_ as ue,c as y,o as n,z as le,A as b,f as $,g as Me,u as c,c0 as Tl,h as E,r as X,j as he,k as pe,O as re,n as Ol,F as Z,R as Q,t as U,bn as mt,l as Il,m as xt,N as bt,c1 as ie,a9 as kt}from"./index-DXZKKOp8.js";import{s as wt,Q as $t,A as Mt,v as At,m as ye,g as Pl,p as Qe,C as Ct,b as Fl,a5 as _t,a as Je,a7 as Lt,z as Bt,O as Oe,y as St,a6 as zt,I as ne,c as q,f as J,e as Tt,r as Ot,F as It,h as Pt}from"./vue-data-ui-BN9YfUec.js";import{E as Ft,M as Wt}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{t as Dt,o as Wl}from"./useNestedProp-dJX_8vvZ-BzBW50KN.js";import{S as Et,T as Nt}from"./BaseScanner-BgWxam9d-B19ueoDW.js";import{m as Rt}from"./usePrinter-DTzqpYKF-D5mkxXp9.js";import{O as Vt}from"./useSvgExport-DrjCWun4-CbW14PXm.js";import{a as Xt}from"./useUserOptionState-BIvW1Kz7-D6llU1BK.js";import{o as Yt}from"./useChartAccessibility-9icAAmYg-BcUQIUvr.js";import{J as jt}from"./themes-AUNCOb2G-RAhReTPj.js";import Ut from"./Legend-G6GMcdAc-7HaGLNN7.js";import qt from"./Title-BWp-37K_-BMUMQpSO.js";import{w as Ke}from"./Shape-CNXKB8O0-BJGuTKHC.js";import Gt from"./img-BecE5qXd-CsL1o-EN.js";import"./alert-l5XlVwCh.js";import"./dom-to-png--BNgrTZV-DTUrW_sQ.js";const Zt=["id"],Ht=["id"],Qt=["xmlns","viewBox"],Jt=["width","height"],Kt={key:1},ea=["x1","x2","y1","y2","stroke","stroke-width"],la=["x1","x2","y1","y2","stroke","stroke-width"],ta={key:2},aa=["id"],oa=["stop-color"],sa=["stop-color"],ua=["id"],ra=["stop-color"],ia=["stop-color"],na=["x","y","width","height","fill","stroke","stroke-width","rx"],va=["x","y","width","height","onMouseenter"],ya={key:2,style:{"pointer-events":"none"}},da=["x","y","width","height","fill","fill-opacity"],ca=["x1","x2","y2","stroke","stroke-dasharray","stroke-width"],ha=["x1","x2","y2","stroke","stroke-dasharray","stroke-width"],pa=["x","y","height","width","fill","stroke","stroke-width","rx"],ga=["x","y","width","height","onMouseenter"],fa={key:2,style:{"pointer-events":"none"}},ma=["x","y","width","height","fill","fill-opacity"],xa=["x1","x2","y1","y2","stroke","stroke-dasharray","stroke-width"],ba=["x1","x2","y1","y2","stroke","stroke-dasharray","stroke-width"],ka={key:0,style:{"pointer-events":"none"}},wa=["d","stroke","stroke-width"],$a=["d","stroke","stroke-width"],Ma=["d","stroke","stroke-width"],Aa=["d","stroke","stroke-width"],Ca={key:3},_a=["points","fill","stroke-width","stroke-dasharray","stroke"],La={key:0},Ba=["cx","cy","r","fill","stroke","stroke-width","onMouseover","onMouseleave","onClick"],Sa={key:1},za=["clip-path"],Ta=["d","fill","stroke","stroke-width","stroke-opacity"],Oa={key:0,style:{"pointer-events":"none"}},Ia=["x","y","width","height"],Pa={key:6,style:{"pointer-events":"none !important"}},Fa=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],Wa=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],Da=["x","y","font-size","fill","font-weight","text-anchor"],Ea=["x","y","font-size","fill","font-weight"],Na=["cx","cy","r","fill","stroke","stroke-width"],Ra=["cx","cy","r","fill","stroke","stroke-width"],Va=["x","y","font-size","fill","font-weight","text-anchor"],Xa=["id","transform","font-size","font-weight","fill"],Ya=["font-size","fill","transform"],ja=["transform","font-size","fill"],Ua=["x","y","font-size","fill"],qa=["x","y","font-size","fill"],Ga=["font-size","font-weight","fill","x","y"],Za=["id"],Ha=["x","y","width","height"],Qa={key:11,style:{pointerEvents:"none"}},Ja=["x1","x2","y1","y2","stroke-dasharray","stroke","stroke-width","clip-path"],Ka=["x","y","fill","font-size","font-weight"],eo={key:4,class:"vue-data-ui-watermark"},lo=["id"],to=["onClick"],ao={key:0,style:{width:"100%",display:"flex","align-items":"center","justify-content":"center"}},oo={viewBox:"0 0 20 20",height:"20",width:"20",style:{overflow:"hidden",background:"transparent"}},so={key:0},uo=["innerHTML"],ro={__name:"vue-ui-scatter",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},setup(Dl,{expose:El}){const Nl=ue(()=>ie(()=>import("./Tooltip-68Yi_FFl-CRPaJsgv.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),Rl=ue(()=>ie(()=>import("./vue-data-ui-BN9YfUec.js").then(t=>t.aw),__vite__mapDeps([1,2,3,4,5]),import.meta.url)),Vl=ue(()=>ie(()=>import("./vue-ui-accordion-UpZ765hd-DndPzmcD.js"),__vite__mapDeps([6,2,3,1,4,5,7]),import.meta.url)),Xl=ue(()=>ie(()=>import("./DataTable-BT7VF2ua-Cw2NNXsE.js"),__vite__mapDeps([8,2,3,9,1,4,5]),import.meta.url)),Yl=ue(()=>ie(()=>import("./PenAndPaper-DSvu9dwa-B6YjX2xm.js"),__vite__mapDeps([10,2,3,1,4,5,11,12]),import.meta.url)),jl=ue(()=>ie(()=>import("./UserOptions-1OZ3jcm6-BbpzMig3.js"),__vite__mapDeps([13,2,3,12,1,4,5,14,15]),import.meta.url)),Ul=ue(()=>ie(()=>import("./PackageVersion-TgflyMpU-q2MkeeNq.js"),__vite__mapDeps([16,2,3]),import.meta.url)),ql=ue(()=>ie(()=>import("./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"),__vite__mapDeps([17,2,3,1,4,5]),import.meta.url)),{vue_ui_scatter:Gl}=Dt(),K=Dl,el=z(()=>!!K.dataset&&K.dataset.length),W=C($t()),Ie=C(!1),Pe=C(""),ll=C(0),ee=C(null),tl=C(null),al=C(null),ol=C(null),sl=C(null),ul=C(0),rl=C(0),il=C(0),D=C([]),nl=C(!1),ge=C(null),fe=C(null),me=C(null),Fe=C(null),We=C(null),Zl=C(null),Hl=C(null),De=C(null),e=C(Ve());function Ql(t=100,a=.8,l={}){const{meanX:s=0,sdX:o=1,meanY:u=0,sdY:i=1,seed:v}=l;let h=(v!=null?v:Math.floor(Math.random()*2**31))>>>0;const M=()=>(h=h*1664525+1013904223>>>0,h/2**32),f=()=>{let g=0,I=0;for(;g===0;)g=M();for(;I===0;)I=M();return Math.sqrt(-2*Math.log(g))*Math.cos(2*Math.PI*I)},m=t/2,L=Array.from({length:m},f),A=Array.from({length:m},f),S=g=>g.reduce((I,$e)=>I+$e,0)/g.length,R=S(L),V=S(A);for(let g=0;g<m;g+=1)L[g]-=R,A[g]-=V;const x=(g,I)=>g.reduce(($e,ze,He)=>$e+ze*I[He],0),d=g=>x(g,g),B=x(A,L)/d(L),F=A.map((g,I)=>g-B*L[I]),H=d(L)/m,oe=d(F)/m,j=Math.sqrt((1-a*a)*H/oe),se=L.map((g,I)=>a*g+j*F[I]),Ze=L.concat(L.map(g=>-g)),be=se.concat(se.map(g=>-g)),ke=g=>Math.sqrt(d(g)/g.length),Sl=(g,I,$e)=>{const ze=ke(g);return g.map(He=>$e+(ze?He/ze*I:0))},ce=Sl(Ze,o,s),we=Sl(be,i,u);for(let g=ce.length-1;g>0;g-=1){const I=Math.floor(M()*(g+1));[ce[g],ce[I]]=[ce[I],ce[g]],[we[g],we[I]]=[we[I],we[g]]}return ce.map((g,I)=>({x:g,y:we[I]}))}const{loading:vl,FINAL_DATASET:Ee,manualLoading:Ne}=Et({...pt(K),FINAL_CONFIG:e,prepareConfig:Ve,skeletonDataset:[{name:"",color:"#999999",values:Ql(100,.5,{seed:42})}],skeletonConfig:Mt({defaultConfig:e.value,userConfig:{userOptions:{show:!1},table:{show:!1},useCssAnimation:!1,style:{backgroundColor:"#99999930",layout:{axis:{stroke:"#6A6A6A"},correlation:{label:{show:!1}},dataLabels:{xAxis:{show:!1},yAxis:{show:!1}},marginalBars:{fill:"#99999960"},padding:{top:12,right:12,bottom:12,left:12},plots:{stroke:"#6A6A6A"}},legend:{backgroundColor:"transparent"}}}})}),{userOptionsVisible:Re,setUserOptionsVisibility:yl,keepUserOptionState:dl}=Xt({config:e.value}),{svgRef:Ae}=Yt({config:e.value.style.title});function Ve(){const t=Wl({userConfig:K.config,defaultConfig:Gl});return t.theme?{...Wl({userConfig:jt.vue_ui_scatter[t.theme]||K.config,defaultConfig:t}),customPalette:At[t.theme]||ye}:t}Te(()=>K.config,t=>{vl.value||(e.value=Ve()),Re.value=!e.value.userOptions.showOnChartHover,hl(),ul.value+=1,rl.value+=1,il.value+=1,G.value.showTable=e.value.table.show,G.value.showTooltip=e.value.style.tooltip.show,cl.value&&e.value.usePerformanceMode&&console.warn("VueUiScatter : You are using performance mode\n\n- downsampling is disabled in this mode, all plots are rendered\n\n- plot significance is not active in this mode (all plots have the same opacity) \n\n- Depending on plot density, shapes might not display a border (stroke) to avoid fuzziness \n\nℹ️ To remove this warning, set config.debug to false.")},{deep:!0}),Te(()=>K.dataset,t=>{Array.isArray(t)&&t.length>0&&(Ne.value=!1)},{deep:!0});const te=zl(null),de=zl(null);gt(()=>{nl.value=!0,hl()});const cl=z(()=>!!e.value.debug);function hl(){if(Pl(K.dataset)&&(Qe({componentName:"VueUiScatter",type:"dataset",debug:cl.value}),Ne.value=!0),Pl(K.dataset)||(Ne.value=e.value.loading),e.value.responsive){const t=Ft(()=>{const{width:a,height:l}=Wt({chart:ee.value,title:e.value.style.title.text?tl.value:null,legend:e.value.style.legend.show?al.value:null,source:ol.value,noTitle:sl.value});requestAnimationFrame(()=>{P.value.width=a,P.value.height=l})});te.value&&(de.value&&te.value.unobserve(de.value),te.value.disconnect()),te.value=new ResizeObserver(t),de.value=ee.value.parentNode,te.value.observe(de.value)}}ft(()=>{te.value&&(de.value&&te.value.unobserve(de.value),te.value.disconnect())});const{isPrinting:pl,isImaging:gl,generatePdf:fl,generateImage:ml}=Rt({elementId:"vue-ui-scatter_".concat(W.value),fileName:e.value.style.title.text||"vue-ui-scatter",options:e.value.userOptions.print}),Jl=z(()=>e.value.userOptions.show&&!e.value.style.title.text),xl=z(()=>Ct(e.value.customPalette)),G=C({showTable:e.value.table.show,showTooltip:e.value.style.tooltip.show});Te(e,()=>{G.value={showTable:e.value.table.show,showTooltip:e.value.style.tooltip.show}},{immediate:!0});const P=C({height:e.value.style.layout.height,width:e.value.style.layout.width}),Ce=z(()=>e.value.style.layout.marginalBars.show?e.value.style.layout.marginalBars.size+e.value.style.layout.marginalBars.offset:0),r=z(()=>{let t=0,a=0;return We.value&&(t=We.value.getBBox().width+6),De.value&&(a=De.value.getBBox().height+6),{top:e.value.style.layout.padding.top+Ce.value+e.value.style.layout.dataLabels.yAxis.fontSize*2,right:P.value.width-e.value.style.layout.padding.right-Ce.value-6,bottom:P.value.height-e.value.style.layout.padding.bottom-a,left:e.value.style.layout.padding.left+t,height:P.value.height-e.value.style.layout.padding.top-e.value.style.layout.padding.bottom-Ce.value-a-e.value.style.layout.dataLabels.yAxis.fontSize*2,width:P.value.width-e.value.style.layout.padding.left-e.value.style.layout.padding.right-Ce.value-t-6}}),T=z(()=>{Ee.value.forEach((o,u)=>{Fl({datasetObject:o,requiredAttributes:["values"]}).forEach(i=>{Qe({componentName:"VueUiScatter",type:"datasetSerieAttribute",property:i,index:u})}),o.values&&o.values.forEach((i,v)=>{Fl({datasetObject:i,requiredAttributes:["x","y"]}).forEach(h=>{Qe({componentName:"VueUiScatter",type:"datasetSerieAttribute",property:"values.".concat(h),index:"".concat(u," - ").concat(v)})})})});const t=Math.min(...ae.value.filter(o=>!D.value.includes(o.id)).flatMap(o=>o.values.map(u=>u.x))),a=Math.max(...ae.value.filter(o=>!D.value.includes(o.id)).flatMap(o=>o.values.map(u=>u.x))),l=Math.min(...ae.value.filter(o=>!D.value.includes(o.id)).flatMap(o=>o.values.map(u=>u.y))),s=Math.max(...ae.value.filter(o=>!D.value.includes(o.id)).flatMap(o=>o.values.map(u=>u.y)));return{xMin:t>=0?0:t,xMax:a,yMin:l>=0?0:l,yMax:s}}),O=z(()=>({x:r.value.left+Math.abs(T.value.xMin)/(T.value.xMax+Math.abs(T.value.xMin))*r.value.width,y:r.value.bottom-Math.abs(T.value.yMin)/(T.value.yMax+Math.abs(T.value.yMin))*r.value.height})),ae=z(()=>Ee.value.map((t,a)=>{var s;const l="cluster_".concat(W.value,"_").concat(a);return{...t,values:_t({data:t.values,threshold:e.value.usePerformanceMode?t.values.length+1:e.value.downsample.threshold}),id:l,color:t.color?t.color:xl.value[a]||ye[a]||ye[a%ye.length],opacity:D.value.includes(l)?.5:1,shape:(s=t.shape)!=null?s:"circle",segregate:()=>wl(l),isSegregated:D.value.includes(l)}})),Kl=z(()=>({cy:"scatter-div-legend",backgroundColor:e.value.style.legend.backgroundColor,color:e.value.style.legend.color,fontSize:e.value.style.legend.fontSize,paddingBottom:12,fontWeight:e.value.style.legend.bold?"bold":""})),_e=z(()=>ae.value.map((t,a)=>({...t,plots:t.values.map(l=>{var s;return{x:r.value.left+(l.x+Math.abs(T.value.xMin))/(T.value.xMax+Math.abs(T.value.xMin))*r.value.width,y:r.value.bottom-(l.y+Math.abs(T.value.yMin))/(T.value.yMax+Math.abs(T.value.yMin))*r.value.height,v:{...l,name:l.name||""},clusterName:t.name,color:t.color?t.color:xl.value[a]||ye[a]||ye[a%ye.length],id:"plot_".concat(W.value,"_").concat(Math.random()),weight:(s=l.weight)!=null?s:e.value.style.layout.plots.radius}})})).filter(t=>!D.value.includes(t.id))),Y=z(()=>{const t=({m:a,b:l,rect:s,verticalX:o=null})=>{const{left:u,right:i,top:v,bottom:h}=s,M=[],f=(x,d)=>{Number.isFinite(x)&&Number.isFinite(d)&&M.push({x,y:d})},m=({x,y:d})=>x>=u-1e-9&&x<=i+1e-9&&d>=v-1e-9&&d<=h+1e-9;o!==null?o>=u-1e-9&&o<=i+1e-9&&(f(o,v),f(o,h)):Number.isFinite(a)&&(f(u,a*u+l),f(i,a*i+l),Math.abs(a)>1e-9?(f((v-l)/a,v),f((h-l)/a,h)):l>=v-1e-9&&l<=h+1e-9&&(f(u,l),f(i,l)));const L=M.filter(m),A=[];for(const x of L)A.some(d=>Math.abs(d.x-x.x)<1e-6&&Math.abs(d.y-x.y)<1e-6)||A.push(x);if(A.length<2)return null;let S=A[0],R=A[1],V=0;for(let x=0;x<A.length;x+=1)for(let d=x+1;d<A.length;d+=1){const B=A[x].x-A[d].x,F=A[x].y-A[d].y,H=B*B+F*F;H>V&&(V=H,S=A[x],R=A[d])}return{x1:S.x,y1:S.y,x2:R.x,y2:R.y}};return _e.value.map(a=>{const l=a.plots.length,s=a.plots.reduce((d,B)=>d+B.x,0)/l,o=a.plots.reduce((d,B)=>d+B.y,0)/l;let u=0,i=0;for(const d of a.plots){const B=d.x-s,F=d.y-o;u+=B*F,i+=B*B}let v,h,M=null;i<1e-9?(M=s,v=1/0,h=null):(v=u/i,h=o-v*s);let f,m;M!==null?(f=1/0,m=null):(f=v,m=h);const L=a.plots.every(d=>d.v&&typeof d.v.x=="number"&&typeof d.v.y=="number");let A=NaN;if(l>=2){let d=0,B=0;L?(d=a.plots.reduce((j,se)=>j+se.v.x,0)/l,B=a.plots.reduce((j,se)=>j+se.v.y,0)/l):(d=s,B=-o);let F=0,H=0,oe=0;for(const j of a.plots){const se=L?j.v.x:j.x,Ze=L?j.v.y:-j.y,be=se-d,ke=Ze-B;F+=be*ke,H+=be*be,oe+=ke*ke}if(H>=1e-9&&oe>=1e-9){const j=F/Math.sqrt(H*oe);A=Math.max(-1,Math.min(1,j))}}const S=t({m:f,b:m,rect:r.value,verticalX:M});if(!S)return{...a,correlation:null,label:null,plots:a.plots.map(d=>({...d,deviation:0,shape:a.shape,color:Je(a.color)}))};const R=(S.x1+S.x2)/2,V=(S.y1+S.y2)/2,x={x:R,y:V};return{...a,color:Je(a.color),correlation:{...S,coefficient:A},label:x,plots:a.plots.map(d=>{let B,F;M!==null?(B=M,F=d.y):Math.abs(f)<1e-9?(B=d.x,F=m):(B=(d.x+f*d.y-f*m)/(1+f*f),F=(f*d.x+f*f*d.y+m)/(1+f*f));const H=d.x-B,oe=d.y-F,j=Math.sqrt(H*H+oe*oe);return{...d,deviation:j,shape:a.shape,color:Je(a.color)}})}})}),bl=z(()=>Math.max(...Y.value.flatMap(t=>t.plots.map(a=>Math.abs(a.deviation)))));function et(){return Y.value}function kl(t,a){const l=Array.isArray(t)?t.flatMap(x=>x.plots.map(d=>({x:d.x,y:d.y}))):t.plots.map(x=>({x:x.x,y:x.y}));let s=1/0,o=-1/0,u=1/0,i=-1/0;l.forEach(({x,y:d})=>{s=Math.min(s,x),o=Math.max(o,x),u=Math.min(u,d),i=Math.max(i,d)});const v=o-s,h=i-u,M=v/a,f=h/a,m=Array(a).fill(0),L=Array(a).fill(0);l.forEach(({x,y:d})=>{const B=Math.floor((x-s)/M),F=Math.floor((d-u)/f);m[B]||(m[B]=0),L[F]||(L[F]=0),m[B]+=1,L[F]+=1});const A=[],S=[];for(let x=0;x<a;x+=1)A.push(s+(x+.5)*M),S.push(u+(x+.5)*f);const R=Math.max(...m),V=Math.max(...L);return{x:m,y:L,avgX:A,avgY:S,maxX:R,maxY:V}}const k=z(()=>e.value.style.layout.marginalBars.tranches),_=z(()=>kl(_e.value,k.value)),lt=z(()=>{const t=r.value.top-e.value.style.layout.marginalBars.offset,a=r.value.right+e.value.style.layout.marginalBars.offset;return _e.value.map(l=>{const s=kl(l,k.value);return{coords:s,dX:Bt(s.avgX.map((o,u)=>({x:o,y:t-s.x[u]/s.maxX*e.value.style.layout.marginalBars.size}))),dY:Lt(s.avgY.map((o,u)=>({y:o,x:a+e.value.style.layout.marginalBars.size*s.y[u]/s.maxY}))),color:l.color,id:l.id}})}),N=C(void 0),p=C(null),Xe=C(null);function Ye(t,a){N.value=t.id,p.value=t;let l="";e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:t,seriesIndex:a}),Xe.value={datapoint:t,seriesIndex:a,series:Y.value,config:e.value};const s=e.value.style.tooltip.customFormat;It(s)&&Pt(()=>s({datapoint:t,seriesIndex:a,series:Y.value,config:e.value}))?Pe.value=s({datapoint:t,seriesIndex:a,series:Y.value,config:e.value}):(t.clusterName&&(l+='<div style="display:flex;gap:3px;align-items:center">'.concat(t.clusterName,"</div>")),t.v.name&&(l+="<div>".concat(t.v.name,"</div>")),l+='<div style="text-align:left;margin-top:6px;padding-top:6px;border-top:1px solid '.concat(e.value.style.tooltip.borderColor,'">'),l+="<div>".concat(e.value.style.layout.dataLabels.xAxis.name,": <b>").concat(isNaN(t.v.x)?"-":ne(e.value.style.layout.plots.selectors.labels.x.formatter,t.v.x,J({p:e.value.style.tooltip.prefix,v:t.v.x,s:e.value.style.tooltip.suffix,r:e.value.style.tooltip.roundingValue}),{datapoint:t,seriesIndex:a}),"</b></div>"),l+="<div>".concat(e.value.style.layout.dataLabels.yAxis.name,": <b>").concat(isNaN(t.v.y)?"-":ne(e.value.style.layout.plots.selectors.labels.y.formatter,t.v.y,J({p:e.value.style.tooltip.prefix,v:t.v.y,s:e.value.style.tooltip.suffix,r:e.value.style.tooltip.roundingValue}),{datapoint:t,seriesIndex:a}),"</b></div>"),l+="".concat(e.value.style.layout.plots.deviation.translation,": <b>").concat(J({v:t.deviation,r:e.value.style.layout.plots.deviation.roundingValue}),"</b>"),l+="</div>",Pe.value="<div>".concat(l,"</div>")),Ie.value=!0}function Le(t,a){e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:t,seriesIndex:a}),Ie.value=!1,N.value=void 0,p.value=null}function je(t,a){e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:t,seriesIndex:a})}function wl(t){D.value.includes(t)?D.value=D.value.filter(a=>a!==t):D.value.length<Ee.value.length-1&&D.value.push(t)}function Ue(t=null){kt(()=>{const a=["",e.value.table.translations.correlationCoefficient,e.value.table.translations.nbrPlots,"".concat(e.value.style.layout.dataLabels.xAxis.name," ").concat(e.value.table.translations.average),"".concat(e.value.style.layout.dataLabels.yAxis.name," ").concat(e.value.table.translations.average)],l=Y.value.map(u=>[u.name,u.correlation.coefficient,u.plots.length,u.plots.map(i=>i.v.x).reduce((i,v)=>i+v,0)/u.plots.length,u.plots.map(i=>i.v.y).reduce((i,v)=>i+v,0)/u.plots.length]),s=[[e.value.style.title.text],[e.value.style.title.subtitle.text],[[""],[""],[""]]].concat([a]).concat(l),o=Tt(s);t?t(o):Ot({csvContent:o,title:e.value.style.title.text||"vue-ui-heatmap"})})}const Be=z(()=>{const t=[e.value.table.translations.series,e.value.table.translations.correlationCoefficient,e.value.table.translations.nbrPlots,"".concat(e.value.style.layout.dataLabels.xAxis.name," ").concat(e.value.table.translations.average),"".concat(e.value.style.layout.dataLabels.yAxis.name," ").concat(e.value.table.translations.average)],a=Y.value.map(s=>{var o;return[{shape:s.shape,content:s.name,color:s.color},Number(((o=s.correlation.coefficient)!=null?o:0).toFixed(e.value.table.td.roundingValue)).toLocaleString(),s.plots.length.toLocaleString(),Number((s.plots.map(u=>{var i;return(i=u.v.x)!=null?i:0}).reduce((u,i)=>u+i,0)/s.plots.length).toFixed(e.value.table.td.roundingAverage)).toLocaleString(),Number((s.plots.map(u=>{var i;return(i=u.v.y)!=null?i:0}).reduce((u,i)=>u+i,0)/s.plots.length).toFixed(e.value.table.td.roundingAverage)).toLocaleString()]}),l={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint};return{head:t,body:a,config:l,colNames:t}}),ve=C(!1);function $l(t){ve.value=t,ll.value+=1}function Ml(){G.value.showTable=!G.value.showTable}function Al(){G.value.showTooltip=!G.value.showTooltip}const Se=C(!1);function qe(){Se.value=!Se.value}async function tt({scale:t=2}={}){if(!ee.value)return;const{width:a,height:l}=ee.value.getBoundingClientRect(),s=a/l,{imageUri:o,base64:u}=await Gt({domElement:ee.value,base64:!0,img:!0,scale:t});return{imageUri:o,base64:u,title:e.value.style.title.text,width:a,height:l,aspectRatio:s}}function at(t){ge.value=t,e.value.style.layout.marginalBars.highlighter.highlightBothAxes&&(fe.value=_.value.y.length-2-t)}function ot(t){fe.value=t,e.value.style.layout.marginalBars.highlighter.highlightBothAxes&&(ge.value=t)}function Ge(){ge.value=null,fe.value=null}const Cl={circle:1,square:1,diamond:1,triangle:1.2,star:1.3,pentagon:1.3,hexagon:1.3},w=t=>t.toFixed(3);function st({shape:t="circle",cx:a,cy:l,r:s}){if(!e.value.usePerformanceMode)return"";const o=Cl[t]*s;switch(t){case"circle":{const u=w(a-o),i=w(l),v=w(a+o),h=w(o);return"M ".concat(u," ").concat(i," A ").concat(h," ").concat(h," 0 1 0 ").concat(v," ").concat(i," A ").concat(h," ").concat(h," 0 1 0 ").concat(u," ").concat(i," Z")}case"square":{const u=w(a-o),i=w(l-o),v=w(a+o),h=w(l+o);return"M ".concat(u," ").concat(i," L ").concat(v," ").concat(i," L ").concat(v," ").concat(h," L ").concat(u," ").concat(h," Z")}case"diamond":{const u=w(a),i=w(l);return"M ".concat(u," ").concat(w(l-o)," L ").concat(w(a+o)," ").concat(i," L ").concat(u," ").concat(w(l+o)," L ").concat(w(a-o)," ").concat(i," Z")}case"triangle":{const u=o*Math.sqrt(3),i=a,v=l-2/3*u,h=a-o,M=l+1/3*u,f=a+o,m=M;return"M ".concat(w(i)," ").concat(w(v)," L ").concat(w(h)," ").concat(w(M)," L ").concat(w(f)," ").concat(w(m)," Z")}case"star":{const u=o,i=o*.5,v=[];for(let M=0;M<10;M+=1){const f=(-90+M*36)*Math.PI/180,m=M%2===0?u:i;v.push([a+m*Math.cos(f),l+m*Math.sin(f)])}let h="M ".concat(w(v[0][0])," ").concat(w(v[0][1]));for(let M=1;M<v.length;M+=1)h+=" L ".concat(w(v[M][0])," ").concat(w(v[M][1]));return h+" Z"}case"pentagon":{const u=[];for(let v=0;v<5;v+=1){const h=(-90+v*72)*Math.PI/180;u.push([a+o*Math.cos(h),l+o*Math.sin(h)])}let i="M ".concat(w(u[0][0])," ").concat(w(u[0][1]));for(let v=1;v<5;v+=1)i+=" L ".concat(w(u[v][0])," ").concat(w(u[v][1]));return i+" Z"}case"hexagon":{const u=[];for(let v=0;v<6;v+=1){const h=(-60+v*60)*Math.PI/180;u.push([a+o*Math.cos(h),l+o*Math.sin(h)])}let i="M ".concat(w(u[0][0])," ").concat(w(u[0][1]));for(let v=1;v<6;v+=1)i+=" L ".concat(w(u[v][0])," ").concat(w(u[v][1]));return i+" Z"}default:{const u=w(a-o),i=w(l),v=w(a+o),h=w(o);return"M ".concat(u," ").concat(i," A ").concat(h," ").concat(h," 0 1 0 ").concat(v," ").concat(i," A ").concat(h," ").concat(h," 0 1 0 ").concat(u," ").concat(i," Z")}}}const ut=z(()=>{if(!e.value.usePerformanceMode)return[""];const{left:t,right:a,top:l,bottom:s}=r.value,o=Math.max(1,(a-t)*(s-l)),u=m=>m/o*1e4,i=2.5,v=1e3,h=e.value.style.layout.plots.stroke,M=e.value.style.layout.plots.strokeWidth,f=e.value.style.layout.plots.opacity;return Y.value.map(m=>{const L=[];for(const S of m.plots){const R=S.x,V=S.y;if(R<t||R>a||V<l||V>s)continue;const x=Math.max(e.value.style.layout.plots.radius,S.weight);L.push(st({shape:m.shape||"circle",cx:R,cy:V,r:x}))}if(!L.length)return null;const A=u(m.plots.length)>i||m.plots.length>v;return{id:m.id,d:L.join(""),fill:Oe(m.color,f*100),stroke:A?"none":h,strokeWidth:A?0:M,strokeOpacity:1}}).filter(Boolean)});function rt(){return e.value.usePerformanceMode?t=>{const a=Ae.value;if(!a)return;const l=a.createSVGPoint();l.x=t.clientX,l.y=t.clientY;const s=a.getScreenCTM();if(!s)return;const o=s.inverse(),u=l.matrixTransform(o),i=8,v=i*i;let h=null,M=1/0,f=-1;if(Y.value.forEach((m,L)=>{m.plots.forEach(A=>{const S=A.x-u.x,R=A.y-u.y,V=S*S+R*R;V<=v&&V<M&&(M=V,h=A,f=L)})}),h)N.value!==h.id&&(N.value=h.id,Ye(h,f));else if(N.value){const m=p.value;N.value=void 0,Le(m,f)}}:()=>null}const _l=rt();function it(){if(N.value){const t=p.value;N.value=void 0,Le(t,null)}}function nt(t){const a=p.value;if(a){const l=Y.value.findIndex(s=>s.id===a.clusterId);je(a,l>=0?l:0)}}const xe=z(()=>{const t=e.value.table.useDialog&&!e.value.table.show,a=G.value.showTable;return{component:t?ql:Vl,title:"".concat(e.value.style.title.text).concat(e.value.style.title.subtitle.text?": ".concat(e.value.style.title.subtitle.text):""),props:t?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:ve.value,fullscreenParent:ee.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:a,maxHeight:1e4,body:{backgroundColor:e.value.style.backgroundColor,color:e.value.style.color},head:{backgroundColor:e.value.style.backgroundColor,color:e.value.style.color}}}}});Te(()=>G.value.showTable,t=>{e.value.table.show||(t&&e.value.table.useDialog&&me.value?me.value.open():"close"in me.value&&me.value.close())});function Ll(){G.value.showTable=!1,Fe.value&&Fe.value.setTableIconState(!1)}const vt=z(()=>e.value.style.backgroundColor),yt=z(()=>e.value.style.legend),dt=z(()=>e.value.style.title),{exportSvg:ct,getSvg:ht}=Vt({svg:Ae,title:dt,legend:yt,legendItems:ae,backgroundColor:vt});async function Bl({isCb:t}){if(t){const{blob:a,url:l,text:s,dataUrl:o}=await ht();e.value.userOptions.callbacks.svg({blob:a,url:l,text:s,dataUrl:o})}else ct()}return El({getData:et,getImage:tt,generatePdf:fl,generateCsv:Ue,generateImage:ml,generateSvg:Bl,toggleTable:Ml,toggleTooltip:Al,toggleAnnotator:qe,toggleFullscreen:$l}),(t,a)=>(n(),y("div",{class:Ol("vue-data-ui-component vue-ui-scatter ".concat(ve.value?"vue-data-ui-wrapper-fullscreen":""," ").concat(e.value.useCssAnimation?"":"vue-ui-dna")),ref_key:"scatterChart",ref:ee,id:"vue-ui-scatter_".concat(W.value),style:re("font-family:".concat(e.value.style.fontFamily,";width:100%; text-align:center;background:").concat(e.value.style.backgroundColor,";").concat(e.value.responsive?"height: 100%":"")),onMouseenter:a[5]||(a[5]=()=>c(yl)(!0)),onMouseleave:a[6]||(a[6]=()=>c(yl)(!1))},[e.value.userOptions.buttons.annotator?(n(),le(c(Yl),{key:0,svgRef:c(Ae),backgroundColor:e.value.style.backgroundColor,color:e.value.style.color,active:Se.value,onClose:qe},null,8,["svgRef","backgroundColor","color","active"])):b("",!0),Jl.value?(n(),y("div",{key:1,ref_key:"noTitle",ref:sl,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):b("",!0),e.value.style.title.text?(n(),y("div",{key:2,ref_key:"chartTitle",ref:tl,style:"width:100%;background:transparent"},[(n(),le(qt,{key:"title_".concat(ul.value),config:{title:{cy:"scatter-div-title",...e.value.style.title},subtitle:{cy:"scatter-div-subtitle",...e.value.style.title.subtitle}}},null,8,["config"]))],512)):b("",!0),$("div",{id:"legend-top-".concat(W.value)},null,8,Ht),e.value.userOptions.show&&el.value&&(c(dl)||c(Re))?(n(),le(c(jl),{ref_key:"userOptionsRef",ref:Fe,key:"user_options_".concat(ll.value),backgroundColor:e.value.style.backgroundColor,color:e.value.style.color,isImaging:c(gl),isPrinting:c(pl),uid:W.value,hasTooltip:e.value.userOptions.buttons.tooltip&&e.value.style.tooltip.show,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasXls:e.value.userOptions.buttons.csv,hasTable:e.value.userOptions.buttons.table,hasFullscreen:e.value.userOptions.buttons.fullscreen,isTooltip:G.value.showTooltip,isFullscreen:ve.value,titles:{...e.value.userOptions.buttonTitles},chartElement:ee.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:Se.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:$l,onGeneratePdf:c(fl),onGenerateCsv:Ue,onGenerateImage:c(ml),onGenerateSvg:Bl,onToggleTable:Ml,onToggleTooltip:Al,onToggleAnnotator:qe,style:re({visibility:c(dl)?c(Re)?"visible":"hidden":"visible"})},Tl({_:2},[t.$slots.menuIcon?{name:"menuIcon",fn:E(({isOpen:l,color:s})=>[X(t.$slots,"menuIcon",he(pe({isOpen:l,color:s})),void 0,!0)]),key:"0"}:void 0,t.$slots.optionTooltip?{name:"optionTooltip",fn:E(()=>[X(t.$slots,"optionTooltip",{},void 0,!0)]),key:"1"}:void 0,t.$slots.optionPdf?{name:"optionPdf",fn:E(()=>[X(t.$slots,"optionPdf",{},void 0,!0)]),key:"2"}:void 0,t.$slots.optionCsv?{name:"optionCsv",fn:E(()=>[X(t.$slots,"optionCsv",{},void 0,!0)]),key:"3"}:void 0,t.$slots.optionImg?{name:"optionImg",fn:E(()=>[X(t.$slots,"optionImg",{},void 0,!0)]),key:"4"}:void 0,t.$slots.optionTable?{name:"optionTable",fn:E(()=>[X(t.$slots,"optionTable",{},void 0,!0)]),key:"5"}:void 0,t.$slots.optionFullscreen?{name:"optionFullscreen",fn:E(({toggleFullscreen:l,isFullscreen:s})=>[X(t.$slots,"optionFullscreen",he(pe({toggleFullscreen:l,isFullscreen:s})),void 0,!0)]),key:"6"}:void 0,t.$slots.optionAnnotator?{name:"optionAnnotator",fn:E(({toggleAnnotator:l,isAnnotator:s})=>[X(t.$slots,"optionAnnotator",he(pe({toggleAnnotator:l,isAnnotator:s})),void 0,!0)]),key:"7"}:void 0]),1032,["backgroundColor","color","isImaging","isPrinting","uid","hasTooltip","hasPdf","hasImg","hasSvg","hasXls","hasTable","hasFullscreen","isTooltip","isFullscreen","titles","chartElement","position","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):b("",!0),(n(),y("svg",{ref_key:"svgRef",ref:Ae,xmlns:c(St),class:Ol({"vue-data-ui-fullscreen--on":ve.value,"vue-data-ui-fulscreen--off":!ve.value,animated:e.value.useCssAnimation}),viewBox:"0 0 ".concat(P.value.width<=0?10:P.value.width," ").concat(P.value.height<=0?10:P.value.height),style:re("max-width:100%;overflow:visible;background:transparent;color:".concat(e.value.style.color)),onMouseleave:Ge},[Me(c(Ul)),t.$slots["chart-background"]?(n(),y("foreignObject",{key:0,x:0,y:0,width:P.value.width<=0?10:P.value.width,height:P.value.height<=0?10:P.value.height,style:{pointerEvents:"none"}},[X(t.$slots,"chart-background",{},void 0,!0)],8,Jt)):b("",!0),e.value.style.layout.axis.show?(n(),y("g",Kt,[$("line",{x1:O.value.x,x2:O.value.x,y1:r.value.top,y2:r.value.bottom,stroke:e.value.style.layout.axis.stroke,"stroke-width":e.value.style.layout.axis.strokeWidth,"stroke-linecap":"round"},null,8,ea),$("line",{x1:r.value.left,x2:r.value.right,y1:O.value.y,y2:O.value.y,stroke:e.value.style.layout.axis.stroke,"stroke-width":e.value.style.layout.axis.strokeWidth,"stroke-linecap":"round"},null,8,la)])):b("",!0),e.value.style.layout.marginalBars.show?(n(),y("g",ta,[$("defs",null,[$("linearGradient",{id:"marginal_x_".concat(W.value),x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[$("stop",{offset:"0%","stop-color":e.value.style.layout.marginalBars.fill},null,8,oa),$("stop",{offset:"100%","stop-color":e.value.style.backgroundColor},null,8,sa)],8,aa),$("linearGradient",{id:"marginal_y_".concat(W.value),x1:"0%",x2:"100%",y1:"0%",y2:"0%"},[$("stop",{offset:"0%","stop-color":e.value.style.backgroundColor},null,8,ra),$("stop",{offset:"100%","stop-color":e.value.style.layout.marginalBars.fill},null,8,ia)],8,ua)]),(n(!0),y(Z,null,Q(_.value.x,(l,s)=>(n(),y("g",null,[l&&_.value.avgX[s]?(n(),y("rect",{key:0,x:_.value.avgX[s]-r.value.width/k.value/2,y:r.value.top-e.value.style.layout.marginalBars.offset-l/_.value.maxX*e.value.style.layout.marginalBars.size,width:r.value.width/k.value<=0?1e-4:r.value.width/k.value,height:l/_.value.maxX*e.value.style.layout.marginalBars.size<=0?1e-4:l/_.value.maxX*e.value.style.layout.marginalBars.size,fill:e.value.style.layout.marginalBars.useGradient?"url(#marginal_x_".concat(W.value,")"):e.value.style.layout.marginalBars.fill,style:re(["opacity:".concat(e.value.style.layout.marginalBars.opacity),{"pointer-events":"none"}]),stroke:e.value.style.backgroundColor,"stroke-width":e.value.style.layout.marginalBars.strokeWidth,rx:e.value.style.layout.marginalBars.borderRadius},null,12,na)):b("",!0),_.value.avgX[s]?(n(),y("rect",{key:1,x:_.value.avgX[s]-r.value.width/k.value/2,y:r.value.top-e.value.style.layout.marginalBars.offset-e.value.style.layout.marginalBars.size,width:r.value.width/k.value<=0?1e-4:r.value.width/k.value,height:Math.max(.1,e.value.style.layout.marginalBars.size),fill:"transparent",onMouseenter:o=>at(s),onMouseleave:a[0]||(a[0]=o=>Ge())},null,40,va)):b("",!0),_.value.avgX[s]&&ge.value!=null&&ge.value===s?(n(),y("g",ya,[$("rect",{x:_.value.avgX[s]-r.value.width/k.value/2,y:r.value.top,width:r.value.width/k.value<=0?1e-4:r.value.width/k.value,height:r.value.height,fill:e.value.style.layout.marginalBars.highlighter.color,"fill-opacity":e.value.style.layout.marginalBars.highlighter.opacity},null,8,da),$("line",{x1:_.value.avgX[s]-r.value.width/k.value/2,x2:_.value.avgX[s]-r.value.width/k.value/2,y1:0,y2:r.value.top+r.value.height,stroke:e.value.style.layout.marginalBars.highlighter.stroke,"stroke-dasharray":e.value.style.layout.marginalBars.highlighter.strokeDasharray,"stroke-width":e.value.style.layout.marginalBars.highlighter.strokeWidth,style:{transition:"none !important",animation:"none !important"}},null,8,ca),$("line",{x1:_.value.avgX[s]-r.value.width/k.value/2+(r.value.width/k.value<=0?1e-4:r.value.width/k.value),x2:_.value.avgX[s]-r.value.width/k.value/2+(r.value.width/k.value<=0?1e-4:r.value.width/k.value),y1:0,y2:r.value.top+r.value.height,stroke:e.value.style.layout.marginalBars.highlighter.stroke,"stroke-dasharray":e.value.style.layout.marginalBars.highlighter.strokeDasharray,"stroke-width":e.value.style.layout.marginalBars.highlighter.strokeWidth,style:{transition:"none !important",animation:"none !important"}},null,8,ha)])):b("",!0)]))),256)),(n(!0),y(Z,null,Q(_.value.y,(l,s)=>(n(),y("g",null,[l&&_.value.avgY[s]?(n(),y("rect",{key:0,x:r.value.right+e.value.style.layout.marginalBars.offset,y:_.value.avgY[s]-r.value.height/k.value/2,height:r.value.height/k.value<=0?1e-4:r.value.height/k.value,width:l/_.value.maxY*e.value.style.layout.marginalBars.size<=0?1e-4:l/_.value.maxY*e.value.style.layout.marginalBars.size,fill:e.value.style.layout.marginalBars.useGradient?"url(#marginal_y_".concat(W.value,")"):e.value.style.layout.marginalBars.fill,style:re(["opacity:".concat(e.value.style.layout.marginalBars.opacity),{"pointer-events":"none"}]),stroke:e.value.style.backgroundColor,"stroke-width":e.value.style.layout.marginalBars.strokeWidth,rx:e.value.style.layout.marginalBars.borderRadius},null,12,pa)):b("",!0),_.value.avgY[s]?(n(),y("rect",{key:1,x:r.value.right+e.value.style.layout.marginalBars.offset,y:_.value.avgY[s]-r.value.height/k.value/2,width:Math.max(.1,e.value.style.layout.marginalBars.size),height:r.value.height/k.value<=0?1e-4:r.value.height/k.value,fill:"transparent",onMouseenter:o=>ot(s),onMouseleave:a[1]||(a[1]=o=>Ge())},null,40,ga)):b("",!0),_.value.avgY[s]&&fe.value!=null&&fe.value===s?(n(),y("g",fa,[$("rect",{x:r.value.left,y:_.value.avgY[s]-r.value.height/k.value/2,width:r.value.width,height:r.value.height/k.value<=0?1e-4:r.value.height/k.value,fill:e.value.style.layout.marginalBars.highlighter.color,"fill-opacity":e.value.style.layout.marginalBars.highlighter.opacity},null,8,ma),$("line",{x1:r.value.left,x2:P.value.width,y1:_.value.avgY[s]-r.value.height/k.value/2,y2:_.value.avgY[s]-r.value.height/k.value/2,stroke:e.value.style.layout.marginalBars.highlighter.stroke,"stroke-dasharray":e.value.style.layout.marginalBars.highlighter.strokeDasharray,"stroke-width":e.value.style.layout.marginalBars.highlighter.strokeWidth,style:{transition:"none !important",animation:"none !important"}},null,8,xa),$("line",{x1:r.value.left,x2:P.value.width,y1:_.value.avgY[s]-r.value.height/k.value/2+(r.value.height/k.value<=0?1e-4:r.value.height/k.value),y2:_.value.avgY[s]-r.value.height/k.value/2+(r.value.height/k.value<=0?1e-4:r.value.height/k.value),stroke:e.value.style.layout.marginalBars.highlighter.stroke,"stroke-dasharray":e.value.style.layout.marginalBars.highlighter.strokeDasharray,"stroke-width":e.value.style.layout.marginalBars.highlighter.strokeWidth,style:{transition:"none !important",animation:"none !important"}},null,8,ba)])):b("",!0)]))),256)),e.value.style.layout.marginalBars.showLines?(n(),y("g",ka,[(n(!0),y(Z,null,Q(lt.value,l=>(n(),y(Z,null,[D.value.includes(l.id)?b("",!0):(n(),y("path",{key:0,d:"M ".concat(l.dX),stroke:e.value.style.backgroundColor,"stroke-width":e.value.style.layout.marginalBars.linesStrokeWidth+1,"stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,wa)),D.value.includes(l.id)?b("",!0):(n(),y("path",{key:1,d:"M ".concat(l.dX),stroke:l.color,"stroke-width":e.value.style.layout.marginalBars.linesStrokeWidth,"stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,$a)),D.value.includes(l.id)?b("",!0):(n(),y("path",{key:2,d:"M ".concat(l.dY),stroke:e.value.style.backgroundColor,"stroke-width":e.value.style.layout.marginalBars.linesStrokeWidth+1,"stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,Ma)),D.value.includes(l.id)?b("",!0):(n(),y("path",{key:3,d:"M ".concat(l.dY),stroke:l.color,"stroke-width":e.value.style.layout.marginalBars.linesStrokeWidth,"stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,Aa))],64))),256))])):b("",!0)])):b("",!0),e.value.style.layout.plots.giftWrap.show?(n(),y("g",Ca,[(n(!0),y(Z,null,Q(Y.value,(l,s)=>(n(),y("g",null,[l.plots.length>2?(n(),y("polygon",{key:0,points:c(zt)({series:l.plots}),fill:c(Oe)(l.color,e.value.style.layout.plots.giftWrap.fillOpacity*100),"stroke-width":e.value.style.layout.plots.giftWrap.strokeWidth,"stroke-dasharray":e.value.style.layout.plots.giftWrap.strokeDasharray,stroke:l.color,"stroke-linejoin":"round","stroke-linecap":"round"},null,8,_a)):b("",!0)]))),256))])):b("",!0),e.value.usePerformanceMode?b("",!0):(n(!0),y(Z,{key:4},Q(Y.value,(l,s)=>(n(),y("g",null,[!l.shape||l.shape==="circle"?(n(),y("g",La,[(n(!0),y(Z,null,Q(l.plots,(o,u)=>(n(),y("circle",{cx:o.x,cy:o.y,r:N.value&&N.value===o.id?o.weight*2:o.weight,fill:c(Oe)(l.color,e.value.style.layout.plots.opacity*100),stroke:e.value.style.layout.plots.stroke,"stroke-width":e.value.style.layout.plots.strokeWidth,style:re("opacity:".concat(N.value&&N.value===o.id?1:e.value.style.layout.plots.significance.useDistanceOpacity?1-Math.abs(o.deviation)/bl.value:e.value.style.layout.plots.significance.show&&Math.abs(o.deviation)>e.value.style.layout.plots.significance.deviationThreshold?e.value.style.layout.plots.significance.opacity:1)),onMouseover:i=>Ye(o,s),onMouseleave:i=>Le(o,s),onClick:i=>je(o,s)},null,44,Ba))),256))])):(n(),y("g",Sa,[(n(!0),y(Z,null,Q(l.plots,(o,u)=>(n(),le(Ke,{plot:{x:o.x,y:o.y},radius:N.value&&N.value===o.id?o.weight*2:o.weight,shape:l.shape,color:c(Oe)(l.color,e.value.style.layout.plots.opacity*100),stroke:e.value.style.layout.plots.stroke,strokeWidth:e.value.style.layout.plots.strokeWidth,style:re("opacity:".concat(N.value&&N.value===o.id?1:e.value.style.layout.plots.significance.useDistanceOpacity?1-Math.abs(o.deviation)/bl.value:e.value.style.layout.plots.significance.show&&Math.abs(o.deviation)>e.value.style.layout.plots.significance.deviationThreshold?e.value.style.layout.plots.significance.opacity:1)),onMouseover:i=>Ye(o,s),onMouseleave:i=>Le(o,s),onClick:i=>je(o,s)},null,8,["plot","radius","shape","color","stroke","strokeWidth","style","onMouseover","onMouseleave","onClick"]))),256))]))]))),256)),e.value.usePerformanceMode?(n(),y(Z,{key:5},[$("g",{"clip-path":"url(#clip_path_".concat(W.value,")")},[(n(!0),y(Z,null,Q(ut.value,l=>(n(),y("path",{key:l.id,d:l.d,fill:l.fill,stroke:l.stroke,"stroke-width":l.strokeWidth,"stroke-opacity":l.strokeOpacity,"vector-effect":"non-scaling-stroke","paint-order":"fill"},null,8,Ta))),128))],8,za),p.value&&e.value.style.layout.plots.selectors.show?(n(),y("g",Oa,[Me(Ke,{shape:p.value.shape||"circle",color:p.value.color,plot:{x:p.value.x,y:p.value.y},radius:Math.max(4*Cl[p.value.shape||"circle"],p.value.weight*2),stroke:e.value.style.layout.plots.stroke,strokeWidth:e.value.style.layout.plots.strokeWidth},null,8,["shape","color","plot","radius","stroke","strokeWidth"])])):b("",!0),$("rect",{x:r.value.left,y:r.value.top,width:Math.max(1e-4,r.value.width),height:Math.max(1e-4,r.value.height),fill:"transparent",onMousemove:a[2]||(a[2]=(...l)=>c(_l)&&c(_l)(...l)),onMouseleave:it,onClick:nt},null,40,Ia)],64)):b("",!0),p.value&&e.value.style.layout.plots.selectors.show?(n(),y("g",Pa,[$("line",{x1:O.value.x,x2:p.value.x,y1:p.value.y,y2:p.value.y,stroke:e.value.style.layout.plots.selectors.stroke,"stroke-width":e.value.style.layout.plots.selectors.strokeWidth,"stroke-dasharray":e.value.style.layout.plots.selectors.strokeDasharray,"stroke-linecap":"round",class:"line-pointer"},null,8,Fa),$("line",{x1:p.value.x,x2:p.value.x,y1:O.value.y,y2:p.value.y,stroke:e.value.style.layout.plots.selectors.stroke,"stroke-width":e.value.style.layout.plots.selectors.strokeWidth,"stroke-dasharray":e.value.style.layout.plots.selectors.strokeDasharray,"stroke-linecap":"round",class:"line-pointer"},null,8,Wa),$("text",{x:O.value.x+(p.value.x>O.value.x?-6:6),y:p.value.y+e.value.style.layout.plots.selectors.labels.fontSize/3,"font-size":e.value.style.layout.plots.selectors.labels.fontSize,fill:e.value.style.layout.plots.selectors.labels.color,"font-weight":e.value.style.layout.plots.selectors.labels.bold?"bold":"normal","text-anchor":p.value.x>O.value.x?"end":"start"},U(c(ne)(e.value.style.layout.plots.selectors.labels.y.formatter,c(q)(p.value.v.y),c(J)({p:e.value.style.layout.plots.selectors.labels.prefix,v:c(q)(p.value.v.y),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.plots.selectors.labels.rounding}),{datapoint:p.value})),9,Da),$("text",{x:p.value.x,y:O.value.y+(p.value.y>O.value.y?-6:e.value.style.layout.plots.selectors.labels.fontSize+6),"font-size":e.value.style.layout.plots.selectors.labels.fontSize,fill:e.value.style.layout.plots.selectors.labels.color,"font-weight":e.value.style.layout.plots.selectors.labels.bold?"bold":"normal","text-anchor":"middle"},U(c(ne)(e.value.style.layout.plots.selectors.labels.y.formatter,c(q)(p.value.v.x),c(J)({p:e.value.style.layout.plots.selectors.labels.prefix,v:c(q)(p.value.v.x),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.plots.selectors.labels.rounding}),{datapoint:p.value})),9,Ea),$("circle",{cx:O.value.x,cy:p.value.y,r:e.value.style.layout.plots.selectors.markers.radius,fill:e.value.style.layout.plots.selectors.markers.fill,stroke:e.value.style.layout.plots.selectors.markers.stroke,"stroke-width":e.value.style.layout.plots.selectors.markers.strokeWidth,class:"line-pointer"},null,8,Na),$("circle",{cx:p.value.x,cy:O.value.y,r:e.value.style.layout.plots.selectors.markers.radius,fill:e.value.style.layout.plots.selectors.markers.fill,stroke:e.value.style.layout.plots.selectors.markers.stroke,"stroke-width":e.value.style.layout.plots.selectors.markers.strokeWidth,class:"line-pointer"},null,8,Ra),e.value.style.layout.plots.selectors.labels.showName?(n(),y("text",{key:0,x:p.value.x,y:p.value.y+(p.value.y<O.value.y?-e.value.style.layout.plots.selectors.labels.fontSize/2:e.value.style.layout.plots.selectors.labels.fontSize),"font-size":e.value.style.layout.plots.selectors.labels.fontSize,fill:e.value.style.layout.plots.selectors.labels.color,"font-weight":e.value.style.layout.plots.selectors.labels.bold?"bold":"normal","text-anchor":p.value.x<r.value.left+100?"start":p.value.x>r.value.right-100?"end":p.value.x>O.value.x?"start":"end"},U(p.value.v.name),9,Va)):b("",!0)])):b("",!0),e.value.style.layout.dataLabels.xAxis.show?(n(),y("g",{key:7,ref_key:"xAxisLabelLeft",ref:We},[$("text",{id:"vue-ui-scatter-xAxis-label-".concat(W.value),transform:"translate(".concat(e.value.style.layout.dataLabels.xAxis.fontSize,", ").concat(r.value.top+r.value.height/2,"), rotate(-90)"),"text-anchor":"middle","font-size":e.value.style.layout.dataLabels.xAxis.fontSize,"font-weight":e.value.style.layout.dataLabels.xAxis.bold?"bold":"normal",fill:e.value.style.layout.dataLabels.xAxis.color},U(e.value.style.layout.dataLabels.xAxis.name),9,Xa),$("text",{"text-anchor":"middle","font-size":e.value.style.layout.dataLabels.xAxis.fontSize,fill:e.value.style.layout.dataLabels.xAxis.color,transform:"translate(".concat(e.value.style.layout.dataLabels.xAxis.name?e.value.style.layout.dataLabels.xAxis.fontSize*3:0,", ").concat(O.value.y+e.value.style.layout.dataLabels.xAxis.fontSize/3,"), rotate(-90)")},U(c(ne)(e.value.style.layout.plots.selectors.labels.x.formatter,c(q)(T.value.xMin),c(J)({p:e.value.style.layout.plots.selectors.labels.prefix,v:c(q)(T.value.xMin),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.dataLabels.xAxis.rounding}))),9,Ya)],512)):b("",!0),e.value.style.layout.dataLabels.xAxis.show?(n(),y("text",{key:8,ref_key:"xAxisLabelRight",ref:Zl,"text-anchor":"middle",transform:"translate(".concat(r.value.right+e.value.style.layout.padding.right+6,", ").concat(O.value.y+e.value.style.layout.dataLabels.xAxis.fontSize/3,"), rotate(-90)"),"font-size":e.value.style.layout.dataLabels.xAxis.fontSize,fill:e.value.style.layout.dataLabels.xAxis.color},U(c(ne)(e.value.style.layout.plots.selectors.labels.x.formatter,c(q)(T.value.xMax),c(J)({p:e.value.style.layout.plots.selectors.labels.prefix,v:c(q)(T.value.xMax),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.dataLabels.xAxis.rounding}))),9,ja)):b("",!0),e.value.style.layout.dataLabels.yAxis.show?(n(),y("text",{key:9,ref_key:"yAxisLabelTop",ref:Hl,x:O.value.x,y:r.value.top-e.value.style.layout.dataLabels.yAxis.fontSize,"text-anchor":"middle","font-size":e.value.style.layout.dataLabels.yAxis.fontSize,fill:e.value.style.layout.dataLabels.yAxis.color},U(c(ne)(e.value.style.layout.plots.selectors.labels.y.formatter,c(q)(T.value.yMax),c(J)({p:e.value.style.layout.plots.selectors.labels.prefix,v:c(q)(T.value.yMax),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.dataLabels.yAxis.rounding}))),9,Ua)):b("",!0),e.value.style.layout.dataLabels.yAxis.show?(n(),y("g",{key:10,ref_key:"yAxisLabelBottom",ref:De},[$("text",{x:O.value.x,y:P.value.height-e.value.style.layout.dataLabels.yAxis.fontSize*2,"text-anchor":"middle","font-size":e.value.style.layout.dataLabels.yAxis.fontSize,fill:e.value.style.layout.dataLabels.yAxis.color},U(c(ne)(e.value.style.layout.plots.selectors.labels.y.formatter,c(q)(T.value.yMin),c(J)({p:e.value.style.layout.plots.selectors.labels.prefix,v:c(q)(T.value.yMin),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.dataLabels.yAxis.rounding}))),9,qa),$("text",{"text-anchor":"middle","font-size":e.value.style.layout.dataLabels.yAxis.fontSize,"font-weight":e.value.style.layout.dataLabels.yAxis.bold?"bold":"normal",fill:e.value.style.layout.dataLabels.yAxis.color,x:r.value.left+r.value.width/2,y:P.value.height},U(e.value.style.layout.dataLabels.yAxis.name),9,Ga)],512)):b("",!0),$("clipPath",{id:"clip_path_".concat(W.value)},[$("rect",{x:r.value.left,y:r.value.top,width:r.value.width<=0?1e-4:r.value.width,height:r.value.height<=0?1e-4:r.value.height},null,8,Ha)],8,Za),e.value.style.layout.correlation.show?(n(),y("g",Qa,[(n(!0),y(Z,null,Q(Y.value,(l,s)=>(n(),y("line",{x1:l.correlation.x1,x2:l.correlation.x2,y1:l.correlation.y1,y2:l.correlation.y2,"stroke-dasharray":e.value.style.layout.correlation.strokeDasharray,stroke:l.color,"stroke-width":e.value.style.layout.correlation.strokeWidth,"clip-path":"url(#clip_path_".concat(W.value,")")},null,8,Ja))),256)),(n(!0),y(Z,null,Q(Y.value,(l,s)=>(n(),y("g",null,[e.value.style.layout.correlation.label.show?(n(),y("text",{key:0,x:l.correlation.x2,y:l.correlation.y2,fill:e.value.style.layout.correlation.label.useSerieColor?l.color:e.value.style.layout.correlation.label.color,"text-anchor":"end","font-size":e.value.style.layout.correlation.label.fontSize,"font-weight":e.value.style.layout.correlation.label.bold?"bold":"normal"},U(c(J)({v:c(q)(l.correlation.coefficient),r:e.value.style.layout.correlation.label.roundingValue})),9,Ka)):b("",!0)]))),256))])):b("",!0),X(t.$slots,"svg",{svg:{...P.value,drawingArea:{...r.value,zero:O.value},data:_e.value}},void 0,!0)],46,Qt)),t.$slots.watermark?(n(),y("div",eo,[X(t.$slots,"watermark",he(pe({isPrinting:c(pl)||c(gl)})),void 0,!0)])):b("",!0),$("div",{id:"legend-bottom-".concat(W.value)},null,8,lo),nl.value?(n(),le(mt,{key:5,to:e.value.style.legend.position==="top"?"#legend-top-".concat(W.value):"#legend-bottom-".concat(W.value)},[$("div",{ref_key:"chartLegend",ref:al},[e.value.style.legend.show?(n(),le(Ut,{key:"legend_".concat(il.value),legendSet:ae.value,config:Kl.value,onClickMarker:a[3]||(a[3]=({legend:l})=>wl(l.id))},{item:E(({legend:l})=>[$("div",{onClick:s=>l.segregate(),style:re("opacity:".concat(D.value.includes(l.id)?.5:1))},U(l.name),13,to)]),_:1},8,["legendSet","config"])):X(t.$slots,"legend",{key:1,legend:ae.value},void 0,!0)],512)],8,["to"])):b("",!0),t.$slots.source?(n(),y("div",{key:6,ref_key:"source",ref:ol,dir:"auto"},[X(t.$slots,"source",{},void 0,!0)],512)):b("",!0),Me(c(Nl),{show:G.value.showTooltip&&Ie.value,backgroundColor:e.value.style.tooltip.backgroundColor,color:e.value.style.tooltip.color,borderRadius:e.value.style.tooltip.borderRadius,borderColor:e.value.style.tooltip.borderColor,borderWidth:e.value.style.tooltip.borderWidth,fontSize:e.value.style.tooltip.fontSize,backgroundOpacity:e.value.style.tooltip.backgroundOpacity,position:e.value.style.tooltip.position,offsetY:e.value.style.tooltip.offsetY,parent:ee.value,content:Pe.value,isFullscreen:ve.value,isCustom:e.value.style.tooltip.customFormat&&typeof e.value.style.tooltip.customFormat=="function",smooth:e.value.style.tooltip.smooth,backdropFilter:e.value.style.tooltip.backdropFilter,smoothForce:e.value.style.tooltip.smoothForce,smoothSnapThreshold:e.value.style.tooltip.smoothSnapThreshold},{"tooltip-before":E(()=>[X(t.$slots,"tooltip-before",he(pe({...Xe.value})),void 0,!0)]),"tooltip-after":E(()=>[X(t.$slots,"tooltip-after",he(pe({...Xe.value})),void 0,!0)]),default:E(()=>[e.value.style.tooltip.showShape?(n(),y("div",ao,[(n(),y("svg",oo,[Me(Ke,{shape:p.value.shape,color:p.value.color,plot:{x:10,y:10},radius:7},null,8,["shape","color"])]))])):b("",!0)]),_:3},8,["show","backgroundColor","color","borderRadius","borderColor","borderWidth","fontSize","backgroundOpacity","position","offsetY","parent","content","isFullscreen","isCustom","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),el.value&&e.value.userOptions.buttons.table?(n(),le(bt(xe.value.component),xt({key:7},xe.value.props,{ref_key:"tableUnit",ref:me,onClose:Ll}),Tl({content:E(()=>[(n(),le(c(Xl),{key:"table_".concat(rl.value),colNames:Be.value.colNames,head:Be.value.head,body:Be.value.body,config:Be.value.config,title:e.value.table.useDialog?"":xe.value.title,withCloseButton:!e.value.table.useDialog,onClose:Ll},{th:E(({th:l})=>[Il(U(l),1)]),td:E(({td:l})=>[l.shape?(n(),y("div",so,[$("span",null,U(l.content),1)])):(n(),y("div",{key:1,innerHTML:l},null,8,uo))]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))]),_:2},[e.value.table.useDialog?{name:"title",fn:E(()=>[Il(U(xe.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:E(()=>[$("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:a[4]||(a[4]=l=>Ue(e.value.userOptions.callbacks.csv))},[Me(c(Rl),{name:"excel",stroke:xe.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):b("",!0),c(vl)?(n(),le(Nt,{key:8})):b("",!0)],46,Zt))}},Ao=wt(ro,[["__scopeId","data-v-5baf3192"]]);export{Ao as default};
