
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Tooltip-68Yi_FFl-CRPaJsgv.js","./vue-data-ui-BN9YfUec.js","./index-DXZKKOp8.js","./index-B7kifsnL.css","./alert-l5XlVwCh.js","./vue-data-ui-D1HaM8UR.css","./vue-ui-accordion-UpZ765hd-DndPzmcD.js","./useNestedProp-dJX_8vvZ-BzBW50KN.js","./DataTable-BT7VF2ua-Cw2NNXsE.js","./Shape-CNXKB8O0-BJGuTKHC.js","./PenAndPaper-DSvu9dwa-B6YjX2xm.js","./ColorPicker-J5wOPCeB-sgb_Bfch.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-1OZ3jcm6-BbpzMig3.js","./img-BecE5qXd-CsL1o-EN.js","./dom-to-png--BNgrTZV-DTUrW_sQ.js","./PackageVersion-TgflyMpU-q2MkeeNq.js","./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"])))=>i.map(i=>d[i]);
import{ab as xl,J as g,e as y,E as sa,a7 as kl,K as Se,au as oa,av as ht,at as ia,a9 as wl,b_ as K,c as o,o as s,z as Q,A as m,r as _,f as Z,g as _e,u as f,c0 as yt,h as M,j as se,k as oe,O as ie,n as he,F as p,R as w,m as Me,t as V,bn as Ll,l as ua,N as zl,c1 as ee}from"./index-DXZKKOp8.js";import{t as Cl,o as na}from"./useNestedProp-dJX_8vvZ-BzBW50KN.js";import{s as Sl,Q as va,A as _l,v as Ml,m as Be,L as ye,C as $l,g as ca,p as da,b as Il,a as Al,at as $e,ad as ha,j as ya,l as Tl,y as Rl,o as Nl,ab as We,K as ga,I as je,f as ue,S as Ol,B as Pl,F as ma,e as Fl,r as Vl,h as Dl}from"./vue-data-ui-BN9YfUec.js";import{E as gt,M as El}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{m as Ul}from"./usePrinter-DTzqpYKF-D5mkxXp9.js";import{S as Hl,T as Bl}from"./BaseScanner-BgWxam9d-B19ueoDW.js";import{F as ba,V as Wl,O as jl}from"./useTimeLabels-BGFjWgrv-C_AB8TRS.js";import{O as Yl}from"./useSvgExport-DrjCWun4-CbW14PXm.js";import{a as ql}from"./useUserOptionState-BIvW1Kz7-D6llU1BK.js";import{o as Jl}from"./useChartAccessibility-9icAAmYg-BcUQIUvr.js";import{S as Gl}from"./useTimeLabelCollider-CIsgDrl9-CjJy_OeC.js";import Xl from"./img-BecE5qXd-CsL1o-EN.js";import Kl from"./Title-BWp-37K_-BMUMQpSO.js";import{w as Ql}from"./Shape-CNXKB8O0-BJGuTKHC.js";import{J as Zl}from"./themes-AUNCOb2G-RAhReTPj.js";import er from"./Legend-G6GMcdAc-7HaGLNN7.js";import{u as tr}from"./SlicerPreview-ij72TAs6-Cxp5eJgP.js";import"./alert-l5XlVwCh.js";import"./dom-to-png--BNgrTZV-DTUrW_sQ.js";const ar=["id"],lr=["id"],rr=["xmlns","viewBox"],sr=["x","y","width","height"],or={key:1},ir=["id"],ur=["stop-color"],nr=["stop-color"],vr=["stop-color"],cr=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],dr=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],hr=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],yr=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],gr={key:0},mr=["x","y","height","rx","width","fill","stroke","stroke-width"],br={key:0},fr=["x","y","height","rx","width","fill","stroke","stroke-width"],pr=["x","y","width","rx","height","fill","stroke","stroke-width"],xr={key:0},kr=["x","y","width","rx","height","fill","stroke","stroke-width"],wr=["x1","x2","y1","y2","stroke","stroke-width"],Lr=["x1","x2","y1","y2","stroke","stroke-width"],zr=["x","y","font-size","fill","font-weight"],Cr=["transform","font-size","fill","font-weight"],Sr=["x","y","font-size","fill","font-weight"],_r=["x","y","font-size","font-weight","fill"],Mr=["x","y","font-size","fill","font-weight"],$r=["x","y","font-size","font-weight","fill"],Ir=["x1","x2","y1","y2","stroke"],Ar=["x","y","font-size","font-weight","fill"],Tr=["x1","x2","y1","y2","stroke"],Rr=["font-size","font-weight","fill","text-anchor","transform"],Nr={key:0},Or={key:1},Pr=["text-anchor","font-size","font-weight","fill","transform","onClick"],Fr=["text-anchor","font-size","fill","transform","innerHTML","onClick"],Vr={key:0},Dr={key:1},Er=["font-size","font-weight","fill","x","y","onClick"],Ur=["font-size","font-weight","fill","x","y","onClick","innerHTML"],Hr=["x","y","width","height","onClick","onMouseenter","onMouseleave","fill"],Br=["x","y","width","height","onClick","onMouseenter","onMouseleave","fill"],Wr=["data-start","data-end"],jr={key:3,class:"vue-data-ui-watermark"},Yr=["x","y","height","width","fill","stroke"],qr=["id"],Jr=["onClick"],Gr=["innerHTML"],Xr={__name:"vue-ui-stackbar",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}},selectedXIndex:{type:Number,default:void 0}},emits:["selectDatapoint","selectLegend","selectTimeLabel","selectX"],setup(Ye,{expose:fa,emit:pa}){const xa=K(()=>ee(()=>import("./Tooltip-68Yi_FFl-CRPaJsgv.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),ka=K(()=>ee(()=>import("./vue-data-ui-BN9YfUec.js").then(a=>a.aw),__vite__mapDeps([1,2,3,4,5]),import.meta.url)),wa=K(()=>ee(()=>import("./vue-ui-accordion-UpZ765hd-DndPzmcD.js"),__vite__mapDeps([6,2,3,1,4,5,7]),import.meta.url)),La=K(()=>ee(()=>import("./DataTable-BT7VF2ua-Cw2NNXsE.js"),__vite__mapDeps([8,2,3,9,1,4,5]),import.meta.url)),za=K(()=>ee(()=>import("./PenAndPaper-DSvu9dwa-B6YjX2xm.js"),__vite__mapDeps([10,2,3,1,4,5,11,12]),import.meta.url)),Ca=K(()=>ee(()=>import("./UserOptions-1OZ3jcm6-BbpzMig3.js"),__vite__mapDeps([13,2,3,12,1,4,5,14,15]),import.meta.url)),Sa=K(()=>ee(()=>import("./PackageVersion-TgflyMpU-q2MkeeNq.js"),__vite__mapDeps([16,2,3]),import.meta.url)),_a=K(()=>ee(()=>import("./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"),__vite__mapDeps([17,2,3,1,4,5]),import.meta.url)),{vue_ui_stackbar:Ma}=Cl(),$a=xl(),k=Ye,ge=pa,me=g({get(){return!!k.dataset&&k.dataset.length},set(a){return a}}),j=y(null),D=y(va()),qe=y(!1),Je=y(null),Ge=y(""),O=y([]),mt=y(0),bt=y(null),ft=y(null),be=y(null),pt=y(null),fe=y(!1),H=y(null),te=y(!1),xt=y(0),Ia=y(0),Aa=y(0),kt=y(!1),pe=y(null),Xe=y(null),Ke=y(null),Qe=y(null),ae=y(null),le=y(null),Ta=y(null),wt=y(null),Ze=y(null);sa(()=>{kt.value=!0,st()});const e=y(lt()),{loading:xe,FINAL_DATASET:et,manualLoading:Ie}=Hl({...kl(k),FINAL_CONFIG:e,prepareConfig:lt,callback:()=>{Promise.resolve().then(async()=>{await De()})},skeletonDataset:[{name:"",series:[2,3,5,8,13,21],color:"#BABABA"},{name:"",series:[1,2,3,5,8,13],color:"#CACACA"}],skeletonConfig:_l({defaultConfig:e.value,userConfig:{userOptions:{show:!1},useCssAnimation:!1,table:{show:!1},tooltip:{show:!1},style:{chart:{backgroundColor:"#99999930",bars:{totalValues:{show:!1},dataLabels:{show:!1}},grid:{scale:{scaleMin:0,scaleMax:40},x:{axisColor:"#6A6A6A",linesColor:"#6A6A6A",axisName:{show:!1},timeLabels:{show:!1}},y:{axisColor:"#6A6A6A",linesColor:"#6A6A6A",axisName:{show:!1},axisLabels:{show:!1}}},legend:{backgroundColor:"transparent"},padding:{left:24,right:24,bottom:12},zoom:{show:!1,startIndex:null,endIndex:null}}}}})}),{userOptionsVisible:tt,setUserOptionsVisibility:Lt,keepUserOptionState:zt}=ql({config:e.value}),{svgRef:at}=Jl({config:e.value.style.chart.title});function Ra(){Lt(!0)}function Na(){Lt(!1),ge("selectX",{seriesIndex:null,datapoint:null}),H.value=null}function lt(){const a=na({userConfig:k.config,defaultConfig:Ma});let l={};return a.theme?l={...na({userConfig:Zl.vue_ui_stackbar[a.theme]||k.config,defaultConfig:a}),customPalette:Ml[a.theme]||Be}:l=a,k.config&&ye(k.config,"style.chart.grid.scale.scaleMin")?l.style.chart.grid.scale.scaleMin=k.config.style.chart.grid.scale.scaleMin:l.style.chart.grid.scale.scaleMin=null,k.config&&ye(k.config,"style.chart.grid.scale.scaleMax")?l.style.chart.grid.scale.scaleMax=k.config.style.chart.grid.scale.scaleMax:l.style.chart.grid.scale.scaleMax=null,k.config&&ye(k.config,"style.chart.zoom.startIndex")?l.style.chart.zoom.startIndex=k.config.style.chart.zoom.startIndex:l.style.chart.zoom.startIndex=null,k.config&&ye(k.config,"style.chart.zoom.endIndex")?l.style.chart.zoom.endIndex=k.config.style.chart.zoom.endIndex:l.style.chart.zoom.endIndex=null,k.config&&ye(k.config,"style.chart.bars.dataLabels.hideUnderValue")?l.style.chart.bars.dataLabels.hideUnderValue=k.config.style.chart.bars.dataLabels.hideUnderValue:l.style.chart.bars.dataLabels.hideUnderValue=null,k.config&&ye(k.config,"style.chart.bars.dataLabels.hideUnderPercentage")?l.style.chart.bars.dataLabels.hideUnderPercentage=k.config.style.chart.bars.dataLabels.hideUnderPercentage:l.style.chart.bars.dataLabels.hideUnderPercentage=null,l}const Ct=g(()=>e.value.style.chart.bars.dataLabels.hideUnderValue!==null),St=g(()=>e.value.style.chart.bars.dataLabels.hideUnderPercentage!==null);Se(()=>k.config,a=>{xe.value||(e.value=lt()),tt.value=!e.value.userOptions.showOnChartHover,st(),xt.value+=1,Ia.value+=1,Aa.value+=1,$.value.dataLabels.show=e.value.style.chart.bars.dataLabels.show,$.value.showTable=e.value.table.show,$.value.showTooltip=e.value.style.chart.tooltip.show,Re()},{deep:!0}),Se(()=>k.dataset,a=>{Array.isArray(a)&&a.length>0&&(Ie.value=!1),Ot()},{deep:!0});const $=y({dataLabels:{show:e.value.style.chart.bars.dataLabels.show},showTable:e.value.table.show,showTooltip:e.value.style.chart.tooltip.show});Se(e,()=>{$.value={dataLabels:{show:e.value.style.chart.bars.dataLabels.show},showTable:e.value.table.show,showTooltip:e.value.style.chart.tooltip.show}},{immediate:!0});const{isPrinting:_t,isImaging:Mt,generatePdf:$t,generateImage:It}=Ul({elementId:"stackbar_".concat(D.value),fileName:e.value.style.chart.title.text||"vue-ui-stackbar",options:e.value.userOptions.print}),ne=y({width:e.value.style.chart.width,height:e.value.style.chart.height,paddingRatio:{top:e.value.style.chart.padding.top/e.value.style.chart.height,right:e.value.style.chart.padding.right/e.value.style.chart.width,bottom:e.value.style.chart.padding.bottom/e.value.style.chart.height,left:e.value.style.chart.padding.left/e.value.style.chart.width}}),Oa=g(()=>$l(e.value.customPalette)),G=oa(null),ve=oa(null),At=y(null);sa(()=>{st()});const rt=g(()=>!!e.value.debug);function st(){if(ca(k.dataset)?(da({componentName:"VueUiStackbar",type:"dataset",debug:rt.value}),Ie.value=!0):k.dataset.forEach((a,l)=>{Il({datasetObject:a,requiredAttributes:["name","series"]}).forEach(t=>{me.value=!1,da({componentName:"VueUiStackbar",type:"datasetSerieAttribute",property:t,index:l,debug:rt.value}),Ie.value=!0})}),ca(k.dataset)||(Ie.value=e.value.loading),setTimeout(()=>{te.value=!0},10),e.value.responsive){const a=gt(()=>{te.value=!1;const{width:l,height:t}=El({chart:j.value,title:e.value.style.chart.title.text?bt.value:null,legend:e.value.style.chart.legend.show?ft.value:null,slicer:e.value.style.chart.zoom.show&&T.value>6?be.value.$el:null,source:pt.value});requestAnimationFrame(()=>{ne.value.width=l,ne.value.height=t-12,clearTimeout(At.value),At.value=setTimeout(()=>{te.value=!0},10)})});G.value&&(ve.value&&G.value.unobserve(ve.value),G.value.disconnect()),G.value=new ResizeObserver(a),ve.value=j.value.parentNode,G.value.observe(ve.value)}De()}ht(()=>{G.value&&(ve.value&&G.value.unobserve(ve.value),G.value.disconnect())});function Pa(){let a=0;e.value.orientation==="vertical"&&ae.value&&(a=Array.from(ae.value.querySelectorAll("text")).reduce((t,r)=>{const v=r.getComputedTextLength();return v>t?v:t},0)),e.value.orientation==="horizontal"&&le.value&&(a=Array.from(le.value.querySelectorAll("text")).reduce((t,r)=>{const v=r.getComputedTextLength();return v>t?v:t},0));const l=Qe.value?Qe.value.getBoundingClientRect().width:0;return a+l+(l?24:0)}const Ae=y(0),Te=y(0),Fa=gt(a=>{Ae.value=a},100);ia(a=>{const l=e.value.orientation==="vertical"?le.value:ae.value;if(!l)return;const t=new ResizeObserver(r=>{Fa(r[0].contentRect.height)});t.observe(l),a(()=>t.disconnect())});const Va=gt(a=>{Te.value=a+e.value.style.chart.bars.totalValues.fontSize},100);ia(a=>{if(e.value.orientation==="vertical")return;const l=wt.value;if(!l)return;const t=new ResizeObserver(r=>{Va(r[0].contentRect.width)});t.observe(l),a(()=>t.disconnect())}),ht(()=>{Ae.value=0,Te.value=0});const Tt=g(()=>{let a=0;Ke.value&&(a=Ke.value.getBBox().height);let l=0;return e.value.orientation==="vertical"&&le.value&&(l=Ae.value),e.value.orientation==="horizontal"&&ae.value&&(l=Ae.value),a+l}),u=g(()=>{const{height:a,width:l}=ne.value,{right:t}=ne.value.paddingRatio;let r=e.value.style.chart.bars.totalValues.show&&k.dataset&&k.dataset.length>1?e.value.style.chart.bars.totalValues.fontSize*1.3:0,v=0;e.value.style.chart.grid.y.axisLabels.show&&(v=Pa());const n=e.value.style.chart.padding.top+r,L=l-l*t-Te.value,x=a-e.value.style.chart.padding.bottom-Tt.value-r,I=e.value.style.chart.padding.left+v,R=l-I-l*t-Te.value,A=a-n-e.value.style.chart.padding.bottom-Tt.value-r;return{chartHeight:a,chartWidth:l,top:n,right:L,bottom:x,left:I,width:Math.max(0,R),height:Math.max(0,A)}}),Da=g(()=>{var q,E;const{left:a,top:l,width:t,height:r}=u.value,v=c.value.start,n=c.value.end,L=Math.max(1,n-v),x=Math.max(0,Math.min(L,((q=F.value.start)!=null?q:v)-v)),I=Math.max(0,Math.min(L,((E=F.value.end)!=null?E:n)-v)),R=Math.max(0,I-x),A={fill:e.value.style.chart.zoom.preview.fill,stroke:e.value.style.chart.zoom.preview.stroke,"stroke-width":e.value.style.chart.zoom.preview.strokeWidth,"stroke-dasharray":e.value.style.chart.zoom.preview.strokeDasharray,"stroke-linecap":"round","stroke-linejoin":"round",style:{pointerEvents:"none",transition:"none !important",animation:"none !important"}};if(e.value.orientation==="horizontal"){const U=r/L;return{x:a,y:l+x*U,width:t,height:R*U,...A}}else{const U=t/L;return{x:a+x*U,y:l,width:R*U,height:r,...A}}}),Y=g(()=>et.value.map((a,l)=>{const t=Al(a.color)||Oa.value[l]||Be[l]||Be[l%Be.length];return{...a,series:JSON.parse(JSON.stringify(a.series)).map(r=>e.value.style.chart.bars.distributed?Math.abs(r):r),signedSeries:a.series.map(r=>r>=0?1:-1),absoluteIndex:l,id:va(),color:t}})),T=g(()=>Math.max(...Y.value.filter(a=>!O.value.includes(a.id)).map(a=>a.series.length)));function Ea(a){Ze.value=a}const c=y({start:0,end:Math.max(...et.value.map(a=>a.series.length))}),F=y({start:0,end:Math.max(...et.value.map(a=>a.series.length))}),Rt=g(()=>e.value.style.chart.zoom.preview.enable&&(F.value.start!==c.value.start||F.value.end!==c.value.end));function Nt(a,l){F.value[a]=l}function Re(){var r,v;const a=T.value;let l=Math.max(0,Math.min((r=c.value.start)!=null?r:0,a-1)),t=Math.max(l+1,Math.min((v=c.value.end)!=null?v:a,a));(!Number.isFinite(l)||!Number.isFinite(t)||t<=l)&&(l=0,t=a),c.value.start=l,c.value.end=t,F.value.start=l,F.value.end=t,be.value&&(be.value.setStartValue(l),be.value.setEndValue(t))}const ke=y(null);function Ua(){return new Promise(a=>requestAnimationFrame(()=>requestAnimationFrame(()=>a())))}ht(()=>{ke.value&&cancelAnimationFrame(ke.value)});async function Ot(){De(),await wl(),ke.value&&cancelAnimationFrame(ke.value),ke.value=requestAnimationFrame(async()=>{await Ua(),De()})}const b=g(()=>{let a;return e.value.orientation==="vertical"?a=u.value.width/(c.value.end-c.value.start):a=u.value.height/(c.value.end-c.value.start),a<=0?0:a}),we=g(()=>$e(Y.value.filter(a=>!O.value.includes(a.id))).slice(c.value.start,c.value.end)),re=g(()=>e.value.style.chart.zoom.minimap.show?$e(Y.value.filter(a=>!O.value.includes(a.id))):[]),Ha=g(()=>e.value.style.chart.zoom.minimap.show?[{name:"",series:re.value,color:"#000000",isVisible:!0}]:[]),Ba=g(()=>$e(Y.value.filter(a=>!O.value.includes(a.id)).map(a=>({...a,series:a.series.map((l,t)=>a.signedSeries[t]===-1&&l>=0?-l:l)}))).slice(c.value.start,c.value.end)),Ne=g(()=>{const a=Y.value.filter(l=>!O.value.includes(l.id));return{positive:$e(a.map(l=>({...l,series:l.series.slice(c.value.start,c.value.end).map(t=>t>=0?t:0)}))),negative:$e(a.map(l=>({...l,series:l.series.slice(c.value.start,c.value.end).map(t=>t<0?t:0)})))}}),B=g(()=>{const a=e.value.style.chart.grid.scale.scaleMax!==null&&!e.value.style.chart.bars.distributed?e.value.style.chart.grid.scale.scaleMax:Math.max(...Ne.value.positive),l=Math.min(...Ne.value.negative),t=e.value.style.chart.grid.scale.scaleMin!==null&&!e.value.style.chart.bars.distributed?e.value.style.chart.grid.scale.scaleMin:[-1/0,1/0,NaN,void 0,null].includes(l)?0:l,r=!e.value.style.chart.bars.distributed&&(e.value.style.chart.grid.scale.scaleMax!==null||e.value.style.chart.grid.scale.scaleMin!==null)?ha(t>0?0:t,a<0?0:a,e.value.style.chart.grid.scale.ticks):ya(t>0?0:t,a<0?0:a,e.value.style.chart.grid.scale.ticks);return r.ticks.map(v=>({zero:u.value.bottom-u.value.height*(Math.abs(r.min)/(r.max+Math.abs(r.min))),y:u.value.bottom-u.value.height*((v+Math.abs(r.min))/(r.max+Math.abs(r.min))),x:u.value.left-8,horizontal_zero:u.value.left+u.value.width*(Math.abs(r.min)/(r.max+Math.abs(r.min))),horizontal_x:u.value.left+u.value.width*((v+Math.abs(r.min))/(r.max+Math.abs(r.min))),horizontal_y:u.value.bottom-8,value:v}))}),P=g(()=>ba({values:e.value.style.chart.grid.x.timeLabels.values,maxDatapoints:T.value,formatter:e.value.style.chart.grid.x.timeLabels.datetimeFormatter,start:c.value.start,end:c.value.end})),Le=g(()=>ba({values:e.value.style.chart.grid.x.timeLabels.values,maxDatapoints:T.value,formatter:e.value.style.chart.grid.x.timeLabels.datetimeFormatter,start:0,end:T.value})),Wa=g(()=>{const a=e.value.style.chart.grid.x.timeLabels.modulo;return P.value.length?Math.min(a,[...new Set(P.value.map(l=>l.text))].length):a}),Pt=g(()=>{var I;const a=e.value.style.chart.grid.x.timeLabels,l=P.value||[],t=Le.value||[],r=(I=c.value.start)!=null?I:0,v=H.value,n=T.value,L=l.map(R=>{var A;return(A=R==null?void 0:R.text)!=null?A:""}),x=t.map(R=>{var A;return(A=R==null?void 0:R.text)!=null?A:""});return Tl(!!a.showOnlyFirstAndLast,!!a.showOnlyAtModulo,Math.max(1,Wa.value||1),L,x,r,v,n)}),Ft=g(()=>{const a=e.value.style.chart.grid.x.timeLabels.datetimeFormatter,l=Wl({useUTC:a.useUTC,locale:jl[a.locale]||{months:[],shortMonths:[],days:[],shortDays:[]},januaryAsYear:a.januaryAsYear});return(t,r)=>{var n;const v=(n=e.value.style.chart.grid.x.timeLabels.values)==null?void 0:n[t];return v==null?"":(l.formatDate(new Date(v),r),l.formatDate(new Date(v),r))}}),Vt=g(()=>(e.value.style.chart.grid.x.timeLabels.values||[]).map((a,l)=>({text:Ft.value(l,e.value.style.chart.zoom.timeFormat),absoluteIndex:l}))),ot=g(()=>(e.value.style.chart.grid.x.timeLabels.values||[]).map((a,l)=>({text:Ft.value(l,e.value.style.chart.tooltip.timeFormat),absoluteIndex:l}))),C=g(()=>{if(!me.value&&!xe.value)return[];let a=Array(T.value).fill(0),l=Array(T.value).fill(0),t=Array(T.value).fill(0),r=Array(T.value).fill(0);const v=Math.max(...Ne.value.positive)||0,n=Math.min(...Ne.value.negative),L=[-1/0,1/0,NaN,void 0,null].includes(n)?0:n,x=!e.value.style.chart.bars.distributed&&(e.value.style.chart.grid.scale.scaleMax!==null||e.value.style.chart.grid.scale.scaleMin!==null)?ha(e.value.style.chart.grid.scale.scaleMin!==null?e.value.style.chart.grid.scale.scaleMin:L>0?0:L,e.value.style.chart.grid.scale.scaleMax!==null?e.value.style.chart.grid.scale.scaleMax:v<0?0:v,e.value.style.chart.grid.scale.ticks):ya(e.value.style.chart.grid.scale.scaleMin!==null?e.value.style.chart.grid.scale.scaleMin:L>0?0:L,e.value.style.chart.grid.scale.scaleMax!==null?e.value.style.chart.grid.scale.scaleMax:v<0?0:v,e.value.style.chart.grid.scale.ticks),{min:I,max:R}=x,A=R+(I>=0?0:Math.abs(I))||1,q=u.value.height,E=u.value.width,U=B.value[0]?B.value[0].zero:u.value.bottom,W=B.value[0]?B.value[0].horizontal_zero:u.value.left;let ea=Array(re.value.length).fill(0),ta=Array(re.value.length).fill(0);return Y.value.filter(ce=>!O.value.includes(ce.id)).map(ce=>{const X=ce.series.slice(),aa=X.map((d,h)=>ea[h]),il=X.map((d,h)=>ta[h]);X.forEach((d,h)=>{(Number(d)||0)>=0?ea[h]+=Number(d)||0:ta[h]+=Math.abs(Number(d)||0)});const J=ce.series.slice(c.value.start,c.value.end),ul=ce.signedSeries.slice(c.value.start,c.value.end),nl=J.map((d,h)=>u.value.left+b.value*h+b.value*e.value.style.chart.bars.gapRatio/4),Ue=(re.value||[]).filter(Number.isFinite),ct=Ue.length?Math.max(...Ue):0,dt=Ue.length?Math.min(...Ue):0;function la({minimapH:d}){const h=ct>0,S=dt<0;if(h&&S){const z=Math.max(ct,Math.abs(dt))||1e-9;return{pxPerUnit:d/2/z,zero:d/2}}if(h){const z=Math.max(1e-9,ct);return{pxPerUnit:d/z,zero:d}}const N=Math.max(1e-9,Math.abs(dt));return{pxPerUnit:d/N,zero:0}}const vl=({left:d,unitW:h})=>{const S=h*(e.value.style.chart.bars.gapRatio/4);return X.map((N,z)=>d+h*z+S)},cl=J.map((d,h)=>u.value.top+b.value*h+b.value*e.value.style.chart.bars.gapRatio/4),dl=J.map((d,h)=>{const S=e.value.style.chart.bars.distributed?(d||0)/we.value[h]:(d||0)/A;let N,z;return d>0?(z=q*S,N=U-z-a[h],a[h]+=z):(z=q*S,N=U+t[h],t[h]+=Math.abs(z)),N}),hl=({minimapH:d})=>{if(e.value.style.chart.bars.distributed)return X.map((N,z)=>{var ra;const de=Math.abs(Number(N)||0),He=Math.abs(((ra=re.value)==null?void 0:ra[z])||0)||1e-9,pl=(aa[z]+de)/He;return d-pl*d});const{pxPerUnit:h,zero:S}=la({minimapH:d});return X.map((N,z)=>{const de=Number(N)||0;return de>=0?S-(aa[z]+de)*h:S+il[z]*h})},yl=J.map((d,h)=>{const S=e.value.style.chart.bars.distributed?(d||0)/we.value[h]:(d||0)/A;let N,z;return d>0?(z=E*S,N=W+l[h],l[h]+=z):(z=E*S,N=W-Math.abs(z)-r[h],r[h]+=Math.abs(z)),N}),gl=J.map((d,h)=>{const S=e.value.style.chart.bars.distributed?(d||0)/we.value[h]:(d||0)/A;return d>0?q*S:q*Math.abs(S)}),ml=({minimapH:d})=>{if(e.value.style.chart.bars.distributed)return X.map((S,N)=>{var He;const z=Math.abs(Number(S)||0),de=Math.abs(((He=re.value)==null?void 0:He[N])||0)||1e-9;return z/de*d});const{pxPerUnit:h}=la({minimapH:d});return X.map(S=>Math.abs(Number(S)||0)*h)},bl=J.map((d,h)=>{const S=e.value.style.chart.bars.distributed?(d||0)/we.value[h]:(d||0)/A;return d>0?E*S:E*Math.abs(S)}),fl=J.map(d=>Math.abs(d)).reduce((d,h)=>d+h,0);return{...ce,proportions:J.map((d,h)=>e.value.style.chart.bars.distributed?(d||0)/we.value[h]:(d||0)/fl),series:J,signedSeries:ul,x:nl,y:dl,height:gl,horizontal_width:bl,horizontal_y:cl,horizontal_x:yl,xMinimap:vl,yMinimap:hl,heightMinimap:ml}})}),Dt=g(()=>Ba.value.map((a,l)=>({value:a,sign:a>=0?1:-1})));function Oe(a,l,t,r,v){const n=v===-1&&a>=0?-a:a;return je(e.value.style.chart.bars.dataLabels.formatter,n,ue({p:e.value.style.chart.bars.dataLabels.prefix,v:n,s:e.value.style.chart.bars.dataLabels.suffix,r:e.value.style.chart.bars.dataLabels.rounding}),{datapoint:l,seriesIndex:t,datapointIndex:r})}function Et(a,l,t,r){return je(e.value.style.chart.bars.dataLabels.formatter,a,ue({v:isNaN(a)?0:a,s:"%",r:e.value.style.chart.bars.dataLabels.rounding}),{datapoint:l,seriesIndex:t,datapointIndex:r})}function Ut(a){const l=JSON.parse(JSON.stringify(C.value)).map(t=>({name:t.name,value:t.series[a]===0?0:t.series[a]||null,proportion:t.proportions[a]||null,color:t.color,id:t.id}));e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:l,seriesIndex:a+c.value.start}),ge("selectDatapoint",{datapoint:l,period:P.value[a]})}function it(a){return JSON.parse(JSON.stringify(C.value)).map(l=>({name:l.name,absoluteIndex:l.absoluteIndex,value:l.series[a]===0?0:(l.signedSeries[a]===-1&&l.series[a]>=0?-l.series[a]:l.series[a])||null,proportion:l.proportions[a]||null,color:l.color,id:l.id,timeLabel:Le.value[a]}))}function Ht(a){if(e.value.events.datapointLeave){const l=it(a);e.value.events.datapointLeave({datapoint:l,seriesIndex:a+c.value.start})}qe.value=null,H.value=null}const ja=g(()=>Array(T.value).fill(0).map((a,l)=>it(l)));Se(()=>k.selectedXIndex,a=>{if([null,void 0].includes(k.selectedXIndex)){H.value=null;return}const l=a-c.value.start;l<0||a>=c.value.end?H.value=null:H.value=l!=null?l:null},{immediate:!0});function Bt(a){var v,n,L;H.value=a,qe.value=!0;const l=e.value.style.chart.tooltip.customFormat,t=it(a);ol({seriesIndex:a,datapoint:t}),e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:t,seriesIndex:a+c.value.start}),Je.value={datapoint:t,seriesIndex:a,config:e.value,series:C.value};const r=t.map(x=>Math.abs(x.value)).reduce((x,I)=>x+I,0);if(ma(l)&&Dl(()=>l({seriesIndex:a,datapoint:t,series:C.value,config:e.value})))Ge.value=l({seriesIndex:a,datapoint:t,series:C.value,config:e.value});else{const{showValue:x,showPercentage:I,borderColor:R,roundingValue:A,roundingPercentage:q}=e.value.style.chart.tooltip;let E="";(P.value[a]&&P.value[a].text||ot.value[a]&&ot.value[a].text&&e.value.style.chart.tooltip.showTimeLabel)&&(E+='<div style="width:100%;text-align:center;border-bottom:1px solid '.concat(R,';padding-bottom:6px;margin-bottom:3px;">').concat(e.value.style.chart.tooltip.useDefaultTimeFormat?(v=P.value[a])==null?void 0:v.text:((n=ot.value[a])==null?void 0:n.text)||((L=Le.value[a])==null?void 0:L.text)||"","</div>"));const U=[x&&I?"(":"",x&&I?")":""];t.reverse().forEach(W=>{E+='\n                <div style="display:flex;flex-direction:row;align-items:center;gap:4px">\n                    <svg viewBox="0 0 60 60" height="14" width="14"><rect rx="5" x="0" y="0" height="60" width="60" stroke="none" fill="'.concat(e.value.style.chart.bars.gradient.show?"url(#gradient_".concat(W.id,")"):W.color,'"/>').concat($a.pattern?'<rect rx="5" x="0" y="0" height="60" width="60" stroke="none" fill="url(#pattern_'.concat(D.value,"_").concat(W.absoluteIndex,')"/>'):"","</svg>\n                    ").concat(W.name).concat(x||I?":":""," ").concat(x?ue({p:e.value.style.chart.bars.dataLabels.prefix,v:W.value,s:e.value.style.chart.bars.dataLabels.suffix,r:A}):""," ").concat(U[0]).concat(I?ue({v:isNaN(W.value/r)?0:Math.abs(W.value)/r*100,s:"%",r:q}):"").concat(U[1],"\n                </div>\n            ")}),Ge.value="<div>".concat(E,"</div>")}}const Ya=g(()=>ne.value.width),qa=g(()=>ne.value.height);Gl({timeLabelsEls:e.value.orientation==="vertical"?le:ae,timeLabels:P,slicer:c,configRef:e,rotationPath:["style","chart","grid","x","timeLabels","rotation"],autoRotatePath:["style","chart","grid","x","timeLabels","autoRotate","enable"],isAutoSize:!1,width:Ya,height:qa,rotation:e.value.style.chart.grid.x.timeLabels.autoRotate.angle});function Wt(a){fe.value=a,mt.value+=1}function jt(){$.value.showTable=!$.value.showTable}function Yt(){$.value.dataLabels.show=!$.value.dataLabels.show}function qt(){$.value.showTooltip=!$.value.showTooltip}function Ja(){return C.value}const Jt=g(()=>{if(C.value.length===0)return{head:[],body:[],config:{},columnNames:[]};const a=C.value.map(({name:t,color:r})=>({label:t,color:r})),l=[];return P.value.forEach(t=>{const r=[e.value.style.chart.grid.x.timeLabels.values[t.absoluteIndex]?t.text:i+1];Y.value.forEach(v=>{r.push(Number((v.series[t.absoluteIndex]||0).toFixed(e.value.table.td.roundingValue)))}),l.push(r)}),{head:a,body:l}});function ut(a=null){const l=[[e.value.style.chart.title.text],[e.value.style.chart.title.subtitle.text],[""]],t=["",...Jt.value.head.map(L=>L.label)],r=Jt.value.body,v=l.concat([t]).concat(r),n=Fl(v);a?a(n):Vl({csvContent:n,title:e.value.style.chart.title.text||"vue-ui-stackbar"})}const Pe=g(()=>{const a=[""].concat(C.value.map(v=>v.name)).concat(' <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>');let l=[];for(let v=0;v<T.value;v+=1){const n=C.value.map(L=>{var x;return(x=L.series[v])!=null?x:0}).reduce((L,x)=>L+x,0);l.push([e.value.style.chart.grid.x.timeLabels.values.slice(c.value.start,c.value.end)[v]?P.value[v].text:v+1].concat(C.value.map(L=>{var x;return((x=L.series[v])!=null?x:0).toFixed(e.value.table.td.roundingValue)})).concat((n!=null?n:0).toFixed(e.value.table.td.roundingValue)))}const t={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint},r=[e.value.table.columnNames.period].concat(C.value.map(v=>v.name)).concat(e.value.table.columnNames.total);return{head:a,body:l.slice(0,c.value.end-c.value.start),config:t,colNames:r}});function Ga(a,l){if(ge("selectLegend",C.value.find(t=>t.absoluteIndex===a)),O.value.includes(l.id))O.value=O.value.filter(t=>t!==l.id);else{if(O.value.length===Y.value.length-1)return;O.value.push(l.id)}}const nt=g(()=>Y.value.map((a,l)=>({...a,shape:"square"})).map(a=>({...a,opacity:O.value.includes(a.id)?.5:1,segregate:()=>Ga(a.absoluteIndex,a),isSegregated:O.value.includes(a.id)}))),Xa=g(()=>({cy:"stackbar-legend",backgroundColor:e.value.style.chart.legend.backgroundColor,color:e.value.style.chart.legend.color,fontSize:e.value.style.chart.legend.fontSize,paddingBottom:12,fontWeight:e.value.style.chart.legend.bold?"bold":""})),Fe=y(!1);function vt(){Fe.value=!Fe.value}function Ve(a,l){const t=JSON.parse(JSON.stringify(C.value)).map(r=>({name:r.name,value:r.series[l]===0?0:(r.signedSeries[l]===-1&&r.series[l]>=0?-r.series[l]:r.series[l])||null,proportion:r.proportions[l]||null,color:r.color,id:r.id}));ge("selectTimeLabel",{datapoint:t,absoluteIndex:a.absoluteIndex,label:a.text})}const Ka=g(()=>Math.max(...C.value.flatMap(a=>a.series)));function Gt(a,l){return e.value.style.chart.bars.showDistributedPercentage&&e.value.style.chart.bars.distributed?St.value?l*100>=e.value.style.chart.bars.dataLabels.hideUnderPercentage:e.value.style.chart.bars.dataLabels.hideEmptyPercentages?l>0:!0:St.value?(Ct.value&&rt.value&&console.warn("Vue Data UI - VueUiStackbar - You cannot set both dataLabels.hideUnderPercentage and dataLabels.hideUnderValue. Note that dataLabels.hideUnderPercentage takes precedence in this case."),a>Ka.value*e.value.style.chart.bars.dataLabels.hideUnderPercentage/100):Ct.value?Math.abs(a)>=e.value.style.chart.bars.dataLabels.hideUnderValue:e.value.style.chart.bars.dataLabels.hideEmptyValues?a!==0:!0}async function Qa({scale:a=2}={}){if(!j.value)return;const{width:l,height:t}=j.value.getBoundingClientRect(),r=l/t,{imageUri:v,base64:n}=await Xl({domElement:j.value,base64:!0,img:!0,scale:a});return{imageUri:v,base64:n,title:e.value.style.chart.title.text,width:l,height:t,aspectRatio:r}}const ze=g(()=>{const a=e.value.table.useDialog&&!e.value.table.show,l=$.value.showTable;return{component:a?_a:wa,title:"".concat(e.value.style.chart.title.text).concat(e.value.style.chart.title.subtitle.text?": ".concat(e.value.style.chart.title.subtitle.text):""),props:a?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:fe.value,fullscreenParent:j.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:l,maxHeight:1e4,body:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color},head:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color}}}}});Se(()=>$.value.showTable,a=>{e.value.table.show||(a&&e.value.table.useDialog&&pe.value?pe.value.open():"close"in pe.value&&pe.value.close())});function Xt(){$.value.showTable=!1,Xe.value&&Xe.value.setTableIconState(!1)}const Za=g(()=>e.value.style.chart.backgroundColor),el=g(()=>e.value.style.chart.legend),tl=g(()=>e.value.style.chart.title),{exportSvg:al,getSvg:ll}=Yl({svg:at,title:tl,legend:el,legendItems:nt,backgroundColor:Za});async function Kt({isCb:a}){if(a){const{blob:l,url:t,text:r,dataUrl:v}=await ll();e.value.userOptions.callbacks.svg({blob:l,url:t,text:r,dataUrl:v})}else al()}function Qt(a){const l=T.value;return a>l?l:a<0||a<c.value.start?e.value.style.chart.zoom.startIndex!==null?c.value.start+1:1:a}const Ce=y(!1),Zt=y(!1);function De(){if(!Ce.value){Ce.value=!0;try{const{startIndex:a,endIndex:l}=e.value.style.chart.zoom,t=T.value,r=a!=null?a:0,v=l!=null?Math.min(Qt(l+1),t):t;Ee.value=!0,c.value.start=r,c.value.end=v,F.value.start=r,F.value.end=v,Re(),Zt.value=!0}finally{queueMicrotask(()=>{Ee.value=!1}),Ce.value=!1}}}const Ee=y(!1);function rl(a){Ce.value||Ee.value||a!==c.value.start&&(c.value.start=a,F.value.start=a,Re())}function sl(a){if(Ce.value||Ee.value)return;const l=Qt(a);l!==c.value.end&&(c.value.end=l,F.value.end=l,Re())}function ol({seriesIndex:a,datapoint:l}){const t=c.value.start+a;ge("selectX",{dataset:l,index:t,indexLabel:e.value.style.chart.grid.x.timeLabels.values[t]})}return fa({getData:Ja,getImage:Qa,generatePdf:$t,generateCsv:ut,generateImage:It,generateSvg:Kt,toggleTable:jt,toggleLabels:Yt,toggleTooltip:qt,toggleAnnotator:vt,toggleFullscreen:Wt}),(a,l)=>(s(),o("div",{id:"stackbar_".concat(D.value),ref_key:"stackbarChart",ref:j,class:he({"vue-data-ui-component":!0,"vue-ui-stackbar":!0,"vue-data-ui-wrapper-fullscreen":fe.value}),style:ie("background:".concat(e.value.style.chart.backgroundColor,";color:").concat(e.value.style.chart.color,";font-family:").concat(e.value.style.fontFamily,"; position: relative; ").concat(e.value.responsive?"height: 100%":"")),onMouseenter:Ra,onMouseleave:Na},[e.value.userOptions.buttons.annotator?(s(),Q(f(za),{key:0,svgRef:f(at),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,active:Fe.value,onClose:vt},null,8,["svgRef","backgroundColor","color","active"])):m("",!0),_(a.$slots,"userConfig",{},void 0,!0),e.value.style.chart.title.text?(s(),o("div",{key:1,ref_key:"chartTitle",ref:bt,style:"width:100%;background:transparent;padding-bottom:24px"},[(s(),Q(Kl,{key:"title_".concat(xt.value),config:{title:{cy:"stackbar-title",...e.value.style.chart.title},subtitle:{cy:"stackbar-subtitle",...e.value.style.chart.title.subtitle}}},null,8,["config"]))],512)):m("",!0),Z("div",{id:"legend-top-".concat(D.value)},null,8,lr),e.value.userOptions.show&&me.value&&(f(zt)||f(tt))?(s(),Q(f(Ca),{ref_key:"userOptionsRef",ref:Xe,key:"user_option_".concat(mt.value),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isPrinting:f(_t),isImaging:f(Mt),uid:D.value,hasTooltip:e.value.style.chart.tooltip.show&&e.value.userOptions.buttons.tooltip,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasXls:e.value.userOptions.buttons.csv,hasTable:e.value.userOptions.buttons.table,hasLabel:e.value.userOptions.buttons.labels,hasFullscreen:e.value.userOptions.buttons.fullscreen,isFullscreen:fe.value,chartElement:j.value,position:e.value.userOptions.position,isTooltip:$.value.showTooltip,titles:{...e.value.userOptions.buttonTitles},hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:Fe.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:Wt,onGeneratePdf:f($t),onGenerateCsv:ut,onGenerateImage:f(It),onGenerateSvg:Kt,onToggleTable:jt,onToggleLabels:Yt,onToggleTooltip:qt,onToggleAnnotator:vt,style:ie({visibility:f(zt)?f(tt)?"visible":"hidden":"visible"})},yt({_:2},[a.$slots.menuIcon?{name:"menuIcon",fn:M(({isOpen:t,color:r})=>[_(a.$slots,"menuIcon",se(oe({isOpen:t,color:r})),void 0,!0)]),key:"0"}:void 0,a.$slots.optionTooltip?{name:"optionTooltip",fn:M(()=>[_(a.$slots,"optionTooltip",{},void 0,!0)]),key:"1"}:void 0,a.$slots.optionPdf?{name:"optionPdf",fn:M(()=>[_(a.$slots,"optionPdf",{},void 0,!0)]),key:"2"}:void 0,a.$slots.optionCsv?{name:"optionCsv",fn:M(()=>[_(a.$slots,"optionCsv",{},void 0,!0)]),key:"3"}:void 0,a.$slots.optionImg?{name:"optionImg",fn:M(()=>[_(a.$slots,"optionImg",{},void 0,!0)]),key:"4"}:void 0,a.$slots.optionTable?{name:"optionTable",fn:M(()=>[_(a.$slots,"optionTable",{},void 0,!0)]),key:"5"}:void 0,a.$slots.optionLabels?{name:"optionLabels",fn:M(()=>[_(a.$slots,"optionLabels",{},void 0,!0)]),key:"6"}:void 0,a.$slots.optionFullscreen?{name:"optionFullscreen",fn:M(({toggleFullscreen:t,isFullscreen:r})=>[_(a.$slots,"optionFullscreen",se(oe({toggleFullscreen:t,isFullscreen:r})),void 0,!0)]),key:"7"}:void 0,a.$slots.optionAnnotator?{name:"optionAnnotator",fn:M(({toggleAnnotator:t,isAnnotator:r})=>[_(a.$slots,"optionAnnotator",se(oe({toggleAnnotator:t,isAnnotator:r})),void 0,!0)]),key:"8"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasTooltip","hasPdf","hasImg","hasSvg","hasXls","hasTable","hasLabel","hasFullscreen","isFullscreen","chartElement","position","isTooltip","titles","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):m("",!0),(s(),o("svg",{ref_key:"svgRef",ref:at,xmlns:f(Rl),viewBox:"0 0 ".concat(u.value.chartWidth<=0?10:u.value.chartWidth," ").concat(u.value.chartHeight<=0?10:u.value.chartHeight),class:he({"vue-data-ui-loading":f(xe)}),style:ie("max-width:100%;overflow:visible;background:transparent;color:".concat(e.value.style.chart.color))},[_e(f(Sa)),a.$slots["chart-background"]?(s(),o("foreignObject",{key:0,x:u.value.left,y:u.value.top,width:u.value.width<=0?10:u.value.width,height:u.value.height<=0?10:u.value.height,style:{pointerEvents:"none"}},[_(a.$slots,"chart-background",{},void 0,!0)],8,sr)):m("",!0),e.value.style.chart.bars.gradient.show?(s(),o("defs",or,[(s(!0),o(p,null,w(C.value,(t,r)=>(s(),o("linearGradient",{id:"gradient_".concat(t.id),x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[Z("stop",{offset:"0%","stop-color":t.color},null,8,ur),Z("stop",{offset:"61.8%","stop-color":f(Nl)(t.color,e.value.style.chart.bars.gradient.intensity/100)},null,8,nr),Z("stop",{offset:"100%","stop-color":t.color},null,8,vr)],8,ir))),256))])):m("",!0),e.value.style.chart.grid.x.showHorizontalLines&&e.value.orientation==="vertical"?(s(!0),o(p,{key:2},w(B.value,(t,r)=>(s(),o("line",{x1:u.value.left,x2:u.value.right,y1:t.y,y2:t.y,stroke:e.value.style.chart.grid.x.linesColor,"stroke-width":e.value.style.chart.grid.x.linesThickness,"stroke-dasharray":e.value.style.chart.grid.x.linesStrokeDasharray,"stroke-linecap":"round"},null,8,cr))),256)):m("",!0),e.value.style.chart.grid.x.showHorizontalLines&&e.value.orientation==="horizontal"?(s(!0),o(p,{key:3},w(c.value.end-c.value.start+1,(t,r)=>(s(),o("line",{x1:u.value.left,x2:u.value.right,y1:u.value.top+b.value*r,y2:u.value.top+b.value*r,stroke:e.value.style.chart.grid.x.linesColor,"stroke-width":e.value.style.chart.grid.x.linesThickness,"stroke-dasharray":e.value.style.chart.grid.x.linesStrokeDasharray,"stroke-linecap":"round"},null,8,dr))),256)):m("",!0),e.value.style.chart.grid.y.showVerticalLines&&e.value.orientation==="vertical"?(s(!0),o(p,{key:4},w(c.value.end-c.value.start+1,(t,r)=>(s(),o("line",{x1:u.value.left+b.value*r,x2:u.value.left+b.value*r,y1:u.value.top,y2:u.value.bottom,stroke:e.value.style.chart.grid.y.linesColor,"stroke-width":e.value.style.chart.grid.y.linesThickness,"stroke-dasharray":e.value.style.chart.grid.y.linesStrokeDasharray,"stroke-linecap":"round"},null,8,hr))),256)):m("",!0),e.value.style.chart.grid.y.showVerticalLines&&e.value.orientation==="horizontal"?(s(!0),o(p,{key:5},w(B.value,(t,r)=>(s(),o("line",{x1:t.horizontal_x,x2:t.horizontal_x,y1:u.value.top,y2:u.value.bottom,stroke:e.value.style.chart.grid.y.linesColor,"stroke-width":e.value.style.chart.grid.y.linesThickness,"stroke-dasharray":e.value.style.chart.grid.y.linesStrokeDasharray,"stroke-linecap":"round"},null,8,yr))),256)):m("",!0),(s(!0),o(p,null,w(C.value,(t,r)=>(s(),o("g",null,[a.$slots.pattern?(s(),o("defs",gr,[_(a.$slots,"pattern",Me({ref_for:!0},{seriesIndex:t.absoluteIndex,patternId:"pattern_".concat(D.value,"_").concat(t.absoluteIndex)}),void 0,!0)])):m("",!0),e.value.orientation==="vertical"?(s(),o(p,{key:1},[(s(!0),o(p,null,w(t.x,(v,n)=>(s(),o("rect",{x:v,y:t.y[n]<0?0:t.y[n],height:t.height[n]<0?1e-4:t.height[n]||0,rx:e.value.style.chart.bars.borderRadius>t.height[n]/2?(t.height[n]<0?0:t.height[n])/2:e.value.style.chart.bars.borderRadius,width:b.value*(1-e.value.style.chart.bars.gapRatio/2),fill:e.value.style.chart.bars.gradient.show?"url(#gradient_".concat(t.id,")"):t.color,stroke:e.value.style.chart.backgroundColor,"stroke-width":e.value.style.chart.bars.strokeWidth,"stroke-linecap":"round","stroke-linejoin":"round",class:he({"vue-data-ui-bar-animated":e.value.useCssAnimation,"vue-data-ui-bar-transition":te.value})},null,10,mr))),256)),a.$slots.pattern?(s(),o("g",br,[(s(!0),o(p,null,w(t.x,(v,n)=>(s(),o("rect",{x:v,y:t.y[n]<0?0:t.y[n],height:t.height[n]<0?1e-4:t.height[n]||0,rx:e.value.style.chart.bars.borderRadius>t.height[n]/2?(t.height[n]<0?0:t.height[n])/2:e.value.style.chart.bars.borderRadius,width:b.value*(1-e.value.style.chart.bars.gapRatio/2),fill:"url(#pattern_".concat(D.value,"_").concat(t.absoluteIndex,")"),stroke:e.value.style.chart.backgroundColor,"stroke-width":e.value.style.chart.bars.strokeWidth,"stroke-linecap":"round","stroke-linejoin":"round",class:he({"vue-data-ui-bar-animated":e.value.useCssAnimation,"vue-data-ui-bar-transition":te.value})},null,10,fr))),256))])):m("",!0)],64)):(s(),o(p,{key:2},[(s(!0),o(p,null,w(t.horizontal_x,(v,n)=>(s(),o("rect",{x:f(We)(v,u.value.left),y:t.horizontal_y[n]<0?0:t.horizontal_y[n],width:f(We)(t.horizontal_width[n]<0?1e-4:t.horizontal_width[n]),rx:e.value.style.chart.bars.borderRadius>t.height[n]/2?(t.height[n]<0?0:t.height[n])/2:e.value.style.chart.bars.borderRadius,height:b.value*(1-e.value.style.chart.bars.gapRatio/2),fill:e.value.style.chart.bars.gradient.show?"url(#gradient_".concat(t.id,")"):t.color,stroke:e.value.style.chart.backgroundColor,"stroke-width":e.value.style.chart.bars.strokeWidth,"stroke-linecap":"round","stroke-linejoin":"round",class:he({"vue-data-ui-bar-animated":e.value.useCssAnimation,"vue-data-ui-bar-transition":te.value})},null,10,pr))),256)),a.$slots.pattern?(s(),o("g",xr,[(s(!0),o(p,null,w(t.horizontal_x,(v,n)=>(s(),o("rect",{x:f(We)(v,u.value.left),y:t.horizontal_y[n]<0?0:t.horizontal_y[n],width:f(We)(t.horizontal_width[n]<0?1e-4:t.horizontal_width[n]),rx:e.value.style.chart.bars.borderRadius>t.height[n]/2?(t.height[n]<0?0:t.height[n])/2:e.value.style.chart.bars.borderRadius,height:b.value*(1-e.value.style.chart.bars.gapRatio/2),fill:"url(#pattern_".concat(D.value,"_").concat(t.absoluteIndex,")"),stroke:e.value.style.chart.backgroundColor,"stroke-width":e.value.style.chart.bars.strokeWidth,"stroke-linecap":"round","stroke-linejoin":"round",class:he({"vue-data-ui-bar-animated":e.value.useCssAnimation,"vue-data-ui-bar-transition":te.value})},null,10,kr))),256))])):m("",!0)],64))]))),256)),e.value.style.chart.grid.x.showAxis?(s(),o("line",{key:6,x1:u.value.left,x2:u.value.right,y1:u.value.bottom,y2:u.value.bottom,stroke:e.value.style.chart.grid.x.axisColor,"stroke-width":e.value.style.chart.grid.x.axisThickness,"stroke-linecap":"round","stroke-linejoin":"round"},null,8,wr)):m("",!0),e.value.style.chart.grid.y.showAxis&&!e.value.style.chart.bars.distributed?(s(),o("line",{key:7,x1:u.value.left,x2:u.value.left,y1:u.value.top,y2:u.value.bottom,stroke:e.value.style.chart.grid.y.axisColor,"stroke-width":e.value.style.chart.grid.y.axisThickness,"stroke-linecap":"round","stroke-linejoin":"round"},null,8,Lr)):m("",!0),e.value.style.chart.grid.x.axisName.show&&e.value.style.chart.grid.x.axisName.text?(s(),o("text",{key:8,ref_key:"xAxisLabel",ref:Ke,x:u.value.left+u.value.width/2,y:u.value.chartHeight-3,"font-size":e.value.style.chart.grid.x.axisName.fontSize,fill:e.value.style.chart.grid.x.axisName.color,"font-weight":e.value.style.chart.grid.x.axisName.bold?"bold":"normal","text-anchor":"middle"},V(e.value.style.chart.grid.x.axisName.text),9,zr)):m("",!0),e.value.style.chart.grid.y.axisName.show&&e.value.style.chart.grid.y.axisName.text?(s(),o("text",{key:9,ref_key:"yAxisLabel",ref:Qe,transform:"translate(".concat(e.value.style.chart.grid.y.axisName.fontSize,", ").concat(u.value.top+u.value.height/2,") rotate(-90)"),"font-size":e.value.style.chart.grid.y.axisName.fontSize,fill:e.value.style.chart.grid.y.axisName.color,"font-weight":e.value.style.chart.grid.y.axisName.bold?"bold":"normal","text-anchor":"middle"},V(e.value.style.chart.grid.y.axisName.text),9,Cr)):m("",!0),$.value.dataLabels.show&&e.value.orientation==="vertical"?(s(),o(p,{key:10},[(s(!0),o(p,null,w(C.value,(t,r)=>(s(),o("g",null,[(s(!0),o(p,null,w(t.x,(v,n)=>(s(),o(p,null,[Gt(t.series[n],t.proportions[n])?(s(),o("text",{key:0,x:v+b.value*(1-e.value.style.chart.bars.gapRatio/2)/2,y:t.y[n]+t.height[n]/2+e.value.style.chart.bars.dataLabels.fontSize/3,"font-size":e.value.style.chart.bars.dataLabels.fontSize,fill:e.value.style.chart.bars.dataLabels.adaptColorToBackground?f(ga)(t.color):e.value.style.chart.bars.dataLabels.color,"font-weight":e.value.style.chart.bars.dataLabels.bold?"bold":"normal","text-anchor":"middle"},V(e.value.style.chart.bars.showDistributedPercentage&&e.value.style.chart.bars.distributed?Et(t.proportions[n]*100,t,r,n):Oe(t.series[n],t,r,n,t.signedSeries[n])),9,Sr)):m("",!0)],64))),256))]))),256)),e.value.style.chart.bars.totalValues.show&&C.value.length>1?(s(),o("g",{key:0,ref_key:"sumTop",ref:Ta},[(s(!0),o(p,null,w(Dt.value,(t,r)=>(s(),o(p,null,[!e.value.style.chart.bars.dataLabels.hideEmptyValues||t.value!==0?(s(),o("text",{key:0,x:u.value.left+b.value*r+b.value/2,y:e.value.style.chart.bars.totalValues.fontSize,"text-anchor":"middle","font-size":e.value.style.chart.bars.totalValues.fontSize,"font-weight":e.value.style.chart.bars.totalValues.bold?"bold":"normal",fill:e.value.style.chart.bars.totalValues.color},V(Oe(t.value,t,r,t.sign)),9,_r)):m("",!0)],64))),256))],512)):m("",!0)],64)):m("",!0),$.value.dataLabels.show&&e.value.orientation==="horizontal"?(s(),o(p,{key:11},[(s(!0),o(p,null,w(C.value,(t,r)=>(s(),o("g",null,[(s(!0),o(p,null,w(t.horizontal_x,(v,n)=>(s(),o(p,null,[Gt(t.series[n],t.proportions[n])?(s(),o("text",{key:0,x:v+(t.horizontal_width[n]<0?1e-4:t.horizontal_width[n])/2,y:t.horizontal_y[n]+b.value*(1-e.value.style.chart.bars.gapRatio/2)/2+e.value.style.chart.bars.dataLabels.fontSize/3,"font-size":e.value.style.chart.bars.dataLabels.fontSize,fill:e.value.style.chart.bars.dataLabels.adaptColorToBackground?f(ga)(t.color):e.value.style.chart.bars.dataLabels.color,"font-weight":e.value.style.chart.bars.dataLabels.bold?"bold":"normal","text-anchor":"middle"},V(e.value.style.chart.bars.showDistributedPercentage&&e.value.style.chart.bars.distributed?Et(t.proportions[n]*100,t,r,n):Oe(t.series[n],t,r,n,t.signedSeries[n])),9,Mr)):m("",!0)],64))),256))]))),256)),e.value.style.chart.bars.totalValues.show&&C.value.length>1?(s(),o("g",{key:0,ref_key:"sumRight",ref:wt},[(s(!0),o(p,null,w(Dt.value,(t,r)=>(s(),o(p,null,[!e.value.style.chart.bars.dataLabels.hideEmptyValues||t.value!==0?(s(),o("text",{key:0,x:u.value.right+e.value.style.chart.bars.totalValues.fontSize/3,y:u.value.top+b.value*r+b.value/2,"text-anchor":"start","font-size":e.value.style.chart.bars.totalValues.fontSize,"font-weight":e.value.style.chart.bars.totalValues.bold?"bold":"normal",fill:e.value.style.chart.bars.totalValues.color},V(Oe(t.value,t,r,t.sign)),9,$r)):m("",!0)],64))),256))],512)):m("",!0)],64)):m("",!0),e.value.style.chart.grid.y.axisLabels.show&&!e.value.style.chart.bars.distributed&&e.value.orientation==="vertical"?(s(),o("g",{key:12,ref_key:"scaleLabels",ref:ae},[(s(!0),o(p,null,w(B.value,(t,r)=>(s(),o("line",{x1:u.value.left,x2:u.value.left-6,y1:t.y,y2:t.y,stroke:e.value.style.chart.grid.x.axisColor,"stroke-width":1},null,8,Ir))),256)),(s(!0),o(p,null,w(B.value,(t,r)=>(s(),o("text",{x:t.x,y:t.y+e.value.style.chart.grid.y.axisLabels.fontSize/3,"font-size":e.value.style.chart.grid.y.axisLabels.fontSize,"font-weight":e.value.style.chart.grid.y.axisLabels.bold?"bold":"normal",fill:e.value.style.chart.grid.y.axisLabels.color,"text-anchor":"end"},V(f(je)(e.value.style.chart.grid.y.axisLabels.formatter,t.value,f(ue)({p:e.value.style.chart.bars.dataLabels.prefix,v:t.value,s:e.value.style.chart.bars.dataLabels.suffix,r:e.value.style.chart.grid.y.axisLabels.rounding}),{datapoint:t})),9,Ar))),256))],512)):m("",!0),e.value.style.chart.grid.y.axisLabels.show&&!e.value.style.chart.bars.distributed&&e.value.orientation==="horizontal"?(s(),o("g",{key:13,ref_key:"scaleLabels",ref:ae},[(s(!0),o(p,null,w(B.value,(t,r)=>(s(),o("line",{x1:t.horizontal_x,x2:t.horizontal_x,y1:u.value.bottom,y2:u.value.bottom+6,stroke:e.value.style.chart.grid.x.axisColor,"stroke-width":1,"stroke-linecap":"round"},null,8,Tr))),256)),(s(!0),o(p,null,w(B.value,(t,r)=>(s(),o("text",{class:"vue-data-ui-time-label","font-size":e.value.style.chart.grid.x.timeLabels.fontSize,"font-weight":e.value.style.chart.grid.y.axisLabels.bold?"bold":"normal",fill:e.value.style.chart.grid.y.axisLabels.color,"text-anchor":e.value.style.chart.grid.x.timeLabels.rotation>0?"start":e.value.style.chart.grid.x.timeLabels.rotation<0?"end":"middle",transform:"translate(".concat(t.horizontal_x,", ").concat(u.value.bottom+e.value.style.chart.grid.x.timeLabels.fontSize*1.3+e.value.style.chart.grid.x.timeLabels.offsetY,"), rotate(").concat(e.value.style.chart.grid.x.timeLabels.rotation,")")},V(f(je)(e.value.style.chart.grid.y.axisLabels.formatter,t.value,f(ue)({p:e.value.style.chart.bars.dataLabels.prefix,v:t.value,s:e.value.style.chart.bars.dataLabels.suffix,r:e.value.style.chart.grid.y.axisLabels.rounding}),{datapoint:t})),9,Rr))),256))],512)):m("",!0),e.value.style.chart.grid.x.timeLabels.show&&e.value.orientation==="vertical"?(s(),o("g",{key:14,ref_key:"timeLabelsEls",ref:le},[a.$slots["time-label"]?(s(),o("g",Nr,[(s(!0),o(p,null,w(Pt.value,(t,r)=>(s(),o("g",null,[_(a.$slots,"time-label",Me({ref_for:!0},{x:u.value.left+b.value*r+b.value/2,y:u.value.bottom+e.value.style.chart.grid.x.timeLabels.fontSize*1.3+e.value.style.chart.grid.x.timeLabels.offsetY,fontSize:e.value.style.chart.grid.x.timeLabels.fontSize,fill:e.value.style.chart.grid.x.timeLabels.color,transform:"translate(".concat(u.value.left+b.value*r+b.value/2,", ").concat(u.value.bottom+e.value.style.chart.grid.x.timeLabels.fontSize*1.3+e.value.style.chart.grid.x.timeLabels.offsetY,"), rotate(").concat(e.value.style.chart.grid.x.timeLabels.rotation,")"),absoluteIndex:t.absoluteIndex,content:t.text,textAnchor:e.value.style.chart.grid.x.timeLabels.rotation>0?"start":e.value.style.chart.grid.x.timeLabels.rotation<0?"end":"middle",show:!0}),void 0,!0)]))),256))])):(s(),o("g",Or,[(s(!0),o(p,null,w(Pt.value,(t,r)=>(s(),o("g",null,[String(t.text).includes("\n")?(s(),o("text",{key:r+"-multi","text-anchor":e.value.style.chart.grid.x.timeLabels.rotation>0?"start":e.value.style.chart.grid.x.timeLabels.rotation<0?"end":"middle","font-size":e.value.style.chart.grid.x.timeLabels.fontSize,fill:e.value.style.chart.grid.x.timeLabels.color,transform:"\n                                    translate(\n                                    ".concat(u.value.left+b.value*r+b.value/2,",\n                                    ").concat(u.value.bottom+e.value.style.chart.grid.x.timeLabels.fontSize*1.3+e.value.style.chart.grid.x.timeLabels.offsetY,"\n                                    ),\n                                    rotate(").concat(e.value.style.chart.grid.x.timeLabels.rotation,")\n                                "),style:{cursor:"pointer"},innerHTML:f(Ol)({content:String(t.text),fontSize:e.value.style.chart.grid.x.timeLabels.fontSize,fill:e.value.style.chart.grid.x.timeLabels.color,x:0,y:0}),onClick:()=>Ve(t,r)},null,8,Fr)):(s(),o("text",{class:"vue-data-ui-time-label",key:r,"text-anchor":e.value.style.chart.grid.x.timeLabels.rotation>0?"start":e.value.style.chart.grid.x.timeLabels.rotation<0?"end":"middle","font-size":e.value.style.chart.grid.x.timeLabels.fontSize,"font-weight":e.value.style.chart.grid.x.timeLabels.bold?"bold":"normal",fill:e.value.style.chart.grid.x.timeLabels.color,transform:"translate(".concat(u.value.left+b.value*r+b.value/2,", ").concat(u.value.bottom+e.value.style.chart.grid.x.timeLabels.fontSize*1.3+e.value.style.chart.grid.x.timeLabels.offsetY,"), rotate(").concat(e.value.style.chart.grid.x.timeLabels.rotation,")"),style:{cursor:"pointer"},onClick:()=>Ve(t,r)},V(t.text),9,Pr))]))),256))]))],512)):m("",!0),e.value.style.chart.grid.x.timeLabels.show&&e.value.orientation==="horizontal"?(s(),o("g",{key:15,ref_key:"timeLabelsEls",ref:le},[a.$slots["time-label"]?(s(),o("g",Vr,[(s(!0),o(p,null,w(P.value,(t,r)=>(s(),o("g",null,[_(a.$slots,"time-label",Me({ref_for:!0},{x:u.value.left-8,y:u.value.top+b.value*r+b.value/2+e.value.style.chart.grid.y.axisLabels.fontSize/3,fontSize:e.value.style.chart.grid.x.timeLabels.fontSize,fill:e.value.style.chart.grid.x.timeLabels.color,transform:null,absoluteIndex:t.absoluteIndex,content:t.text,textAnchor:"end",show:!0}),void 0,!0)]))),256))])):(s(),o("g",Dr,[(s(!0),o(p,null,w(P.value,(t,r)=>(s(),o("g",null,[String(t.text).includes("\n")?(s(),o("text",{key:1,"text-anchor":"end","font-size":e.value.style.chart.grid.y.axisLabels.fontSize,"font-weight":e.value.style.chart.grid.y.axisLabels.bold?"bold":"normal",fill:e.value.style.chart.grid.y.axisLabels.color,x:u.value.left-8,y:u.value.top+b.value*r+b.value/2+e.value.style.chart.grid.y.axisLabels.fontSize/3,style:{cursor:"pointer"},onClick:()=>Ve(t,r),innerHTML:f(Pl)({content:String(t.text),fontSize:e.value.style.chart.grid.y.axisLabels.fontSize,fill:e.value.style.chart.grid.y.axisLabels.color,x:u.value.left-8,y:0})},null,8,Ur)):(s(),o("text",{key:0,"text-anchor":"end","font-size":e.value.style.chart.grid.y.axisLabels.fontSize,"font-weight":e.value.style.chart.grid.y.axisLabels.bold?"bold":"normal",fill:e.value.style.chart.grid.y.axisLabels.color,x:u.value.left-8,y:u.value.top+b.value*r+b.value/2+e.value.style.chart.grid.y.axisLabels.fontSize/3,style:{cursor:"pointer"},onClick:()=>Ve(t,r)},V(t.text),9,Er))]))),256))]))],512)):m("",!0),$.value.showTooltip&&e.value.orientation==="vertical"?(s(!0),o(p,{key:16},w(c.value.end-c.value.start,(t,r)=>(s(),o("rect",{x:u.value.left+r*b.value,y:u.value.top,width:b.value,height:u.value.height<0?0:u.value.height,onClick:()=>Ut(r),onMouseenter:()=>Bt(r),onMouseleave:()=>Ht(r),fill:r===H.value||r===Ze.value?e.value.style.chart.highlighter.color:"transparent",style:ie({opacity:e.value.style.chart.highlighter.opacity/100})},null,44,Hr))),256)):m("",!0),$.value.showTooltip&&e.value.orientation==="horizontal"?(s(!0),o(p,{key:17},w(c.value.end-c.value.start,(t,r)=>(s(),o("rect",{x:u.value.left,y:u.value.top+r*b.value,width:u.value.width<0?0:u.value.width,height:b.value,onClick:()=>Ut(r),onMouseenter:()=>Bt(r),onMouseleave:()=>Ht(r),fill:r===H.value||r===Ze.value?e.value.style.chart.highlighter.color:"transparent",style:ie({opacity:e.value.style.chart.highlighter.opacity/100})},null,44,Br))),256)):m("",!0),Rt.value?(s(),o("rect",Me({key:18},Da.value,{"data-start":c.value.start,"data-end":c.value.end}),null,16,Wr)):m("",!0),_(a.$slots,"svg",{svg:{drawingArea:u.value,data:C.value}},void 0,!0)],14,rr)),a.$slots.watermark?(s(),o("div",jr,[_(a.$slots,"watermark",se(oe({isPrinting:f(_t)||f(Mt)})),void 0,!0)])):m("",!0),e.value.style.chart.zoom.show&&T.value>6&&me.value&&Zt.value?(s(),Q(tr,{key:4,ref_key:"chartSlicer",ref:be,allMinimaps:Ha.value,background:e.value.style.chart.zoom.color,borderColor:e.value.style.chart.backgroundColor,customFormat:e.value.style.chart.zoom.customFormat,cutNullValues:!1,enableRangeHandles:e.value.style.chart.zoom.enableRangeHandles,enableSelectionDrag:e.value.style.chart.zoom.enableSelectionDrag,end:c.value.end,focusOnDrag:e.value.style.chart.zoom.focusOnDrag,focusRangeRatio:e.value.style.chart.zoom.focusRangeRatio,fontSize:e.value.style.chart.zoom.fontSize,immediate:!e.value.style.chart.zoom.preview.enable,inputColor:e.value.style.chart.zoom.color,isPreview:Rt.value,labelLeft:e.value.style.chart.grid.x.timeLabels.values[c.value.start]?P.value[0].text:"",labelRight:e.value.style.chart.grid.x.timeLabels.values[c.value.end-1]?P.value.at(-1).text:"",max:Math.max(...Ye.dataset.map(t=>t.series.length)),min:0,minimap:re.value,minimapCompact:e.value.style.chart.zoom.minimap.compact,minimapFrameColor:e.value.style.chart.zoom.minimap.frameColor,minimapIndicatorColor:e.value.style.chart.zoom.minimap.indicatorColor,minimapMerged:!1,minimapSelectedColor:e.value.style.chart.zoom.minimap.selectedColor,minimapSelectedColorOpacity:e.value.style.chart.zoom.minimap.selectedColorOpacity,minimapSelectedIndex:H.value,minimapSelectionRadius:1,preciseLabels:Vt.value.length?Vt.value:Le.value,refreshEndPoint:e.value.style.chart.zoom.endIndex!==null?e.value.style.chart.zoom.endIndex+1:Math.max(...Ye.dataset.map(t=>t.series.length)),refreshStartPoint:e.value.style.chart.zoom.startIndex!==null?e.value.style.chart.zoom.startIndex:0,selectColor:e.value.style.chart.zoom.highlightColor,selectedSeries:ja.value,smoothMinimap:!1,start:c.value.start,textColor:e.value.style.chart.color,timeLabels:Le.value,usePreciseLabels:e.value.style.chart.grid.x.timeLabels.datetimeFormatter.enable&&!e.value.style.chart.zoom.useDefaultFormat,valueEnd:c.value.end,valueStart:c.value.start,verticalHandles:e.value.style.chart.zoom.minimap.verticalHandles,"onUpdate:end":sl,"onUpdate:start":rl,onTrapMouse:Ea,onReset:Ot,onFutureEnd:l[0]||(l[0]=t=>Nt("end",t)),onFutureStart:l[1]||(l[1]=t=>Nt("start",t))},{"reset-action":M(({reset:t})=>[_(a.$slots,"reset-action",se(oe({reset:t})),void 0,!0)]),slotMap:M(({width:t,height:r,unitW:v})=>[(s(!0),o(p,null,w(C.value,n=>(s(),o("g",{key:n.id},[(s(!0),o(p,null,w(n.xMinimap({left:0,unitW:v}),(L,x)=>(s(),o("rect",{key:x,x:x===0?L-v*(e.value.style.chart.bars.gapRatio/4):L-v/2,y:Math.max(0,Math.min(r,n.yMinimap({minimapH:r})[x])),height:n.heightMinimap({minimapH:r})[x],width:[0,T.value-1].includes(x)?v*(1-e.value.style.chart.bars.gapRatio/2)/2:v*(1-e.value.style.chart.bars.gapRatio/2),fill:e.value.style.chart.bars.gradient.show?"url(#gradient_".concat(n.id,")"):n.color,stroke:e.value.style.chart.backgroundColor,"stroke-width":.5,rx:"0","stroke-linecap":"round","stroke-linejoin":"round",style:ie({opacity:x>=F.value.start&&x<=F.value.end?1:.62})},null,12,Yr))),128))]))),128))]),_:3},8,["allMinimaps","background","borderColor","customFormat","enableRangeHandles","enableSelectionDrag","end","focusOnDrag","focusRangeRatio","fontSize","immediate","inputColor","isPreview","labelLeft","labelRight","max","minimap","minimapCompact","minimapFrameColor","minimapIndicatorColor","minimapSelectedColor","minimapSelectedColorOpacity","minimapSelectedIndex","preciseLabels","refreshEndPoint","refreshStartPoint","selectColor","selectedSeries","start","textColor","timeLabels","usePreciseLabels","valueEnd","valueStart","verticalHandles"])):m("",!0),_e(f(xa),{show:$.value.showTooltip&&qe.value,backgroundColor:e.value.style.chart.tooltip.backgroundColor,color:e.value.style.chart.tooltip.color,fontSize:e.value.style.chart.tooltip.fontSize,borderRadius:e.value.style.chart.tooltip.borderRadius,borderColor:e.value.style.chart.tooltip.borderColor,borderWidth:e.value.style.chart.tooltip.borderWidth,backgroundOpacity:e.value.style.chart.tooltip.backgroundOpacity,position:e.value.style.chart.tooltip.position,offsetY:e.value.style.chart.tooltip.offsetY,parent:j.value,content:Ge.value,isFullscreen:fe.value,isCustom:f(ma)(e.value.style.chart.tooltip.customFormat),smooth:e.value.style.chart.tooltip.smooth,backdropFilter:e.value.style.chart.tooltip.backdropFilter,smoothForce:e.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:e.value.style.chart.tooltip.smoothSnapThreshold},{"tooltip-before":M(()=>[_(a.$slots,"tooltip-before",se(oe({...Je.value})),void 0,!0)]),"tooltip-after":M(()=>[_(a.$slots,"tooltip-after",se(oe({...Je.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","fontSize","borderRadius","borderColor","borderWidth","backgroundOpacity","position","offsetY","parent","content","isFullscreen","isCustom","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),Z("div",{id:"legend-bottom-".concat(D.value)},null,8,qr),kt.value?(s(),Q(Ll,{key:5,to:e.value.style.chart.legend.position==="top"?"#legend-top-".concat(D.value):"#legend-bottom-".concat(D.value)},[Z("div",{ref_key:"chartLegend",ref:ft},[e.value.style.chart.legend.show?(s(),Q(er,{key:0,legendSet:nt.value,config:Xa.value,onClickMarker:l[2]||(l[2]=({legend:t})=>t.segregate())},yt({item:M(({legend:t})=>[f(xe)?m("",!0):(s(),o("div",{key:0,onClick:r=>t.segregate(),style:ie("opacity:".concat(O.value.includes(t.id)?.5:1))},V(t.name),13,Jr))]),_:2},[a.$slots.pattern?{name:"legend-pattern",fn:M(({legend:t,index:r})=>[_e(Ql,{shape:t.shape,radius:30,stroke:"none",plot:{x:30,y:30},fill:"url(#pattern_".concat(D.value,"_").concat(r,")")},null,8,["shape","fill"])]),key:"0"}:void 0]),1032,["legendSet","config"])):_(a.$slots,"legend",{key:1,legend:nt.value},void 0,!0)],512)],8,["to"])):m("",!0),a.$slots.source?(s(),o("div",{key:6,ref_key:"source",ref:pt,dir:"auto"},[_(a.$slots,"source",{},void 0,!0)],512)):m("",!0),me.value&&e.value.userOptions.buttons.table?(s(),Q(zl(ze.value.component),Me({key:7},ze.value.props,{ref_key:"tableUnit",ref:pe,onClose:Xt}),yt({content:M(()=>[_e(f(La),{colNames:Pe.value.colNames,head:Pe.value.head,body:Pe.value.body,config:Pe.value.config,title:e.value.table.useDialog?"":ze.value.title,withCloseButton:!e.value.table.useDialog,onClose:Xt},{th:M(({th:t})=>[Z("div",{innerHTML:t},null,8,Gr)]),td:M(({td:t})=>[ua(V(isNaN(Number(t))?t:f(ue)({p:e.value.style.chart.bars.dataLabels.prefix,v:t,s:e.value.style.chart.bars.dataLabels.suffix,r:e.value.table.td.roundingValue})),1)]),_:1},8,["colNames","head","body","config","title","withCloseButton"])]),_:2},[e.value.table.useDialog?{name:"title",fn:M(()=>[ua(V(ze.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:M(()=>[Z("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:l[3]||(l[3]=t=>ut(e.value.userOptions.callbacks.csv))},[_e(f(ka),{name:"excel",stroke:ze.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):m("",!0),f(xe)?(s(),Q(Bl,{key:8})):m("",!0)],46,ar))}},ms=Sl(Xr,[["__scopeId","data-v-89f98793"]]);export{ms as default};
