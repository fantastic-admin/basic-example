
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Tooltip-D0pGX8qz-BS2YwyOE.js","./vue-data-ui-8Gmf-dDN.js","./index-CJB5jCfL.js","./index-D6D_bXIl.css","./alert-I_0TAljB.js","./vue-data-ui-C46fMXq5.css","./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js","./useNestedProp-DaR1dBmj-yWXLkJlG.js","./DataTable-BfEbVwm4-B-GxLkq-.js","./Shape-12_eh8zD-Cy1mu6XW.js","./UserOptions-Cy-iNhZU-CnpDVImt.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./img-CqYIrJ8I-E54QgU9o.js","./dom-to-png-WXGPkYro-BQsfl1t5.js","./PenAndPaper--ADXtx65-ugytqLuo.js","./ColorPicker-BYn8PF2Z-DkxHqz9_.js","./PackageVersion-By5ZZJ0U-Cc8IPeAX.js","./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"])))=>i.map(i=>d[i]);
import{J as h,e as n,a8 as jt,K as q,av as Je,E as Ut,aw as Xe,au as Ht,c1 as $,c as u,o as r,z as S,A as b,g as me,h as v,r as d,j as m,k as x,u as c,c3 as qe,O as K,n as R,f as k,F as C,R as T,t as E,m as Ke,l as Qe,N as Yt,c4 as F,aa as Jt}from"./index-CJB5jCfL.js";import{s as Xt,J as xe,x as qt,v as Kt,o as z,E as Ze,A as ke,a as et,$ as Qt,u as tt,c as Zt,h as el,F as Q,d as tl,L as Ce,Y as ll,z as al,b as ol,l as sl,g as lt,B as rl,e as il,f as ul,p as nl}from"./vue-data-ui-8Gmf-dDN.js";import{E as at,M as cl}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{s as vl,i as Ae}from"./useNestedProp-DaR1dBmj-yWXLkJlG.js";import{T as dl,j as hl}from"./BaseScanner-BMpwQAfz-mc47WWxo.js";import{m as bl}from"./usePrinter-ChVMpU2f-B27PF0nl.js";import{O as pl}from"./useSvgExport-ByUukOZt-XO0OK7cR.js";import{i as fl}from"./useThemeCheck-DGJ31Vi5-GRZcYzX8.js";import{a as yl}from"./useUserOptionState-BIvW1Kz7-D70wY835.js";import{o as gl}from"./useChartAccessibility-9icAAmYg-CuAxjhEs.js";import{S as ml}from"./useTimeLabelCollider-CIsgDrl9-BAa7N0ra.js";import xl from"./img-CqYIrJ8I-E54QgU9o.js";import{b as kl}from"./Shape-12_eh8zD-Cy1mu6XW.js";import Cl from"./Title-D0nD-PMs-DAiwElB_.js";import"./alert-I_0TAljB.js";import"./dom-to-png-WXGPkYro-BQsfl1t5.js";const ot={style:{chart:{backgroundColor:"#1A1A1A",color:"#CCCCCC",grid:{stroke:"#5A5A5A",horizontalGrid:{stroke:"#4A4A4A"},verticalGrid:{stroke:"#4A4A4A"}},plots:{stroke:"#1A1A1A"},labels:{bestPlotLabel:{color:"#CCCCCC"},axis:{color:"#CCCCCC"},xAxisLabels:{color:"#CCCCCC"},yAxisLabels:{color:"#CCCCCC"}},title:{color:"#CCCCCC",subtitle:{color:"#757575"}},tooltip:{backgroundColor:"#1A1A1A",backgroundOpacity:70,color:"#CCCCCC",borderColor:"#5A5A5A"}}},table:{th:{backgroundColor:"#1A1A1A",color:"#CCCCCC"},td:{backgroundColor:"#1A1A1A",color:"#CCCCCC"}}},st={style:{chart:{backgroundColor:"#FFF8E1",color:"#424242",grid:{stroke:"#5D4037",horizontalGrid:{show:!1},verticalGrid:{show:!1}},plots:{stroke:"#FFF8E1"},labels:{bestPlotLabel:{color:"#424242"},axis:{color:"#424242"},xAxisLabels:{color:"#424242"},yAxisLabels:{color:"#424242"}},title:{color:"#424242",subtitle:{color:"#757575"}},tooltip:{backgroundColor:"#FFECB3",backgroundOpacity:30,color:"#424242",borderColor:"#FF8A65"}}},table:{th:{backgroundColor:"#FFF8E1",color:"#424242"},td:{backgroundColor:"#FFF8E1",color:"#424242"}}},rt={style:{chart:{backgroundColor:"#1E1E1E",color:"#BDBDBD",grid:{stroke:"#5D4037",horizontalGrid:{show:!1},verticalGrid:{show:!1}},plots:{stroke:"#1E1E1E"},labels:{bestPlotLabel:{color:"#BDBDBD"},axis:{color:"#BDBDBD"},xAxisLabels:{color:"#BDBDBD"},yAxisLabels:{color:"#BDBDBD"}},title:{color:"#FFF8E1",subtitle:{color:"#BDBDBD"}},tooltip:{backgroundColor:"#1E1E1E",backgroundOpacity:30,color:"#FFF8E1",borderColor:"#FF8A65"}}},table:{th:{backgroundColor:"#1E1E1E",color:"#BDBDBD"},td:{backgroundColor:"#1E1E1E",color:"#BDBDBD"}}},it={style:{chart:{backgroundColor:"#1A1A1A",color:"#99AA99",grid:{stroke:"#5F6A5F",horizontalGrid:{show:!1},verticalGrid:{show:!1}},plots:{stroke:"#00FF00"},labels:{bestPlotLabel:{color:"#AACCAA"},axis:{color:"#99CC99"},xAxisLabels:{color:"#99CC99"},yAxisLabels:{color:"#99CC99"}},title:{color:"#66CC66",subtitle:{color:"#99AA99"}},tooltip:{backgroundColor:"#2A2F2A",color:"#AACCAA",borderColor:"#66CC66"}}},table:{th:{backgroundColor:"#1A1A1A",color:"#99AA99"},td:{backgroundColor:"#1A1A1A",color:"#AACCAA"}}},ut={style:{chart:{backgroundColor:"#fbfafa",color:"#8A9892",grid:{show:!1,horizontalGrid:{show:!1},verticalGrid:{show:!1}},plots:{stroke:"#fbfafa"},labels:{bestPlotLabel:{color:"#A0AC94"},axis:{color:"#A0AC94"},xAxisLabels:{color:"#A0AC94"},yAxisLabels:{show:!1,color:"#A0AC94"}},title:{color:"#8A9892",subtitle:{color:"#99AA99"}},tooltip:{backgroundColor:"#fbfafa",color:"#8A9892"}}},table:{th:{backgroundColor:"#fbfafa",color:"#8F837A"},td:{backgroundColor:"#fbfafa",color:"#8F837A"}}},nt={style:{chart:{backgroundColor:"#f6f6fb",color:"#50606C",grid:{stroke:"#829C98",horizontalGrid:{stroke:"#829C98"},verticalGrid:{stroke:"#829C98"}},plots:{stroke:"#404C5A"},labels:{bestPlotLabel:{color:"#61747E"},axis:{color:"#61747E"},xAxisLabels:{color:"#61747E"},yAxisLabels:{color:"#61747E"}},title:{color:"#50606C",subtitle:{color:"#718890"}},tooltip:{backgroundColor:"#f6f6fb",color:"#50606C"}}},table:{th:{backgroundColor:"#f6f6fb",color:"#50606C"},td:{backgroundColor:"#f6f6fb",color:"#50606C"}}},ct={default:{},dark:ot,celebration:st,celebrationNight:rt,hack:it,zen:ut,concrete:nt},ha=Object.freeze(Object.defineProperty({__proto__:null,celebration:st,celebrationNight:rt,concrete:nt,dark:ot,default:ct,hack:it,zen:ut},Symbol.toStringTag,{value:"Module"})),Al=["id"],wl=["xmlns","viewBox"],Ll=["x","y","width","height"],_l={key:1},$l={key:0},Tl=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],El={key:1},Fl=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],Ol=["x1","x2","y1","y2","stroke","stroke-width"],Dl=["x1","x2","y1","y2","stroke","stroke-width"],Sl=["x","y","fill","font-size"],zl=["transform","font-size","fill","text-anchor"],Pl=["transform","font-size","fill","text-anchor","innerHTML"],Il=["fill","font-size","transform"],Bl=["fill","font-size","x","y"],Ml=["x1","x2","y1","y2","stroke"],Gl=["cx","cy","fill"],Nl=["cx","cy","fill"],Rl=["id"],Wl=["stop-color"],Vl=["stop-color"],jl=["stop-color"],Ul={key:0},Hl=["x","y","font-size","fill"],Yl={key:4,class:"vue-data-ui-watermark"},Jl=["innerHTML"],Xl={__name:"vue-ui-strip-plot",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:["selectDatapoint"],setup(vt,{expose:dt,emit:ht}){const bt=$(()=>F(()=>import("./Tooltip-D0pGX8qz-BS2YwyOE.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),pt=$(()=>F(()=>import("./vue-data-ui-8Gmf-dDN.js").then(t=>t.aA),__vite__mapDeps([1,2,3,4,5]),import.meta.url)),ft=$(()=>F(()=>import("./vue-ui-accordion-DNRtKVZI-Cfsr7GT0.js"),__vite__mapDeps([6,2,3,1,4,5,7]),import.meta.url)),yt=$(()=>F(()=>import("./DataTable-BfEbVwm4-B-GxLkq-.js"),__vite__mapDeps([8,2,3,9,1,4,5]),import.meta.url)),gt=$(()=>F(()=>import("./UserOptions-Cy-iNhZU-CnpDVImt.js"),__vite__mapDeps([10,2,3,11,1,4,5,12,13]),import.meta.url)),mt=$(()=>F(()=>import("./PenAndPaper--ADXtx65-ugytqLuo.js"),__vite__mapDeps([14,2,3,1,4,5,15,11]),import.meta.url)),xt=$(()=>F(()=>import("./PackageVersion-By5ZZJ0U-Cc8IPeAX.js"),__vite__mapDeps([16,2,3]),import.meta.url)),kt=$(()=>F(()=>import("./BaseDraggableDialog-BFDTrOH0-Bty23wRr.js"),__vite__mapDeps([17,2,3,1,4,5]),import.meta.url)),{vue_ui_strip_plot:Ct}=vl(),{isThemeValid:At,warnInvalidTheme:wt}=fl(),g=vt,Lt=ht,W=h({get(){return!!g.dataset&&g.dataset.length},set(t){return t}}),Z=n(xe()),we=n(0),ee=n(!1),te=n(""),w=n(null),Le=n(null),_e=n(null),$e=n(null),Te=n(!1),Ee=n(0),Fe=n(0),B=n(null),le=n(null),ae=n(null),oe=n(null),V=n(null),se=n(null),e=n(ve()),{loading:re,FINAL_DATASET:ie,manualLoading:ue}=dl({...jt(g),FINAL_CONFIG:e,prepareConfig:ve,skeletonDataset:[{name:"_",color:"#DBDBDB",plots:[{name:"_",value:1},{name:"_",value:2},{name:"_",value:3}]},{name:"_",color:"#C4C4C4",plots:[{name:"_",value:3},{name:"_",value:5},{name:"_",value:8}]},{name:"_",color:"#ADADAD",plots:[{name:"_",value:8},{name:"_",value:13},{name:"_",value:21}]},{name:"_",color:"#969696",plots:[{name:"_",value:21},{name:"_",value:34},{name:"_",value:55}]},{name:"_",color:"#808080",plots:[{name:"_",value:55},{name:"_",value:89},{name:"_",value:144}]}],skeletonConfig:qt({defaultConfig:e.value,userConfig:{userOptions:{show:!1},table:{show:!1},style:{chart:{backgroundColor:"#99999930",padding:{top:24,left:24,right:24,bottom:24},grid:{stroke:"#6A6A6A",horizontalGrid:{stroke:"#6A6A6A"},verticalGrid:{stroke:"#6A6A6A"}},plots:{stroke:"#6A6A6A"},labels:{bestPlotLabel:{show:!1},axis:{xLabel:"",yLabel:""},xAxisLabels:{show:!1},yAxisLabels:{show:!1}}}}}})}),{userOptionsVisible:ne,setUserOptionsVisibility:Oe,keepUserOptionState:De}=yl({config:e.value}),{svgRef:ce}=gl({config:e.value.style.chart.title});function ve(){const t=Ae({userConfig:g.config,defaultConfig:Ct}),a=t.theme;if(!a)return t;if(!At.value(t))return wt(t),t;const l=Ae({userConfig:ct[a]||g.config,defaultConfig:t}),o=Ae({userConfig:g.config,defaultConfig:l});return{...o,customPalette:o.customPalette.length?o.customPalette:Kt[a]||z}}q(()=>g.config,async t=>{re.value||(e.value=ve()),ne.value=!e.value.userOptions.showOnChartHover,Se(),Ee.value+=1,Fe.value+=1,p.value.dataLabels.show=e.value.style.chart.labels.bestPlotLabel.show,p.value.showTable=e.value.table.show,p.value.showTooltip=e.value.style.chart.tooltip.show,I.value=e.value.style.chart.width,_.value=e.value.style.chart.height,G.value=e.value.style.chart.plots.radius},{deep:!0}),q(()=>g.dataset,t=>{Array.isArray(t)&&t.length>0&&(ue.value=!1)},{deep:!0});const L=Je(null),P=Je(null);Ut(()=>{Se()});const de=h(()=>!!e.value.debug);function Se(){if(Ze(g.dataset)?(ke({componentName:"VueUiStripPlot",type:"dataset",debug:de.value}),ue.value=!0):g.dataset.forEach((t,a)=>{et({datasetObject:t,requiredAttributes:["name","plots"]}).forEach(l=>{W.value=!1,ke({componentName:"VueUiStripPlot",type:"datasetSerieAttribute",property:l,index:a,debug:de.value})}),t.plots&&t.plots.forEach((l,o)=>{et({datasetObject:l,requiredAttributes:["name","value"]}).forEach(i=>{W.value=!1,ke({componentName:"VueUiStripPlot",type:"datasetSerieAttribute",property:i,index:"".concat(a,",").concat(o),debug:de.value})})})}),Ze(g.dataset)||(ue.value=e.value.loading),e.value.responsive){const t=at(()=>{const{width:a,height:l}=cl({chart:w.value,title:e.value.style.chart.title.text?Le.value:null,source:_e.value,noTitle:$e.value});requestAnimationFrame(()=>{$t.value=l,I.value=Math.max(.1,a),_.value=Math.max(.1,l-12),e.value.responsiveProportionalSizing?G.value=rl({relator:Math.min(l,a),adjuster:600,source:e.value.style.chart.plots.radius,threshold:6,fallback:6}):G.value=e.value.style.chart.plots.radius})});L.value&&(P.value&&L.value.unobserve(P.value),L.value.disconnect()),L.value=new ResizeObserver(t),P.value=w.value.parentNode,L.value.observe(P.value)}Te.value=!0,setTimeout(()=>{M.value=!1},Ot.value*50)}Xe(()=>{L.value&&(P.value&&L.value.unobserve(P.value),L.value.disconnect())});const{isPrinting:ze,isImaging:Pe,generatePdf:Ie,generateImage:Be}=bl({elementId:"strip-plot_".concat(Z.value),fileName:e.value.style.chart.title.text||"vue-ui-strip-plot",options:e.value.userOptions.print}),_t=h(()=>e.value.userOptions.show&&!e.value.style.chart.title.text),Me=h(()=>Qt(e.value.customPalette)),M=n(e.value.useCssAnimation),j=n({top:e.value.style.chart.padding.top,bottom:e.value.style.chart.padding.bottom,left:e.value.style.chart.padding.left,right:e.value.style.chart.padding.right}),I=n(e.value.style.chart.width),_=n(e.value.style.chart.height),$t=n(e.value.style.chart.height),G=n(e.value.style.chart.plots.radius),p=n({showTable:e.value.table.show,dataLabels:{show:e.value.style.chart.labels.bestPlotLabel.show},showTooltip:e.value.style.chart.tooltip.show});q(e,()=>{p.value={showTable:e.value.table.show,dataLabels:{show:e.value.style.chart.labels.bestPlotLabel.show},showTooltip:e.value.style.chart.tooltip.show},I.value=e.value.style.chart.width,_.value=e.value.style.chart.height,G.value=e.value.style.chart.plots.radius},{immediate:!0});const he=h(()=>Math.min(G.value,s.value.stripWidth/2*.9));function Tt(){let t=0;se.value&&(t=Array.from(se.value.querySelectorAll("text")).reduce((l,o)=>{const i=o.getComputedTextLength();return i>l?i:l},0));const a=oe.value?oe.value.getBoundingClientRect().width:0;return t+a+(a?24:0)}const be=n(0),Et=at(t=>{be.value=t},100);Ht(t=>{const a=V.value;if(!a)return;const l=new ResizeObserver(o=>{Et(o[0].contentRect.height)});l.observe(a),t(()=>l.disconnect())}),Xe(()=>{be.value=0});const Ft=h(()=>{let t=0;ae.value&&(t=ae.value.getBBox().height+e.value.style.chart.labels.axis.fontSize/3+12+e.value.style.chart.labels.axis.xLabelOffsetY);let a=0;return V.value&&(a=be.value+12),t+a}),s=h(()=>{const t=Tt(),a=j.value.left+t+e.value.style.chart.labels.axis.yLabelOffsetX+5,l=I.value-j.value.right,o=Math.max(0,l-a),i=j.value.top+e.value.style.chart.plots.radius+e.value.style.chart.labels.bestPlotLabel.fontSize,y=_.value-j.value.bottom-Ft.value,X=Math.max(0,y-i),Ye=Array.isArray(ie.value)?ie.value.length:0,Vt=Ye>0?o/Ye:0;return{left:a,right:l,top:i,bottom:y,width:o,height:X,stripWidth:Vt,absoluteHeight:_.value}}),U=h(()=>ie.value.map((t,a)=>{const l=xe();return{...t,id:l,color:t.color?tt(t.color):Me.value[a]||z[a]||z[a%z.length],plots:t.plots.map((o,i)=>({...o,value:Zt(o.value),parentId:l,parentName:t.name,parentIndex:a,plotIndex:i,color:t.color?tt(t.color):Me.value[a]||z[a]||z[a%z.length],id:xe()})).sort((o,i)=>o.value-i.value)}})),A=h(()=>(U.value||[]).map((t,a)=>({...t,plots:t.plots.map(l=>({...l,x:s.value.left+(a+1)*s.value.stripWidth-s.value.stripWidth/2}))}))),Ot=h(()=>Math.max(...A.value.map(t=>t.plots.length))),pe=h(()=>{const t=A.value.flatMap(a=>a.plots.map(l=>l.value));return{max:Math.max(...t),min:Math.min(...t)}}),O=h(()=>el(pe.value.min<0?pe.value.min:0,pe.value.max,e.value.style.chart.grid.scaleSteps)),Dt=h(()=>(A.value||[]).map((t,a)=>({...t,plots:t.plots.map(l=>({...l,y:s.value.bottom-(l.value+Math.abs(O.value.min))/(O.value.max+Math.abs(O.value.min))*s.value.height}))}))),Ge=h(()=>O.value.ticks.map(t=>({y:s.value.bottom-s.value.height*((t+Math.abs(O.value.min))/(O.value.max+Math.abs(O.value.min))),x1:s.value.left,x2:s.value.right,value:t}))),fe=n(null),f=n(null);function St({datapoint:t,seriesIndex:a}){ee.value=!1,f.value=null,e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:t,seriesIndex:a})}function zt({datapoint:t,seriesIndex:a}){Lt("selectDatapoint",t),e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:t,seriesIndex:a})}function Pt({datapoint:t,seriesIndex:a}){e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:t,seriesIndex:a}),fe.value={datapoint:t,seriesIndex:a,config:e.value,series:U.value},ee.value=!0,f.value=t;const l=e.value.style.chart.tooltip.customFormat;if(lt(l)&&nl(()=>l({seriesIndex:a,datapoint:t,series:U.value,config:e.value})))te.value=l({seriesIndex:a,datapoint:t,series:U.value,config:e.value});else{let o="";o+='<div style="display:flex;flex-direction:row;gap:6px;align-items:center;"><svg viewBox="0 0 12 12" height="14" width="14"><circle cx="6" cy="6" r="6" stroke="none" fill="'.concat(e.value.style.chart.plots.gradient.show?"url(#".concat(t.parentId,")"):t.color,'"/></svg>').concat(t.name,"</div>"),o+="<div>".concat(Ce(e.value.style.chart.labels.formatter,t.value,Q({p:e.value.style.chart.labels.prefix,v:t.value,s:e.value.style.chart.labels.suffix,r:e.value.style.chart.tooltip.roundingValue}),{datapoint:t,seriesIndex:a}),"</div>"),te.value="<div>".concat(o,"</div>")}}const H=h(()=>{const t=A.value.flatMap(l=>JSON.parse(JSON.stringify(l.plots)).sort((o,i)=>i.value-o.value).map(o=>({name:"".concat(l.name," - ").concat(o.name),color:o.color}))),a=A.value.flatMap(l=>JSON.parse(JSON.stringify(l.plots)).sort((o,i)=>i.value-o.value).map(o=>o.value));return{head:t,body:a}});function ye(t=null){Jt(()=>{const a=H.value.head.map((i,y)=>[[i.name],[H.value.body[y]]]),l=[[e.value.style.chart.title.text],[e.value.style.chart.title.subtitle.text],[[e.value.table.columnNames.series],[e.value.table.columnNames.value]]].concat(a),o=il(l);t?t(o):ul({csvContent:o,title:e.value.style.chart.title.text||"vue-ui-strip-plot"})})}const Y=h(()=>{const t=[e.value.table.columnNames.series,e.value.table.columnNames.value],a=H.value.head.map((o,i)=>{const y=Q({p:e.value.style.chart.labels.prefix,v:H.value.body[i],s:e.value.style.chart.labels.suffix,r:e.value.table.td.roundingValue});return[{color:o.color,name:o.name},y]}),l={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint};return{colNames:[e.value.table.columnNames.series,e.value.table.columnNames.value],head:t,body:a,config:l}}),D=n(!1);function Ne(t){D.value=t,we.value+=1}function It(){return A.value}function Re(){p.value.showTable=!p.value.showTable}function We(){p.value.dataLabels.show=!p.value.dataLabels.show}function Ve(){p.value.showTooltip=!p.value.showTooltip}const J=n(!1);function ge(){J.value=!J.value}async function Bt({scale:t=2}={}){if(!w.value)return;const{width:a,height:l}=w.value.getBoundingClientRect(),o=a/l,{imageUri:i,base64:y}=await xl({domElement:w.value,base64:!0,img:!0,scale:t});return{imageUri:i,base64:y,title:e.value.style.chart.title.text,width:a,height:l,aspectRatio:o}}const je=h(()=>A.value.map(t=>t.name)),Mt=n({start:0,end:A.value.length});ml({timeLabelsEls:V,timeLabels:je,slicer:Mt,configRef:e,rotationPath:["style","chart","labels","xAxisLabels","rotation"],autoRotatePath:["style","chart","labels","xAxisLabels","autoRotate","enable"],isAutoSize:!1,width:I,height:_,targetClass:".vue-ui-strip-plot-category-name",rotation:e.value.style.chart.labels.xAxisLabels.autoRotate.angle});const N=h(()=>{const t=e.value.table.useDialog&&!e.value.table.show,a=p.value.showTable;return{component:t?kt:ft,title:"".concat(e.value.style.chart.title.text).concat(e.value.style.chart.title.subtitle.text?": ".concat(e.value.style.chart.title.subtitle.text):""),props:t?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:D.value,fullscreenParent:w.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:a,maxHeight:1e4,body:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color},head:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color}}}}});q(()=>p.value.showTable,t=>{e.value.table.show||(t&&e.value.table.useDialog&&B.value?B.value.open():"close"in B.value&&B.value.close())});function Ue(){p.value.showTable=!1,le.value&&le.value.setTableIconState(!1)}const Gt=h(()=>e.value.style.chart.backgroundColor),Nt=h(()=>e.value.style.chart.title),{exportSvg:Rt,getSvg:Wt}=pl({svg:ce,title:Nt,backgroundColor:Gt});async function He({isCb:t}){if(t){const{blob:a,url:l,text:o,dataUrl:i}=await Wt();e.value.userOptions.callbacks.svg({blob:a,url:l,text:o,dataUrl:i})}else Rt()}return dt({getData:It,getImage:Bt,generatePdf:Ie,generateCsv:ye,generateImage:Be,generateSvg:He,toggleTable:Re,toggleLabels:We,toggleTooltip:Ve,toggleAnnotator:ge,toggleFullscreen:Ne}),(t,a)=>(r(),u("div",{ref_key:"stripPlotChart",ref:w,class:R("vue-data-ui-component vue-ui-strip-plot ".concat(D.value?"vue-data-ui-wrapper-fullscreen":""," ").concat(e.value.useCssAnimation?"":"vue-ui-dna")),style:K("font-family:".concat(e.value.style.fontFamily,";width:100%; text-align:center;background:").concat(e.value.style.chart.backgroundColor,";").concat(e.value.responsive?"height:100%":"")),id:"strip-plot_".concat(Z.value),onMouseenter:a[1]||(a[1]=()=>c(Oe)(!0)),onMouseleave:a[2]||(a[2]=()=>c(Oe)(!1))},[e.value.userOptions.buttons.annotator?(r(),S(c(mt),{key:0,svgRef:c(ce),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,active:J.value,onClose:ge},{"annotator-action-close":v(()=>[d(t.$slots,"annotator-action-close",{},void 0,!0)]),"annotator-action-color":v(({color:l})=>[d(t.$slots,"annotator-action-color",m(x({color:l})),void 0,!0)]),"annotator-action-draw":v(({mode:l})=>[d(t.$slots,"annotator-action-draw",m(x({mode:l})),void 0,!0)]),"annotator-action-undo":v(({disabled:l})=>[d(t.$slots,"annotator-action-undo",m(x({disabled:l})),void 0,!0)]),"annotator-action-redo":v(({disabled:l})=>[d(t.$slots,"annotator-action-redo",m(x({disabled:l})),void 0,!0)]),"annotator-action-delete":v(({disabled:l})=>[d(t.$slots,"annotator-action-delete",m(x({disabled:l})),void 0,!0)]),_:3},8,["svgRef","backgroundColor","color","active"])):b("",!0),_t.value?(r(),u("div",{key:1,ref_key:"noTitle",ref:$e,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):b("",!0),e.value.style.chart.title.text?(r(),u("div",{key:2,ref_key:"chartTitle",ref:Le,style:"width:100%;background:transparent;padding-bottom:24px"},[(r(),S(Cl,{key:"title_".concat(Ee.value),config:{title:{cy:"donut-div-title",...e.value.style.chart.title},subtitle:{cy:"donut-div-subtitle",...e.value.style.chart.title.subtitle}}},null,8,["config"]))],512)):b("",!0),e.value.userOptions.show&&W.value&&(c(De)||c(ne))?(r(),S(c(gt),{ref_key:"userOptionsRef",ref:le,key:"user_option_".concat(we.value),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isPrinting:c(ze),isImaging:c(Pe),uid:Z.value,hasTooltip:e.value.userOptions.buttons.tooltip&&e.value.style.chart.tooltip.show,hasPdf:e.value.userOptions.buttons.pdf,hasXls:e.value.userOptions.buttons.csv,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasTable:e.value.userOptions.buttons.table,hasLabel:e.value.userOptions.buttons.labels,hasFullscreen:e.value.userOptions.buttons.fullscreen,isTooltip:p.value.showTooltip,isFullscreen:D.value,titles:{...e.value.userOptions.buttonTitles},chartElement:w.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:J.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:Ne,onGeneratePdf:c(Ie),onGenerateCsv:ye,onGenerateImage:c(Be),onGenerateSvg:He,onToggleTable:Re,onToggleLabels:We,onToggleTooltip:Ve,onToggleAnnotator:ge,style:K({visibility:c(De)?c(ne)?"visible":"hidden":"visible"})},qe({_:2},[t.$slots.menuIcon?{name:"menuIcon",fn:v(({isOpen:l,color:o})=>[d(t.$slots,"menuIcon",m(x({isOpen:l,color:o})),void 0,!0)]),key:"0"}:void 0,t.$slots.optionTooltip?{name:"optionTooltip",fn:v(()=>[d(t.$slots,"optionTooltip",{},void 0,!0)]),key:"1"}:void 0,t.$slots.optionPdf?{name:"optionPdf",fn:v(()=>[d(t.$slots,"optionPdf",{},void 0,!0)]),key:"2"}:void 0,t.$slots.optionCsv?{name:"optionCsv",fn:v(()=>[d(t.$slots,"optionCsv",{},void 0,!0)]),key:"3"}:void 0,t.$slots.optionImg?{name:"optionImg",fn:v(()=>[d(t.$slots,"optionImg",{},void 0,!0)]),key:"4"}:void 0,t.$slots.optionSvg?{name:"optionSvg",fn:v(()=>[d(t.$slots,"optionSvg",{},void 0,!0)]),key:"5"}:void 0,t.$slots.optionTable?{name:"optionTable",fn:v(()=>[d(t.$slots,"optionTable",{},void 0,!0)]),key:"6"}:void 0,t.$slots.optionLabels?{name:"optionLabels",fn:v(()=>[d(t.$slots,"optionLabels",{},void 0,!0)]),key:"7"}:void 0,t.$slots.optionFullscreen?{name:"optionFullscreen",fn:v(({toggleFullscreen:l,isFullscreen:o})=>[d(t.$slots,"optionFullscreen",m(x({toggleFullscreen:l,isFullscreen:o})),void 0,!0)]),key:"8"}:void 0,t.$slots.optionAnnotator?{name:"optionAnnotator",fn:v(({toggleAnnotator:l,isAnnotator:o})=>[d(t.$slots,"optionAnnotator",m(x({toggleAnnotator:l,isAnnotator:o})),void 0,!0)]),key:"9"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasTooltip","hasPdf","hasXls","hasImg","hasSvg","hasTable","hasLabel","hasFullscreen","isTooltip","isFullscreen","titles","chartElement","position","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):b("",!0),(r(),u("svg",{ref_key:"svgRef",ref:ce,xmlns:c(tl),class:R({"vue-data-ui-fullscreen--on":D.value,"vue-data-ui-fulscreen--off":!D.value}),viewBox:"0 0 ".concat(I.value," ").concat(_.value),style:K("max-width:100%; overflow: visible; background:transparent;color:".concat(e.value.style.chart.color,";"))},[me(c(xt)),t.$slots["chart-background"]?(r(),u("foreignObject",{key:0,x:s.value.left,y:s.value.top,width:Math.max(.1,s.value.width),height:Math.max(.1,s.value.height),style:{pointerEvents:"none"}},[d(t.$slots,"chart-background",{},void 0,!0)],8,Ll)):b("",!0),e.value.style.chart.grid.show?(r(),u("g",_l,[e.value.style.chart.grid.horizontalGrid.show?(r(),u("g",$l,[(r(!0),u(C,null,T(Ge.value,l=>(r(),u("line",{x1:l.x1,x2:l.x2,y1:l.y,y2:l.y,stroke:e.value.style.chart.grid.horizontalGrid.stroke,"stroke-width":e.value.style.chart.grid.horizontalGrid.strokeWidth,"stroke-dasharray":e.value.style.chart.grid.horizontalGrid.strokeDasharray,"stroke-linecap":"round"},null,8,Tl))),256))])):b("",!0),e.value.style.chart.grid.verticalGrid.show?(r(),u("g",El,[(r(!0),u(C,null,T(A.value,(l,o)=>(r(),u("line",{x1:s.value.left+(o+1)*s.value.stripWidth,x2:s.value.left+(o+1)*s.value.stripWidth,y1:s.value.top,y2:s.value.bottom,stroke:e.value.style.chart.grid.verticalGrid.stroke,"stroke-width":e.value.style.chart.grid.verticalGrid.strokeWidth,"stroke-dasharray":e.value.style.chart.grid.verticalGrid.strokeDasharray,"stroke-linecap":"round"},null,8,Fl))),256))])):b("",!0),k("line",{x1:s.value.left,x2:s.value.left,y1:s.value.top,y2:s.value.bottom,stroke:e.value.style.chart.grid.stroke,"stroke-width":e.value.style.chart.grid.strokeWidth,"stroke-linecap":"round"},null,8,Ol),k("line",{x1:s.value.left,x2:s.value.right,y1:s.value.bottom,y2:s.value.bottom,stroke:e.value.style.chart.grid.stroke,"stroke-width":e.value.style.chart.grid.strokeWidth,"stroke-linecap":"round"},null,8,Dl)])):b("",!0),e.value.style.chart.labels.yAxisLabels.show?(r(),u("g",{key:2,ref_key:"scaleLabels",ref:se},[(r(!0),u(C,null,T(Ge.value,(l,o)=>(r(),u("text",{x:l.x1+e.value.style.chart.labels.yAxisLabels.offsetX-5,y:l.y+e.value.style.chart.labels.yAxisLabels.fontSize/3,fill:e.value.style.chart.labels.yAxisLabels.color,"font-size":e.value.style.chart.labels.yAxisLabels.fontSize,"text-anchor":"end"},E(c(Ce)(e.value.style.chart.labels.formatter,l.value,c(Q)({p:e.value.style.chart.labels.prefix,v:l.value,s:e.value.style.chart.labels.suffix,r:e.value.style.chart.labels.yAxisLabels.rounding}),{datapoint:l,seriesIndex:o})),9,Sl))),256))],512)):b("",!0),e.value.style.chart.labels.xAxisLabels.show?(r(),u("g",{key:3,ref_key:"timeLabelsEls",ref:V},[(r(!0),u(C,null,T(je.value,(l,o)=>(r(),u("g",null,[String(l).includes("\n")?(r(),u("text",{key:1,class:"vue-ui-strip-plot-category-name",transform:"translate(".concat(s.value.left+(o+1)*s.value.stripWidth-s.value.stripWidth/2,", ").concat(s.value.bottom+e.value.style.chart.labels.xAxisLabels.fontSize*2+e.value.style.chart.labels.xAxisLabels.offsetY,"), rotate(").concat(e.value.style.chart.labels.xAxisLabels.rotation,")"),"font-size":e.value.style.chart.labels.xAxisLabels.fontSize,fill:e.value.style.chart.labels.xAxisLabels.color,"text-anchor":e.value.style.chart.labels.xAxisLabels.rotation>0?"start":e.value.style.chart.labels.xAxisLabels.rotation<0?"end":"middle",innerHTML:c(ll)({content:c(al)(String(l)),fontSize:e.value.style.chart.labels.xAxisLabels.fontSize,fill:e.value.style.chart.labels.xAxisLabels.color,x:0,y:0})},null,8,Pl)):(r(),u("text",{key:0,class:"vue-ui-strip-plot-category-name",transform:"translate(".concat(s.value.left+(o+1)*s.value.stripWidth-s.value.stripWidth/2,", ").concat(s.value.bottom+e.value.style.chart.labels.xAxisLabels.fontSize*2+e.value.style.chart.labels.xAxisLabels.offsetY,"), rotate(").concat(e.value.style.chart.labels.xAxisLabels.rotation,")"),"font-size":e.value.style.chart.labels.xAxisLabels.fontSize,fill:e.value.style.chart.labels.xAxisLabels.color,"text-anchor":e.value.style.chart.labels.xAxisLabels.rotation>0?"start":e.value.style.chart.labels.xAxisLabels.rotation<0?"end":"middle"},E(String(l)),9,zl))]))),256))],512)):b("",!0),e.value.style.chart.labels.axis.yLabel?(r(),u("text",{key:4,ref_key:"yAxisLabel",ref:oe,fill:e.value.style.chart.labels.axis.color,"font-size":e.value.style.chart.labels.axis.fontSize,transform:"translate(".concat(e.value.style.chart.labels.axis.fontSize,", ").concat(s.value.top+s.value.height/2,") rotate(-90)"),"text-anchor":"middle"},E(e.value.style.chart.labels.axis.yLabel),9,Il)):b("",!0),e.value.style.chart.labels.axis.xLabel?(r(),u("text",{key:5,ref_key:"xAxisLabel",ref:ae,fill:e.value.style.chart.labels.axis.color,"font-size":e.value.style.chart.labels.axis.fontSize,x:s.value.left+s.value.width/2,y:_.value-e.value.style.chart.labels.axis.fontSize/3,"text-anchor":"middle"},E(e.value.style.chart.labels.axis.xLabel),9,Bl)):b("",!0),f.value?(r(),u(C,{key:6},[k("line",{x1:s.value.left,x2:s.value.right,y1:f.value.y,y2:f.value.y,stroke:f.value.color,"stroke-width":1,class:R({"select-circle":e.value.useCssAnimation})},null,10,Ml),k("circle",{cx:s.value.left,cy:f.value.y,r:3,fill:f.value.color,class:R({"select-circle":e.value.useCssAnimation})},null,10,Gl),k("circle",{cx:s.value.right,cy:f.value.y,r:3,fill:f.value.color,class:R({"select-circle":e.value.useCssAnimation})},null,10,Nl)],64)):b("",!0),k("defs",null,[(r(!0),u(C,null,T(A.value,l=>(r(),u("radialGradient",{id:l.id,fy:"30%"},[k("stop",{offset:"10%","stop-color":c(ol)(l.color,e.value.style.chart.plots.gradient.intensity/100)},null,8,Wl),k("stop",{offset:"90%","stop-color":c(sl)(l.color,.1)},null,8,Vl),k("stop",{offset:"100%","stop-color":l.color},null,8,jl)],8,Rl))),256))]),(r(!0),u(C,null,T(Dt.value,(l,o)=>(r(),u(C,null,[(r(!0),u(C,null,T(l.plots,(i,y)=>(r(),S(kl,Ke({ref_for:!0},t.$attrs,{plot:{x:i.x,y:Te.value?i.y:s.value.top},radius:f.value&&f.value.id===i.id?he.value*1.5:he.value,shape:e.value.style.chart.plots.shape,stroke:e.value.style.chart.plots.stroke,strokeWidth:e.value.style.chart.plots.strokeWidth,color:e.value.style.chart.plots.gradient.show?"url(#".concat(l.id,")"):l.color,style:"transition: all 0.2s ease-in-out; opacity:".concat(f.value?f.value.id===i.id?1:.2:e.value.style.chart.plots.opacity,";").concat(M.value?"transition-delay:".concat(y*50,"ms"):""),class:{"vue-ui-strip-plot-animated":e.value.useCssAnimation&&M.value&&!c(re),"vue-ui-strip-plot-select-circle":e.value.useCssAnimation&&!M.value},onMouseenter:X=>Pt({datapoint:i,seriesIndex:y}),onMouseleave:X=>St({datapoint:i,seriesIndex:y}),onClick:X=>zt({datapoint:i,seriesIndex:y})}),null,16,["plot","radius","shape","stroke","strokeWidth","color","style","class","onMouseenter","onMouseleave","onClick"]))),256)),p.value.dataLabels.show?(r(),u("g",Ul,[(r(!0),u(C,null,T(l.plots,(i,y)=>(r(),u(C,null,[y===l.plots.length-1||f.value&&f.value.id===i.id&&!p.value.showTooltip?(r(),u("text",{key:0,x:i.x,y:i.y+e.value.style.chart.labels.bestPlotLabel.offsetY-he.value*(f.value&&f.value.id===i.id&&!p.value.showTooltip?2:1.5),"font-size":e.value.style.chart.labels.bestPlotLabel.fontSize,fill:e.value.style.chart.labels.bestPlotLabel.color,"text-anchor":"middle",style:K("opacity:".concat(e.value.useCssAnimation&&M.value?0:1,";transition:opacity 0.2s ease-in;"))},E(i.name)+" "+E(e.value.style.chart.labels.bestPlotLabel.showValue?c(Ce)(e.value.style.chart.labels.formatter,i.value,c(Q)({p:"(".concat(e.value.style.chart.labels.prefix),v:i.value,s:"".concat(e.value.style.chart.labels.suffix,")"),r:e.value.style.chart.labels.bestPlotLabel.rounding}),{datapoint:i,seriesIndex:y}):""),13,Hl)):b("",!0)],64))),256))])):b("",!0)],64))),256)),d(t.$slots,"svg",{svg:s.value},void 0,!0)],14,wl)),t.$slots.watermark?(r(),u("div",Yl,[d(t.$slots,"watermark",m(x({isPrinting:c(ze)||c(Pe)})),void 0,!0)])):b("",!0),t.$slots.source?(r(),u("div",{key:5,ref_key:"source",ref:_e,dir:"auto"},[d(t.$slots,"source",{},void 0,!0)],512)):b("",!0),me(c(bt),{show:p.value.showTooltip&&ee.value,backgroundColor:e.value.style.chart.tooltip.backgroundColor,color:e.value.style.chart.tooltip.color,borderRadius:e.value.style.chart.tooltip.borderRadius,borderColor:e.value.style.chart.tooltip.borderColor,borderWidth:e.value.style.chart.tooltip.borderWidth,fontSize:e.value.style.chart.tooltip.fontSize,backgroundOpacity:e.value.style.chart.tooltip.backgroundOpacity,position:e.value.style.chart.tooltip.position,offsetY:e.value.style.chart.tooltip.offsetY,parent:w.value,content:te.value,isFullscreen:D.value,isCustom:c(lt)(e.value.style.chart.tooltip.customFormat),smooth:e.value.style.chart.tooltip.smooth,backdropFilter:e.value.style.chart.tooltip.backdropFilter,smoothForce:e.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:e.value.style.chart.tooltip.smoothSnapThreshold},{"tooltip-before":v(()=>[d(t.$slots,"tooltip-before",m(x({...fe.value})),void 0,!0)]),"tooltip-after":v(()=>[d(t.$slots,"tooltip-after",m(x({...fe.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","borderRadius","borderColor","borderWidth","fontSize","backgroundOpacity","position","offsetY","parent","content","isFullscreen","isCustom","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),W.value&&e.value.userOptions.buttons.table?(r(),S(Yt(N.value.component),Ke({key:6},N.value.props,{ref_key:"tableUnit",ref:B,onClose:Ue}),qe({content:v(()=>[(r(),S(c(yt),{key:"table_".concat(Fe.value),colNames:Y.value.colNames,head:Y.value.head,body:Y.value.body,config:Y.value.config,title:e.value.table.useDialog?"":N.value.title,withCloseButton:!e.value.table.useDialog,onClose:Ue},{th:v(({th:l})=>[k("div",{innerHTML:l,style:{display:"flex","align-items":"center"}},null,8,Jl)]),td:v(({td:l})=>[Qe(E(l.name||l),1)]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))]),_:2},[e.value.table.useDialog?{name:"title",fn:v(()=>[Qe(E(N.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:v(()=>[k("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:a[0]||(a[0]=l=>ye(e.value.userOptions.callbacks.csv))},[me(c(pt),{name:"excel",stroke:N.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):b("",!0),c(re)?(r(),S(hl,{key:7})):b("",!0)],46,Al))}},ql=Xt(Xl,[["__scopeId","data-v-19aa5bb8"]]),ba=Object.freeze(Object.defineProperty({__proto__:null,default:ql},Symbol.toStringTag,{value:"Module"}));export{ha as a,ba as b,ql as v};
