
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Tooltip-68Yi_FFl-CRPaJsgv.js","./vue-data-ui-BN9YfUec.js","./index-DXZKKOp8.js","./index-B7kifsnL.css","./alert-l5XlVwCh.js","./vue-data-ui-D1HaM8UR.css","./vue-ui-accordion-UpZ765hd-DndPzmcD.js","./useNestedProp-dJX_8vvZ-BzBW50KN.js","./DataTable-BT7VF2ua-Cw2NNXsE.js","./Shape-CNXKB8O0-BJGuTKHC.js","./UserOptions-1OZ3jcm6-BbpzMig3.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./img-BecE5qXd-CsL1o-EN.js","./dom-to-png--BNgrTZV-DTUrW_sQ.js","./PenAndPaper-DSvu9dwa-B6YjX2xm.js","./ColorPicker-J5wOPCeB-sgb_Bfch.js","./PackageVersion-TgflyMpU-q2MkeeNq.js","./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"])))=>i.map(i=>d[i]);
import{J as c,e as n,a7 as Ft,K as X,au as Ye,E as Nt,av as Je,at as Rt,b_ as L,c as i,o as r,z as I,A as h,g as ge,u as v,c0 as qe,h as y,r as f,j as F,k as N,O as K,n as B,f as m,F as g,R as C,t as $,m as Xe,l as Ke,N as Et,c1 as T,a9 as Mt}from"./index-DXZKKOp8.js";import{s as Wt,Q as xe,A as Bt,v as Vt,m as P,g as Qe,p as ke,b as Ze,C as Gt,a as et,c as Ut,j as Ht,f as Q,y as jt,I as we,S as Yt,aq as Jt,o as qt,d as Xt,F as tt,R as Kt,e as Qt,r as Zt,h as el}from"./vue-data-ui-BN9YfUec.js";import{E as lt,M as tl}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{t as ll,o as at}from"./useNestedProp-dJX_8vvZ-BzBW50KN.js";import{S as al,T as ol}from"./BaseScanner-BgWxam9d-B19ueoDW.js";import{m as sl}from"./usePrinter-DTzqpYKF-D5mkxXp9.js";import{O as rl}from"./useSvgExport-DrjCWun4-CbW14PXm.js";import{a as ul}from"./useUserOptionState-BIvW1Kz7-D6llU1BK.js";import{o as il}from"./useChartAccessibility-9icAAmYg-BcUQIUvr.js";import{S as nl}from"./useTimeLabelCollider-CIsgDrl9-CjJy_OeC.js";import vl from"./img-BecE5qXd-CsL1o-EN.js";import{w as cl}from"./Shape-CNXKB8O0-BJGuTKHC.js";import hl from"./Title-BWp-37K_-BMUMQpSO.js";import{J as dl}from"./themes-AUNCOb2G-RAhReTPj.js";import"./alert-l5XlVwCh.js";import"./dom-to-png--BNgrTZV-DTUrW_sQ.js";const pl=["id"],bl=["xmlns","viewBox"],yl=["x","y","width","height"],fl={key:1},ml={key:0},gl=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],xl={key:1},kl=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],wl=["x1","x2","y1","y2","stroke","stroke-width"],Al=["x1","x2","y1","y2","stroke","stroke-width"],_l=["x","y","fill","font-size"],Ll=["transform","font-size","fill","text-anchor"],Cl=["transform","font-size","fill","text-anchor","innerHTML"],$l=["fill","font-size","transform"],Tl=["fill","font-size","x","y"],Sl=["x1","x2","y1","y2","stroke"],Ol=["cx","cy","fill"],Il=["cx","cy","fill"],Pl=["id"],zl=["stop-color"],Dl=["stop-color"],Fl=["stop-color"],Nl={key:0},Rl=["x","y","font-size","fill"],El={key:4,class:"vue-data-ui-watermark"},Ml=["innerHTML"],Wl={__name:"vue-ui-strip-plot",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},emits:["selectDatapoint"],setup(ot,{expose:st,emit:rt}){const ut=L(()=>T(()=>import("./Tooltip-68Yi_FFl-CRPaJsgv.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),it=L(()=>T(()=>import("./vue-data-ui-BN9YfUec.js").then(t=>t.aw),__vite__mapDeps([1,2,3,4,5]),import.meta.url)),nt=L(()=>T(()=>import("./vue-ui-accordion-UpZ765hd-DndPzmcD.js"),__vite__mapDeps([6,2,3,1,4,5,7]),import.meta.url)),vt=L(()=>T(()=>import("./DataTable-BT7VF2ua-Cw2NNXsE.js"),__vite__mapDeps([8,2,3,9,1,4,5]),import.meta.url)),ct=L(()=>T(()=>import("./UserOptions-1OZ3jcm6-BbpzMig3.js"),__vite__mapDeps([10,2,3,11,1,4,5,12,13]),import.meta.url)),ht=L(()=>T(()=>import("./PenAndPaper-DSvu9dwa-B6YjX2xm.js"),__vite__mapDeps([14,2,3,1,4,5,15,11]),import.meta.url)),dt=L(()=>T(()=>import("./PackageVersion-TgflyMpU-q2MkeeNq.js"),__vite__mapDeps([16,2,3]),import.meta.url)),pt=L(()=>T(()=>import("./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"),__vite__mapDeps([17,2,3,1,4,5]),import.meta.url)),{vue_ui_strip_plot:bt}=ll(),x=ot,yt=rt,V=c({get(){return!!x.dataset&&x.dataset.length},set(t){return t}}),Z=n(xe()),Ae=n(0),ee=n(!1),te=n(""),w=n(null),_e=n(null),Le=n(null),Ce=n(null),$e=n(!1),Te=n(0),Se=n(0),R=n(null),le=n(null),ae=n(null),oe=n(null),G=n(null),se=n(null),e=n(ce()),{loading:re,FINAL_DATASET:ue,manualLoading:ie}=al({...Ft(x),FINAL_CONFIG:e,prepareConfig:ce,skeletonDataset:[{name:"_",color:"#DBDBDB",plots:[{name:"_",value:1},{name:"_",value:2},{name:"_",value:3}]},{name:"_",color:"#C4C4C4",plots:[{name:"_",value:3},{name:"_",value:5},{name:"_",value:8}]},{name:"_",color:"#ADADAD",plots:[{name:"_",value:8},{name:"_",value:13},{name:"_",value:21}]},{name:"_",color:"#969696",plots:[{name:"_",value:21},{name:"_",value:34},{name:"_",value:55}]},{name:"_",color:"#808080",plots:[{name:"_",value:55},{name:"_",value:89},{name:"_",value:144}]}],skeletonConfig:Bt({defaultConfig:e.value,userConfig:{userOptions:{show:!1},table:{show:!1},style:{chart:{backgroundColor:"#99999930",padding:{top:24,left:24,right:24,bottom:24},grid:{stroke:"#6A6A6A",horizontalGrid:{stroke:"#6A6A6A"},verticalGrid:{stroke:"#6A6A6A"}},plots:{stroke:"#6A6A6A"},labels:{bestPlotLabel:{show:!1},axis:{xLabel:"",yLabel:""},xAxisLabels:{show:!1},yAxisLabels:{show:!1}}}}}})}),{userOptionsVisible:ne,setUserOptionsVisibility:Oe,keepUserOptionState:Ie}=ul({config:e.value}),{svgRef:ve}=il({config:e.value.style.chart.title});function ce(){const t=at({userConfig:x.config,defaultConfig:bt});return t.theme?{...at({userConfig:dl.vue_ui_strip_plot[t.theme]||x.config,defaultConfig:t}),customPalette:Vt[t.theme]||P}:t}X(()=>x.config,async t=>{re.value||(e.value=ce()),ne.value=!e.value.userOptions.showOnChartHover,Pe(),Te.value+=1,Se.value+=1,d.value.dataLabels.show=e.value.style.chart.labels.bestPlotLabel.show,d.value.showTable=e.value.table.show,d.value.showTooltip=e.value.style.chart.tooltip.show,D.value=e.value.style.chart.width,_.value=e.value.style.chart.height,M.value=e.value.style.chart.plots.radius},{deep:!0}),X(()=>x.dataset,t=>{Array.isArray(t)&&t.length>0&&(ie.value=!1)},{deep:!0});const A=Ye(null),z=Ye(null);Nt(()=>{Pe()});const he=c(()=>!!e.value.debug);function Pe(){if(Qe(x.dataset)?(ke({componentName:"VueUiStripPlot",type:"dataset",debug:he.value}),ie.value=!0):x.dataset.forEach((t,a)=>{Ze({datasetObject:t,requiredAttributes:["name","plots"]}).forEach(l=>{V.value=!1,ke({componentName:"VueUiStripPlot",type:"datasetSerieAttribute",property:l,index:a,debug:he.value})}),t.plots&&t.plots.forEach((l,o)=>{Ze({datasetObject:l,requiredAttributes:["name","value"]}).forEach(u=>{V.value=!1,ke({componentName:"VueUiStripPlot",type:"datasetSerieAttribute",property:u,index:"".concat(a,",").concat(o),debug:he.value})})})}),Qe(x.dataset)||(ie.value=e.value.loading),e.value.responsive){const t=lt(()=>{const{width:a,height:l}=tl({chart:w.value,title:e.value.style.chart.title.text?_e.value:null,source:Le.value,noTitle:Ce.value});requestAnimationFrame(()=>{mt.value=l,D.value=Math.max(.1,a),_.value=Math.max(.1,l-12),e.value.responsiveProportionalSizing?M.value=Kt({relator:Math.min(l,a),adjuster:600,source:e.value.style.chart.plots.radius,threshold:6,fallback:6}):M.value=e.value.style.chart.plots.radius})});A.value&&(z.value&&A.value.unobserve(z.value),A.value.disconnect()),A.value=new ResizeObserver(t),z.value=w.value.parentNode,A.value.observe(z.value)}$e.value=!0,setTimeout(()=>{E.value=!1},wt.value*50)}Je(()=>{A.value&&(z.value&&A.value.unobserve(z.value),A.value.disconnect())});const{isPrinting:ze,isImaging:De,generatePdf:Fe,generateImage:Ne}=sl({elementId:"strip-plot_".concat(Z.value),fileName:e.value.style.chart.title.text||"vue-ui-strip-plot",options:e.value.userOptions.print}),ft=c(()=>e.value.userOptions.show&&!e.value.style.chart.title.text),Re=c(()=>Gt(e.value.customPalette)),E=n(e.value.useCssAnimation),U=n({top:e.value.style.chart.padding.top,bottom:e.value.style.chart.padding.bottom,left:e.value.style.chart.padding.left,right:e.value.style.chart.padding.right}),D=n(e.value.style.chart.width),_=n(e.value.style.chart.height),mt=n(e.value.style.chart.height),M=n(e.value.style.chart.plots.radius),d=n({showTable:e.value.table.show,dataLabels:{show:e.value.style.chart.labels.bestPlotLabel.show},showTooltip:e.value.style.chart.tooltip.show});X(e,()=>{d.value={showTable:e.value.table.show,dataLabels:{show:e.value.style.chart.labels.bestPlotLabel.show},showTooltip:e.value.style.chart.tooltip.show},D.value=e.value.style.chart.width,_.value=e.value.style.chart.height,M.value=e.value.style.chart.plots.radius},{immediate:!0});const de=c(()=>Math.min(M.value,s.value.stripWidth/2*.9));function gt(){let t=0;se.value&&(t=Array.from(se.value.querySelectorAll("text")).reduce((l,o)=>{const u=o.getComputedTextLength();return u>l?u:l},0));const a=oe.value?oe.value.getBoundingClientRect().width:0;return t+a+(a?24:0)}const pe=n(0),xt=lt(t=>{pe.value=t},100);Rt(t=>{const a=G.value;if(!a)return;const l=new ResizeObserver(o=>{xt(o[0].contentRect.height)});l.observe(a),t(()=>l.disconnect())}),Je(()=>{pe.value=0});const kt=c(()=>{let t=0;ae.value&&(t=ae.value.getBBox().height+e.value.style.chart.labels.axis.fontSize/3+12+e.value.style.chart.labels.axis.xLabelOffsetY);let a=0;return G.value&&(a=pe.value+12),t+a}),s=c(()=>{const t=gt(),a=U.value.left+t+e.value.style.chart.labels.axis.yLabelOffsetX+5,l=D.value-U.value.right,o=Math.max(0,l-a),u=U.value.top+e.value.style.chart.plots.radius+e.value.style.chart.labels.bestPlotLabel.fontSize,b=_.value-U.value.bottom-kt.value,q=Math.max(0,b-u),je=Array.isArray(ue.value)?ue.value.length:0,Dt=je>0?o/je:0;return{left:a,right:l,top:u,bottom:b,width:o,height:q,stripWidth:Dt,absoluteHeight:_.value}}),H=c(()=>ue.value.map((t,a)=>{const l=xe();return{...t,id:l,color:t.color?et(t.color):Re.value[a]||P[a]||P[a%P.length],plots:t.plots.map((o,u)=>({...o,value:Ut(o.value),parentId:l,parentName:t.name,parentIndex:a,plotIndex:u,color:t.color?et(t.color):Re.value[a]||P[a]||P[a%P.length],id:xe()})).sort((o,u)=>o.value-u.value)}})),k=c(()=>(H.value||[]).map((t,a)=>({...t,plots:t.plots.map(l=>({...l,x:s.value.left+(a+1)*s.value.stripWidth-s.value.stripWidth/2}))}))),wt=c(()=>Math.max(...k.value.map(t=>t.plots.length))),be=c(()=>{const t=k.value.flatMap(a=>a.plots.map(l=>l.value));return{max:Math.max(...t),min:Math.min(...t)}}),S=c(()=>Ht(be.value.min<0?be.value.min:0,be.value.max,e.value.style.chart.grid.scaleSteps)),At=c(()=>(k.value||[]).map((t,a)=>({...t,plots:t.plots.map(l=>({...l,y:s.value.bottom-(l.value+Math.abs(S.value.min))/(S.value.max+Math.abs(S.value.min))*s.value.height}))}))),Ee=c(()=>S.value.ticks.map(t=>({y:s.value.bottom-s.value.height*((t+Math.abs(S.value.min))/(S.value.max+Math.abs(S.value.min))),x1:s.value.left,x2:s.value.right,value:t}))),ye=n(null),p=n(null);function _t({datapoint:t,seriesIndex:a}){ee.value=!1,p.value=null,e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:t,seriesIndex:a})}function Lt({datapoint:t,seriesIndex:a}){yt("selectDatapoint",t),e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:t,seriesIndex:a})}function Ct({datapoint:t,seriesIndex:a}){e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:t,seriesIndex:a}),ye.value={datapoint:t,seriesIndex:a,config:e.value,series:H.value},ee.value=!0,p.value=t;const l=e.value.style.chart.tooltip.customFormat;if(tt(l)&&el(()=>l({seriesIndex:a,datapoint:t,series:H.value,config:e.value})))te.value=l({seriesIndex:a,datapoint:t,series:H.value,config:e.value});else{let o="";o+='<div style="display:flex;flex-direction:row;gap:6px;align-items:center;"><svg viewBox="0 0 12 12" height="14" width="14"><circle cx="6" cy="6" r="6" stroke="none" fill="'.concat(e.value.style.chart.plots.gradient.show?"url(#".concat(t.parentId,")"):t.color,'"/></svg>').concat(t.name,"</div>"),o+="<div>".concat(we(e.value.style.chart.labels.formatter,t.value,Q({p:e.value.style.chart.labels.prefix,v:t.value,s:e.value.style.chart.labels.suffix,r:e.value.style.chart.tooltip.roundingValue}),{datapoint:t,seriesIndex:a}),"</div>"),te.value="<div>".concat(o,"</div>")}}const j=c(()=>{const t=k.value.flatMap(l=>JSON.parse(JSON.stringify(l.plots)).sort((o,u)=>u.value-o.value).map(o=>({name:"".concat(l.name," - ").concat(o.name),color:o.color}))),a=k.value.flatMap(l=>JSON.parse(JSON.stringify(l.plots)).sort((o,u)=>u.value-o.value).map(o=>o.value));return{head:t,body:a}});function fe(t=null){Mt(()=>{const a=j.value.head.map((u,b)=>[[u.name],[j.value.body[b]]]),l=[[e.value.style.chart.title.text],[e.value.style.chart.title.subtitle.text],[[e.value.table.columnNames.series],[e.value.table.columnNames.value]]].concat(a),o=Qt(l);t?t(o):Zt({csvContent:o,title:e.value.style.chart.title.text||"vue-ui-strip-plot"})})}const Y=c(()=>{const t=[e.value.table.columnNames.series,e.value.table.columnNames.value],a=j.value.head.map((o,u)=>{const b=Q({p:e.value.style.chart.labels.prefix,v:j.value.body[u],s:e.value.style.chart.labels.suffix,r:e.value.table.td.roundingValue});return[{color:o.color,name:o.name},b]}),l={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint};return{colNames:[e.value.table.columnNames.series,e.value.table.columnNames.value],head:t,body:a,config:l}}),O=n(!1);function Me(t){O.value=t,Ae.value+=1}function $t(){return k.value}function We(){d.value.showTable=!d.value.showTable}function Be(){d.value.dataLabels.show=!d.value.dataLabels.show}function Ve(){d.value.showTooltip=!d.value.showTooltip}const J=n(!1);function me(){J.value=!J.value}async function Tt({scale:t=2}={}){if(!w.value)return;const{width:a,height:l}=w.value.getBoundingClientRect(),o=a/l,{imageUri:u,base64:b}=await vl({domElement:w.value,base64:!0,img:!0,scale:t});return{imageUri:u,base64:b,title:e.value.style.chart.title.text,width:a,height:l,aspectRatio:o}}const Ge=c(()=>k.value.map(t=>t.name)),St=n({start:0,end:k.value.length});nl({timeLabelsEls:G,timeLabels:Ge,slicer:St,configRef:e,rotationPath:["style","chart","labels","xAxisLabels","rotation"],autoRotatePath:["style","chart","labels","xAxisLabels","autoRotate","enable"],isAutoSize:!1,width:D,height:_,targetClass:".vue-ui-strip-plot-category-name",rotation:e.value.style.chart.labels.xAxisLabels.autoRotate.angle});const W=c(()=>{const t=e.value.table.useDialog&&!e.value.table.show,a=d.value.showTable;return{component:t?pt:nt,title:"".concat(e.value.style.chart.title.text).concat(e.value.style.chart.title.subtitle.text?": ".concat(e.value.style.chart.title.subtitle.text):""),props:t?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:O.value,fullscreenParent:w.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:a,maxHeight:1e4,body:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color},head:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color}}}}});X(()=>d.value.showTable,t=>{e.value.table.show||(t&&e.value.table.useDialog&&R.value?R.value.open():"close"in R.value&&R.value.close())});function Ue(){d.value.showTable=!1,le.value&&le.value.setTableIconState(!1)}const Ot=c(()=>e.value.style.chart.backgroundColor),It=c(()=>e.value.style.chart.title),{exportSvg:Pt,getSvg:zt}=rl({svg:ve,title:It,backgroundColor:Ot});async function He({isCb:t}){if(t){const{blob:a,url:l,text:o,dataUrl:u}=await zt();e.value.userOptions.callbacks.svg({blob:a,url:l,text:o,dataUrl:u})}else Pt()}return st({getData:$t,getImage:Tt,generatePdf:Fe,generateCsv:fe,generateImage:Ne,generateSvg:He,toggleTable:We,toggleLabels:Be,toggleTooltip:Ve,toggleAnnotator:me,toggleFullscreen:Me}),(t,a)=>(r(),i("div",{ref_key:"stripPlotChart",ref:w,class:B("vue-data-ui-component vue-ui-strip-plot ".concat(O.value?"vue-data-ui-wrapper-fullscreen":""," ").concat(e.value.useCssAnimation?"":"vue-ui-dna")),style:K("font-family:".concat(e.value.style.fontFamily,";width:100%; text-align:center;background:").concat(e.value.style.chart.backgroundColor,";").concat(e.value.responsive?"height:100%":"")),id:"strip-plot_".concat(Z.value),onMouseenter:a[1]||(a[1]=()=>v(Oe)(!0)),onMouseleave:a[2]||(a[2]=()=>v(Oe)(!1))},[e.value.userOptions.buttons.annotator?(r(),I(v(ht),{key:0,svgRef:v(ve),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,active:J.value,onClose:me},null,8,["svgRef","backgroundColor","color","active"])):h("",!0),ft.value?(r(),i("div",{key:1,ref_key:"noTitle",ref:Ce,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%;background:transparent"},null,512)):h("",!0),e.value.style.chart.title.text?(r(),i("div",{key:2,ref_key:"chartTitle",ref:_e,style:"width:100%;background:transparent;padding-bottom:24px"},[(r(),I(hl,{key:"title_".concat(Te.value),config:{title:{cy:"donut-div-title",...e.value.style.chart.title},subtitle:{cy:"donut-div-subtitle",...e.value.style.chart.title.subtitle}}},null,8,["config"]))],512)):h("",!0),e.value.userOptions.show&&V.value&&(v(Ie)||v(ne))?(r(),I(v(ct),{ref_key:"userOptionsRef",ref:le,key:"user_option_".concat(Ae.value),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isPrinting:v(ze),isImaging:v(De),uid:Z.value,hasTooltip:e.value.userOptions.buttons.tooltip&&e.value.style.chart.tooltip.show,hasPdf:e.value.userOptions.buttons.pdf,hasXls:e.value.userOptions.buttons.csv,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasTable:e.value.userOptions.buttons.table,hasLabel:e.value.userOptions.buttons.labels,hasFullscreen:e.value.userOptions.buttons.fullscreen,isTooltip:d.value.showTooltip,isFullscreen:O.value,titles:{...e.value.userOptions.buttonTitles},chartElement:w.value,position:e.value.userOptions.position,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:J.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:Me,onGeneratePdf:v(Fe),onGenerateCsv:fe,onGenerateImage:v(Ne),onGenerateSvg:He,onToggleTable:We,onToggleLabels:Be,onToggleTooltip:Ve,onToggleAnnotator:me,style:K({visibility:v(Ie)?v(ne)?"visible":"hidden":"visible"})},qe({_:2},[t.$slots.menuIcon?{name:"menuIcon",fn:y(({isOpen:l,color:o})=>[f(t.$slots,"menuIcon",F(N({isOpen:l,color:o})),void 0,!0)]),key:"0"}:void 0,t.$slots.optionTooltip?{name:"optionTooltip",fn:y(()=>[f(t.$slots,"optionTooltip",{},void 0,!0)]),key:"1"}:void 0,t.$slots.optionPdf?{name:"optionPdf",fn:y(()=>[f(t.$slots,"optionPdf",{},void 0,!0)]),key:"2"}:void 0,t.$slots.optionCsv?{name:"optionCsv",fn:y(()=>[f(t.$slots,"optionCsv",{},void 0,!0)]),key:"3"}:void 0,t.$slots.optionImg?{name:"optionImg",fn:y(()=>[f(t.$slots,"optionImg",{},void 0,!0)]),key:"4"}:void 0,t.$slots.optionTable?{name:"optionTable",fn:y(()=>[f(t.$slots,"optionTable",{},void 0,!0)]),key:"5"}:void 0,t.$slots.optionLabels?{name:"optionLabels",fn:y(()=>[f(t.$slots,"optionLabels",{},void 0,!0)]),key:"6"}:void 0,t.$slots.optionFullscreen?{name:"optionFullscreen",fn:y(({toggleFullscreen:l,isFullscreen:o})=>[f(t.$slots,"optionFullscreen",F(N({toggleFullscreen:l,isFullscreen:o})),void 0,!0)]),key:"7"}:void 0,t.$slots.optionAnnotator?{name:"optionAnnotator",fn:y(({toggleAnnotator:l,isAnnotator:o})=>[f(t.$slots,"optionAnnotator",F(N({toggleAnnotator:l,isAnnotator:o})),void 0,!0)]),key:"8"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasTooltip","hasPdf","hasXls","hasImg","hasSvg","hasTable","hasLabel","hasFullscreen","isTooltip","isFullscreen","titles","chartElement","position","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):h("",!0),(r(),i("svg",{ref_key:"svgRef",ref:ve,xmlns:v(jt),class:B({"vue-data-ui-fullscreen--on":O.value,"vue-data-ui-fulscreen--off":!O.value}),viewBox:"0 0 ".concat(D.value," ").concat(_.value),style:K("max-width:100%; overflow: visible; background:transparent;color:".concat(e.value.style.chart.color,";"))},[ge(v(dt)),t.$slots["chart-background"]?(r(),i("foreignObject",{key:0,x:s.value.left,y:s.value.top,width:Math.max(.1,s.value.width),height:Math.max(.1,s.value.height),style:{pointerEvents:"none"}},[f(t.$slots,"chart-background",{},void 0,!0)],8,yl)):h("",!0),e.value.style.chart.grid.show?(r(),i("g",fl,[e.value.style.chart.grid.horizontalGrid.show?(r(),i("g",ml,[(r(!0),i(g,null,C(Ee.value,l=>(r(),i("line",{x1:l.x1,x2:l.x2,y1:l.y,y2:l.y,stroke:e.value.style.chart.grid.horizontalGrid.stroke,"stroke-width":e.value.style.chart.grid.horizontalGrid.strokeWidth,"stroke-dasharray":e.value.style.chart.grid.horizontalGrid.strokeDasharray,"stroke-linecap":"round"},null,8,gl))),256))])):h("",!0),e.value.style.chart.grid.verticalGrid.show?(r(),i("g",xl,[(r(!0),i(g,null,C(k.value,(l,o)=>(r(),i("line",{x1:s.value.left+(o+1)*s.value.stripWidth,x2:s.value.left+(o+1)*s.value.stripWidth,y1:s.value.top,y2:s.value.bottom,stroke:e.value.style.chart.grid.verticalGrid.stroke,"stroke-width":e.value.style.chart.grid.verticalGrid.strokeWidth,"stroke-dasharray":e.value.style.chart.grid.verticalGrid.strokeDasharray,"stroke-linecap":"round"},null,8,kl))),256))])):h("",!0),m("line",{x1:s.value.left,x2:s.value.left,y1:s.value.top,y2:s.value.bottom,stroke:e.value.style.chart.grid.stroke,"stroke-width":e.value.style.chart.grid.strokeWidth,"stroke-linecap":"round"},null,8,wl),m("line",{x1:s.value.left,x2:s.value.right,y1:s.value.bottom,y2:s.value.bottom,stroke:e.value.style.chart.grid.stroke,"stroke-width":e.value.style.chart.grid.strokeWidth,"stroke-linecap":"round"},null,8,Al)])):h("",!0),e.value.style.chart.labels.yAxisLabels.show?(r(),i("g",{key:2,ref_key:"scaleLabels",ref:se},[(r(!0),i(g,null,C(Ee.value,(l,o)=>(r(),i("text",{x:l.x1+e.value.style.chart.labels.yAxisLabels.offsetX-5,y:l.y+e.value.style.chart.labels.yAxisLabels.fontSize/3,fill:e.value.style.chart.labels.yAxisLabels.color,"font-size":e.value.style.chart.labels.yAxisLabels.fontSize,"text-anchor":"end"},$(v(we)(e.value.style.chart.labels.formatter,l.value,v(Q)({p:e.value.style.chart.labels.prefix,v:l.value,s:e.value.style.chart.labels.suffix,r:e.value.style.chart.labels.yAxisLabels.rounding}),{datapoint:l,seriesIndex:o})),9,_l))),256))],512)):h("",!0),e.value.style.chart.labels.xAxisLabels.show?(r(),i("g",{key:3,ref_key:"timeLabelsEls",ref:G},[(r(!0),i(g,null,C(Ge.value,(l,o)=>(r(),i("g",null,[String(l).includes("\n")?(r(),i("text",{key:1,class:"vue-ui-strip-plot-category-name",transform:"translate(".concat(s.value.left+(o+1)*s.value.stripWidth-s.value.stripWidth/2,", ").concat(s.value.bottom+e.value.style.chart.labels.xAxisLabels.fontSize*2+e.value.style.chart.labels.xAxisLabels.offsetY,"), rotate(").concat(e.value.style.chart.labels.xAxisLabels.rotation,")"),"font-size":e.value.style.chart.labels.xAxisLabels.fontSize,fill:e.value.style.chart.labels.xAxisLabels.color,"text-anchor":e.value.style.chart.labels.xAxisLabels.rotation>0?"start":e.value.style.chart.labels.xAxisLabels.rotation<0?"end":"middle",innerHTML:v(Yt)({content:v(Jt)(String(l)),fontSize:e.value.style.chart.labels.xAxisLabels.fontSize,fill:e.value.style.chart.labels.xAxisLabels.color,x:0,y:0})},null,8,Cl)):(r(),i("text",{key:0,class:"vue-ui-strip-plot-category-name",transform:"translate(".concat(s.value.left+(o+1)*s.value.stripWidth-s.value.stripWidth/2,", ").concat(s.value.bottom+e.value.style.chart.labels.xAxisLabels.fontSize*2+e.value.style.chart.labels.xAxisLabels.offsetY,"), rotate(").concat(e.value.style.chart.labels.xAxisLabels.rotation,")"),"font-size":e.value.style.chart.labels.xAxisLabels.fontSize,fill:e.value.style.chart.labels.xAxisLabels.color,"text-anchor":e.value.style.chart.labels.xAxisLabels.rotation>0?"start":e.value.style.chart.labels.xAxisLabels.rotation<0?"end":"middle"},$(String(l)),9,Ll))]))),256))],512)):h("",!0),e.value.style.chart.labels.axis.yLabel?(r(),i("text",{key:4,ref_key:"yAxisLabel",ref:oe,fill:e.value.style.chart.labels.axis.color,"font-size":e.value.style.chart.labels.axis.fontSize,transform:"translate(".concat(e.value.style.chart.labels.axis.fontSize,", ").concat(s.value.top+s.value.height/2,") rotate(-90)"),"text-anchor":"middle"},$(e.value.style.chart.labels.axis.yLabel),9,$l)):h("",!0),e.value.style.chart.labels.axis.xLabel?(r(),i("text",{key:5,ref_key:"xAxisLabel",ref:ae,fill:e.value.style.chart.labels.axis.color,"font-size":e.value.style.chart.labels.axis.fontSize,x:s.value.left+s.value.width/2,y:_.value-e.value.style.chart.labels.axis.fontSize/3,"text-anchor":"middle"},$(e.value.style.chart.labels.axis.xLabel),9,Tl)):h("",!0),p.value?(r(),i(g,{key:6},[m("line",{x1:s.value.left,x2:s.value.right,y1:p.value.y,y2:p.value.y,stroke:p.value.color,"stroke-width":1,class:B({"select-circle":e.value.useCssAnimation})},null,10,Sl),m("circle",{cx:s.value.left,cy:p.value.y,r:3,fill:p.value.color,class:B({"select-circle":e.value.useCssAnimation})},null,10,Ol),m("circle",{cx:s.value.right,cy:p.value.y,r:3,fill:p.value.color,class:B({"select-circle":e.value.useCssAnimation})},null,10,Il)],64)):h("",!0),m("defs",null,[(r(!0),i(g,null,C(k.value,l=>(r(),i("radialGradient",{id:l.id,fy:"30%"},[m("stop",{offset:"10%","stop-color":v(qt)(l.color,e.value.style.chart.plots.gradient.intensity/100)},null,8,zl),m("stop",{offset:"90%","stop-color":v(Xt)(l.color,.1)},null,8,Dl),m("stop",{offset:"100%","stop-color":l.color},null,8,Fl)],8,Pl))),256))]),(r(!0),i(g,null,C(At.value,(l,o)=>(r(),i(g,null,[(r(!0),i(g,null,C(l.plots,(u,b)=>(r(),I(cl,Xe({ref_for:!0},t.$attrs,{plot:{x:u.x,y:$e.value?u.y:s.value.top},radius:p.value&&p.value.id===u.id?de.value*1.5:de.value,shape:e.value.style.chart.plots.shape,stroke:e.value.style.chart.plots.stroke,strokeWidth:e.value.style.chart.plots.strokeWidth,color:e.value.style.chart.plots.gradient.show?"url(#".concat(l.id,")"):l.color,style:"transition: all 0.2s ease-in-out; opacity:".concat(p.value?p.value.id===u.id?1:.2:e.value.style.chart.plots.opacity,";").concat(E.value?"transition-delay:".concat(b*50,"ms"):""),class:{"vue-ui-strip-plot-animated":e.value.useCssAnimation&&E.value&&!v(re),"vue-ui-strip-plot-select-circle":e.value.useCssAnimation&&!E.value},onMouseenter:q=>Ct({datapoint:u,seriesIndex:b}),onMouseleave:q=>_t({datapoint:u,seriesIndex:b}),onClick:q=>Lt({datapoint:u,seriesIndex:b})}),null,16,["plot","radius","shape","stroke","strokeWidth","color","style","class","onMouseenter","onMouseleave","onClick"]))),256)),d.value.dataLabels.show?(r(),i("g",Nl,[(r(!0),i(g,null,C(l.plots,(u,b)=>(r(),i(g,null,[b===l.plots.length-1||p.value&&p.value.id===u.id&&!d.value.showTooltip?(r(),i("text",{key:0,x:u.x,y:u.y+e.value.style.chart.labels.bestPlotLabel.offsetY-de.value*(p.value&&p.value.id===u.id&&!d.value.showTooltip?2:1.5),"font-size":e.value.style.chart.labels.bestPlotLabel.fontSize,fill:e.value.style.chart.labels.bestPlotLabel.color,"text-anchor":"middle",style:K("opacity:".concat(e.value.useCssAnimation&&E.value?0:1,";transition:opacity 0.2s ease-in;"))},$(u.name)+" "+$(e.value.style.chart.labels.bestPlotLabel.showValue?v(we)(e.value.style.chart.labels.formatter,u.value,v(Q)({p:"(".concat(e.value.style.chart.labels.prefix),v:u.value,s:"".concat(e.value.style.chart.labels.suffix,")"),r:e.value.style.chart.labels.bestPlotLabel.rounding}),{datapoint:u,seriesIndex:b}):""),13,Rl)):h("",!0)],64))),256))])):h("",!0)],64))),256)),f(t.$slots,"svg",{svg:s.value},void 0,!0)],14,bl)),t.$slots.watermark?(r(),i("div",El,[f(t.$slots,"watermark",F(N({isPrinting:v(ze)||v(De)})),void 0,!0)])):h("",!0),t.$slots.source?(r(),i("div",{key:5,ref_key:"source",ref:Le,dir:"auto"},[f(t.$slots,"source",{},void 0,!0)],512)):h("",!0),ge(v(ut),{show:d.value.showTooltip&&ee.value,backgroundColor:e.value.style.chart.tooltip.backgroundColor,color:e.value.style.chart.tooltip.color,borderRadius:e.value.style.chart.tooltip.borderRadius,borderColor:e.value.style.chart.tooltip.borderColor,borderWidth:e.value.style.chart.tooltip.borderWidth,fontSize:e.value.style.chart.tooltip.fontSize,backgroundOpacity:e.value.style.chart.tooltip.backgroundOpacity,position:e.value.style.chart.tooltip.position,offsetY:e.value.style.chart.tooltip.offsetY,parent:w.value,content:te.value,isFullscreen:O.value,isCustom:v(tt)(e.value.style.chart.tooltip.customFormat),smooth:e.value.style.chart.tooltip.smooth,backdropFilter:e.value.style.chart.tooltip.backdropFilter,smoothForce:e.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:e.value.style.chart.tooltip.smoothSnapThreshold},{"tooltip-before":y(()=>[f(t.$slots,"tooltip-before",F(N({...ye.value})),void 0,!0)]),"tooltip-after":y(()=>[f(t.$slots,"tooltip-after",F(N({...ye.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","borderRadius","borderColor","borderWidth","fontSize","backgroundOpacity","position","offsetY","parent","content","isFullscreen","isCustom","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),V.value&&e.value.userOptions.buttons.table?(r(),I(Et(W.value.component),Xe({key:6},W.value.props,{ref_key:"tableUnit",ref:R,onClose:Ue}),qe({content:y(()=>[(r(),I(v(vt),{key:"table_".concat(Se.value),colNames:Y.value.colNames,head:Y.value.head,body:Y.value.body,config:Y.value.config,title:e.value.table.useDialog?"":W.value.title,withCloseButton:!e.value.table.useDialog,onClose:Ue},{th:y(({th:l})=>[m("div",{innerHTML:l,style:{display:"flex","align-items":"center"}},null,8,Ml)]),td:y(({td:l})=>[Ke($(l.name||l),1)]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))]),_:2},[e.value.table.useDialog?{name:"title",fn:y(()=>[Ke($(W.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:y(()=>[m("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:a[0]||(a[0]=l=>fe(e.value.userOptions.callbacks.csv))},[ge(v(it),{name:"excel",stroke:W.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):h("",!0),v(re)?(r(),I(ol,{key:7})):h("",!0)],46,pl))}},aa=Wt(Wl,[["__scopeId","data-v-20847046"]]);export{aa as default};
