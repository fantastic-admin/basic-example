
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{s as X,a9 as W,A as Y,o as $,r as J,f as K,d as q,e as Z,q as Q,a as tt,K as et,u as ot,O as P,m as st}from"./vue-data-ui-BN9YfUec.js";import{t as at}from"./useNestedProp-dJX_8vvZ-BzBW50KN.js";import nt from"./vue-ui-xy-DXMbNkHe-D4Z92zkq.js";import rt from"./vue-ui-donut-DCMaXKHe-CpEIV4RN.js";import{L as M,c,o as l,A as b,f as i,O as p,t as u,w as L,aj as S,X as A,Y as x,g as B,F as C,R as O,n as I,l as w,c6 as E,z as H,e as it,J as lt,c4 as ct}from"./index-DXZKKOp8.js";import"./alert-l5XlVwCh.js";import"./useResponsive-DfdjqQps-DzVAt69W.js";import"./usePrinter-DTzqpYKF-D5mkxXp9.js";import"./BaseScanner-BgWxam9d-B19ueoDW.js";import"./useTimeLabels-BGFjWgrv-C_AB8TRS.js";import"./useSvgExport-DrjCWun4-CbW14PXm.js";import"./useTimeLabelCollider-CIsgDrl9-CjJy_OeC.js";import"./img-BecE5qXd-CsL1o-EN.js";import"./dom-to-png--BNgrTZV-DTUrW_sQ.js";import"./Title-BWp-37K_-BMUMQpSO.js";import"./themes-AUNCOb2G-RAhReTPj.js";import"./Shape-CNXKB8O0-BJGuTKHC.js";import"./SlicerPreview-ij72TAs6-Cxp5eJgP.js";import"./vue-ui-accordion-UpZ765hd-DndPzmcD.js";import"./useUserOptionState-BIvW1Kz7-D6llU1BK.js";import"./useChartAccessibility-9icAAmYg-BcUQIUvr.js";import"./Legend-G6GMcdAc-7HaGLNN7.js";const G={name:"vue-ui-table",props:{config:{type:Object,default(){return{}}},dataset:{type:Object,default(){return{}}}},components:{VueUiXy:nt,VueUiDonut:rt,BaseIcon:ot},emits:["page-change"],data(){return{uid:"vue-ui-table-".concat(Math.random()),bodyCopy:JSON.parse(JSON.stringify(this.dataset.body)).map((o,s)=>({...o,absoluteIndex:s})),buttonTimeout:null,canMoveChart:!1,chart:{height:316,type:"bar",width:512},constants:{ASC:1,BAR:"bar",DATE:"date",DESC:-1,DONUT:"donut",LINE:"line",NUMERIC:"numeric",PERCENTAGE:"percentage",TEXT:"text"},clientX:100,clientY:100,dragOffsetX:0,dragOffsetY:0,modalWidth:400,modalHeight:200,cssClass:{CELL:"smart-td-selected",FIRST_TD:"smart-td-selected-first",LAST_TD:"smart-td-selected-last",ROW:"smart-td-selected-neighbor"},currentDonut:void 0,currentFilter:void 0,currentSearch:void 0,currentSelectionSpan:{col:void 0,rows:[]},currentPage:0,dates:{},filteredDatesIndexes:{},hasNaN:{},iconColor:"#2D353C",iconSize:20,immutableRangeFilters:{},isExportRequest:!1,isLoading:!1,itemsPerPage:this.config.rowsPerPage?this.config.rowsPerPage:25,multiselects:{},paginatorOptions:[...new Set([10,25,50,100,250,500,this.config.rowsPerPage?this.config.rowsPerPage:25,this.dataset.body.length])].sort((o,s)=>o-s),palette:st,percentages:{},rafId:null,rangeFilters:{},searches:{},selectedColumn:void 0,selectedDonutCategory:void 0,selectedPlot:void 0,showChart:!1,showDonutOptions:!1,sorts:{},chartStep:0,chartTimeLabelSourceModel:"",tableBody:JSON.parse(JSON.stringify(this.dataset.body)).map((o,s)=>({...o,absoluteIndex:s})),tableHead:JSON.parse(JSON.stringify(this.dataset.header)).map((o,s)=>({average:Object.hasOwn(o,"average")?o.average:!1,decimals:Object.hasOwn(o,"decimals")?o.decimals:0,isMultiselect:Object.hasOwn(o,"isMultiselect")?o.isMultiselect:!1,isPercentage:Object.hasOwn(o,"isPercentage")?o.isPercentage:!1,isSearch:Object.hasOwn(o,"isSearch")?o.isSearch:!1,isSort:Object.hasOwn(o,"isSort")?o.isSort:!1,name:o.name,percentageTo:Object.hasOwn(o,"percentageTo")?o.percentageTo:void 0,prefix:Object.hasOwn(o,"prefix")?o.prefix:"",rangeFilter:Object.hasOwn(o,"rangeFilter")?o.rangeFilter:!1,suffix:Object.hasOwn(o,"suffix")?o.suffix:"",sum:Object.hasOwn(o,"sum")?o.sum:!1,type:o.type,index:s})),filename:""}},setup(){const o=it(null),s=lt(()=>o.value?o.value.getBoundingClientRect().height+3:3);return{tableCaption:o,exportButtonTop:s}},mounted(){var o,s;if(this.dataset.header.length===0)throw new Error("vue-ui-table error: missing header data.\nProvide an array of objects of type:\n{\n name: string;\n type: string; ('text' | 'numeric' | 'date')\n average: boolean;\n decimals: number | undefined;\n sum: boolean;\n isSort:boolean;\n isSearch: boolean;\n isMultiselect: boolean;\n isPercentage: boolean;\n percentageTo: string; (or '')\n}");if(this.dataset.body.length===0)throw new Error("vue-ui-table error: missing body data");this.isLoading=!0,this.promiseWithAsyncFunction(this.prepareBodyCopy,()=>{this.$forceUpdate(),this.isLoading=!1}),document.addEventListener("keydown",a=>{const d=document.activeElement;(d&&Array.from(d.classList).includes("td-focusable")&&a.key.includes("Arrow")||a.code==="Space")&&a.preventDefault()}),this.filename=this.FINAL_CONFIG.style.exportMenu.filename,this.chartTimeLabelSourceModel=(s=(o=this.dateHeaders[0])==null?void 0:o.name)!=null?s:""},watch:{isExportRequest:function(o){if(o){const s=this.$refs.filenameInputRef;s&&s.focus()}},showChart:function(o){o&&this.$nextTick(()=>{this.closeDragElement()})},dataset:{handler(o){this.isLoading=!0,this.bodyCopy=JSON.parse(JSON.stringify(o.body)).map((s,a)=>({...s,absoluteIndex:a})),this.tableBody=JSON.parse(JSON.stringify(o.body)).map((s,a)=>({...s,absoluteIndex:a})),this.tableHead=JSON.parse(JSON.stringify(o.header)).map((s,a)=>({average:Object.hasOwn(s,"average")?s.average:!1,decimals:Object.hasOwn(s,"decimals")?s.decimals:0,isMultiselect:Object.hasOwn(s,"isMultiselect")?s.isMultiselect:!1,isPercentage:Object.hasOwn(s,"isPercentage")?s.isPercentage:!1,isSearch:Object.hasOwn(s,"isSearch")?s.isSearch:!1,isSort:Object.hasOwn(s,"isSort")?s.isSort:!1,name:s.name,percentageTo:Object.hasOwn(s,"percentageTo")?s.percentageTo:void 0,prefix:Object.hasOwn(s,"prefix")?s.prefix:"",rangeFilter:Object.hasOwn(s,"rangeFilter")?s.rangeFilter:!1,suffix:Object.hasOwn(s,"suffix")?s.suffix:"",sum:Object.hasOwn(s,"sum")?s.sum:!1,type:s.type,index:a})),this.currentSelectionSpan={col:void 0,rows:[]},this.selectedColumn=void 0,this.itemsPerPage=this.config.rowsPerPage?this.config.rowsPerPage:25,this.percentages={},this.dates={},this.filteredDatesIndexes={},this.hasNaN={},this.immutableRangeFilters={},this.rangeFilters={},this.multiselects={},this.searches={},this.sorts={},this.showChart=!1,this.currentDonut=void 0,this.selectedDonutCategory=void 0,this.selectedPlot=void 0,this.showDonutOptions=!1,this.currentSelectionSpan.col=void 0,this.currentSelectionSpan.rows=[],this.promiseWithAsyncFunction(this.prepareBodyCopy,()=>{this.$forceUpdate(),this.updateCurrentPage(),this.isLoading=!1})},deep:!0,immediate:!1}},computed:{colorCancelInactive(){return this.FINAL_CONFIG.style.th.buttons.cancel.inactive.backgroundColor},textColorCancelInactive(){return this.FINAL_CONFIG.style.th.buttons.cancel.inactive.color},colorCancelActive(){return this.FINAL_CONFIG.style.th.buttons.cancel.active.backgroundColor},colorCancelActiveLight(){return $(this.colorCancelActive,.33)},colorCancelActiveOutline(){return P(this.colorCancelActive,33)},colorButtonSortActive(){return this.FINAL_CONFIG.style.th.buttons.filter.active.backgroundColor},colorButtonSortActiveLight(){return $(this.colorButtonSortActive,.33)},colorButtonSortActiveOutline(){return P(this.colorButtonSortActive,33)},colorButtonSortInactive(){return this.FINAL_CONFIG.style.th.buttons.filter.inactive.backgroundColor},colorButtonSortActiveColorText(){return this.FINAL_CONFIG.style.th.buttons.filter.active.color},dateHeaders(){return[...this.tableHead].filter(o=>o.type===this.constants.DATE)},chartTimeLabelOptions(){return["",...this.dateHeaders.map(o=>o.name)]},chartTimeLabelSourceIndex(){const o=this.dateHeaders.find(s=>s.name===this.chartTimeLabelSourceModel);return o?o.index:null},chartTimeLabels(){return this.chartTimeLabelSourceIndex==null?[]:this.visibleRows.map(o=>o.td[this.chartTimeLabelSourceIndex])},availableDonutCategories(){return Object.keys(this.multiselects).map(o=>({index:o,name:this.dataset.header[o].name,options:this.multiselects[o]}))},canChart(){return this.FINAL_CONFIG.useChart&&this.currentSelectionSpan.rows.length>1},chartData(){if(!this.canChart)return[];const o=316,s=512,a=this.currentSelectionSpan.rows.length,d=s/a,e=Math.max(...this.currentSelectionSpan.rows.map(f=>f.value)),t=Math.min(...this.currentSelectionSpan.rows.map(f=>f.value)),g=this.dataset.header[this.currentSelectionSpan.col].isPercentage&&this.dataset.header[this.currentSelectionSpan.col].percentageTo,y=this.chart.type===this.constants.DONUT&&this.selectedDonutCategory&&this.selectedDonutCategory.name,k=this.dataset.header[this.currentSelectionSpan.col].name+(g?" / ".concat(this.dataset.header[this.percentages[this.currentSelectionSpan.col].referenceIndex].name):"")+(y?" ".concat(this.FINAL_CONFIG.translations.by," ").concat(this.selectedDonutCategory.name):""),r=this.dataset.header[this.currentSelectionSpan.col].prefix,n=this.dataset.header[this.currentSelectionSpan.col].suffix,h=[{name:k,series:this.currentSelectionSpan.rows.map(f=>f.value),type:"line",useProgression:!0,smooth:this.FINAL_CONFIG.style.chart.layout.line.smooth,color:this.FINAL_CONFIG.style.chart.layout.line.stroke,useArea:this.FINAL_CONFIG.style.chart.layout.line.useArea}],m=[{name:k,series:this.currentSelectionSpan.rows.map(f=>f.value),type:"bar",useProgression:!0,color:this.FINAL_CONFIG.style.chart.layout.bar.fill}],v=this.FINAL_CONFIG.style.chart.modal.backgroundColor,N=this.adaptColorToBackground(v),F=this.dataset.header[this.currentSelectionSpan.col].decimals,j={chart:{backgroundColor:v,color:N,labels:{fontSize:18,prefix:r,suffix:n},grid:{stroke:$(N,.5),labels:{color:N,xAxisLabels:{color:N,show:this.chartTimeLabels.length,values:this.chartTimeLabels,datetimeFormatter:this.FINAL_CONFIG.style.chart.layout.datetimeFormatter,showOnlyAtModulo:this.FINAL_CONFIG.style.chart.layout.timeLabels.showOnlyAtModulo,modulo:this.FINAL_CONFIG.style.chart.layout.timeLabels.modulo}}},highlighter:{color:N},legend:{color:N},title:{text:k,color:N,fontSize:18},tooltip:{showTimeLabel:this.chartTimeLabels.length,backgroundOpacity:30,color:N,backgroundColor:v,showPercentage:!1,roundingValue:F},userOptions:{position:"left",buttons:{pdf:!1,csv:!1,table:!1,annotator:!1}},zoom:{show:this.FINAL_CONFIG.style.chart.layout.zoom.show,focusOnDrag:!0,minimap:{show:!0}}},line:{labels:{show:!0,color:N,rounding:F},dot:{useSerieColor:!1,fill:this.FINAL_CONFIG.style.chart.layout.line.plot.fill,strokeWidth:this.FINAL_CONFIG.style.chart.layout.line.plot.strokeWidth}},bar:{useGradient:!1,border:{useSerieColor:!1,stroke:this.FINAL_CONFIG.style.chart.layout.bar.stroke,strokeWidth:this.FINAL_CONFIG.style.chart.layout.bar.strokeWidth},labels:{show:!0,color:N,rounding:F}}},D=t>=0?0:Math.abs(t),U=e+D,_=this.dataset.header[this.currentSelectionSpan.col].isPercentage,T=this.currentSelectionSpan.rows.map((f,V)=>({x:d*V+d/2,y:(1-(f.value+D)/U)*o,value:_?f.value*100:f.value,suffix:_?"%":this.dataset.header[this.currentSelectionSpan.col].suffix?this.dataset.header[this.currentSelectionSpan.col].suffix:"",prefix:this.dataset.header[this.currentSelectionSpan.col].prefix?this.dataset.header[this.currentSelectionSpan.col].prefix:"",index:f.index,absoluteValue:_?Math.abs(f.value)*100:Math.abs(f.value)}));return{donutConfig:{userOptions:{position:"left",buttons:{pdf:!1,csv:!1,table:!1,annotator:!1}},style:{chart:{backgroundColor:v,color:N,layout:{curvedMarkers:!0,donut:{strokeWidth:64},labels:{dataLabels:{suffix:_?"%":"",prefix:r},value:{rounding:F},percentage:{color:N,rounding:F},name:{color:N},hollow:{average:{color:N,text:this.FINAL_CONFIG.translations.average,value:{color:N}},total:{color:N,offsetY:-12,text:this.FINAL_CONFIG.translations.total,value:{color:N,offsetY:-12}}}}},legend:{backgroundColor:v,color:N,roundingValue:F,roundingPercentage:F},padding:{left:12,right:12},title:{text:k,color:N,fontSize:18},tooltip:{backgroundOpacity:30,color:N,backgroundColor:v,roundingValue:F,roundingValue:F}}}},xyConfig:j,xyDatasetLine:h,xyDatasetBar:m,progression:T.length>=2?this.calcLinearProgression(T):!1}},hasNumericTypes(){return this.dataset.header.map(o=>o.type).includes(this.constants.NUMERIC)},icons(){return{arrowSort:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize,'" height="').concat(this.iconSize,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 9l4 -4l4 4m-4 -4v14" /><path d="M21 15l-4 4l-4 -4m4 4v-14" /></svg>'),bar:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize,'" height="').concat(this.iconSize,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 12m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" /><path d="M9 8m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" /><path d="M15 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" /><path d="M4 20l14 0" /></svg>'),chart:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize,'" height="').concat(this.iconSize,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 19l16 0" /><path d="M4 15l4 -6l4 2l4 -5l4 4" /></svg>'),chevronDown:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize,'" height="').concat(this.iconSize,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 9l6 6l6 -6" /></svg>'),chevronLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize*1.6,'" height="').concat(this.iconSize*1.6,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 6l-6 6l6 6" /></svg>'),chevronRight:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize*1.6,'" height="').concat(this.iconSize*1.6,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 6l6 6l-6 6" /></svg>'),donut:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize*.8,'" height="').concat(this.iconSize*.8,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3v5m4 4h5" /><path d="M8.929 14.582l-3.429 2.918" /><path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" /></svg>'),export:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize,'" height="').concat(this.iconSize,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5" /><path d="M3 10h18" /><path d="M10 3v18" /><path d="M16 19h6" /><path d="M19 16l3 3l-3 3" /></svg>'),fileDownload:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize,'" height="').concat(this.iconSize,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /><path d="M12 17v-6" /><path d="M9.5 14.5l2.5 2.5l2.5 -2.5" /></svg>'),filter:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize,'" height="').concat(this.iconSize,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z" /></svg>'),move:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize,'" height="').concat(this.iconSize,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 9l3 3l-3 3" /><path d="M15 12h6" /><path d="M6 9l-3 3l3 3" /><path d="M3 12h6" /><path d="M9 18l3 3l3 -3" /><path d="M12 15v6" /><path d="M15 6l-3 -3l-3 3" /><path d="M12 3v6" /></svg>'),sort09:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize,'" height="').concat(this.iconSize,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 15l3 3l3 -3" /><path d="M7 6v12" /><path d="M17 3a2 2 0 0 1 2 2v3a2 2 0 1 1 -4 0v-3a2 2 0 0 1 2 -2z" /><path d="M17 16m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M19 16v3a2 2 0 0 1 -2 2h-1.5" /></svg>'),sort90:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize,'" height="').concat(this.iconSize,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 15l3 3l3 -3" /><path d="M7 6v12" /><path d="M17 14a2 2 0 0 1 2 2v3a2 2 0 1 1 -4 0v-3a2 2 0 0 1 2 -2z" /><path d="M17 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M19 5v3a2 2 0 0 1 -2 2h-1.5" /></svg>'),sortAZ:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize,'" height="').concat(this.iconSize,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10v-5c0 -1.38 .62 -2 2 -2s2 .62 2 2v5m0 -3h-4" /><path d="M19 21h-4l4 -7h-4" /><path d="M4 15l3 3l3 -3" /><path d="M7 6v12" /></svg>'),sortZA:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize,'" height="').concat(this.iconSize,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 21v-5c0 -1.38 .62 -2 2 -2s2 .62 2 2v5m0 -3h-4" /><path d="M19 10h-4l4 -7h-4" /><path d="M4 15l3 3l3 -3" /><path d="M7 6v12" /></svg>'),sum:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize,'" height="').concat(this.iconSize,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>'),table:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize,'" height="').concat(this.iconSize,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" fill="white" d="M 10 2, 21 2, 21 21, 10 21Z"/><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z" /><path d="M3 10h18" /><path d="M10 3v18" /></svg>'),warning:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize*.8,'" height="').concat(this.iconSize*.8,'" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z" /><path d="M12 9v4" /><path d="M12 17h.01" /></svg>'),grip:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.iconSize,'" height="').concat(this.iconSize,'" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M5 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M5 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M12 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M12 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M19 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M19 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /></svg>')}},pages(){const o=[];if(this.bodyCopy.length)for(let s=0;s<this.bodyCopy.length;s+=this.itemsPerPage)o.push(this.bodyCopy.slice(s,s+this.itemsPerPage));return o},rows(){return this.bodyCopy.map(o=>o.td)},selectedCellsCalculations(){return{sumPercentage:Number((this.currentSelectionSpan.rows.map(o=>o.value).reduce((o,s)=>o+s,0)*100).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString(),sumRegular:Number(this.currentSelectionSpan.rows.map(o=>o.value).reduce((o,s)=>o+s,0).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString(),averagePercentage:Number((this.currentSelectionSpan.rows.map(o=>o.value).reduce((o,s)=>o+s,0)/this.currentSelectionSpan.rows.length*100).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString(),averageRegular:Number((this.currentSelectionSpan.rows.map(o=>o.value).reduce((o,s)=>o+s,0)/this.currentSelectionSpan.rows.length).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString()}},FINAL_CONFIG(){const{vue_ui_table:o}=at();if(!Object.keys(this.config||{}).length)return o;const s=this.treeShake({defaultConfig:o,userConfig:this.config});return this.convertConfigColors(s)},visibleRows(){return this.pages[this.currentPage]}},methods:{adaptColorToBackground:et,convertColorToHex:tt,convertConfigColors:Q,createCsvContent:Z,darkenHexColor:q,dataLabel:K,downloadCsv:J,lightenHexColor:$,treeShake:Y,applyDonutOption(){const o=this.selectedDonutCategory.options.map((s,a)=>({name:s,color:this.palette[a]||this.palette[a%this.palette.length],values:[this.visibleRows.filter((d,e)=>d.td[this.selectedDonutCategory.index]===s&&this.currentSelectionSpan.rows.map(t=>t.index).includes(e)).map(d=>d.td[this.currentSelectionSpan.col]).reduce((d,e)=>Math.abs(d)+Math.abs(e),0)],absoluteValue:this.visibleRows.filter((d,e)=>d.td[this.selectedDonutCategory.index]===s&&this.currentSelectionSpan.rows.map(t=>t.index).includes(e)).map(d=>d.td[this.currentSelectionSpan.col]).reduce((d,e)=>d+e,0)})).sort((s,a)=>a.value-s.value);this.currentDonut=o,this.$nextTick(()=>{this.chart.type=this.constants.DONUT,this.showDonutOptions=!1})},calcRectY(o,s){return o>=0?s:this.chartData.zero},canResetColumn(o,s){return!this.hasNaN[o]&&(s.isSort||s.isSearch||s.isMultiselect||s.rangeFilter)&&![this.constants.DATE].includes(s.type)},createXls(o="all"){const s=this.dataset.header.map(t=>t.name),a=o==="all"?this.bodyCopy.map(t=>t.td):this.visibleRows.map(t=>t.td),d=[s].concat(a),e=this.createCsvContent(d);this.downloadCsv({csvContent:e,title:this.filename})},calcLinearProgression:W,closeAllDropdowns(){const o=document.getElementsByClassName("th-dropdown");o.length&&Array.from(o).forEach(s=>{s.dataset.isOpen=!1})},debounce(o,s){let a;clearTimeout(a),a=setTimeout(o,s)},filterBody(){this.bodyCopy=this.tableBody.filter(o=>{for(const s in this.searches)if(!o.td[s].toUpperCase().includes(this.searches[s].toUpperCase()))return!1;for(const s in this.multiselects)if(!this.multiselects[s].some(a=>a===o.td[s]))return!1;for(const s in this.dates){const a=new Date(o.td[s]),d=new Date(this.dates[s].from),e=new Date(this.dates[s].to);if(a<d||a>e)return!1}return!0}),this.sortBody()},getAverage(o){return this.rows.map(s=>s[o]).map(s=>isNaN(Number(s))?0:s).reduce((s,a)=>s+a,0)/this.bodyCopy.length},getDatesRange(o){const s=this.dataset.body.map(m=>new Date(m.td[o])),a=new Date(Math.min(...s)),d=new Date(Math.max(...s)),e=a.getFullYear(),t=d.getFullYear(),g=String(a.getMonth()+1).padStart(2,"0"),y=String(d.getMonth()+1).padStart(2,"0"),k=String(a.getDate()).padStart(2,"0"),r=String(d.getDate()).padStart(2,"0"),n="".concat(e,"-").concat(g,"-").concat(k),h="".concat(t,"-").concat(y,"-").concat(r);return{from:n,to:h}},getDonutLegendValue(o){return Number((o*(this.dataset.header[this.currentSelectionSpan.col].isPercentage?100:1)).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString()},getDropdownOptions(o){return[...new Set(this.dataset.body.map(s=>s.td[o]))]},getSum(o){return this.rows.map(s=>s[o]).map(s=>isNaN(Number(s))?0:s).reduce((s,a)=>s+a,0)},includesNaN(o){return o.includes(NaN)},isDropdownOptionSelected(o,s){return this.multiselects[s]?this.multiselects[s].includes(o):!0},isNumeric(o){return!isNaN(Number(String(o).replaceAll("%","")))},isResetDisabled(o,s){const a=s.isSort,d=s.isSearch,e=s.isMultiselect&&this.multiselects[o],t=s.rangeFilter,g=y=>{if(t&&this.rangeFilters[y])return Math.round(this.rangeFilters[y].min)===this.immutableRangeFilters[y].min&&Math.round(this.rangeFilters[y].max)===this.immutableRangeFilters[y].max};if(a&&d&&e&&t)return["",void 0].includes(this.searches[o])&&[void 0].includes(this.sorts[o])&&this.multiselects[o].length===this.getDropdownOptions(o).length&&g(o);if(a&&d&&e)return["",void 0].includes(this.searches[o])&&[void 0].includes(this.sorts[o])&&this.multiselects[o].length===this.getDropdownOptions(o).length;if(a&&d&&t)return["",void 0].includes(this.searches[o])&&[void 0].includes(this.sorts[o])&&g(o);if(a&&d)return["",void 0].includes(this.searches[o])&&[void 0].includes(this.sorts[o]);if(a&&e&&t)return[void 0].includes(this.sorts[o])&&this.multiselects[o].length===this.getDropdownOptions(o).length&&g(o);if(a&&e)return[void 0].includes(this.sorts[o])&&this.multiselects[o].length===this.getDropdownOptions(o).length;if(d&&e&&t)return["",void 0].includes(this.searches[o])&&this.multiselects[o].length===this.getDropdownOptions(o).length&&g(o);if(d&&e)return["",void 0].includes(this.searches[o])&&this.multiselects[o].length===this.getDropdownOptions(o).length;if(d&&t)return["",void 0].includes(this.searches[o])&&g(o);if(d)return["",void 0].includes(this.searches[o]);if(a&&t)return[void 0].includes(this.sorts[o])&&g(o);if(a)return[void 0].includes(this.sorts[o]);if(e&&t)return this.multiselects[o].length===this.getDropdownOptions(o).length&&g(o);if(e)return this.multiselects[o].length===this.getDropdownOptions(o).length},getCurrentPageData(){return{totalPages:this.pages.length,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage,currentPageData:this.visibleRows.map(o=>o.td)}},onPageChange(){this.$emit("page-change",this.getCurrentPageData())},navigate(o){if(this.resetSelection(),o==="next"&&this.currentPage<this.pages.length){if(this.currentPage+1>this.pages.length-1)return;this.currentPage+=1}else if(o==="previous"&&this.currentPage>=1)this.currentPage-=1;else{if(o-1<0||o>this.pages.length||o==="previous")return;this.currentPage=o-1}this.onPageChange(),this.$refs.tableWrapper.scrollTo({top:0,left:0,behavior:"smooth"})},navigateCell(o){o.preventDefault();const s=o.keyCode,a=38,d=40,e=37,t=39;if(![a,d,e,t].includes(s))return;const g=o.target.id,y=/cell_(\d+)_(\d+)_vue-ui-table-(\d+)/,k=g.match(y),r=parseInt(k[1]),n=parseInt(k[2]),h=document.getElementById("cell_".concat(r,"_").concat(n+1,"_").concat(this.uid)),m=document.getElementById("cell_".concat(r,"_").concat(n-1,"_").concat(this.uid)),v=document.getElementById("cell_".concat(r+1,"_").concat(n,"_").concat(this.uid)),N=document.getElementById("cell_".concat(r-1,"_").concat(n,"_").concat(this.uid));let F;switch(!0){case s===t:F=h;break;case s===e:F=m;break;case s===a:F=N;break;case s===d:F=v;break;default:return}F&&(F.focus(),F.scrollIntoView({behavior:"smooth",block:"center"}))},openDonutOptions(){this.selectedDonutCategory=this.availableDonutCategories[0],this.showDonutOptions=!0},placeLabelOnTopOrBottom({previousPlot:o,currentPlot:s,nextPlot:a}){const d=s.y-38,e=s.y+16;return o&&a?o.value<s.value&&a.value<s.value?d:o.value>s.value&&a.value>s.value?e:(o.value>s.value&&a.value<s.value||o.value<s.value&&a.value>s.value,d):o&&!a?o.value>s.value?e:d:!o&&a&&a.value>s.value?e:d},async prepareBodyCopy(){return new Promise(o=>{const s=[];this.tableHead.forEach((a,d)=>{if(a.isSearch&&Object.assign(this.searches,{[d]:""}),a.isMultiselect&&Object.assign(this.multiselects,{[d]:this.getDropdownOptions(d)}),a.type===this.constants.DATE&&(Object.assign(this.dates,{[d]:this.getDatesRange(d)}),Object.assign(this.filteredDatesIndexes,{[d]:!1})),(a.isPercentage||a.percentageTo)&&Object.assign(this.percentages,{[d]:{reference:a.percentageTo,referenceIndex:this.dataset.header.map(e=>e.name).indexOf(a.percentageTo)}}),a.rangeFilter&&(Object.assign(this.rangeFilters,{[d]:{min:Math.round(Math.min(...this.dataset.body.map(e=>e.td).map(e=>e[d]))),max:Math.round(Math.max(...this.dataset.body.map(e=>e.td).map(e=>e[d])))}}),Object.assign(this.immutableRangeFilters,{[d]:{min:Math.round(Math.min(...this.dataset.body.map(e=>e.td).map(e=>e[d]))),max:Math.round(Math.max(...this.dataset.body.map(e=>e.td).map(e=>e[d])))}})),a.isPercentage){const e=this.dataset.header.map(g=>g.name).indexOf(a.percentageTo),t=this.dataset.body.map(g=>g.td[e]).reduce((g,y)=>g+y,0);s.push([d,e,t])}a.type===this.constants.NUMERIC&&!a.isPercentage&&Object.assign(this.hasNaN,{[d]:this.includesNaN(this.dataset.body.map(e=>Number(e.td[d])))})}),this.bodyCopy.forEach((a,d)=>{s.map(e=>{const[t,g,y]=e;a.td[t]=a.td[g]/y}),a.td.forEach((e,t)=>{this.dataset.header[t].type===this.constants.TEXT&&this.dataset.header[t].isSearch&&(a[t]=this.stringToNumber(e)),this.dataset.header[t].type===this.constants.DATE&&(a[t]=new Date(e).getTime()),this.dataset.header[t].type===this.constants.NUMERIC&&(a[t]=isNaN(Number(e))?t:e),this.tableBody[d][t]=a[t]})}),o(!0)})},promiseWithAsyncFunction(o,s){return new Promise((a,d)=>{o().then(e=>{try{const t=s(e);a(t)}catch(t){d(t)}}).catch(e=>{d(e)})})},resetDates(o){this.dates[o]={from:this.getDatesRange(o).from,to:this.getDatesRange(o).to},this.filteredDatesIndexes[o]=!1,this.$forceUpdate(),this.filterBody()},resetFilter(o,s,a){const d=a.currentTarget;clearTimeout(this.buttonTimeout),d.classList.add("clicked"),this.buttonTimeout=setTimeout(()=>{d.classList.remove("clicked")},200),this.currentFilter=void 0,s.rangeFilter&&(this.rangeFilters[o].min=this.immutableRangeFilters[o].min,this.rangeFilters[o].max=this.immutableRangeFilters[o].max),s.isMultiselect?(this.multiselects[o]=this.getDropdownOptions(o),s.type===this.constants.TEXT&&(this.sorts[o]=void 0),s.isSearch&&(this.searches[o]="")):s.type===this.constants.NUMERIC?this.sorts[o]=void 0:s.type===this.constants.TEXT?(this.sorts[o]=void 0,this.searches[o]=""):s.type===this.constants.DATE&&(this.sorts[o]=void 0),this.filterBody()},resetSelection(){const o=document.getElementsByClassName("tr_".concat(this.uid));Array.from(o).forEach(s=>{Array.from(s.getElementsByTagName("td")).forEach(a=>{a.dataset.row==="even"?(a.style.background=this.FINAL_CONFIG.style.rows.even.backgroundColor,a.style.color=this.FINAL_CONFIG.style.rows.even.color):(a.style.background=this.FINAL_CONFIG.style.rows.odd.backgroundColor,a.style.color=this.FINAL_CONFIG.style.rows.odd.color)})}),Array.from(o).forEach(s=>s.dataset.selected="false"),this.currentPage>this.pages.length-1&&(this.currentPage=this.pages.length-1),this.showChart=!1,this.currentDonut=void 0,this.selectedColumn=void 0,this.chart.type=this.constants.BAR,this.currentSelectionSpan={col:void 0,rows:[]},this.clientX=100,this.clientY=100},selectColumn(o){this.currentSelectionSpan.col!==o?(this.visibleRows.forEach((s,a)=>{this.selectTd({td:s.td[o],rowIndex:a,colIndex:o,headerType:this.constants.NUMERIC,event:{currentTarget:document.getElementById("cell_".concat(a,"_").concat(o,"_").concat(this.uid))}})}),this.selectedColumn=o):(this.selectedColumn=void 0,this.resetSelection())},selectDropdownOption(o,s){this.multiselects[s].includes(o)?this.multiselects[s]=this.multiselects[s].filter(a=>a!==o):this.multiselects[s].push(o),this.$forceUpdate(),this.filterBody()},selectTd({td:o,rowIndex:s,colIndex:a,headerType:d,event:e}){if(d!==this.constants.NUMERIC||isNaN(Number(o))){this.resetSelection();return}this.currentSelectionSpan.col!==a&&this.resetSelection();const t=e.currentTarget.parentNode;this.currentSelectionSpan.col=a,this.currentSelectionSpan.rows.map(g=>g.index).includes(s)?(t.dataset.selected="false",this.currentSelectionSpan.rows=this.currentSelectionSpan.rows.filter(g=>g.index!==s),e.currentTarget.classList.remove(this.cssClass.CELL),Array.from(t.children).forEach((g,y)=>{g.dataset.row==="even"?(g.style.background=this.FINAL_CONFIG.style.rows.even.backgroundColor,g.style.color=this.FINAL_CONFIG.style.rows.even.olor):(g.style.background=this.FINAL_CONFIG.style.rows.odd.backgroundColor,g.style.color=this.FINAL_CONFIG.style.rows.odd.color)}),e.currentTarget.dataset.row==="even"?(e.currentTarget.style.background=this.FINAL_CONFIG.style.rows.even.backgroundColor,e.currentTarget.style.color=this.FINAL_CONFIG.style.rows.even.color):(e.currentTarget.style.background=this.FINAL_CONFIG.style.rows.odd.backgroundColor,e.currentTarget.style.color=this.FINAL_CONFIG.style.rows.odd.color)):(t.dataset.selected="true",this.currentSelectionSpan.rows.push({index:s,value:o}),Array.from(t.children).forEach((g,y)=>{g.dataset.row==="even"?(g.style.background=this.FINAL_CONFIG.style.rows.even.selectedNeighbors.backgroundColor,g.style.color=this.FINAL_CONFIG.style.rows.even.selectedNeighbors.color):(g.style.background=this.FINAL_CONFIG.style.rows.odd.selectedNeighbors.backgroundColor,g.style.color=this.FINAL_CONFIG.style.rows.odd.selectedNeighbors.color)}),e.currentTarget.dataset.row==="odd"?(e.currentTarget.style.background=this.FINAL_CONFIG.style.rows.odd.selectedCell.backgroundColor,e.currentTarget.style.color=this.FINAL_CONFIG.style.rows.odd.selectedCell.color):(e.currentTarget.style.background=this.FINAL_CONFIG.style.rows.even.selectedCell.backgroundColor,e.currentTarget.style.color=this.FINAL_CONFIG.style.rows.even.selectedCell.color)),this.currentSelectionSpan.rows=this.currentSelectionSpan.rows.sort((g,y)=>g.index-y.index),this.chart.type===this.constants.DONUT&&this.currentSelectionSpan.rows.length>0&&this.applyDonutOption()},setFilterDatesIndexes(o){this.filteredDatesIndexes[o]=!(this.getDatesRange(o).from===this.dates[o].from&&this.getDatesRange(o).to===this.dates[o].to)},sortBody(){this.resetSelection(),Object.keys(this.rangeFilters).forEach(o=>{this.filterByRange(this.bodyCopy,o)}),Object.keys(this.sorts).forEach(o=>{this.sortByNumber(this.bodyCopy,o)}),this.currentFilter!==void 0&&this.sortByNumber(this.bodyCopy,this.currentFilter),this.dataset.header.forEach((o,s)=>{if(o.isPercentage){const a=this.percentages[s].referenceIndex,d=this.bodyCopy.map(e=>e.td[a]).reduce((e,t)=>e+t,0);this.bodyCopy.forEach(e=>{e.td[s]=e.td[a]/d})}}),this.currentPage>this.pages.length-1&&(this.currentPage=this.pages.length-1),[-1].includes(this.currentPage)&&(this.currentPage=0),this.$forceUpdate()},filterByRange(o,s){this.bodyCopy=o.filter(a=>a.td[s]>=this.rangeFilters[s].min&&a[s]<=this.rangeFilters[s].max)},sortByNumber(o,s){if(this.sorts[s]===this.constants.ASC&&(o=o.sort((a,d)=>a[s]-d[s])),this.sorts[s]===this.constants.DESC)o=o.sort((a,d)=>d[s]-a[s]);else return 0},sortTh(o,s){this.currentFilter=o;const a=s.currentTarget;clearTimeout(this.buttonTimeout),a.classList.add("clicked"),this.buttonTimeout=setTimeout(()=>{a.classList.remove("clicked")},200),this.sorts[o]===1?this.sorts[o]=this.constants.DESC:this.sorts[o]=this.constants.ASC,this.sortBody()},stringToNumber(o){let s=0;for(let a=0;a<o.length;a+=1)s+=o.charCodeAt(a);return s},toggleMultiselect(o,s,a){const d=a.currentTarget;clearTimeout(this.buttonTimeout),d.classList.add("clicked"),this.buttonTimeout=setTimeout(()=>{d.classList.remove("clicked")},200);const e=document.getElementById("th_dropdown_".concat(o));e.dataset.isOpen==="false"?e.dataset.isOpen="true":e.dataset.isOpen="false"},updateCurrentPage(o){this.resetSelection(),!o||!o.target.value?this.currentPage=0:this.currentPage=Number(o.target.value),this.onPageChange()},calcDonutMarkerConnectorColor(o){return o.proportion*100>3?o.color:"transparent"},calcDonutMarkerLabelPositionX(o){return o.center.endX+this.calcMarkerOffset(o,50)},calcMarkerOffset(o,s){return o.center.endX-s>=0?3:-2},displayArcPercentage(o,s){return isNaN(o.value/this.sumValues(s))?0:(o.value/this.sumValues(s)*100).toFixed(0)+"%"},isArcBigEnough(o){return o.proportion*100>3},sumValues(o){return[...o].map(s=>s.value).reduce((s,a)=>s+a,0)},closeDragElement(){document.onmouseup=null,document.onmousemove=null},dragMouseDown(o){o=o||window.event,o.preventDefault();const s=this.$refs.chartModal.getBoundingClientRect();this.dragOffsetX=o.clientX-s.left,this.dragOffsetY=o.clientY-s.top,this.modalWidth=s.width,this.modalHeight=s.height,document.onmouseup=this.closeDragElement,document.onmousemove=this.elementDrag},elementDrag(o){if(this.rafId)return;const s=this.$refs.chartModal.getBoundingClientRect();this.clientX=o.clientX-this.dragOffsetX,this.clientY=o.clientY-this.dragOffsetY-40,this.clientX<0&&(this.clientX=0),this.clientX+s.width>window.innerWidth&&(this.clientX=window.innerWidth-s.width-48),this.clientY<0&&(this.clientY=0),this.clientY+s.height>window.innerHeight&&(this.clientY=window.innerHeight-s.height-24)}}},z=()=>{ct(o=>({v85218ccc:o.colorCancelInactive,v105c5ba6:o.textColorCancelInactive,v5d1a9a21:o.colorCancelActiveLight,v4449dbf5:o.colorCancelActive,v34c2568d:o.colorCancelActiveOutline,v72201d6b:o.colorButtonSortActiveLight,v0bbdf26b:o.colorButtonSortActive,v4e093505:o.colorButtonSortActiveColorText,v1e742f57:o.colorButtonSortActiveOutline}))},R=G.setup;G.setup=R?(o,s)=>(z(),R(o,s)):z;const dt=["innerHTML"],ut=["data-is-open"],ht={class:"vue-ui-table-export-hub-options"},pt={class:"vue-ui-table-export-hub-option-wrapper"},gt={class:"label"},mt=["innerHTML"],bt={class:"vue-ui-table-export-hub-option-wrapper"},yt={class:"label"},Nt=["innerHTML"],Ct={class:"vue-ui-table-dialog-field"},It={class:"label vue-ui-table-dialog-input-label",style:{width:"100%"}},vt={style:{width:"fit-content"}},Ft={class:"vue-ui-table"},ft={key:0},wt={key:0},kt={key:1},Ot={key:0,style:{display:"flex","align-items":"center","justify-content":"flex-end"}},Lt=["innerHTML"],St={key:0,style:{"margin-left":"3px"}},At={key:0},xt={class:"th-filter"},_t={key:0,class:"th-date"},$t={class:"date-wrapper--inputs"},Mt={class:"date-fieldset"},Gt=["for"],Dt=["id","onUpdate:modelValue","onInput"],Tt={class:"date-fieldset"},Pt=["for"],Bt=["id","onUpdate:modelValue","onInput"],Et={class:"date-wrapper--button"},Ht=["onClick"],zt=["innerHTML"],Rt=["innerHTML"],jt=["innerHTML"],Ut=["onClick","disabled"],Vt=["placeholder","onUpdate:modelValue","name"],Xt=["onClick"],Wt=["innerHTML"],Yt=["innerHTML"],Jt=["innerHTML"],Kt=["onClick","innerHTML"],qt=["innerHTML"],Zt={key:5,class:"th-range-filter"},Qt=["for"],te=["id","max","min","onUpdate:modelValue"],ee=["id","max","min","onUpdate:modelValue"],oe=["for"],se=["onClick","disabled"],ae=["id"],ne=["onClick"],re=["onClick","onKeyup"],ie=["innerHTML","onClick","onKeyup"],le=["data-row"],ce=["data-row"],de=["data-row","onClick","onKeyup","id"],ue=["innerHTML"],he={key:1},pe={key:2},ge={key:5},me=["innerHTML"],be={key:0},ye={style:{"margin-left":"12px"}},Ne={class:"format-num"},Ce={style:{"margin-left":"12px"}},Ie={key:0,class:"format-num"},ve={key:1,class:"format-num"},Fe={key:2},fe={style:{"margin-left":"12px"}},we={key:0,class:"format-num"},ke={key:1,class:"format-num"},Oe={key:2},Le={key:1,class:"vue-ui-table-paginator format-num"},Se={key:2,class:"vue-ui-table-size-warning"},Ae=["innerHTML"],xe={key:4,class:"vue-ui-table-pagination format-num"},_e=["innerHTML","disabled"],$e=["disabled"],Me={key:0,class:"vue-ui-table-page-scroller-wrapper"},Ge={for:"pageScroller",style:{"font-size":"14px"}},De=["max","value"],Te={key:1},Pe=["disabled"],Be=["innerHTML","disabled"],Ee=["innerHTML"],He={class:"chart-modal-options"},ze=["innerHTML"],Re=["innerHTML"],je=["innerHTML"],Ue={style:{width:"100%",height:"fit-content"},ref:"chartModal"},Ve={class:"vue-ui-table-fieldset"},Xe={class:"vue-ui-table-fieldset-wrapper"},We=["name","id","checked","onInput"],Ye=["for"],Je=["disabled"],Ke=["innerHTML"],qe={key:0},Ze={style:{width:"100%","margin-bottom":"12px"}},Qe={key:2,style:{width:"100%","margin-bottom":"32px"}};function to(o,s,a,d,e,t){const g=M("BaseIcon"),y=M("VueUiXy"),k=M("VueUiDonut");return l(),c("div",{class:"vue-data-ui-component vue-ui-table-main",style:p("font-family: ".concat(t.FINAL_CONFIG.fontFamily))},[t.FINAL_CONFIG.style.exportMenu.show?(l(),c("div",{key:0,class:"vue-ui-table-export-hub",style:p({top:d.exportButtonTop+"px"})},[i("button",{onClick:s[0]||(s[0]=r=>e.isExportRequest=!e.isExportRequest),innerHTML:t.icons.export,style:p("background:".concat(t.FINAL_CONFIG.style.exportMenu.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.exportMenu.color))},null,12,dt),i("div",{class:"vue-ui-table-export-hub-dropdown","data-is-open":e.isExportRequest||"false",style:p("background:".concat(t.FINAL_CONFIG.style.exportMenu.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.exportMenu.color))},[s[29]||(s[29]=i("b",{class:"vue-ui-table-export-hub-title"}," Export ",-1)),i("button",{class:"close-dropdown",onClick:s[1]||(s[1]=r=>e.isExportRequest=!1),style:p("background:".concat(t.FINAL_CONFIG.style.closeButtons.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.closeButtons.color,";border-radius:").concat(t.FINAL_CONFIG.style.closeButtons.borderRadius))}," ✖ ",4),i("div",ht,[i("div",pt,[i("div",gt,u(t.FINAL_CONFIG.translations.exportAllLabel)+" ("+u(e.bodyCopy.length)+") ",1),i("button",{id:"exportAll",onClick:s[2]||(s[2]=r=>t.createXls("all")),style:p("background:".concat(t.FINAL_CONFIG.style.exportMenu.buttons.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.exportMenu.buttons.color))},[i("div",{innerHTML:t.icons.fileDownload},null,8,mt),i("span",null,u(t.FINAL_CONFIG.translations.exportAllButton),1)],4)]),i("div",bt,[i("div",yt,u(t.FINAL_CONFIG.translations.exportPageLabel),1),i("button",{id:"exportPage",onClick:s[3]||(s[3]=r=>t.createXls("page")),style:p("background:".concat(t.FINAL_CONFIG.style.exportMenu.buttons.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.exportMenu.buttons.color))},[i("div",{innerHTML:t.icons.fileDownload},null,8,Nt),i("span",null,u(t.FINAL_CONFIG.translations.exportPageButton),1)],4)]),i("div",Ct,[i("label",It,[i("span",vt,u(t.FINAL_CONFIG.translations.filename),1),L(i("input",{name:"filename",ref:"filenameInputRef",onKeydown:s[4]||(s[4]=A(x(()=>{},["stop"]),["space"])),pattern:".*",class:"vue-ui-table-dialog-input",type:"text","onUpdate:modelValue":s[5]||(s[5]=r=>e.filename=r)},null,544),[[S,e.filename]])]),e.filename?(l(),c("button",{key:0,class:"vue-ui-table-dialog-field-button",onClick:s[6]||(s[6]=r=>e.filename="")},[B(g,{name:"close",stroke:t.FINAL_CONFIG.style.exportMenu.color,size:18},null,8,["stroke"])])):b("",!0)])])],12,ut)],4)):b("",!0),i("div",{class:"vue-ui-table__wrapper",style:p("max-height:".concat(t.FINAL_CONFIG.maxHeight,"px")),ref:"tableWrapper"},[i("table",Ft,[t.FINAL_CONFIG.style.title.text?(l(),c("caption",{key:0,class:"vue-ui-table__caption",ref:"tableCaption",style:p({textAlign:t.FINAL_CONFIG.style.title.textAlign,paddingLeft:t.FINAL_CONFIG.style.title.paddingLeft+"px",paddingRight:t.FINAL_CONFIG.style.title.paddingRight+"px",backgroundColor:t.FINAL_CONFIG.style.title.backgroundColor,boxShadow:"".concat(t.FINAL_CONFIG.style.title.backgroundColor," -1px 0px 0px 0px")})},[i("span",{style:p({fontSize:t.FINAL_CONFIG.style.title.fontSize+"px",fontWeight:t.FINAL_CONFIG.style.title.bold?"bold":"normal",color:t.FINAL_CONFIG.style.title.color})},u(t.FINAL_CONFIG.style.title.text),5),t.FINAL_CONFIG.style.title.subtitle.text?(l(),c(C,{key:0},[s[30]||(s[30]=i("br",null,null,-1)),i("span",{style:p({fontSize:t.FINAL_CONFIG.style.title.subtitle.fontSize,fontWeight:t.FINAL_CONFIG.style.title.subtitle.bold?"bold":"normal",color:t.FINAL_CONFIG.style.title.subtitle.color})},u(t.FINAL_CONFIG.style.title.subtitle.text),5)],64)):b("",!0)],4)):b("",!0),i("thead",{id:"tableHead",class:"vue-ui-table__head",style:p({background:t.FINAL_CONFIG.style.th.backgroundColor,boxShadow:"-1px 0 0 ".concat(t.FINAL_CONFIG.style.th.backgroundColor),top:d.exportButtonTop-3+"px"})},[i("tr",null,[s[31]||(s[31]=i("th",{class:"invisible-cell"},null,-1)),(l(!0),c(C,null,O(e.tableHead,(r,n)=>(l(),c("th",{key:"thead_".concat(n),style:p("overflow: visible;background:".concat(t.FINAL_CONFIG.style.th.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.th.color,";outline:").concat(t.FINAL_CONFIG.style.th.outline)),class:I({"th-has-nan":e.hasNaN[n]})},[t.hasNumericTypes&&([e.constants.TEXT,e.constants.DATE].includes(r.type)||r.isPercentage)?(l(),c("span",ft,[w(u(r.name)+" ",1),r.isPercentage?(l(),c("span",wt," / "+u(r.percentageTo),1)):b("",!0)])):(l(),c("span",kt,u(r.name),1))],6))),128))]),t.hasNumericTypes?(l(),c(C,{key:0},[i("tr",null,[s[32]||(s[32]=i("th",{class:"invisible-cell"},null,-1)),(l(!0),c(C,null,O(e.tableHead,(r,n)=>(l(),c("th",{key:"thead_".concat(n),class:I({"th-numeric":!0,"th-has-nan":e.hasNaN[n]}),style:p("background:".concat(t.FINAL_CONFIG.style.th.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.th.color,";outline:").concat(t.FINAL_CONFIG.style.th.outline))},[r.sum&&!e.hasNaN[n]?(l(),c("span",Ot,[i("span",{innerHTML:t.icons.sum,style:{"margin-bottom":"-4px","margin-right":"3px"}},null,8,Lt),w(" "+u(t.dataLabel({p:r.prefix,v:Number(t.getSum(n)),s:r.suffix,r:r.decimals}))+" ",1),e.percentages[n]&&r.percentageTo&&!r.isPercentage?(l(),c("span",St," ("+u(isNaN(t.getSum(n)/t.getSum(e.percentages[n].referenceIndex))?"-":t.dataLabel({v:t.getSum(n)/t.getSum(e.percentages[n].referenceIndex)*100,s:"%",r:r.decimals}))+") ",1)):b("",!0)])):b("",!0)],6))),128))]),i("tr",null,[s[33]||(s[33]=i("th",{class:"invisible-cell"},null,-1)),(l(!0),c(C,null,O(e.tableHead,(r,n)=>(l(),c("th",{key:"thead_".concat(n),class:I({"th-numeric":!0,"th-has-nan":e.hasNaN[n]}),style:p("background:".concat(t.FINAL_CONFIG.style.th.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.th.color,";outline:").concat(t.FINAL_CONFIG.style.th.outline))},[r.average&&!e.hasNaN[n]?(l(),c("span",At," ~ "+u(isNaN(t.getAverage(n))?"":t.dataLabel({p:r.prefix,v:Number(t.getAverage(n)),s:r.suffix,r:r.decimals})),1)):b("",!0)],6))),128))]),i("tr",null,[s[36]||(s[36]=i("th",{class:"invisible-cell"},null,-1)),(l(!0),c(C,null,O(e.tableHead,(r,n)=>(l(),c("th",{key:"thead_".concat(n),class:I({"th-has-nan":e.hasNaN[n]}),style:p("background:".concat(t.FINAL_CONFIG.style.th.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.th.color,";outline:").concat(t.FINAL_CONFIG.style.th.outline))},[i("div",xt,[r.type===e.constants.DATE&&e.dates[n]?(l(),c("div",_t,[i("div",$t,[i("div",Mt,[i("label",{for:"from_".concat(n)},u(t.FINAL_CONFIG.translations.from),9,Gt),L(i("input",{id:"from_".concat(n),type:"date","onUpdate:modelValue":h=>e.dates[n].from=h,onInput:h=>{t.filterBody(),t.setFilterDatesIndexes(n)},style:p("background:".concat(t.FINAL_CONFIG.style.inputs.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.inputs.color,";border:").concat(t.FINAL_CONFIG.style.inputs.border))},null,44,Dt),[[S,e.dates[n].from]])]),i("div",Tt,[i("label",{for:"to_".concat(n)},u(t.FINAL_CONFIG.translations.to),9,Pt),L(i("input",{id:"to_".concat(n),type:"date","onUpdate:modelValue":h=>e.dates[n].to=h,onInput:h=>{t.filterBody(),t.setFilterDatesIndexes(n)},style:p("background:".concat(t.FINAL_CONFIG.style.inputs.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.inputs.color,";border:").concat(t.FINAL_CONFIG.style.inputs.border))},null,44,Bt),[[S,e.dates[n].to]])])]),i("div",Et,[r.isSort?(l(),c("button",{key:0,onClick:h=>t.sortTh(n,h),class:I({"th-button-active":[e.constants.DESC,e.constants.ASC].includes(e.sorts[n])}),style:p("background:".concat([e.constants.DESC,e.constants.ASC].includes(e.sorts[n])?"":t.FINAL_CONFIG.style.th.buttons.filter.inactive.backgroundColor,";color:").concat([e.constants.DESC,e.constants.ASC].includes(e.sorts[n])?"":t.FINAL_CONFIG.style.th.buttons.filter.inactive.color))},[e.sorts[n]===e.constants.ASC?(l(),c("span",{key:0,innerHTML:[e.constants.DATE].includes(r.type)?t.icons.sort09:t.icons.sortAZ},null,8,zt)):e.sorts[n]===e.constants.DESC?(l(),c("span",{key:1,innerHTML:[e.constants.DATE].includes(r.type)?t.icons.sort90:t.icons.sortZA},null,8,Rt)):(l(),c("span",{key:2,innerHTML:t.icons.arrowSort},null,8,jt))],14,Ht)):b("",!0),i("button",{onClick:h=>{t.resetDates(n),t.resetFilter(n,r,h)},disabled:!e.filteredDatesIndexes[n]&&t.isResetDisabled(n,r),class:"th-reset"}," ✖ ",8,Ut)])])):b("",!0),r.isSearch?L((l(),c("input",{key:1,placeholder:t.FINAL_CONFIG.translations.inputPlaceholder,"onUpdate:modelValue":h=>e.searches[n]=h,onInput:s[7]||(s[7]=h=>t.debounce(t.filterBody,400)),name:"search_".concat(n),style:p("background:".concat(t.FINAL_CONFIG.style.inputs.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.inputs.color,";border:").concat(t.FINAL_CONFIG.style.inputs.border))},null,44,Vt)),[[S,e.searches[n]]]):b("",!0),!e.hasNaN[n]&&r.isSort&&r.type!==e.constants.DATE?(l(),c("button",{key:2,onClick:h=>t.sortTh(n,h),class:I({"th-button-active":[e.constants.DESC,e.constants.ASC].includes(e.sorts[n])}),style:p("background:".concat([e.constants.DESC,e.constants.ASC].includes(e.sorts[n])?"":t.FINAL_CONFIG.style.th.buttons.filter.inactive.backgroundColor,";color:").concat([e.constants.DESC,e.constants.ASC].includes(e.sorts[n])?"":t.FINAL_CONFIG.style.th.buttons.filter.inactive.color))},[e.sorts[n]===e.constants.ASC?(l(),c("span",{key:0,innerHTML:[e.constants.NUMERIC].includes(r.type)?t.icons.sort09:t.icons.sortZA},null,8,Wt)):e.sorts[n]===e.constants.DESC?(l(),c("span",{key:1,innerHTML:[e.constants.NUMERIC].includes(r.type)?t.icons.sort90:t.icons.sortAZ},null,8,Yt)):(l(),c("span",{key:2,innerHTML:t.icons.arrowSort},null,8,Jt))],14,Xt)):b("",!0),r.isMultiselect?(l(),c("button",{key:3,onClick:h=>t.toggleMultiselect(n,r,h),innerHTML:t.icons.filter,class:I({"th-button-active":e.multiselects[n]&&e.multiselects[n].length!==t.getDropdownOptions(n).length}),style:p("background:".concat(e.multiselects[n]&&e.multiselects[n].length!==t.getDropdownOptions(n).length?"":t.FINAL_CONFIG.style.th.buttons.filter.inactive.backgroundColor,";color:").concat(e.multiselects[n]&&e.multiselects[n].length!==t.getDropdownOptions(n).length?"":t.FINAL_CONFIG.style.th.buttons.filter.inactive.color))},null,14,Kt)):b("",!0),e.currentSelectionSpan.col===n&&t.canChart?(l(),c("button",{key:4,onClick:s[8]||(s[8]=h=>e.showChart=!e.showChart),innerHTML:t.icons.chart,class:I({"th-button-active":e.showChart}),style:p("background:".concat(e.showChart?"":t.FINAL_CONFIG.style.th.buttons.filter.inactive.backgroundColor,";color:").concat(e.showChart?"":t.FINAL_CONFIG.style.th.buttons.filter.inactive.color))},null,14,qt)):b("",!0),r.rangeFilter&&e.rangeFilters[n]&&!e.hasNaN[n]?(l(),c("div",Zt,[i("label",{for:"rangeMin".concat(n)},[...s[34]||(s[34]=[i("span",{style:{color:"grey"}},"ᒥ",-1),w(" min ",-1),i("span",{style:{color:"grey"}},"ᒣ",-1)])],8,Qt),L(i("input",{type:"number",id:"rangeMin".concat(n),max:e.immutableRangeFilters[n].max,min:e.immutableRangeFilters[n].min,"onUpdate:modelValue":h=>e.rangeFilters[n].min=h,onInput:s[9]||(s[9]=h=>t.debounce(t.filterBody,400)),style:p("background:".concat(t.FINAL_CONFIG.style.inputs.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.inputs.color,";border:").concat(t.FINAL_CONFIG.style.inputs.border))},null,44,te),[[S,e.rangeFilters[n].min,void 0,{number:!0}]]),L(i("input",{type:"number",id:"rangeMax".concat(n),max:e.immutableRangeFilters[n].max,min:e.immutableRangeFilters[n].min,"onUpdate:modelValue":h=>e.rangeFilters[n].max=h,onInput:s[10]||(s[10]=h=>t.debounce(t.filterBody,400)),style:p("background:".concat(t.FINAL_CONFIG.style.inputs.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.inputs.color,";border:").concat(t.FINAL_CONFIG.style.inputs.border))},null,44,ee),[[S,e.rangeFilters[n].max,void 0,{number:!0}]]),i("label",{for:"rangeMax".concat(n)},[...s[35]||(s[35]=[i("span",{style:{color:"grey"}},"ᒪ",-1),w(" max ",-1),i("span",{style:{color:"grey"}},"ᒧ",-1)])],8,oe)])):b("",!0),t.canResetColumn(n,r)?(l(),c("button",{key:6,onClick:h=>t.resetFilter(n,r,h),disabled:t.isResetDisabled(n,r),class:"th-reset"}," ✖ ",8,se)):b("",!0),r.isMultiselect?(l(),c("div",{key:7,class:"th-dropdown","data-is-open":"false",id:"th_dropdown_".concat(n),style:p("background:".concat(t.FINAL_CONFIG.style.dropdowns.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.dropdowns.color))},[i("button",{class:"close-dropdown",onClick:h=>t.toggleMultiselect(n,r,h),style:p("background:".concat(t.FINAL_CONFIG.style.closeButtons.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.closeButtons.color))}," ✖ ",12,ne),(l(!0),c(C,null,O(t.getDropdownOptions(n),(h,m)=>(l(),c("span",{class:"th-option",key:"th_option_".concat(n,"_").concat(m),onClick:v=>t.selectDropdownOption(h,n),onKeyup:[A(v=>t.selectDropdownOption(h,n),["enter"]),A(v=>t.selectDropdownOption(h,n),["space"])],style:p("opacity:".concat(t.isDropdownOptionSelected(h,n)?1:.5)),tabindex:"0"},[t.isDropdownOptionSelected(h,n)?(l(),c("span",{key:0,style:p("color:".concat(t.FINAL_CONFIG.style.dropdowns.icons.selected.color,";margin-right:5px")),class:"th-icon-green"},u(t.FINAL_CONFIG.style.dropdowns.icons.selected.unicode),5)):(l(),c("span",{key:1,style:p("color:".concat(t.FINAL_CONFIG.style.dropdowns.icons.unselected.color,";margin-right:5px")),class:"th-icon-red"},u(t.FINAL_CONFIG.style.dropdowns.icons.unselected.unicode),5)),i("span",null,u(h),1)],44,re))),128))],12,ae)):b("",!0)])],6))),128))])],64)):b("",!0),i("tr",null,[s[37]||(s[37]=i("th",{class:"invisible-cell"},null,-1)),(l(!0),c(C,null,O(e.tableHead,(r,n)=>(l(),c("th",{key:"col_selector_".concat(n),class:I({"vue-ui-table-col-selector":!e.hasNaN[n],"th-has-nan":e.hasNaN[n]}),style:p("background:".concat(n===e.selectedColumn&&!e.hasNaN[n]?t.FINAL_CONFIG.style.th.selected.backgroundColor:t.FINAL_CONFIG.style.th.backgroundColor,";color:").concat(n===e.selectedColumn&&!e.hasNaN[n]?t.FINAL_CONFIG.style.th.selected.color:t.FINAL_CONFIG.style.th.color,";outline:").concat(t.FINAL_CONFIG.style.th.outline))},[e.hasNaN[n]?b("",!0):(l(),c("div",{key:0,innerHTML:e.tableHead[n].type===e.constants.NUMERIC?t.icons.chevronDown:"",class:I({"col-selector":e.tableHead[n].type===e.constants.NUMERIC}),tabindex:"0",onClick:x(h=>t.selectColumn(n),["stop"]),onKeyup:A(h=>t.selectColumn(n),["enter"])},null,42,ie))],6))),128))])],4),i("tbody",{onClick:s[11]||(s[11]=(...r)=>t.closeAllDropdowns&&t.closeAllDropdowns(...r)),onKeydown:s[12]||(s[12]=r=>t.navigateCell(r))},[(l(!0),c(C,null,O(t.visibleRows,(r,n)=>(l(),c("tr",{key:"tbody_".concat(n),"data-row":n%2===0?"odd":"even",class:I("tr_".concat(e.uid)),style:p("".concat(n%2===0?"background:".concat(t.FINAL_CONFIG.style.rows.odd.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.rows.odd.color):"background:".concat(t.FINAL_CONFIG.style.rows.even.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.rows.even.color)))},[i("td",{class:"vue-ui-table-td-iteration","data-row":n%2===0?"odd":"even",style:p({outline:t.FINAL_CONFIG.style.rows.outline})},u(r.absoluteIndex+1),13,ce),(l(!0),c(C,null,O(r.td,(h,m)=>(l(),c("td",{"data-row":n%2===0?"odd":"even",key:"td_".concat(n,"_").concat(m),style:p(t.isNumeric(h)||a.dataset.header[m].type===e.constants.DATE?"text-align:right;font-variant-numeric: tabular-nums;outline:".concat(t.FINAL_CONFIG.style.rows.outline):"outline:".concat(t.FINAL_CONFIG.style.rows.outline)),onClick:v=>t.selectTd({td:h,rowIndex:n,colIndex:m,headerType:a.dataset.header[m].type,event:v}),onKeyup:[A(v=>t.selectTd({td:h,rowIndex:n,colIndex:m,headerType:a.dataset.header[m].type,event:v}),["enter"]),A(v=>t.selectTd({td:h,rowIndex:n,colIndex:m,headerType:a.dataset.header[m].type,event:v}),["space"])],class:I({"td-numeric":a.dataset.header[m].type===e.constants.NUMERIC,"td-focusable":!0,"td-has-nan":e.hasNaN[m]}),id:"cell_".concat(n,"_").concat(m,"_").concat(e.uid),tabindex:"0"},[r.meta&&r.meta.markerIndices.includes(m)&&r.meta.unicodeIcon?(l(),c("span",{key:0,style:p("color:".concat(r.meta.color,";margin-right:3px")),innerHTML:r.meta.unicodeIcon},null,12,ue)):b("",!0),a.dataset.header[m].type===e.constants.DATE?(l(),c("span",he,u(a.dataset.header[m].prefix)+" "+u(new Date(h).toLocaleString().slice(0,10))+" "+u(a.dataset.header[m].suffix),1)):a.dataset.header[m].isPercentage?(l(),c("span",pe,u(t.dataLabel({v:Number(h*100),s:"%",r:a.dataset.header[m].decimals})),1)):e.percentages[m]&&a.dataset.header[m].percentageTo&&!a.dataset.header[m].isPercentage?(l(),c("span",{key:3,class:I({"td-nan":isNaN(Number(h))})},u(isNaN(Number(h))?"".concat(h," is not ").concat(e.constants.NUMERIC):t.dataLabel({p:a.dataset.header[m].prefix,v:Number(h),s:a.dataset.header[m].suffix,r:a.dataset.header[m].decimals}))+" ("+u(isNaN(Number(h))?"":t.dataLabel({v:Number(h/t.getSum(e.percentages[m].referenceIndex)*100),s:"%",r:a.dataset.header[m].decimals}))+") ",3)):a.dataset.header[m].type===e.constants.NUMERIC?(l(),c("span",{key:4,class:I({"td-nan":isNaN(Number(h))})},u(isNaN(Number(h))?"".concat(h," is not ").concat(e.constants.NUMERIC):t.dataLabel({p:a.dataset.header[m].prefix,v:Number(h.toFixed(a.dataset.header[m].decimals)),s:a.dataset.header[m].suffix,r:a.dataset.header[m].decimals})),3)):(l(),c("span",ge,u(a.dataset.header[m].prefix)+" "+u(h)+" "+u(a.dataset.header[m].suffix),1))],46,de))),128))],14,le))),128))],32)])],4),i("div",{class:I({"td-selector-info":!0,"td-selector-info--active":e.currentSelectionSpan.col!==void 0&&e.currentSelectionSpan.rows.length}),style:p("background:".concat(t.FINAL_CONFIG.style.infoBar.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.infoBar.color))},[e.currentSelectionSpan.col!==void 0&&e.currentSelectionSpan.rows.length?(l(),c(C,{key:0},[i("div",{innerHTML:t.icons.table,class:"td-selector-icon"},null,8,me),i("span",null,[i("b",null,[w(u(a.dataset.header[e.currentSelectionSpan.col].name)+" ",1),a.dataset.header[e.currentSelectionSpan.col].isPercentage?(l(),c("span",be," / "+u(a.dataset.header[e.percentages[e.currentSelectionSpan.col].referenceIndex].name),1)):b("",!0)]),i("span",ye,[w(u(t.FINAL_CONFIG.translations.nb)+" : ",1),i("b",Ne,u(e.currentSelectionSpan.rows.length),1)]),i("span",Ce,[w(u(t.FINAL_CONFIG.translations.sum)+" : ",1),a.dataset.header[e.currentSelectionSpan.col].isPercentage?(l(),c("b",Ie,u(t.selectedCellsCalculations.sumPercentage),1)):(l(),c("b",ve,u(a.dataset.header[e.currentSelectionSpan.col].prefix)+" "+u(t.selectedCellsCalculations.sumRegular)+" "+u(a.dataset.header[e.currentSelectionSpan.col].suffix),1)),a.dataset.header[e.currentSelectionSpan.col].isPercentage?(l(),c("b",Fe,"%")):b("",!0)]),i("span",fe,[w(u(t.FINAL_CONFIG.translations.average)+" : ",1),a.dataset.header[e.currentSelectionSpan.col].isPercentage?(l(),c("b",we,u(t.selectedCellsCalculations.averagePercentage),1)):(l(),c("b",ke,u(a.dataset.header[e.currentSelectionSpan.col].prefix)+" "+u(t.selectedCellsCalculations.averageRegular)+" "+u(a.dataset.header[e.currentSelectionSpan.col].suffix),1)),a.dataset.header[e.currentSelectionSpan.col].isPercentage?(l(),c("b",Oe,"%")):b("",!0)])]),i("button",{onClick:s[13]||(s[13]=(...r)=>t.resetSelection&&t.resetSelection(...r)),class:"td-selector-info-reset",style:p("background:".concat(t.FINAL_CONFIG.style.closeButtons.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.closeButtons.color,";border-radius:").concat(t.FINAL_CONFIG.style.closeButtons.borderRadius))}," ✖ ",4)],64)):b("",!0)],6),e.bodyCopy.length>10?(l(),c("div",Le,[w(u(t.FINAL_CONFIG.translations.totalRows)+" : "+u(a.dataset.body.length)+" | "+u(t.FINAL_CONFIG.translations.paginatorLabel)+" : ",1),e.bodyCopy.length>10?L((l(),c("select",{key:0,id:"paginatorSelector","onUpdate:modelValue":s[14]||(s[14]=r=>e.itemsPerPage=r),onChange:s[15]||(s[15]=r=>{t.resetSelection(),t.onPageChange()}),style:p("background:".concat(t.FINAL_CONFIG.style.inputs.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.inputs.color,";border:").concat(t.FINAL_CONFIG.style.inputs.border))},[(l(!0),c(C,null,O(e.paginatorOptions,(r,n)=>(l(),c(C,null,[e.bodyCopy.length>r||a.dataset.body.length===r?(l(),c("option",{key:"paginator_option_".concat(n)},u(r),1)):b("",!0)],64))),256))],36)),[[E,e.itemsPerPage,void 0,{number:!0}]]):b("",!0)])):b("",!0),e.itemsPerPage>=250?(l(),c("div",Se,[i("span",{innerHTML:t.icons.warning},null,8,Ae),w(u(t.FINAL_CONFIG.translations.sizeWarning),1)])):b("",!0),t.pages.length>1&&t.pages.length<=10?(l(),c("div",{key:3,class:"vue-ui-table-navigation-indicator",style:p("background:".concat(t.FINAL_CONFIG.style.pagination.navigationIndicator.backgroundColor,";width:calc(").concat(e.currentPage/(t.pages.length-1)*100,"%)"))},null,4)):b("",!0),t.pages.length>1?(l(),c("div",xe,[i("button",{class:"vue-ui-table-navigation",onClick:s[16]||(s[16]=x(r=>t.navigate("previous"),["stop"])),innerHTML:t.icons.chevronLeft,disabled:e.currentPage===0,style:p("background:".concat(t.FINAL_CONFIG.style.pagination.buttons.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.pagination.buttons.color,";opacity:").concat(e.currentPage===0?t.FINAL_CONFIG.style.pagination.buttons.opacityDisabled:1))},null,12,_e),t.pages.length>3?(l(),c(C,{key:0},[i("button",{class:"vue-ui-table-navigation",onClick:s[17]||(s[17]=x(r=>t.navigate(1),["stop"])),disabled:e.currentPage===0,style:p("background:".concat(t.FINAL_CONFIG.style.pagination.buttons.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.pagination.buttons.color,";opacity:").concat(e.currentPage===0?t.FINAL_CONFIG.style.pagination.buttons.opacityDisabled:1))}," 1 ",12,$e),t.pages.length>10?(l(),c("div",Me,[i("label",Ge,u(t.FINAL_CONFIG.translations.page)+" "+u(e.currentPage+1)+" / "+u(t.pages.length),1),i("input",{class:"vue-ui-table-page-scroller",id:"pageScroller",type:"range",step:"1",min:0,max:t.pages.length-1,onInput:s[18]||(s[18]=r=>t.updateCurrentPage(r)),value:e.currentPage,style:p("background:".concat(t.FINAL_CONFIG.style.inputs.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.inputs.color,";border:").concat(t.FINAL_CONFIG.style.inputs.border,";accent-color:").concat(t.FINAL_CONFIG.style.inputs.accentColor))},null,44,De)])):(l(),c("span",Te,u(t.FINAL_CONFIG.translations.page)+" "+u(e.currentPage+1)+" / "+u(t.pages.length),1)),i("button",{class:"vue-ui-table-navigation",onClick:s[19]||(s[19]=x(r=>t.navigate(t.pages.length),["stop"])),disabled:e.currentPage===t.pages.length-1,style:p("background:".concat(t.FINAL_CONFIG.style.pagination.buttons.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.pagination.buttons.color,";opacity:").concat(e.currentPage===t.pages.length-1?t.FINAL_CONFIG.style.pagination.buttons.opacityDisabled:1))},u(t.pages.length),13,Pe)],64)):(l(),c(C,{key:1},[w(u(t.FINAL_CONFIG.translations.page)+" "+u(e.currentPage+1)+" / "+u(t.pages.length),1)],64)),i("button",{class:"vue-ui-table-navigation",onClick:s[20]||(s[20]=x(r=>t.navigate("next"),["stop"])),innerHTML:t.icons.chevronRight,disabled:e.currentPage===t.pages.length-1,style:p("background:".concat(t.FINAL_CONFIG.style.pagination.buttons.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.pagination.buttons.color,";opacity:").concat(e.currentPage===t.pages.length-1?t.FINAL_CONFIG.style.pagination.buttons.opacityDisabled:1))},null,12,Be)])):b("",!0),e.showChart&&t.canChart?(l(),c("div",{key:5,class:"vue-ui-table-chart-modal",style:p("width: ".concat(e.modalWidth,"px;top:").concat(e.clientY,"px; left:").concat(e.clientX,"px;background:").concat(t.FINAL_CONFIG.style.chart.modal.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.chart.modal.color))},[i("div",{class:"modal-drag-handle",onMousedown:s[22]||(s[22]=(...r)=>t.dragMouseDown&&t.dragMouseDown(...r))},[i("span",{innerHTML:t.icons.grip},null,8,Ee),i("button",{class:"close-chart-modal",onClick:s[21]||(s[21]=r=>e.showChart=!1)},"✖")],32),i("button",{style:p([{"z-index":"1"},"background:".concat(t.FINAL_CONFIG.style.closeButtons.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.closeButtons.color,";border-radius:").concat(t.FINAL_CONFIG.style.closeButtons.borderRadius)]),class:"close-chart-modal",onClick:s[23]||(s[23]=r=>e.showChart=!1)}," ✖ ",4),i("div",He,[t.availableDonutCategories.length?(l(),c("button",{key:0,onClick:s[24]||(s[24]=r=>e.showDonutOptions=!0),innerHTML:t.icons.donut,class:I({"is-active-chart":e.chart.type===e.constants.DONUT||e.showDonutOptions}),style:p("background:".concat(e.chart.type===e.constants.DONUT||e.showDonutOptions?t.FINAL_CONFIG.style.chart.modal.buttons.selected.backgroundColor:t.FINAL_CONFIG.style.chart.modal.buttons.unselected.backgroundColor,";color:").concat(e.chart.type===e.constants.DONUT||e.showDonutOptions?t.FINAL_CONFIG.style.chart.modal.buttons.selected.color:t.FINAL_CONFIG.style.chart.modal.buttons.unselected.color))},null,14,ze)):b("",!0),i("button",{onClick:s[25]||(s[25]=r=>{e.chart.type=e.constants.LINE,e.showDonutOptions=!1}),innerHTML:t.icons.chart,class:I({"is-active-chart":e.chart.type===e.constants.LINE&&!e.showDonutOptions}),style:p("background:".concat(e.chart.type===e.constants.LINE&&!e.showDonutOptions?t.FINAL_CONFIG.style.chart.modal.buttons.selected.backgroundColor:t.FINAL_CONFIG.style.chart.modal.buttons.unselected.backgroundColor,";color:").concat(e.chart.type===e.constants.LINE&&!e.showDonutOptions?t.FINAL_CONFIG.style.chart.modal.buttons.selected.color:t.FINAL_CONFIG.style.chart.modal.buttons.unselected.color))},null,14,Re),i("button",{onClick:s[26]||(s[26]=r=>{e.chart.type=e.constants.BAR,e.showDonutOptions=!1}),innerHTML:t.icons.bar,class:I({"is-active-chart":e.chart.type===e.constants.BAR&&!e.showDonutOptions}),style:p("background:".concat(e.chart.type===e.constants.BAR&&!e.showDonutOptions?t.FINAL_CONFIG.style.chart.modal.buttons.selected.backgroundColor:t.FINAL_CONFIG.style.chart.modal.buttons.unselected.backgroundColor,";color:").concat(e.chart.type===e.constants.BAR&&!e.showDonutOptions?t.FINAL_CONFIG.style.chart.modal.buttons.selected.color:t.FINAL_CONFIG.style.chart.modal.buttons.unselected.color))},null,14,je)]),i("div",Ue,[e.showDonutOptions&&t.availableDonutCategories.length?(l(),c("div",{key:0,style:p("background:".concat(t.FINAL_CONFIG.style.chart.modal.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.chart.modal.color))},[i("fieldset",Ve,[i("legend",null,u(t.FINAL_CONFIG.translations.chooseCategoryColumn),1),i("div",Xe,[(l(!0),c(C,null,O(t.availableDonutCategories,(r,n)=>(l(),c("div",{key:"donut_radio_".concat(n),class:"vue-ui-table-fieldset-option"},[i("input",{type:"radio",name:r.name,id:r.name,checked:e.selectedDonutCategory&&r.name===e.selectedDonutCategory.name,onInput:h=>e.selectedDonutCategory=t.availableDonutCategories[n],style:p("background:".concat(t.FINAL_CONFIG.style.inputs.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.inputs.color,";border:").concat(t.FINAL_CONFIG.style.inputs.border,";accent-color:").concat(t.FINAL_CONFIG.style.inputs.accentColor))},null,44,We),i("label",{for:r.name},u(r.name),9,Ye)]))),128))]),i("button",{class:"vue-ui-table-generate-donut",disabled:!e.selectedDonutCategory,onClick:s[27]||(s[27]=(...r)=>t.applyDonutOption&&t.applyDonutOption(...r)),style:p("background:".concat(t.FINAL_CONFIG.style.chart.modal.buttons.selected.backgroundColor,";color:").concat(t.FINAL_CONFIG.style.chart.modal.buttons.selected.color))},[i("div",{style:{"margin-bottom":"-3px"},innerHTML:t.icons.donut},null,8,Ke),w(" "+u(t.FINAL_CONFIG.translations.makeDonut),1)],12,Je)])],4)):b("",!0),[e.constants.BAR,e.constants.LINE].includes(e.chart.type)&&!e.showDonutOptions?(l(),c(C,{key:1},[t.chartTimeLabelOptions.length>1?(l(),c("label",qe,[w(u(t.FINAL_CONFIG.translations.xAxisLabels)+" ",1),L(i("select",{"onUpdate:modelValue":s[28]||(s[28]=r=>e.chartTimeLabelSourceModel=r)},[(l(!0),c(C,null,O(t.chartTimeLabelOptions,r=>(l(),c("option",null,u(r),1))),256))],512),[[E,e.chartTimeLabelSourceModel]])])):b("",!0),i("div",Ze,[e.chart.type===e.constants.LINE?(l(),H(y,{key:"chart_line_".concat(e.chartStep),dataset:t.chartData.xyDatasetLine,config:t.chartData.xyConfig},null,8,["dataset","config"])):b("",!0),e.chart.type===e.constants.BAR?(l(),H(y,{key:"chart_bar_".concat(e.chartStep),dataset:t.chartData.xyDatasetBar,config:t.chartData.xyConfig},null,8,["dataset","config"])):b("",!0)]),e.currentSelectionSpan.rows.length>=2?(l(),c("div",{key:1,class:"chart-trend",style:p("color:".concat(t.FINAL_CONFIG.style.chart.modal.color))},[s[38]||(s[38]=i("span",null,"---",-1)),w(" Trend: "+u(t.dataLabel({v:t.chartData.progression.trend*100,s:"%",r:1})),1)],4)):b("",!0)],64)):b("",!0),[e.constants.DONUT].includes(e.chart.type)&&!e.showDonutOptions?(l(),c("div",Qe,[B(k,{dataset:e.currentDonut,config:t.chartData.donutConfig},null,8,["dataset","config"])])):b("",!0)],512)],4)):b("",!0)],4)}const wo=X(G,[["render",to],["__scopeId","data-v-8f72e543"]]);export{wo as default};
