
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Tooltip-68Yi_FFl-CRPaJsgv.js","./vue-data-ui-BN9YfUec.js","./index-DXZKKOp8.js","./index-B7kifsnL.css","./alert-l5XlVwCh.js","./vue-data-ui-D1HaM8UR.css","./vue-ui-accordion-UpZ765hd-DndPzmcD.js","./useNestedProp-dJX_8vvZ-BzBW50KN.js","./DataTable-BT7VF2ua-Cw2NNXsE.js","./Shape-CNXKB8O0-BJGuTKHC.js","./PenAndPaper-DSvu9dwa-B6YjX2xm.js","./ColorPicker-J5wOPCeB-sgb_Bfch.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./UserOptions-1OZ3jcm6-BbpzMig3.js","./img-BecE5qXd-CsL1o-EN.js","./dom-to-png--BNgrTZV-DTUrW_sQ.js","./PackageVersion-TgflyMpU-q2MkeeNq.js","./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"])))=>i.map(i=>d[i]);
import{c4 as mt,J as W,e as h,a7 as ht,K as oe,au as Xe,E as pt,av as ft,b_ as G,c as z,o as w,z as le,A as N,g as we,u as r,c0 as Ye,h as _,r as M,j as ne,k as se,O as ke,n as Ue,f as xe,F as gt,R as bt,t as Se,l as He,m as yt,N as wt,a9 as We,c1 as j}from"./index-DXZKKOp8.js";import{S as kt,E as xt,M as Ct}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{s as $t,Q as Ge,A as _t,ar as Mt,c as Tt,v as At,m as Ce,g as je,p as Ze,b as St,f as Ft,y as Ot,e as Pt,r as It,F as zt}from"./vue-data-ui-BN9YfUec.js";import{t as Et,o as qe}from"./useNestedProp-dJX_8vvZ-BzBW50KN.js";import{S as Dt,T as Rt}from"./BaseScanner-BgWxam9d-B19ueoDW.js";import{m as Vt}from"./usePrinter-DTzqpYKF-D5mkxXp9.js";import{O as Nt}from"./useSvgExport-DrjCWun4-CbW14PXm.js";import{a as Bt}from"./useUserOptionState-BIvW1Kz7-D6llU1BK.js";import{o as Lt}from"./useChartAccessibility-9icAAmYg-BcUQIUvr.js";import Xt from"./img-BecE5qXd-CsL1o-EN.js";import Yt from"./Title-BWp-37K_-BMUMQpSO.js";import{J as Ut}from"./themes-AUNCOb2G-RAhReTPj.js";import{U as Ht}from"./usePanZoom-BVca3eMk-KlxwgtHA.js";import"./alert-l5XlVwCh.js";import"./dom-to-png--BNgrTZV-DTUrW_sQ.js";function Wt(k,y){const{width:d,height:p}=k,c=y.getImageData(0,0,d,p).data;let m=d,l=p,o=0,i=0,x=!1;for(let b=0;b<p;b+=1)for(let v=0;v<d;v+=1)c[(b*d+v)*4+3]>1&&(x=!0,v<m&&(m=v),v>o&&(o=v),b<l&&(l=b),b>i&&(i=b));return x?[m,l,o,i]:[0,0,0,0]}function Qe({word:k,fontSize:y,pad:d,canvas:p,ctx:c,svg:m}){c.save(),c.font="".concat(m.style&&m.style.bold?"bold ":"").concat(y,"px Arial");const l=c.measureText(k.name),o=Math.ceil(l.width)+2+(d?d*2:0),i=Math.ceil(y)+2+(d?d*2:0);p.width=o,p.height=i,c.clearRect(0,0,o,i),c.font="".concat(m.style&&m.style.bold?"bold ":"").concat(y,"px Arial"),c.textAlign="center",c.textBaseline="middle",c.fillStyle="black",c.fillText(k.name,o/2,i/2);const x=c.getImageData(0,0,o,i).data,b=[];for(let f=0;f<i;f+=1)for(let E=0;E<o;E+=1)x[(f*o+E)*4+3]>1&&b.push([E,f]);const[v,B,Y,L]=Wt(p,c);return c.restore(),{w:o,h:i,wordMask:b,minX:v,minY:B,maxX:Y,maxY:L}}function Je({mask:k,maskW:y,maskH:d,wx:p,wy:c,wordMask:m}){for(let l=0;l<m.length;l+=1){const o=p+m[l][0],i=c+m[l][1];if(o<0||i<0||o>=y||i>=d||k[i*y+o])return!1}return!0}function Ke({mask:k,maskW:y,maskH:d,wx:p,wy:c,wordMask:m}){for(let l=0;l<m.length;l+=1){const o=p+m[l][0],i=c+m[l][1];o>=0&&i>=0&&o<y&&i<d&&(k[i*y+o]=1)}}function Gt({wordMask:k,w:y,h:d,dilation:p}){const c=new Set(k.map(([l,o])=>"".concat(l,",").concat(o))),m=new Set(c);for(let[l,o]of k)for(let i=-p;i<=p;i+=1)for(let x=-p;x<=p;x+=1){if(i===0&&x===0)continue;const b=l+i,v=o+x;b>=0&&b<y&&v>=0&&v<d&&m.add("".concat(b,",").concat(v))}return Array.from(m).map(l=>l.split(",").map(Number))}function jt({words:k,proximity:y=0,svg:d,strictPixelPadding:p}){const{width:c,height:m}=d,l=Math.round(c),o=Math.round(m),i=1,x=d.minFontSize,b=Math.min(d.maxFontSize,100),v=k.map($=>$.value),B=Math.min(...v),Y=Math.max(...v),L=new Uint8Array(l*o),f=document.createElement("canvas"),E=f.getContext("2d",{willReadFrequently:!0});f.width=l,f.height=o;const me=6,he=2,pe=2,re=1,U=Math.floor(l/2),J=Math.floor(o/2),e=[...k].sort(($,D)=>D.value-$.value),K=[];for(const $ of e){let D=x;Y!==B&&(D=($.value-B)/(Y-B)*(b-x)+x),D=Math.max(x,Math.min(b,D));let S=!1,O=D;for(;!S&&O>=i;){let{w:F,h:P,wordMask:R,minX:H,minY:Z,maxX:q,maxY:Q}=Qe({word:$,fontSize:O,pad:y,canvas:f,ctx:E,svg:d});p&&(R=Gt({wordMask:R,w:F,h:P,dilation:1}));let I=0,X=0;for(;I<Math.max(l,o)&&!S&&X<1e4;){for(let u=0;u<360;u+=me){X+=1;const T=Math.round(U+I*Math.cos(u*Math.PI/180)-F/2),g=Math.round(J+I*Math.sin(u*Math.PI/180)-P/2);if(!(T<0||g<0||T+F>l||g+P>o)&&Je({mask:L,maskW:l,maskH:o,wx:T,wy:g,wordMask:R})){K.push({...$,x:T-l/2,y:g-o/2,fontSize:O,width:F,height:P,angle:0,minX:H,minY:Z,maxX:q,maxY:Q}),Ke({mask:L,maskW:l,maskH:o,wx:T,wy:g,wordMask:R}),S=!0;break}}I+=he}S||(O-=1)}if(!S&&O<i){O=i;const{w:F,h:P,wordMask:R,minX:H,minY:Z,maxX:q,maxY:Q}=Qe({word:$,fontSize:O,pad:y,canvas:f,ctx:E,svg:d});let I=0,X=0;for(;I<Math.max(l,o)&&!S&&X<25e3;){for(let u=0;u<360;u+=pe){X+=1;const T=Math.round(U+I*Math.cos(u*Math.PI/180)-F/2),g=Math.round(J+I*Math.sin(u*Math.PI/180)-P/2);if(!(T<0||g<0||T+F>l||g+P>o)&&Je({mask:L,maskW:l,maskH:o,wx:T,wy:g,wordMask:R})){K.push({...$,x:T-l/2,y:g-o/2,fontSize:O,width:F,height:P,angle:0,minX:H,minY:Z,maxX:q,maxY:Q}),Ke({mask:L,maskW:l,maskH:o,wx:T,wy:g,wordMask:R}),S=!0;break}}I+=re}}}return K.sort(($,D)=>D.fontSize-$.fontSize)}const Zt=["id"],qt=["xmlns","viewBox"],Qt=["width","height"],Jt=["transform"],Kt=["x","y","width","height","onMouseover","onMouseleave","onClick"],ea=["fill","font-weight","x","y","font-size","transform","stroke","stroke-width"],ta={key:3,class:"vue-data-ui-watermark"},aa={key:4,"data-dom-to-png-ignore":"",class:"reset-wrapper"},oa=["innerHTML"],la={__name:"vue-ui-word-cloud",props:{config:{type:Object,default(){return{}}},dataset:{type:[Array,String],default(){return[]}}},setup(k,{expose:y}){mt(t=>({v299e8631:t.slicerColor}));const d=G(()=>j(()=>import("./Tooltip-68Yi_FFl-CRPaJsgv.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),p=G(()=>j(()=>import("./vue-data-ui-BN9YfUec.js").then(t=>t.aw),__vite__mapDeps([1,2,3,4,5]),import.meta.url)),c=G(()=>j(()=>import("./vue-ui-accordion-UpZ765hd-DndPzmcD.js"),__vite__mapDeps([6,2,3,1,4,5,7]),import.meta.url)),m=G(()=>j(()=>import("./DataTable-BT7VF2ua-Cw2NNXsE.js"),__vite__mapDeps([8,2,3,9,1,4,5]),import.meta.url)),l=G(()=>j(()=>import("./PenAndPaper-DSvu9dwa-B6YjX2xm.js"),__vite__mapDeps([10,2,3,1,4,5,11,12]),import.meta.url)),o=G(()=>j(()=>import("./UserOptions-1OZ3jcm6-BbpzMig3.js"),__vite__mapDeps([13,2,3,12,1,4,5,14,15]),import.meta.url)),i=G(()=>j(()=>import("./PackageVersion-TgflyMpU-q2MkeeNq.js"),__vite__mapDeps([16,2,3]),import.meta.url)),x=G(()=>j(()=>import("./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"),__vite__mapDeps([17,2,3,1,4,5]),import.meta.url)),{vue_ui_word_cloud:b}=Et(),v=k,B=W({get(){return!!v.dataset&&v.dataset.length},set(t){return t}}),Y=h(Ge()),L=h(0),f=h(null),E=h(null),me=h(null),he=h(0),pe=h(0),re=h(!1),U=h(null),J=h(null),e=h(Z()),{loading:K,FINAL_DATASET:$,manualLoading:D}=Dt({...ht(v),FINAL_CONFIG:e,prepareConfig:Z,skeletonDataset:[{name:"Lorem",value:6},{name:"ipsum",value:3},{name:"dolor",value:1},{name:"sit",value:3},{name:"amet",value:3},{name:"consectetur",value:2},{name:"adipiscing",value:1},{name:"elit",value:2},{name:"Vivamus",value:2},{name:"pulvinar",value:1},{name:"pretium",value:1},{name:"venenatis",value:2},{name:"Donec",value:1},{name:"imperdiet",value:3},{name:"id",value:1},{name:"porttitor",value:2},{name:"tristique",value:1},{name:"Aenean",value:2},{name:"ac",value:5},{name:"commodo",value:2},{name:"justo",value:2},{name:"Vestibulum",value:2},{name:"placerat",value:1},{name:"molestie",value:1},{name:"nisl",value:1},{name:"lacinia",value:2},{name:"nulla",value:1},{name:"posuere",value:2},{name:"quis",value:3},{name:"ullamcorper",value:1},{name:"eu",value:1},{name:"ex",value:1},{name:"vitae",value:3},{name:"facilisis",value:1},{name:"Aliquam",value:1},{name:"erat",value:1},{name:"volutpat",value:1},{name:"Proin",value:1},{name:"nunc",value:1},{name:"felis",value:1},{name:"gravida",value:3},{name:"sed",value:1},{name:"orci",value:1},{name:"Interdum",value:1},{name:"et",value:1},{name:"malesuada",value:1},{name:"fames",value:1},{name:"ante",value:1}],skeletonConfig:_t({defaultConfig:e.value,userConfig:{userOptions:{show:!1},table:{show:!1},useCssAnimation:!1,animationDelayMs:0,nodeCategories:{},nodeCategoryColors:{},style:{chart:{backgroundColor:"#99999930",words:{color:"#6A6A6A",usePalette:!1,selectedStroke:"#CCCCCC"}}}}})}),S=h(O());function O(){return typeof $.value=="string"?Mt($.value):$.value.map((t,n)=>({...t,value:Tt(t.value)}))}oe(()=>v.dataset,()=>{S.value=O(),$e(),Q()});const{userOptionsVisible:F,setUserOptionsVisibility:P,keepUserOptionState:R}=Bt({config:e.value}),{svgRef:H}=Lt({config:e.value.style.chart.title});function Z(){const t=qe({userConfig:v.config,defaultConfig:b});return t.theme?{...qe({userConfig:Ut.vue_ui_word_cloud[t.theme]||v.config,defaultConfig:t}),customPalette:At[t.theme]||Ce}:t}const q=h({x:0,y:0});function Q(){const t={x:0,y:0,width:Math.max(10,u.value.width),height:Math.max(10,u.value.height)};lt(t),q.value={x:t.x+t.width/2,y:t.y+t.height/2},ye()}const I=kt(()=>{$e()},10),X=h(!1);oe(()=>X.value,t=>{t===!1&&(I(),Q())}),oe(()=>v.config,t=>{e.value=Z(),F.value=!e.value.userOptions.showOnChartHover,Oe(),he.value+=1,pe.value+=1,A.value.showTable=e.value.table.show,A.value.showTooltip=e.value.style.chart.tooltip.show},{deep:!0});const u=h({width:e.value.style.chart.width,height:e.value.style.chart.height,maxFontSize:e.value.style.chart.words.maxFontSize,minFontSize:e.value.style.chart.words.minFontSize,bold:e.value.style.chart.words.bold}),T=xt(()=>{X.value=!0;const{width:t,height:n}=Ct({chart:f.value,title:e.value.style.chart.title.text?E.value:null,source:me.value});requestAnimationFrame(async()=>{u.value.width=Math.max(10,t),u.value.height=Math.max(10,n-12),await We(),X.value=!1})}),g=Xe(null),ee=Xe(null);pt(Oe);const Fe=W(()=>!!e.value.debug);function Oe(){je(v.dataset)?Ze({componentName:"VueUiWordCloud",type:"dataset",debug:Fe.value}):S.value.forEach((t,n)=>{St({datasetObject:t,requiredAttributes:["name","value"]}).forEach(a=>{B.value=!1,Ze({componentName:"VueUiWordCloud",type:"datasetSerieAttribute",property:a,index:n,debug:Fe.value})})}),je(v.dataset)||(D.value=e.value.loading),e.value.responsive&&(g.value&&(ee.value&&g.value.unobserve(ee.value),g.value.disconnect()),g.value=new ResizeObserver(T),ee.value=f.value.parentNode,g.value.observe(ee.value)),Q()}ft(()=>{g.value&&(ee.value&&g.value.unobserve(ee.value),g.value.disconnect())});const{isPrinting:Pe,isImaging:Ie,generatePdf:ze,generateImage:Ee}=Vt({elementId:"wordCloud_".concat(Y.value),fileName:e.value.style.chart.title.text||"vue-ui-word-cloud",options:e.value.userOptions.print}),A=h({showTable:e.value.table.show,showTooltip:e.value.style.chart.tooltip.show});oe(e,()=>{A.value={showTable:e.value.table.show,showTooltip:e.value.style.chart.tooltip.show}},{immediate:!0});function et(t,n,a="Arial"){const s=document.createElement("canvas").getContext("2d");return s.font="".concat(n,"px ").concat(e.value.style.chart.words.bold?"bold":"normal"," ").concat(a),{width:s.measureText(t).width+e.value.style.chart.words.proximity,height:n}}const ie=h([]);oe(()=>v.dataset,$e,{immediate:!0});function $e(){const t=[...S.value].map(C=>C.value),n=Math.max(...t),a=Math.min(...t),s=[...S.value].map((C,V)=>{let de=(C.value-a)/(n-a)*(u.value.maxFontSize-u.value.minFontSize)+u.value.minFontSize;de=isNaN(de)?u.value.minFontSize:de;const Le=et(C.name,de);return{...C,id:Ge(),fontSize:de,width:Le.width,height:Le.height,color:e.value.style.chart.words.usePalette?e.value.customPalette[V]||e.value.customPalette[V%e.value.customPalette.length]||Ce[V]||Ce[V%Ce.length]:e.value.style.chart.words.color}});ie.value=jt({words:s,svg:u.value,proximity:e.value.style.chart.words.proximity,strictPixelPadding:e.value.strictPixelPadding})}const fe=W(()=>{const t=ie.value.map(a=>({name:a.name,color:a.color})),n=ie.value.map(a=>a.value);return{head:t,body:n}});function _e(t=null){We(()=>{const n=fe.value.head.map((C,V)=>[[C.name],[fe.value.body[V]]]),a=[[e.value.style.chart.title.text],[e.value.style.chart.title.subtitle.text],[[""],[e.value.table.columnNames.value]]].concat(n),s=Pt(a);t?t(s):It({csvContent:s,title:e.value.style.chart.title.text||"vue-ui-word-cloud"})})}const ge=W(()=>{const t=[e.value.table.columnNames.series,e.value.table.columnNames.value],n=fe.value.head.map((s,C)=>{const V=Ft({p:e.value.table.td.prefix,v:fe.value.body[C],s:e.value.table.td.suffix,r:e.value.table.td.roundingValue});return[{color:s.color,name:s.name},V]}),a={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint};return{colNames:[e.value.table.columnNames.series,e.value.table.columnNames.value],head:t,body:n,config:a}}),te=h(!1);function De(t){te.value=t,L.value+=1}function tt(){return ie.value}function Re(){A.value.showTable=!A.value.showTable}function Ve(){A.value.showTooltip=!A.value.showTooltip}const ue=h(!1);function Me(){ue.value=!ue.value}const at=W(()=>!ue.value&&e.value.style.chart.zoom.show),{viewBox:be,resetZoom:ye,isZoom:ot,setInitialViewBox:lt}=Ht(H,{x:0,y:0,width:u.value.width<=0?10:u.value.width,height:u.value.height<=0?10:u.value.height},1,at);async function nt({scale:t=2}={}){if(!f.value)return;const{width:n,height:a}=f.value.getBoundingClientRect(),s=n/a,{imageUri:C,base64:V}=await Xt({domElement:f.value,base64:!0,img:!0,scale:t});return{imageUri:C,base64:V,title:e.value.style.chart.title.text,width:n,height:a,aspectRatio:s}}const ve=W(()=>{const t=e.value.table.useDialog&&!e.value.table.show,n=A.value.showTable;return{component:t?x:c,title:"".concat(e.value.style.chart.title.text).concat(e.value.style.chart.title.subtitle.text?": ".concat(e.value.style.chart.title.subtitle.text):""),props:t?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:te.value,fullscreenParent:f.value,forcedWidth:Math.min(500,window.innerWidth*.8)}:{hideDetails:!0,config:{open:n,maxHeight:1e4,body:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color},head:{backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color}}}}});oe(()=>A.value.showTable,t=>{e.value.table.show||(t&&e.value.table.useDialog&&U.value?U.value.open():"close"in U.value&&U.value.close())});function Ne(){A.value.showTable=!1,J.value&&J.value.setTableIconState(!1)}const st=W(()=>e.value.style.chart.backgroundColor),rt=W(()=>e.value.style.chart.title),{exportSvg:it,getSvg:ut}=Nt({svg:H,title:rt,backgroundColor:st});async function Be({isCb:t}){if(t){const{blob:n,url:a,text:s,dataUrl:C}=await ut();e.value.userOptions.callbacks.svg({blob:n,url:a,text:s,dataUrl:C})}else it()}y({getData:tt,getImage:nt,generateCsv:_e,generatePdf:ze,generateImage:Ee,generateSvg:Be,resetZoom:ye,toggleTable:Re,toggleTooltip:Ve,toggleAnnotator:Me,toggleFullscreen:De});const ae=h(null),ce=h(!1),Te=h(""),Ae=h(null);function vt(t,n){ae.value=null,re.value=!1,e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:t,seriesIndex:n})}function ct(t,n){e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:t,seriesIndex:n})}function dt(t,n){if(e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:t,seriesIndex:n}),!A.value.showTooltip)return;ae.value=t.id,Ae.value={datapoint:t,config:e.value};const a=e.value.style.chart.tooltip.customFormat;if(ce.value=!1,zt(a))try{const s=a({datapoint:t,config:e.value});typeof s=="string"&&(Te.value=s,ce.value=!0)}catch(s){console.warn("Custom format cannot be applied."),ce.value=!1}if(!ce.value){let s='<svg viewBox="0 0 10 10" height="'.concat(e.value.style.chart.tooltip.fontSize,'"><circle cx="5" cy="5" r="5" fill="').concat(t.color,'"/></svg><span>').concat(t.name,":</span><b>").concat((t.value||0).toFixed(e.value.style.chart.tooltip.roundingValue),"</b>");Te.value='<div dir="auto" style="display:flex; gap:4px; align-items:center; jsutify-content:center;">'.concat(s,"</div>")}re.value=!0}return(t,n)=>(w(),z("div",{class:"vue-data-ui-component vue-ui-word-cloud",ref_key:"wordCloudChart",ref:f,id:"wordCloud_".concat(Y.value),style:ke("width: 100%; font-family:".concat(e.value.style.fontFamily,";background:").concat(e.value.style.chart.backgroundColor,";").concat(e.value.responsive?"height:100%":"")),onMouseenter:n[2]||(n[2]=()=>r(P)(!0)),onMouseleave:n[3]||(n[3]=()=>r(P)(!1))},[e.value.userOptions.buttons.annotator?(w(),le(r(l),{key:0,svgRef:r(H),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,active:ue.value,onClose:Me},null,8,["svgRef","backgroundColor","color","active"])):N("",!0),e.value.style.chart.title.text?(w(),z("div",{key:1,ref_key:"chartTitle",ref:E,style:"width:100%;background:transparent;padding-bottom:24px"},[(w(),le(Yt,{key:"title_".concat(he.value),config:{title:{...e.value.style.chart.title},subtitle:{...e.value.style.chart.title.subtitle}}},null,8,["config"]))],512)):N("",!0),e.value.userOptions.show&&B.value&&(r(R)||r(F))?(w(),le(r(o),{ref_key:"userOptionsRef",ref:J,key:"user_option_".concat(L.value),backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isPrinting:r(Pe),isImaging:r(Ie),uid:Y.value,hasPdf:e.value.userOptions.buttons.pdf,hasXls:e.value.userOptions.buttons.csv,hasImg:e.value.userOptions.buttons.img,hasSvg:e.value.userOptions.buttons.svg,hasTable:e.value.userOptions.buttons.table,hasFullscreen:e.value.userOptions.buttons.fullscreen,isFullscreen:te.value,titles:{...e.value.userOptions.buttonTitles},chartElement:f.value,position:e.value.userOptions.position,hasTooltip:e.value.style.chart.tooltip.show&&e.value.userOptions.buttons.tooltip,isTooltip:A.value.showTooltip,hasAnnotator:e.value.userOptions.buttons.annotator,isAnnotation:ue.value,callbacks:e.value.userOptions.callbacks,printScale:e.value.userOptions.print.scale,tableDialog:e.value.table.useDialog,onToggleFullscreen:De,onGeneratePdf:r(ze),onGenerateCsv:_e,onGenerateImage:r(Ee),onGenerateSvg:Be,onToggleTable:Re,onToggleTooltip:Ve,onToggleAnnotator:Me,style:ke({visibility:r(R)?r(F)?"visible":"hidden":"visible"})},Ye({_:2},[t.$slots.menuIcon?{name:"menuIcon",fn:_(({isOpen:a,color:s})=>[M(t.$slots,"menuIcon",ne(se({isOpen:a,color:s})),void 0,!0)]),key:"0"}:void 0,t.$slots.optionPdf?{name:"optionPdf",fn:_(()=>[M(t.$slots,"optionPdf",{},void 0,!0)]),key:"1"}:void 0,t.$slots.optionCsv?{name:"optionCsv",fn:_(()=>[M(t.$slots,"optionCsv",{},void 0,!0)]),key:"2"}:void 0,t.$slots.optionImg?{name:"optionImg",fn:_(()=>[M(t.$slots,"optionImg",{},void 0,!0)]),key:"3"}:void 0,t.$slots.optionTable?{name:"optionTable",fn:_(()=>[M(t.$slots,"optionTable",{},void 0,!0)]),key:"4"}:void 0,t.$slots.optionFullscreen?{name:"optionFullscreen",fn:_(({toggleFullscreen:a,isFullscreen:s})=>[M(t.$slots,"optionFullscreen",ne(se({toggleFullscreen:a,isFullscreen:s})),void 0,!0)]),key:"5"}:void 0,t.$slots.optionAnnotator?{name:"optionAnnotator",fn:_(({toggleAnnotator:a,isAnnotator:s})=>[M(t.$slots,"optionAnnotator",ne(se({toggleAnnotator:a,isAnnotator:s})),void 0,!0)]),key:"6"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasPdf","hasXls","hasImg","hasSvg","hasTable","hasFullscreen","isFullscreen","titles","chartElement","position","hasTooltip","isTooltip","hasAnnotator","isAnnotation","callbacks","printScale","tableDialog","onGeneratePdf","onGenerateImage","style"])):N("",!0),(w(),z("svg",{ref_key:"svgRef",ref:H,class:Ue({"vue-data-ui-fullscreen--on":te.value,"vue-data-ui-fulscreen--off":!te.value}),xmlns:r(Ot),viewBox:"".concat(r(be).x," ").concat(r(be).y," ").concat(r(be).width," ").concat(r(be).height),style:"overflow:hidden;background:transparent;"},[we(r(i)),t.$slots["chart-background"]?(w(),z("foreignObject",{key:0,x:0,y:0,width:u.value.width<=0?10:u.value.width,height:u.value.height<=0?10:u.value.height,style:{pointerEvents:"none"}},[M(t.$slots,"chart-background",{},void 0,!0)],8,Qt)):N("",!0),xe("g",{transform:"translate(".concat(q.value.x,", ").concat(q.value.y,")")},[(w(!0),z(gt,null,bt(ie.value,(a,s)=>(w(),z("g",null,[a.minX!==void 0?(w(),z("rect",{key:0,x:a.x+a.minX,y:a.y+a.minY*1.25,width:a.maxX-a.minX,height:a.maxY-a.minY,fill:"transparent","pointer-events":"visiblePainted",onMouseover:C=>dt(a,s),onMouseleave:C=>vt(a,s),onClick:C=>ct(a,s)},null,40,Kt)):N("",!0),(w(),z("text",{fill:a.color,"font-weight":e.value.style.chart.words.bold?"bold":"normal",key:s,x:a.x,y:a.y,"font-size":a.fontSize,transform:"translate(".concat(a.width/2,", ").concat(a.height/2,")"),class:Ue({animated:e.value.useCssAnimation&&!r(K)}),"text-anchor":"middle","dominant-baseline":"central","paint-order":"stroke fill",stroke:!ae.value||ae.value===a.id?e.value.style.chart.words.selectedStroke:void 0,"stroke-width":a.height*.05,"stroke-linecap":"round","stroke-linejoin":"round",style:ke("\n                            animation-delay:".concat(s*e.value.animationDelayMs,"ms !important;\n                            pointer-events:none;\n                            fill-opacity:").concat(!ae.value||ae.value===a.id?1:e.value.style.chart.words.hoverOpacity," !important;\n                            transition:fill-opacity 0.3s ease-in-out !important;\n                        "))},Se(a.name),15,ea))]))),256))],8,Jt),M(t.$slots,"svg",{svg:{height:u.value.height,width:u.value.width}},void 0,!0)],10,qt)),t.$slots.watermark?(w(),z("div",ta,[M(t.$slots,"watermark",ne(se({isPrinting:r(Pe)||r(Ie)})),void 0,!0)])):N("",!0),r(ot)?(w(),z("div",aa,[M(t.$slots,"reset-action",{reset:r(ye)},()=>[xe("button",{"data-cy-reset":"",tabindex:"0",role:"button",class:"vue-data-ui-refresh-button",style:ke({background:e.value.style.chart.backgroundColor}),onClick:n[0]||(n[0]=a=>r(ye)(!0))},[we(r(p),{name:"refresh",stroke:e.value.style.chart.color},null,8,["stroke"])],4)],!0)])):N("",!0),we(r(d),{show:A.value.showTooltip&&re.value,backgroundColor:e.value.style.chart.tooltip.backgroundColor,color:e.value.style.chart.tooltip.color,fontSize:e.value.style.chart.tooltip.fontSize,borderRadius:e.value.style.chart.tooltip.borderRadius,borderColor:e.value.style.chart.tooltip.borderColor,borderWidth:e.value.style.chart.tooltip.borderWidth,backgroundOpacity:e.value.style.chart.tooltip.backgroundOpacity,position:e.value.style.chart.tooltip.position,offsetY:e.value.style.chart.tooltip.offsetY,parent:f.value,content:Te.value,isCustom:ce.value,isFullscreen:te.value,smooth:e.value.style.chart.tooltip.smooth,backdropFilter:e.value.style.chart.tooltip.backdropFilter,smoothForce:e.value.style.chart.tooltip.smoothForce,smoothSnapThreshold:e.value.style.chart.tooltip.smoothSnapThreshold},{"tooltip-before":_(()=>[M(t.$slots,"tooltip-before",ne(se({...Ae.value})),void 0,!0)]),"tooltip-after":_(()=>[M(t.$slots,"tooltip-after",ne(se({...Ae.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","fontSize","borderRadius","borderColor","borderWidth","backgroundOpacity","position","offsetY","parent","content","isCustom","isFullscreen","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),t.$slots.source?(w(),z("div",{key:5,ref_key:"source",ref:me,dir:"auto"},[M(t.$slots,"source",{},void 0,!0)],512)):N("",!0),B.value&&e.value.userOptions.buttons.table?(w(),le(wt(ve.value.component),yt({key:6},ve.value.props,{ref_key:"tableUnit",ref:U,onClose:Ne}),Ye({content:_(()=>[(w(),le(r(m),{key:"table_".concat(pe.value),colNames:ge.value.colNames,head:ge.value.head,body:ge.value.body,config:ge.value.config,title:e.value.table.useDialog?"":ve.value.title,withCloseButton:!e.value.table.useDialog,onClose:Ne},{th:_(({th:a})=>[xe("div",{innerHTML:a,style:{display:"flex","align-items":"center"}},null,8,oa)]),td:_(({td:a})=>[He(Se(a.name||a),1)]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))]),_:2},[e.value.table.useDialog?{name:"title",fn:_(()=>[He(Se(ve.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:_(()=>[xe("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:n[1]||(n[1]=a=>_e(e.value.userOptions.callbacks.csv))},[we(r(p),{name:"excel",stroke:ve.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):N("",!0),r(K)?(w(),le(Rt,{key:7})):N("",!0)],44,Zt))}},wa=$t(la,[["__scopeId","data-v-a81c2cdf"]]);export{wa as default};
