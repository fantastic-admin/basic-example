
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DataTable-BT7VF2ua-Cw2NNXsE.js","./index-DXZKKOp8.js","./index-B7kifsnL.css","./Shape-CNXKB8O0-BJGuTKHC.js","./vue-data-ui-BN9YfUec.js","./alert-l5XlVwCh.js","./vue-data-ui-D1HaM8UR.css","./Tooltip-68Yi_FFl-CRPaJsgv.js","./UserOptions-1OZ3jcm6-BbpzMig3.js","./vClickOutside-C6WiFswA-B2BXHGcD.js","./img-BecE5qXd-CsL1o-EN.js","./dom-to-png--BNgrTZV-DTUrW_sQ.js","./vue-ui-table-sparkline-DCll7_tQ-snPTNm9H.js","./useNestedProp-dJX_8vvZ-BzBW50KN.js","./usePrinter-DTzqpYKF-D5mkxXp9.js","./useUserOptionState-BIvW1Kz7-D6llU1BK.js","./themes-AUNCOb2G-RAhReTPj.js","./PackageVersion-TgflyMpU-q2MkeeNq.js","./PenAndPaper-DSvu9dwa-B6YjX2xm.js","./ColorPicker-J5wOPCeB-sgb_Bfch.js","./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"])))=>i.map(i=>d[i]);
import{ab as Yo,e as x,J as b,E as qa,a7 as jo,K as Ca,at as Mt,av as wl,a9 as Ct,b_ as je,c as s,o as r,z as Ae,A as h,f as y,g as da,u as c,O as _,c0 as zt,h as le,r as G,j as aa,k as la,n as ta,F as d,R as L,m as oa,t as te,bn as Go,l as It,w as Wo,c3 as Xo,N as qo,c1 as Ge,ad as Uo}from"./index-DXZKKOp8.js";import{s as Zo,Q as $l,p as Ll,A as Qo,C as Jo,j as za,ad as ia,a as Tt,m as Ot,ae as Ua,ab as P,af as Sl,l as Ko,ag as ei,c as B,n as Nt,z as Vt,X as Ft,_ as Bt,ah as ai,ai as Rt,aj as Ht,I as ue,ak as li,F as Pt,h as ti,E as Dt,H as Ne,f as Ve,G as ua,O as Me,a4 as oi,K as We,al as Za,a9 as we,S as ii,am as Xe,v as ui,L as ge,g as Et,e as ri,r as si,R as ha}from"./vue-data-ui-BN9YfUec.js";import{E as ni}from"./useResponsive-DfdjqQps-DzVAt69W.js";import{t as vi,o as Qa}from"./useNestedProp-dJX_8vvZ-BzBW50KN.js";import{m as ci}from"./usePrinter-DTzqpYKF-D5mkxXp9.js";import{S as di,T as hi}from"./BaseScanner-BgWxam9d-B19ueoDW.js";import{F as Yt,V as pi,O as gi}from"./useTimeLabels-BGFjWgrv-C_AB8TRS.js";import{O as fi}from"./useSvgExport-DrjCWun4-CbW14PXm.js";import{S as mi}from"./useTimeLabelCollider-CIsgDrl9-CjJy_OeC.js";import bi from"./img-BecE5qXd-CsL1o-EN.js";import xi from"./Title-BWp-37K_-BMUMQpSO.js";import{J as yi}from"./themes-AUNCOb2G-RAhReTPj.js";import{w as Ja}from"./Shape-CNXKB8O0-BJGuTKHC.js";import{u as ki}from"./SlicerPreview-ij72TAs6-Cxp5eJgP.js";import wi from"./vue-ui-accordion-UpZ765hd-DndPzmcD.js";import"./alert-l5XlVwCh.js";import"./dom-to-png--BNgrTZV-DTUrW_sQ.js";const $i=["id"],Li=["id"],Si=["viewBox","aria-label"],_i=["x","y","width","height"],Ai={key:1},Mi={class:"vue-ui-xy-grid"},Ci=["stroke","x1","x2","y1","y2"],zi=["stroke","x1","x2","y1","y2"],Ii={key:1},Ti=["x1","x2","y1","y2","stroke"],Oi=["x1","x2","y1","y2","stroke"],Ni=["x1","x2","y1","y2","stroke"],Vi={key:3},Fi=["d","stroke"],Bi={key:4},Ri=["d","stroke"],Hi=["id"],Pi=["stop-color"],Di=["stop-color"],Ei=["stop-color"],Yi=["id"],ji=["stop-color"],Gi=["stop-color"],Wi=["stop-color"],Xi=["id"],qi=["stop-color"],Ui=["stop-color"],Zi=["id"],Qi=["stop-color"],Ji=["stop-color"],Ki=["id"],eu=["stop-color"],au=["stop-color"],lu=["x","y","height","width","fill"],tu=["x","y","width"],ou={key:0},iu=["x","y","height","width","fill"],uu=["x","y","height","width","rx","fill","stroke","stroke-width"],ru=["x","y","height","width","rx","fill","stroke","stroke-width"],su=["width","x","y"],nu=["stroke","x1","x2","y1","y2"],vu={key:3},cu=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],du=["x","y","width","height","stroke","stroke-width","stroke-linecap","stroke-linejoin","stroke-dasharray"],hu=["x1","x2","y1","y2","stroke","stroke-width"],pu=["fill","font-size","transform"],gu=["x1","x2","y1","y2","stroke"],fu=["x","y","font-size","fill"],mu=["x1","x2","y1","y2","stroke"],bu=["x","y","font-size","fill"],xu=["width","x","y"],yu={style:{width:"100%"}},ku=["d","stroke","stroke-width","stroke-dasharray"],wu=["d","stroke","stroke-width","stroke-dasharray"],$u={key:6},Lu={key:7},Su=["d","fill","fill-opacity"],_u={key:0},Au=["d","fill"],Mu=["d","fill"],Cu=["d","fill"],zu=["d","fill"],Iu=["d","stroke","stroke-width","stroke-dasharray"],Tu=["d","stroke","stroke-width","stroke-dasharray"],Ou=["width","x","y"],Nu={style:{width:"100%"}},Vu={key:8},Fu=["x","y","font-size","fill"],Bu=["x","y","font-size","fill","font-weight"],Ru={key:9},Hu=["x","y","font-size","fill"],Pu={key:10},Du=["x","y"],Eu=["innerHTML"],Yu=["x","y"],ju=["innerHTML"],Gu=["x1","x2","y1","y2","stroke"],Wu={key:11},Xu=["x","y","font-size","fill"],qu={key:12},Uu=["x","y"],Zu=["innerHTML"],Qu=["x","y"],Ju=["innerHTML"],Ku=["x1","x2","y1","y2","stroke"],er=["x","y","font-size","fill","innerHTML"],ar=["x","y","font-size","fill","innerHTML"],lr=["x","y","font-size","fill","innerHTML"],tr=["x","y","font-size","fill","innerHTML"],or={key:0},ir=["id"],ur=["fill","stroke"],rr=["x1","x2","y1","y2","stroke","marker-end"],sr=["x1","x2","y1","y2","stroke","marker-end"],nr=["x","y","font-size","fill","stroke"],vr=["id"],cr=["stop-color"],dr=["stop-color"],hr=["x","y","width","height","fill","onMouseenter"],pr=["font-size","fill","transform"],gr=["x","y","font-size","fill"],fr=["text-anchor","font-size","fill","transform","onClick"],mr=["text-anchor","font-size","fill","transform","innerHTML","onClick"],br={key:15},xr=["x1","y1","x2","y2","stroke","stroke-width","stroke-dasharray"],yr=["x1","y1","x2","y2","stroke","stroke-width","stroke-dasharray"],kr=["y","x","width","height","fill"],wr=["id","x","y","font-size","fill","text-anchor"],$r={key:16,style:{"pointer-events":"none"}},Lr=["x","y"],Sr=["innerHTML"],_r=["cx","cy","r","fill"],Ar=["data-start","data-end"],Mr={key:4,class:"vue-data-ui-watermark"},Cr={class:"vue-ui-xy-tag-arrow",height:"20",viewBox:"0 0 10 20",style:{position:"absolute",right:"100%",top:"50%",transform:"translateY(-50%)"}},zr=["fill"],Ir=["innerHTML"],Tr={class:"vue-ui-xy-tag-arrow",height:"100%",viewBox:"0 0 10 20",style:{position:"absolute",left:"100%",top:"50%",transform:"translateY(-50%)"}},Or=["fill"],Nr=["innerHTML"],Vr={class:"vue-ui-xy-tag-arrow",height:"20",viewBox:"0 0 10 20",style:{position:"absolute",right:"100%",top:"50%",transform:"translateY(-50%)"}},Fr=["fill"],Br=["innerHTML"],Rr={class:"vue-ui-xy-tag-arrow",height:"100%",viewBox:"0 0 10 20",style:{position:"absolute",left:"100%",top:"50%",transform:"translateY(-50%)"}},Hr=["fill"],Pr=["innerHTML"],Dr=["id"],Er=["onClick"],Yr={key:0,viewBox:"0 0 20 12",height:"1em",width:"1.43em"},jr=["stroke","fill"],Gr={key:1,viewBox:"0 0 40 40",height:"1em",width:"1em"},Wr=["fill"],Xr=["fill"],qr={key:2,viewBox:"0 0 12 12",height:"1em",width:"1em"},Ur={style:{display:"flex","flex-direction":"row",gap:"6px","align-items":"center","padding-left":"6px"},"data-dom-to-png-ignore":""},Zr=["innerHTML"],Qr={__name:"vue-ui-xy",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}},selectedXIndex:{type:Number,default:void 0}},emits:["selectTimeLabel","selectX","selectLegend"],setup(Ka,{expose:jt,emit:Gt}){const f=Ka,Wt=je(()=>Ge(()=>import("./DataTable-BT7VF2ua-Cw2NNXsE.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url)),Xt=je(()=>Ge(()=>import("./Tooltip-68Yi_FFl-CRPaJsgv.js"),__vite__mapDeps([7,4,1,2,5,6]),import.meta.url)),qt=je(()=>Ge(()=>import("./UserOptions-1OZ3jcm6-BbpzMig3.js"),__vite__mapDeps([8,1,2,9,4,5,6,10,11]),import.meta.url)),_l=je(()=>Ge(()=>import("./vue-data-ui-BN9YfUec.js").then(l=>l.aw),__vite__mapDeps([4,1,2,5,6]),import.meta.url)),Ut=je(()=>Ge(()=>import("./vue-ui-table-sparkline-DCll7_tQ-snPTNm9H.js"),__vite__mapDeps([12,1,2,13,4,5,6,14,15,9,16]),import.meta.url)),Zt=je(()=>Ge(()=>import("./PackageVersion-TgflyMpU-q2MkeeNq.js"),__vite__mapDeps([17,1,2]),import.meta.url)),Qt=je(()=>Ge(()=>import("./PenAndPaper-DSvu9dwa-B6YjX2xm.js"),__vite__mapDeps([18,1,2,4,5,6,19,9]),import.meta.url)),Jt=je(()=>Ge(()=>import("./BaseDraggableDialog-ymf2sfB8-Deu3K0kd.js"),__vite__mapDeps([20,1,2,4,5,6]),import.meta.url)),el=Gt,Al=Yo(),al=Uo(),{vue_ui_xy:pa}=vi(),Ce=x(null),ga=x(null),ze=x(null),ra=x(null),fa=x(null),ma=x(null),Kt=x(null),ll=x(null),tl=x(null),sa=x(null),ol=x(null),il=x(null),Re=x(null),ul=x(null),eo=x(0),O=x(null),Ml=x(!0),ce=x(600),J=x(1e3),Ia=x("0 0 1000 600"),ao=x({x:0,y:0}),ba=x({line:"line",bar:"bar",plot:"plot"}),xa=x(!1),qe=x(!1),Cl=x(!1),Ue=x(null),K=x([]),H=x($l()),zl=x(0),Il=x(0),Tl=x(0),ya=x(!0),rl=x(0),F=x(null),Ol=x(!1),sl=x(!0),Ta=x(!0),re=x(null),Fe=x({}),Oa=x(null),Nl=x(!1),na=x(null),$=x(null),lo=b(()=>({height:ce.value,width:J.value}));function Vl(l){return Number.isFinite(l)?Math.max(0,Math.floor(l)):0}function nl(l,u,v=0){return Number.isFinite(l)&&Number.isFinite(u)&&Math.abs(u)>1e-9?l/u:v}const Fl=x(!1),k=x({xAxis:18,yAxis:12,dataLabels:20,plotLabels:10}),Ie=x({plot:3,line:3});qa(()=>{Nl.value=!0,f.dataset.length&&f.dataset.forEach((l,u)=>{[null,void 0].includes(l.series)&&Ll({componentName:"VueUiXy",type:"datasetSerieAttribute",property:"series (number[])",index:u,debug:ka.value})})});function vl(){if(!Object.keys(f.config||{}).length)return pa;const l=Qa({userConfig:f.config,defaultConfig:pa});return f.config&&ge(f.config,"chart.highlightArea")&&(Array.isArray(f.config.chart.highlightArea)?l.chart.highlightArea=f.config.chart.highlightArea:l.chart.highlightArea=[f.config.chart.highlightArea]),f.config&&ge(f.config,"chart.grid.labels.yAxis.scaleMin")?l.chart.grid.labels.yAxis.scaleMin=f.config.chart.grid.labels.yAxis.scaleMin:l.chart.grid.labels.yAxis.scaleMin=null,f.config&&ge(f.config,"chart.grid.labels.yAxis.scaleMax")?l.chart.grid.labels.yAxis.scaleMax=f.config.chart.grid.labels.yAxis.scaleMax:l.chart.grid.labels.yAxis.scaleMax=null,f.config&&ge(f.config,"chart.zoom.startIndex")?l.chart.zoom.startIndex=f.config.chart.zoom.startIndex:l.chart.zoom.startIndex=null,f.config&&ge(f.config,"chart.zoom.endIndex")?l.chart.zoom.endIndex=f.config.chart.zoom.endIndex:l.chart.zoom.endIndex=null,f.config&&ge(f.config,"chart.grid.labels.yAxis.groupColor")?l.chart.grid.labels.yAxis.groupColor=f.config.chart.grid.labels.yAxis.groupColor:l.chart.grid.labels.yAxis.groupColor=null,f.config&&ge(f.config,"chart.annotations")&&Array.isArray(f.config.chart.annotations)&&f.config.chart.annotations.length?l.chart.annotations=f.config.chart.annotations.map(u=>Qa({defaultConfig:pa.chart.annotations[0],userConfig:u})):l.chart.annotations=[],f.config&&ge(f.config,"chart.grid.position")&&f.config.chart.grid.position==="start"&&f.dataset.length&&f.dataset.some(u=>u.type==="bar")&&(l.chart.grid.position="middle",ge(f.config,"debug")&&console.warn("Vue Data UI - VueUiXy - config.chart.grid.position was overriden to `middle` because your dataset contains a bar")),f.config&&ge(f.config,"chart.grid.labels.yAxis.serieNameFormatter")?l.chart.grid.labels.yAxis.serieNameFormatter=f.config.chart.grid.labels.yAxis.serieNameFormatter:l.chart.grid.labels.yAxis.serieNameFormatter=null,f.config&&ge(f.config,"events.datapointEnter")?l.events.datapointEnter=f.config.events.datapointEnter:l.events.datapointEnter=null,f.config&&ge(f.config,"events.datapointLeave")?l.events.datapointLeave=f.config.events.datapointLeave:l.events.datapointLeave=null,f.config&&ge(f.config,"events.datapointClick")?l.events.datapointClick=f.config.events.datapointClick:l.events.datapointClick=null,f.config&&ge(f.config,"chart.highlightArea")&&(Array.isArray(f.config.chart.highlightArea)?l.chart.highlightArea=f.config.chart.highlightArea.map(u=>Bl({defaultConfig:pa.chart.highlightArea,userConfig:u})):l.chart.highlightArea=Bl({defaultConfig:pa.chart.highlightArea,userConfig:f.config.chart.highlightArea})),l.theme?{...Qa({userConfig:yi.vue_ui_xy[l.theme]||f.config,defaultConfig:l}),customPalette:ui[l.theme]||f.palette}:l}function Bl({defaultConfig:l,userConfig:u}){return Qa({defaultConfig:l,userConfig:u})}const cl=b({get(){return!!f.dataset&&f.dataset.length},set(l){return l}}),e=x(vl()),p=x({dataLabels:{show:!0},showTooltip:!0,showTable:!1,isStacked:!1,useIndividualScale:!1});function dl(){Fl.value?(p.value.isStacked=e.value.chart.grid.labels.yAxis.stacked,p.value.useIndividualScale==null&&(p.value.useIndividualScale=e.value.chart.grid.labels.yAxis.useIndividualScale)):(p.value={dataLabels:{show:!0},showTooltip:e.value.chart.tooltip.show===!0,showTable:e.value.showTable===!0,isStacked:e.value.chart.grid.labels.yAxis.stacked,useIndividualScale:e.value.chart.grid.labels.yAxis.useIndividualScale},Fl.value=!0)}const ka=b(()=>!!e.value.debug),{loading:se,FINAL_DATASET:fe,manualLoading:Na}=di({...jo(f),FINAL_CONFIG:e,prepareConfig:vl,callback:()=>{Promise.resolve().then(async()=>{await Ha(),p.value.showTable=e.value.showTable})},skeletonDataset:[{name:"",series:[0,1,2,3,5,8,13,21,34,55,89,134],type:"line",smooth:!0,color:"#BABABA"},{name:"",series:[0,.5,1,1.5,2.5,4,6.5,10.5,17,27.5,44.5,67],type:"bar",color:"#CACACA"}],skeletonConfig:Qo({defaultConfig:e.value,userConfig:{useCssAnimation:!1,showTable:!1,chart:{annotations:[],highlightArea:[],backgroundColor:"#99999930",grid:{stroke:"#6A6A6A",labels:{show:!1,axis:{yLabel:"",xLabel:""},xAxisLabels:{show:!1},yAxis:{commonScaleSteps:10,useNiceScale:!0,scaleMin:0,scaleMax:134},zeroLine:{show:!0}}},padding:{top:12,bottom:24,left:24,right:24},userOptions:{show:!1},zoom:{show:!1,startIndex:null,endIndex:null}},bar:{serieName:{show:!1},labels:{show:!1},border:{useSerieColor:!1,stroke:"#999999"}},line:{dot:{useSerieColor:!1,fill:"#8A8A8A"},labels:{show:!1}}}})});function to(l){const u=new WeakMap;return(v,...a)=>{let i=u.get(v);const o=JSON.stringify(a);if(i&&i.has(o))return i.get(o);const t=l(v,...a);return i||(i=new Map,u.set(v,i)),i.set(o,t),t}}const oo=to((l,u)=>Sl({data:l,threshold:u})),He=l=>oo(l,e.value.downsample.threshold),Te=b({get:()=>Math.max(...fe.value.map(l=>He(l.series).length)),set:l=>l}),m=x({start:0,end:Te.value}),$e=x({start:0,end:Te.value}),Rl=b(()=>e.value.chart.zoom.preview.enable&&($e.value.start!==m.value.start||$e.value.end!==m.value.end));function Hl(l,u){$e.value[l]=u}function va(){var a,i;const l=Math.max(1,...fe.value.map(o=>He(o.series).length));let u=Math.max(0,Math.min((a=m.value.start)!=null?a:0,l-1)),v=Math.max(u+1,Math.min((i=m.value.end)!=null?i:l,l));(!Number.isFinite(u)||!Number.isFinite(v)||v<=u)&&(u=0,v=l),m.value={start:u,end:v},$e.value.start=u,$e.value.end=v,ze.value&&(ze.value.setStartValue(u),ze.value.setEndValue(v))}const io=b(()=>{const{left:l,top:u,width:v,height:a}=n.value,i=m.value.start,o=m.value.end-i,t=v/o,S=$e.value.start-i,C=$e.value.end-i,g=Math.max(0,Math.min(o,S)),w=Math.max(0,Math.min(o,C));return{x:l+g*t,y:u,width:(w-g)*t,height:a,fill:e.value.chart.zoom.preview.fill,stroke:e.value.chart.zoom.preview.stroke,"stroke-width":e.value.chart.zoom.preview.strokeWidth,"stroke-dasharray":e.value.chart.zoom.preview.strokeDasharray,"stroke-linecap":"round","stroke-linejoin":"round",style:{pointerEvents:"none",transition:"none !important",animation:"none !important"}}});Ca(()=>f.selectedXIndex,l=>{if([null,void 0].includes(f.selectedXIndex)){$.value=null;return}const u=l-m.value.start;u<0||l>=m.value.end?$.value=null:$.value=u!=null?u:null},{immediate:!0});const{isPrinting:hl,isImaging:Pl,generatePdf:Dl,generateImage:El}=ci({elementId:"vue-ui-xy_".concat(H.value),fileName:e.value.chart.title.text||"vue-ui-xy",options:e.value.chart.userOptions.print}),uo=x(!1),Va=b(()=>Jo(e.value.customPalette)),Fa=b(()=>{if(e.value.chart.grid.labels.yAxis.scaleMin!==null)return e.value.chart.grid.labels.yAxis.scaleMin;const l=Math.min(...Be.value.filter(u=>!K.value.includes(u.id)).map(u=>Math.min(...u.series)));return l>0?0:l}),Ba=b(()=>{if(e.value.chart.grid.labels.yAxis.scaleMax)return e.value.chart.grid.labels.yAxis.scaleMax;const l=Math.max(...Be.value.filter(u=>!K.value.includes(u.id)).map(u=>Math.max(...u.series)));return Fa.value===l?l+1:l}),Le=b(()=>e.value.chart.grid.labels.yAxis.useNiceScale?za(Fa.value,Ba.value<0?0:Ba.value,e.value.chart.grid.labels.yAxis.commonScaleSteps):ia(Fa.value,Ba.value<0?0:Ba.value,e.value.chart.grid.labels.yAxis.commonScaleSteps)),wa=b(()=>[null,void 0].includes(e.value.chart.grid.labels.yAxis.scaleMin)?Le.value.min>=0?0:Math.abs(Le.value.min):-Le.value.min),Be=b(()=>Ml.value?fe.value.map((l,u)=>{const v=He(l.series),a="uniqueId_".concat(u);return{...l,slotAbsoluteIndex:u,series:v.map(i=>Ua(i)?i:null).slice(m.value.start,m.value.end),color:Tt(l.color?l.color:Va.value[u]?Va.value[u]:Ot[u]),id:a,scaleLabel:l.scaleLabel||a}}):fe.value),Se=b(()=>Be.value.map((l,u)=>({absoluteIndex:u,...l,series:l.series.map(v=>v+wa.value),absoluteValues:l.series,segregate:()=>ut(l),isSegregated:K.value.includes(l.id)}))),ke=b(()=>Be.value.map((l,u)=>({...l,series:l.series.map(v=>v+wa.value),absoluteValues:l.series})).filter(l=>!K.value.includes(l.id)));function ro(){let l=0;ol.value&&(l=Array.from(ol.value.querySelectorAll("text")).reduce((a,i)=>{const o=i.getComputedTextLength();return(o>a?o:a)+e.value.chart.grid.labels.yAxis.scaleValueOffsetX},0));const u=tl.value?tl.value.getBoundingClientRect().width+e.value.chart.grid.labels.axis.yLabelOffsetX+k.value.yAxis:0,v=e.value.chart.grid.labels.yAxis.crosshairSize;return l+u+v}const pl=x(0),so=ni(l=>{pl.value=l},100);Mt(l=>{const u=sa.value;if(!u)return;const v=new ResizeObserver(a=>{so(a[0].contentRect.height)});v.observe(u),l(()=>v.disconnect())}),wl(()=>{pl.value=0});const Yl=b(()=>{let l=0;ll.value&&(l=ll.value.getBBox().height);let u=0;return sa.value&&(u=pl.value),l+u+k.value.xAxis}),no=b(()=>fe.value.some(l=>l.useProgression)),n=b(()=>{let l=0;const u=36;e.value.chart.grid.labels.show&&(p.value.useIndividualScale&&!p.value.isStacked?l=(fe.value.length-K.value.length)*(e.value.chart.grid.labels.yAxis.labelWidth+u):p.value.useIndividualScale&&p.value.isStacked?l=e.value.chart.grid.labels.yAxis.labelWidth+u:l=ro());const v=e.value.chart.labels.fontSize*1.1,a=no.value?24:6;if(sa.value){const t=sa.value.getBBox().x;t<0&&(l+=Math.abs(t))}const i=J.value-l-e.value.chart.grid.labels.yAxis.crosshairSize-a-e.value.chart.padding.left-e.value.chart.padding.right,o=e.value.chart.grid.position==="middle"?0:i/A.value/2;return{top:e.value.chart.padding.top+v,right:J.value-a-e.value.chart.padding.right,bottom:ce.value-Yl.value-e.value.chart.padding.bottom-e.value.chart.grid.labels.axis.xLabelOffsetY,left:l+e.value.chart.grid.labels.yAxis.crosshairSize-o+e.value.chart.padding.left,height:ce.value-Yl.value-e.value.chart.padding.top-e.value.chart.padding.bottom-v-e.value.chart.grid.labels.axis.xLabelOffsetY,width:i,scaleLabelX:l,individualOffsetX:u}}),vo=b(()=>{const l=e.value.chart.grid.position==="middle"?1:0,u=A.value+l,v=P(n.value.top),a=P(n.value.bottom);return Array.from({length:u}).map((i,o)=>{const t=n.value.width/A.value*o+n.value.left+W.value;return"M".concat(t,",").concat(v," L").concat(t,",").concat(a)}).join(" ")}),co=b(()=>{if(!e.value.chart.grid.labels.xAxis.showCrosshairs)return"";const l=n.value.width/A.value,u=e.value.chart.grid.labels.xAxis.crosshairSize,v=e.value.chart.grid.labels.xAxis.crosshairsAlwaysAtZero;return ml.value.map((a,i)=>{if(!a||!a.text)return null;const o=n.value.left+l*i+l/2,t=v?ne.value-(ne.value===n.value.bottom?0:u/2):n.value.bottom,S=v?ne.value+u/(ne.value===n.value.bottom?1:2):n.value.bottom+u;return"M".concat(o,",").concat(t," L").concat(o,",").concat(S)}).filter(Boolean).join(" ")});function jl(){var l;return!!((l=al==null?void 0:al.vnode.props)!=null&&l.onSelectTimeLabel)}function ho(l,u,v){if(!Oa.value){const a=document.createElement("canvas");Oa.value=a.getContext("2d")}return Oa.value.font="normal ".concat(l,"px sans-serif"),Oa.value}function Gl(){const l=Ce.value.querySelectorAll(".vue-ui-xy-tag");l.length&&Array.from(l).forEach(u=>u.style.opacity="0")}function Ra(l,u,v,a,i){v&&(Fe.value["".concat(l,"_").concat(u,"_").concat(a,"_").concat(i)]=v)}const Wl=x(!1);async function Xl(l=!1){await Ct(),Wl.value=l,Ol.value&&(Ta.value=l)}function gl(){xa.value=!xa.value}const de=b(()=>{const l=Math.max(...fe.value.map(u=>Sl({data:u.series,threshold:e.value.downsample.threshold}).length));return Yt({values:e.value.chart.grid.labels.xAxisLabels.values,maxDatapoints:l,formatter:e.value.chart.grid.labels.xAxisLabels.datetimeFormatter,start:m.value.start,end:m.value.end})}),fl=b(()=>{const l=Math.max(...fe.value.map(u=>Sl({data:u.series,threshold:e.value.downsample.threshold}).length));return Yt({values:e.value.chart.grid.labels.xAxisLabels.values,maxDatapoints:l,formatter:e.value.chart.grid.labels.xAxisLabels.datetimeFormatter,start:0,end:Te.value})}),po=b(()=>{const l=e.value.chart.grid.labels.xAxisLabels.modulo;return de.value.length?Math.min(l,[...new Set(de.value.map(u=>u.text))].length):l}),ml=b(()=>{var C;const l=e.value.chart.grid.labels.xAxisLabels,u=de.value||[],v=fl.value||[],a=(C=m.value.start)!=null?C:0,i=$.value,o=A.value,t=u.map(g=>{var w;return(w=g==null?void 0:g.text)!=null?w:""}),S=v.map(g=>{var w;return(w=g==null?void 0:g.text)!=null?w:""});return Ko(!!l.showOnlyFirstAndLast,!!l.showOnlyAtModulo,Math.max(1,po.value||1),t,S,a,i,o)});function ql(l,u){const v=ke.value.map(a=>({shape:a.shape||null,name:a.name,color:a.color,type:a.type,value:a.absoluteValues.find((i,o)=>o===u),comments:a.comments||[],prefix:a.prefix||e.value.chart.labels.prefix,suffix:a.suffix||e.value.chart.labels.suffix}));el("selectTimeLabel",{datapoint:v,absoluteIndex:l.absoluteIndex,label:l.text})}const A=b(()=>{var u,v;const l=Vl(((u=m.value.end)!=null?u:0)-((v=m.value.start)!=null?v:0));return Math.max(1,l)});function go(l){F.value=l}function Ul(){p.value.isStacked=!p.value.isStacked,p.value.isStacked?p.value.useIndividualScale=!0:p.value.useIndividualScale=e.value.chart.grid.labels.yAxis.useIndividualScale}function bl(l){ka.value&&l.autoScaling&&(e.value.chart.grid.labels.yAxis.useIndividualScale||console.warn("VueUiXy (datapoint: ".concat(l.name,") : autoScaling only works when config.chart.grid.labels.yAxis.useIndividualScale is set to true")),e.value.chart.grid.labels.yAxis.stacked||console.warn("VueUiXy (datapoint: ".concat(l.name,") : autoScaling only works when config.chart.grid.labels.yAxis.stacked is set to true")))}function fo(l,u){var i;const v=Vl(l),a=Array(v).fill(0);for(let o=0;o<u.length&&o<v;o+=1)a[o]=(i=u[o])!=null?i:0;return a}function Zl(l){const u=Math.max(...fe.value.map(v=>He(v.series).length));return l>u?u:l<0||e.value.chart.zoom.startIndex!==null&&l<e.value.chart.zoom.startIndex?e.value.chart.zoom.startIndex!==null?e.value.chart.zoom.startIndex+1:1:l}const $a=x(!1),Ql=x(!1);function Ha(){if(!$a.value){$a.value=!0;try{const{startIndex:l,endIndex:u}=e.value.chart.zoom,v=Math.max(...fe.value.map(o=>He(o.series).length)),a=l!=null?l:0,i=u!=null?Math.min(Zl(u+1),v):v;Pa.value=!0,m.value.start=a,m.value.end=i,$e.value.start=a,$e.value.end=i,va(),Ql.value=!0}finally{queueMicrotask(()=>{Pa.value=!1}),$a.value=!1}}}const Pa=x(!1);function mo(l){$a.value||Pa.value||l!==m.value.start&&(m.value.start=l,$e.value.start=l,va())}function bo(l){if($a.value||Pa.value)return;const u=Zl(l);u!==m.value.end&&(m.value.end=u,$e.value.end=u,va())}async function xo(){await Ha()}function me(l){return![null,void 0,NaN,1/0,-1/0].includes(l)}const Jl=b(()=>Le.value.max+wa.value);function Ze(l){return l/(me(Jl.value)?Jl.value:1)}const ne=b(()=>isNaN(Ze(wa.value))?n.value.bottom:n.value.bottom-n.value.height*Ze(wa.value));function Kl(l){const u=![null,void 0].includes(e.value.chart.grid.labels.yAxis.scaleMin)&&e.value.chart.grid.labels.yAxis.scaleMin>0&&Fa.value>=0?n.value.bottom:ne.value;return l.value>=0?B(u-l.y<=0?1e-5:u-l.y):B(l.y-ne.value<=0?1e-5:l.y-ne.value)}function et(l){return l.value>=0?B(l.zeroPosition-l.y<=0?1e-5:l.zeroPosition-l.y):B(l.y-l.zeroPosition<=0?1e-5:l.zeroPosition-l.y)}const q=b(()=>{const l=Math.max(1,A.value),u=Math.max(1,n.value.width),v=Math.max(1,Be.value.filter(a=>a.type==="bar"&&!K.value.includes(a.id)).length);return{bar:nl(u,l*v,1),plot:nl(u,l,1),line:nl(u,l,1)}});function Pe(){return p.value.useIndividualScale&&p.value.isStacked?q.value.line-n.value.width/A.value*.1:q.value.bar}function Da(l){return p.value.useIndividualScale&&p.value.isStacked?l.x+n.value.width/A.value*.05:l.x+q.value.bar/2}function at(l){return l.value>=0?l.y:[null,void 0,NaN,1/0,-1/0].includes(ne.value)?n.bottom.value:ne.value}function lt(l){return l.value>=0?l.y:[null,void 0,NaN,1/0,-1/0].includes(l.zeroPosition)?0:l.zeroPosition}const La=x(null);function tt(l){var N;const u=re.value;if(!u)return null;if(u.createSVGPoint&&u.getScreenCTM){const z=u.createSVGPoint();z.x=l.clientX,z.y=l.clientY;const E=u.getScreenCTM();if(E){const I=z.matrixTransform(E.inverse());return{x:I.x,y:I.y,ok:!0}}}const v=u.getBoundingClientRect(),a=((N=u.viewBox)==null?void 0:N.baseVal)||{x:0,y:0,width:v.width,height:v.height},i=Math.min(v.width/a.width,v.height/a.height),o=a.width*i,t=a.height*i,S=(v.width-o)/2,C=(v.height-t)/2,g=(l.clientX-v.left-S)/i+a.x,w=(l.clientY-v.top-C)/i+a.y;return{x:g,y:w,ok:!0}}let Qe=0;function yo(l){xa.value||(Qe&&cancelAnimationFrame(Qe),Qe=requestAnimationFrame(()=>{Qe=0;const u=tt(l);if(!u||!re.value){Ea();return}const{left:v,right:a,top:i,bottom:o,width:t}=n.value;if(u.x<v||u.x>a||u.y<i||u.y>o){Ea();return}const S=u.x-v,C=t/A.value,g=Math.floor(S/C);g>=0&&g<A.value?La.value!==g&&(La.value=g,ft(!0,g)):Ea()}))}function Ea(){Qe&&(cancelAnimationFrame(Qe),Qe=0),La.value=null,ft(!1,null)}function ot(l){const u=tt(l);if(u&&re.value){const{left:v,right:a,top:i,bottom:o,width:t}=n.value;if(u.x>=v&&u.x<=a&&u.y>=i&&u.y<=o){const S=t/Math.max(1,A.value),C=Math.floor((u.x-v)/S);if(C>=0&&C<A.value){it(C);return}}}La.value!=null&&it(La.value)}function it(l){const u=ke.value.map(v=>({name:v.name,value:[null,void 0,NaN].includes(v.absoluteValues[l])?null:v.absoluteValues[l],color:v.color,type:v.type}));el("selectX",{dataset:u,index:l,indexLabel:e.value.chart.grid.labels.xAxisLabels.values[l]}),e.value.events.datapointClick&&e.value.events.datapointClick({datapoint:u,seriesIndex:l+m.value.start})}function ko(){return Se.value.map(l=>({values:l.absoluteValues,color:l.color,name:l.name,type:l.type}))}async function wo({scale:l=2}={}){if(!Ce.value)return;const{width:u,height:v}=Ce.value.getBoundingClientRect(),a=u/v,{imageUri:i,base64:o}=await bi({domElement:Ce.value,base64:!0,img:!0,scale:l});return{imageUri:i,base64:o,title:e.value.chart.title.text,width:u,height:v,aspectRatio:a}}function ut(l){if(K.value.includes(l.id))K.value=K.value.filter(u=>u!==l.id);else{if(K.value.length+1===Be.value.length)return;K.value.push(l.id)}el("selectLegend",ke.value.map(u=>({name:u.name,values:u.absoluteValues,color:u.color,type:u.type}))),rl.value+=1}const $o=b(()=>{const l=e.value.chart.title.text||"Chart visualization",u=e.value.chart.title.subtitle.text||"";return"".concat(l,". ").concat(u)}),rt=b(()=>({linePlot:A.value>e.value.line.dot.hideAboveMaxSerieLength})),Lo=b(()=>e.value.chart.userOptions.show&&(!e.value.chart.title.show||!e.value.chart.title.text)),So=b(()=>{if(Array.isArray(e.value.chart.highlightArea))return e.value.chart.highlightArea.map(u=>{const v=Math.min(u.to,Te.value-1);return{...u,span:u.from===v?1:v<u.from?0:v-u.from+1}});const l={...e.value.chart.highlightArea,to:Math.min(e.value.chart.highlightArea.to,Te.value-1)};return[{...l,span:l.from===l.to?1:l.to<l.from?0:l.to-l.from+1}]}),st=b(()=>Ml.value?fe.value.map((l,u)=>({...l,series:He(l.series),id:"uniqueId_".concat(u),color:Tt(l.color?l.color:Va.value[u]?Va.value[u]:Ot[u])})):fe.value),_o=b(()=>ke.value.map(l=>{const u=l.absoluteValues.map(v=>[void 0,null].includes(v)?0:v);return{id:l.id,name:l.name,color:l.color,values:fo(A.value,u)}})),Ao=b(()=>({responsiveBreakpoint:e.value.table.responsiveBreakpoint,roundingValues:e.value.table.rounding,showAverage:!1,showMedian:!1,showTotal:!1,fontFamily:e.value.chart.fontFamily,prefix:e.value.chart.labels.prefix,suffix:e.value.chart.labels.suffix,colNames:de.value.map((l,u)=>e.value.table.useDefaultTimeFormat?l.text:ca.value(u+m.value.start,e.value.table.timeFormat)),thead:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},tbody:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},userOptions:{show:!1},sparkline:{animation:{show:!1}}})),W=b(()=>e.value.chart.grid.position==="middle"?0:n.value.width/A.value/2),Je=b(()=>ei(Se.value.filter(l=>!K.value.includes(l.id)))),M=b(()=>{const l=Object.groupBy(Je.value,v=>v.scaleLabel),u={};for(const[v,a]of Object.entries(l)){const i=a.flatMap(o=>o.absoluteValues);u[v]={min:Math.min(...i)||0,max:Math.max(...i)||1,groupId:"scale_group_".concat($l())}}return u}),Mo=b(()=>{const l=Be.value.filter(u=>u.type==="bar").filter(u=>!K.value.includes(u.id)).length;return n.value.width/A.value/l-Ya.value*l}),Ya=b(()=>q.value.line*e.value.bar.periodGap),ja=b(()=>Math.max(1e-5,Pe()-(p.value.useIndividualScale&&p.value.isStacked?0:Ya.value))),Ga=b(()=>ja.value*Math.min(Math.abs(e.value.bar.innerGap),.95)),Co=b(()=>{if(!e.value.chart.zoom.minimap.show)return[];const l=st.value.filter(i=>!K.value.includes(i.id)),u=Math.max(...l.map(i=>i.series.length)),v=[];for(let i=0;i<u;i+=1)v.push(l.map(o=>o.series[i]||0).reduce((o,t)=>(o||0)+(t||0),0));const a=Math.min(...v);return v.map(i=>i+(a<0?Math.abs(a):0))}),zo=b(()=>e.value.chart.zoom.minimap.show?st.value.map(l=>({...l,isVisible:!K.value.includes(l.id)})):[]),Ke=b(()=>ke.value.map(l=>({slotAbsoluteIndex:l.slotAbsoluteIndex,shape:l.shape||null,name:l.name,color:l.color,type:l.type,value:l.absoluteValues.find((u,v)=>v===$.value),comments:l.comments||[],prefix:l.prefix||e.value.chart.labels.prefix,suffix:l.suffix||e.value.chart.labels.suffix}))),nt=b(()=>Le.value.ticks.map(l=>({y:l>=0?ne.value-n.value.height*Ze(l):ne.value+n.value.height*Ze(Math.abs(l)),value:l,prefix:e.value.chart.labels.prefix,suffix:e.value.chart.labels.suffix}))),vt=b(()=>{const l=e.value.chart.annotations;if(!l||!Array.isArray(l)||l.every(g=>!g.show))return[];const u=l.filter(g=>g.show&&(g.yAxis.yTop!=null||g.yAxis.yBottom!=null));if(!u.length)return[];const{left:v,right:a}=n.value,i=ne.value,o=n.value.height,t=Le.value.min,S=Le.value.max-t,C=g=>{const w=(g-0)/S;return i-w*o};return u.map(g=>{const{yAxis:{yTop:w,yBottom:N,label:z}}=g,E=w!=null&&N!=null&&w!==N,I=w==null?null:C(w),T=N==null?null:C(N),U=ho(z.fontSize);U.font="".concat(z.fontSize,"px sans-serif");const ee=U.measureText(z.text).width,X=z.fontSize,he=(z.position==="start"?v+z.padding.left:a-z.padding.right)+z.offsetX,De=(I!=null&&T!=null?Math.min(I,T):I!=null?I:T)-z.fontSize/3+z.offsetY-z.padding.top;let Oe;z.textAnchor==="middle"?Oe=he-ee/2-z.padding.left:z.textAnchor==="end"?Oe=he-ee-z.padding.right:Oe=he-z.padding.left;const xe=De-X*.75-z.padding.top;return{show:![I,T,xe].includes(NaN),id:"annotation_y_".concat($l()),hasArea:E,areaHeight:E?Math.abs(I-T):0,yTop:I,yBottom:T,config:g.yAxis,x1:v,x2:a,_text:{x:he,y:De},_box:{x:Oe,y:xe,width:ee+z.padding.left+z.padding.right,height:X+z.padding.top+z.padding.bottom,fill:z.backgroundColor,stroke:z.border.stroke,rx:z.border.rx,ry:z.border.ry,strokeWidth:z.border.strokeWidth}}})});function ct(l,u){const v=l[u-1],a=l[u+1];let i=!!v&&!!a&&v.value==null&&a.value==null||!v&&!!a&&a.value==null||!!v&&!a&&v.value==null;return me(l[u].value)&&i&&e.value.line.cutNullValues}const _e=b(()=>{const l=Je.value.filter(t=>["bar","line","plot"].includes(t.type)),u=l.length,v=e.value.chart.grid.labels.yAxis.gap,a=p.value.isStacked,i=a?v*(u-1):0,o=n.value.height-i;return l.filter(t=>t.type==="bar").map((t,S)=>{bl(t);const C=M.value[t.scaleLabel].min,g=M.value[t.scaleLabel].max;t.absoluteValues.filter(R=>![null,void 0].includes(R)).map(R=>(R-C)/(g-C));const w={valueMin:C,valueMax:g<0?0:g},N={max:t.scaleMax||Math.max(...t.absoluteValues)||1,min:t.scaleMin||Math.min(...t.absoluteValues.filter(R=>![void 0,null].includes(R)))>0?0:Math.min(...t.absoluteValues.filter(R=>![null,void 0].includes(R)))},z=t.scaleSteps||e.value.chart.grid.labels.yAxis.commonScaleSteps,E=1.0000001,I=e.value.chart.grid.labels.yAxis.useNiceScale?za(N.min,N.max===N.min?N.max*E:N.max,z):ia(N.min,N.max===N.min?N.max*E:N.max,z),T=e.value.chart.grid.labels.yAxis.useNiceScale?za(w.valueMin,w.valueMax===w.valueMin?w.valueMax*E:w.valueMax,z):ia(w.valueMin,w.valueMax===w.valueMin?w.valueMax*E:w.valueMax,z),U=I.min>=0?0:Math.abs(I.min),ee=0,X=I.max+U,he=T.max+Math.abs(ee),De=t.stackIndex,Oe=u-1-De,xe=a?1-t.cumulatedStackRatio:0,Y=a?o*xe+v*Oe:0,D=a?o*t.stackRatio:n.value.height,ae=n.value.bottom-Y-D*U/X,ye=n.value.bottom-Y-D*ee/he,ve=Se.value.filter(R=>R.type==="bar").filter(R=>!K.value.includes(R.id)).length,Aa=t.series.map((R,Q)=>{const Ye=p.value.useIndividualScale?(t.absoluteValues[Q]+U)/X:Ze(R),ea=p.value.useIndividualScale&&p.value.isStacked?n.value.left+n.value.width/A.value*Q:n.value.left+q.value.bar*S+q.value.bar*Q*ve-Mo.value/2-S*Ya.value;return{yOffset:B(Y),individualHeight:B(D),x:B(ea),y:n.value.bottom-Y-D*Ye,value:t.absoluteValues[Q],zeroPosition:B(ae),individualMax:B(X),comment:t.comments&&t.comments.slice(m.value.start,m.value.end)[Q]||""}}),pe=t.absoluteValues.map(R=>T.min>=0?(R-Math.abs(T.min))/(T.max-Math.abs(T.min)):(R+Math.abs(T.min))/(T.max+Math.abs(T.min))),Ee=t.series.map((R,Q)=>{const Ye=p.value.useIndividualScale&&p.value.isStacked?n.value.left+n.value.width/A.value*Q:n.value.left-q.value.bar/2+q.value.bar*S+q.value.bar*Q*Se.value.filter(ea=>ea.type==="bar").filter(ea=>!K.value.includes(ea.id)).length;return{yOffset:B(Y),individualHeight:B(D),x:B(Ye),y:B(n.value.bottom-B(Y)-(B(D)*pe[Q]||0)),value:t.absoluteValues[Q],zeroPosition:B(ae),individualMax:B(X),comment:t.comments&&t.comments.slice(m.value.start,m.value.end)[Q]||""}}),j=I.ticks.map(R=>({y:R>=0?ae-D*(R/X):ae+D*Math.abs(R)/X,value:R,prefix:t.prefix||e.value.chart.labels.prefix,suffix:t.suffix||e.value.chart.labels.suffix,datapoint:t})),Z=T.ticks.map(R=>{const Q=(R-T.min)/(T.max-T.min);return{y:R>=0?ye-D*Q:ye+D*Q,value:R,prefix:t.prefix||e.value.chart.labels.prefix,suffix:t.suffix||e.value.chart.labels.suffix,datapoint:t}});return M.value[t.scaleLabel].name=t.name,M.value[t.scaleLabel].groupName=t.scaleLabel,M.value[t.scaleLabel].groupColor=e.value.chart.grid.labels.yAxis.groupColor||t.color,M.value[t.scaleLabel].color=t.color,M.value[t.scaleLabel].scaleYLabels=t.autoScaling?Z:j,M.value[t.scaleLabel].zeroPosition=t.autoScaling?ye:ae,M.value[t.scaleLabel].individualMax=t.autoScaling?he:X,M.value[t.scaleLabel].scaleLabel=t.scaleLabel,M.value[t.scaleLabel].id=t.id,M.value[t.scaleLabel].yOffset=Y,M.value[t.scaleLabel].individualHeight=D,M.value[t.scaleLabel].autoScaleYLabels=Z,M.value[t.scaleLabel].unique=Je.value.filter(R=>R.scaleLabel===t.scaleLabel).length===1,{...t,yOffset:Y,autoScaleYLabels:Z,individualHeight:D,scaleYLabels:t.autoScaling?Z:j,individualScale:t.autoScaling?T:I,individualMax:t.autoScaling?he:X,zeroPosition:t.autoScaling?ye:ae,plots:t.autoScaling?Ee:Aa,groupId:M.value[t.scaleLabel].groupId}})}),oe=b(()=>{const l=Je.value.filter(t=>["bar","line","plot"].includes(t.type)),u=l.length,v=e.value.chart.grid.labels.yAxis.gap,a=p.value.isStacked,i=a?v*(u-1):0,o=n.value.height-i;return l.filter(t=>t.type==="line").map((t,S)=>{bl(t);const C=M.value[t.scaleLabel].min,g=M.value[t.scaleLabel].max;t.absoluteValues.filter(V=>![null,void 0].includes(V)).map(V=>(V-C)/(g-C));const w={valueMin:C,valueMax:g},N={max:t.scaleMax||Math.max(...t.absoluteValues)||1,min:t.scaleMin||(Math.min(...t.absoluteValues)>0?0:Math.min(...t.absoluteValues))},z=t.scaleSteps||e.value.chart.grid.labels.yAxis.commonScaleSteps,E=1.0000001,I=e.value.chart.grid.labels.yAxis.useNiceScale?za(N.min,N.max===N.min?N.max*E:N.max,z):ia(N.min,N.max===N.min?N.max*E:N.max,z),T=e.value.chart.grid.labels.yAxis.useNiceScale?za(w.valueMin,w.valueMax===w.valueMin?w.valueMax*E:w.valueMax,z):ia(w.valueMin,w.valueMax===w.valueMin?w.valueMax*E:w.valueMax,z),U=I.min>=0?0:Math.abs(I.min),ee=0,X=I.max+Math.abs(U),he=T.max+Math.abs(ee),De=t.stackIndex,Oe=u-1-De,xe=a?1-t.cumulatedStackRatio:0,Y=a?o*xe+v*Oe:0,D=a?o*t.stackRatio:n.value.height,ae=n.value.bottom-Y-D*U/X,ye=n.value.bottom-Y-D*ee/he,ve=t.series.map((V,ie)=>{const Eo=p.value.useIndividualScale?(t.absoluteValues[ie]+Math.abs(U))/X:Ze(V);return{x:B(n.value.left+q.value.line/2+q.value.line*ie),y:B(n.value.bottom-Y-D*Eo),value:t.absoluteValues[ie],comment:t.comments&&t.comments.slice(m.value.start,m.value.end)[ie]||""}}),Aa=t.absoluteValues.map(V=>T.min>=0?(V-Math.abs(T.min))/(T.max-Math.abs(T.min)):(V+Math.abs(T.min))/(T.max+Math.abs(T.min))),pe=t.series.map((V,ie)=>[void 0,null].includes(t.absoluteValues[ie])?{x:B(n.value.left+q.value.line/2+q.value.line*ie),y:ae,value:t.absoluteValues[ie],comment:t.comments&&t.comments.slice(m.value.start,m.value.end)[ie]||""}:{x:B(n.value.left+q.value.line/2+q.value.line*ie),y:B(n.value.bottom-Y-(D*Aa[ie]||0)),value:t.absoluteValues[ie],comment:t.comments&&t.comments.slice(m.value.start,m.value.end)[ie]||""}),Ee=e.value.line.cutNullValues?Nt(ve):Vt(ve.filter(V=>V.value!==null)),j=e.value.line.cutNullValues?Nt(pe):Vt(pe.filter(V=>V.value!==null)),Z=e.value.line.cutNullValues?Ft(ve):Bt(ve.filter(V=>V.value!==null)),R=e.value.line.cutNullValues?Ft(pe):Bt(pe.filter(V=>V.value!==null)),Q=I.ticks.map(V=>({y:V>=0?ae-D*(V/X):ae+D*Math.abs(V)/X,value:V,prefix:t.prefix||e.value.chart.labels.prefix,suffix:t.suffix||e.value.chart.labels.suffix,datapoint:t})),Ye=T.ticks.map(V=>{const ie=(V-T.min)/(T.max-T.min);return{y:V>=0?ye-D*ie:ye+D*ie,value:V,prefix:t.prefix||e.value.chart.labels.prefix,suffix:t.suffix||e.value.chart.labels.suffix,datapoint:t}});M.value[t.scaleLabel].name=t.name,M.value[t.scaleLabel].groupName=t.scaleLabel,M.value[t.scaleLabel].groupColor=e.value.chart.grid.labels.yAxis.groupColor||t.color,M.value[t.scaleLabel].color=t.color,M.value[t.scaleLabel].scaleYLabels=t.autoScaling?Ye:Q,M.value[t.scaleLabel].zeroPosition=t.autoScaling?ye:ae,M.value[t.scaleLabel].individualMax=t.autoScaling?he:X,M.value[t.scaleLabel].scaleLabel=t.scaleLabel,M.value[t.scaleLabel].id=t.id,M.value[t.scaleLabel].yOffset=Y,M.value[t.scaleLabel].individualHeight=D,M.value[t.scaleLabel].autoScaleYLabels=Ye,M.value[t.scaleLabel].unique=Je.value.filter(V=>V.scaleLabel===t.scaleLabel).length===1;const ea=p.value.useIndividualScale?t.autoScaling?ye:ae:ne.value,Ma=Math.max(Math.max(t.autoScaling?ye:Q.at(-1)?Q.at(-1).y:0,n.value.top),ea);return{...t,yOffset:Y,autoScaleYLabels:Ye,individualHeight:D,scaleYLabels:t.autoScaling?Ye:Q,individualScale:t.autoScaling?T:I,individualMax:t.autoScaling?he:X,zeroPosition:t.autoScaling?ye:ae,curve:t.autoScaling?j:Ee,plots:t.autoScaling?pe:ve,area:t.useArea?p.value.useIndividualScale?e.value.line.cutNullValues?Rt(t.autoScaling?pe:ve,Ma):Ht(t.autoScaling?pe.filter(V=>V.value!==null):ve.filter(V=>V.value!==null),Ma):e.value.line.cutNullValues?Rt(ve,Ma):Ht(ve.filter(V=>V.value!==null),Ma):"",curveAreas:t.useArea?ai(t.autoScaling?e.value.line.cutNullValues?pe:pe.filter(V=>V.value!==null):e.value.line.cutNullValues?ve:ve.filter(V=>V.value!==null),Ma,e.value.line.cutNullValues):[],straight:t.autoScaling?R:Z,groupId:M.value[t.scaleLabel].groupId}})}),be=b(()=>{const l=Je.value.filter(t=>["bar","line","plot"].includes(t.type)),u=l.length,v=e.value.chart.grid.labels.yAxis.gap,a=p.value.isStacked,i=a?v*(u-1):0,o=n.value.height-i;return l.filter(t=>t.type==="plot").map(t=>{bl(t);const S=M.value[t.scaleLabel].min,C=M.value[t.scaleLabel].max;t.absoluteValues.filter(j=>![null,void 0].includes(j)).map(j=>(j-S)/(C-S));const g={valueMin:S,valueMax:C},w={max:t.scaleMax||Math.max(...t.absoluteValues)||1,min:t.scaleMin||Math.min(...t.absoluteValues)>0?0:Math.min(...t.absoluteValues)},N=t.scaleSteps||e.value.chart.grid.labels.yAxis.commonScaleSteps,z=1.0000001,E=ia(w.min,w.max===w.min?w.max*z:w.max,N),I=ia(g.valueMin,g.valueMax===g.valueMin?g.valueMax*z:g.valueMax,N),T=E.min>=0?0:Math.abs(E.min),U=0,ee=E.max+T,X=I.max+Math.abs(U),he=t.stackIndex,De=u-1-he,Oe=a?1-t.cumulatedStackRatio:0,xe=a?o*Oe+v*De:0,Y=a?o*t.stackRatio:n.value.height,D=n.value.bottom-xe-Y*T/ee,ae=n.value.bottom-xe-Y*U/X,ye=t.series.map((j,Z)=>{const R=p.value.useIndividualScale?(t.absoluteValues[Z]+Math.abs(T))/ee:Ze(j);return{x:B(n.value.left+q.value.plot/2+q.value.plot*Z),y:B(n.value.bottom-xe-Y*R),value:t.absoluteValues[Z],comment:t.comments&&t.comments.slice(m.value.start,m.value.end)[Z]||""}}),ve=t.absoluteValues.map(j=>I.min>=0?(j-Math.abs(I.min))/(I.max-Math.abs(I.min)):(j+Math.abs(I.min))/(I.max+Math.abs(I.min))),Aa=t.series.map((j,Z)=>({x:B(n.value.left+q.value.plot/2+q.value.plot*Z),y:B(n.value.bottom-xe-(Y*ve[Z]||0)),value:t.absoluteValues[Z],comment:t.comments&&t.comments.slice(m.value.start,m.value.end)[Z]||""})),pe=E.ticks.map(j=>({y:j>=0?D-Y*(j/ee):D+Y*Math.abs(j)/ee,value:j,prefix:t.prefix||e.value.chart.labels.prefix,suffix:t.suffix||e.value.chart.labels.suffix,datapoint:t})),Ee=I.ticks.map(j=>{const Z=(j-I.min)/(I.max-I.min);return{y:j>=0?ae-Y*Z:ae+Y*Z,value:j,prefix:t.prefix||e.value.chart.labels.prefix,suffix:t.suffix||e.value.chart.labels.suffix,datapoint:t}});return M.value[t.scaleLabel].name=t.name,M.value[t.scaleLabel].groupName=t.scaleLabel,M.value[t.scaleLabel].groupColor=e.value.chart.grid.labels.yAxis.groupColor||t.color,M.value[t.scaleLabel].color=t.color,M.value[t.scaleLabel].scaleYLabels=t.autoScaling?Ee:pe,M.value[t.scaleLabel].zeroPosition=t.autoScaling?ae:D,M.value[t.scaleLabel].individualMax=t.autoScaling?X:ee,M.value[t.scaleLabel].scaleLabel=t.scaleLabel,M.value[t.scaleLabel].id=t.id,M.value[t.scaleLabel].yOffset=xe,M.value[t.scaleLabel].individualHeight=Y,M.value[t.scaleLabel].autoScaleYLabels=Ee,M.value[t.scaleLabel].unique=Je.value.filter(j=>j.scaleLabel===t.scaleLabel).length===1,{...t,yOffset:xe,autoScaleYLabels:Ee,individualHeight:Y,scaleYLabels:t.autoScaling?Ee:pe,individualScale:t.autoScaling?I:E,individualMax:t.autoScaling?X:ee,zeroPosition:t.autoScaling?ae:D,plots:t.autoScaling?Aa:ye,groupId:M.value[t.scaleLabel].groupId}})}),Sa=b(()=>{const l=oe.value.map(o=>({name:o.name,color:o.color,scale:o.individualScale,scaleYLabels:o.scaleYLabels,zero:o.zeroPosition,max:o.individualMax,scaleLabel:o.scaleLabel||"",id:o.id,yOffset:o.yOffset||0,individualHeight:o.individualHeight||n.value.height,autoScaleYLabels:o.autoScaleYLabels})),u=_e.value.map(o=>({name:o.name,color:o.color,scale:o.individualScale,scaleYLabels:o.scaleYLabels,zero:o.zeroPosition,max:o.individualMax,scaleLabel:o.scaleLabel||"",id:o.id,yOffset:o.yOffset||0,individualHeight:o.individualHeight||n.value.height})),v=be.value.map(o=>({name:o.name,color:o.color,scale:o.individualScale,scaleYLabels:o.scaleYLabels,zero:o.zeroPosition,max:o.individualMax,scaleLabel:o.scaleLabel||"",id:o.id,yOffset:o.yOffset||0,individualHeight:o.individualHeight||n.value.height})),a=p.value.useIndividualScale&&!p.value.isStacked?Object.values(M.value):[...l,...u,...v],i=a.flatMap(o=>o).length;return a.flatMap((o,t)=>{let S=0;S=p.value.isStacked?n.value.left:n.value.left/i*(t+1);const C=p.value.useIndividualScale&&!p.value.isStacked?o.unique?o.name:o.groupName:o.name;return{unique:o.unique,id:o.id,groupId:o.groupId,scaleLabel:o.scaleLabel,name:ue(e.value.chart.grid.labels.yAxis.serieNameFormatter,C,C,o),color:p.value.useIndividualScale&&!p.value.isStacked?o.unique?o.color:o.groupColor:o.color,scale:o.scale,yOffset:o.yOffset,individualHeight:o.individualHeight,x:S,yLabels:o.scaleYLabels||o.scale.ticks.map(g=>({y:g>=0?o.zero-o.individualHeight*(g/o.max):o.zero+o.individualHeight*Math.abs(g)/o.max,value:g}))}})}),dt=b(()=>{const l=e.value.line.interLine||{},u=l.pairs||[],v=l.colors||[];if(!u.length)return[];const a=[];return u.forEach((i,o)=>{var z,E,I,T;const[t,S]=Array.isArray(i)?i:[i.a,i.b];if(!t||!S)return;const C=oe.value.find(U=>U.name===t),g=oe.value.find(U=>U.name===S);if(!C||!g||C.type!=="line"||g.type!=="line")return;const w=(E=(z=v==null?void 0:v[o])==null?void 0:z[0])!=null?E:C.color,N=(T=(I=v==null?void 0:v[o])==null?void 0:I[1])!=null?T:g.color;li({lineA:C.plots,lineB:g.plots,smoothA:!!C.smooth,smoothB:!!g.smooth,colorLineA:w,colorLineB:N,sampleStepPx:2,cutNullValues:e.value.line.cutNullValues}).forEach((U,ee)=>{a.push({...U,key:"inter_".concat(t,"_").concat(S,"_").concat(o,"_").concat(ee)})})}),a}),ht=b(()=>({datapoint:Ke.value,seriesIndex:$.value,series:Se.value,bars:_e.value,lines:oe.value,plots:be.value,config:e.value})),ca=b(()=>{const l=e.value.chart.grid.labels.xAxisLabels.datetimeFormatter,u=pi({useUTC:l.useUTC,locale:gi[l.locale]||{months:[],shortMonths:[],days:[],shortDays:[]},januaryAsYear:l.januaryAsYear});return(v,a)=>{var o;const i=(o=e.value.chart.grid.labels.xAxisLabels.values)==null?void 0:o[v];return i==null?"":u.formatDate(new Date(i),a)}}),pt=b(()=>(e.value.chart.grid.labels.xAxisLabels.values||[]).map((l,u)=>({text:ca.value(u,e.value.chart.zoom.timeFormat),absoluteIndex:u}))),Io=b(()=>{let l="",u=Ke.value.map(i=>i.value).filter(i=>Ua(i)&&i!==null).reduce((i,o)=>Math.abs(i)+Math.abs(o),0);const v=de.value[$.value],a=e.value.chart.tooltip.customFormat;if(Pt(a)&&ti(()=>a({absoluteIndex:$.value+m.value.start,seriesIndex:$.value,datapoint:Ke.value,series:Se.value,bars:_e.value,lines:oe.value,plots:be.value,config:e.value})))return a({absoluteIndex:$.value+m.value.start,seriesIndex:$.value,datapoint:Ke.value,series:Se.value,bars:_e.value,lines:oe.value,plots:be.value,config:e.value});if(v&&v.text&&e.value.chart.tooltip.showTimeLabel){const i=ca.value($.value+m.value.start,e.value.chart.tooltip.timeFormat);l+='<div style="padding-bottom: 6px; margin-bottom: 4px; border-bottom: 1px solid '.concat(e.value.chart.tooltip.borderColor,'; width:100%">').concat(e.value.chart.grid.labels.xAxisLabels.datetimeFormatter.enable&&!e.value.chart.tooltip.useDefaultTimeFormat?i:v.text,"</div>")}return Ke.value.forEach(i=>{if(Ua(i.value)){let o="",t="";switch(ba.value[i.type]){case"bar":o='<svg viewBox="0 0 40 40" height="14" width="14">'.concat(Al.pattern?'<rect x="0" y="0" rx="1" stroke="none" height="40" width="40" fill="'.concat(i.color,'" />'):"",'<rect x="0" y="0" rx="1" stroke="none" height="40" width="40" fill="').concat(Al.pattern?"url(#pattern_".concat(H.value,"_").concat(i.slotAbsoluteIndex):i.color,'" /></svg>');break;case"line":!i.shape||!["star","triangle","square","diamond","pentagon","hexagon"].includes(i.shape)?t='<circle cx="10" cy="8" r="4" stroke="'.concat(e.value.chart.tooltip.backgroundColor,'" stroke-width="0.5" fill="').concat(i.color,'" />'):i.shape==="triangle"?t='<path d="'.concat(Ne({plot:{x:10,y:8},radius:4,sides:3,rotation:.52}).path,'" fill="').concat(i.color,'" stroke="').concat(e.value.chart.tooltip.backgroundColor,'" stroke-width="0.5" />'):i.shape==="square"?t='<path d="'.concat(Ne({plot:{x:10,y:8},radius:4,sides:4,rotation:.8}).path,'" fill="').concat(i.color,'" stroke="').concat(e.value.chart.tooltip.backgroundColor,'" stroke-width="0.5" />'):i.shape==="diamond"?t='<path d="'.concat(Ne({plot:{x:10,y:8},radius:4,sides:4,rotation:0}).path,'" fill="').concat(i.color,'" stroke="').concat(e.value.chart.tooltip.backgroundColor,'" stroke-width="0.5" />'):i.shape==="pentagon"?t='<path d="'.concat(Ne({plot:{x:10,y:8},radius:4,sides:5,rotation:.95}).path,'" fill="').concat(i.color,'" stroke="').concat(e.value.chart.tooltip.backgroundColor,'" stroke-width="0.5" />'):i.shape==="hexagon"?t='<path d="'.concat(Ne({plot:{x:10,y:8},radius:4,sides:6,rotation:0}).path,'" fill="').concat(i.color,'" stroke="').concat(e.value.chart.tooltip.backgroundColor,'" stroke-width="0.5" />'):i.shape==="star"&&(t='<polygon stroke="'.concat(e.value.chart.tooltip.backgroundColor,'" stroke-width="0.5" fill="').concat(i.color,'" points="').concat(Dt({plot:{x:10,y:8},radius:4}),'" />')),o='<svg viewBox="0 0 20 12" height="14" width="20"><rect rx="1.5" x="0" y="6.5" stroke="'.concat(e.value.chart.tooltip.backgroundColor,'" stroke-width="0.5" height="3" width="20" fill="').concat(i.color,'" />').concat(t,"</svg>");break;case"plot":if(!i.shape||!["star","triangle","square","diamond","pentagon","hexagon"].includes(i.shape)){o='<svg viewBox="0 0 12 12" height="14" width="14"><circle cx="6" cy="6" r="6" stroke="'.concat(e.value.chart.tooltip.backgroundColor,'" stroke-width="1" fill="').concat(i.color,'" /></svg>');break}if(i.shape==="star"){o='<svg viewBox="0 0 12 12" height="14" width="14"><polygon stroke="'.concat(e.value.chart.tooltip.backgroundColor,'" stroke-width="1" fill="').concat(i.color,'" points="').concat(Dt({plot:{x:6,y:6},radius:5}),'" /></svg>');break}if(i.shape==="triangle"){o='<svg viewBox="0 0 12 12" height="14" width="14"><path d="'.concat(Ne({plot:{x:6,y:6},radius:6,sides:3,rotation:.52}).path,'" fill="').concat(i.color,'" stroke="').concat(e.value.chart.tooltip.backgroundColor,'" stroke-width="1" /></svg>');break}if(i.shape==="square"){o='<svg viewBox="0 0 12 12" height="14" width="14"><path d="'.concat(Ne({plot:{x:6,y:6},radius:6,sides:4,rotation:.8}).path,'" fill="').concat(i.color,'" stroke="').concat(e.value.chart.tooltip.backgroundColor,'" stroke-width="1" /></svg>');break}if(i.shape==="diamond"){o='<svg viewBox="0 0 12 12" height="14" width="14"><path d="'.concat(Ne({plot:{x:6,y:6},radius:5,sides:4,rotation:0}).path,'" fill="').concat(i.color,'" stroke="').concat(e.value.chart.tooltip.backgroundColor,'" stroke-width="1" /></svg>');break}if(i.shape==="pentagon"){o='<svg viewBox="0 0 12 12" height="14" width="14"><path d="'.concat(Ne({plot:{x:6,y:6},radius:5,sides:5,rotation:.95}).path,'" fill="').concat(i.color,'" stroke="').concat(e.value.chart.tooltip.backgroundColor,'" stroke-width="1" /></svg>');break}if(i.shape==="hexagon"){o='<svg viewBox="0 0 12 12" height="14" width="14"><path d="'.concat(Ne({plot:{x:6,y:6},radius:5,sides:6,rotation:0}).path,'" fill="').concat(i.color,'" stroke="').concat(e.value.chart.tooltip.backgroundColor,'" stroke-width="1" /></svg>');break}}l+='<div style="display:flex;flex-direction:row; align-items:center;gap:3px;"><div style="width:20px">'.concat(o,"</div> ").concat(i.name,": <b>").concat(e.value.chart.tooltip.showValue?ue(i.type==="line"?e.value.line.labels.formatter:i.type==="bar"?e.value.bar.labels.formatter:e.value.plot.labels.formatter,i.value,Ve({p:i.prefix,v:i.value,s:i.suffix,r:e.value.chart.tooltip.roundingValue}),{datapoint:i}):"","</b> ").concat(e.value.chart.tooltip.showPercentage?"(".concat(Ve({v:B(Math.abs(i.value)/u*100),s:"%",r:e.value.chart.tooltip.roundingPercentage}),")"):"","</div>"),e.value.chart.comments.showInTooltip&&i.comments.length&&i.comments.slice(m.value.start,m.value.end)[$.value]&&(l+='<div class="vue-data-ui-tooltip-comment" style="background:'.concat(i.color,"20; padding: 6px; margin-bottom: 6px; border-left: 1px solid ").concat(i.color,'">').concat(i.comments.slice(m.value.start,m.value.end)[$.value],"</div>"))}}),'<div style="border-radius:4px;padding:12px;font-variant-numeric: tabular-nums;color:'.concat(e.value.chart.tooltip.color,'">').concat(l,"</div>")}),gt=b(()=>{if(Be.value.length===0)return{head:[],body:[],config:{},columnNames:[]};const l=ke.value.map(v=>({label:v.name,color:v.color,type:v.type})),u=[];return de.value.forEach((v,a)=>{const i=e.value.table.useDefaultTimeFormat?[v.text]:[ca.value(a+m.value.start,e.value.table.timeFormat)];ke.value.forEach(o=>{i.push(me(o.absoluteValues[a])?Number(o.absoluteValues[a].toFixed(e.value.table.rounding)):"")}),u.push(i)}),{head:l,body:u}}),Wa=b(()=>{var o;const l=e.value.table.showSum;let u=[""].concat(ke.value.map(t=>t.name));l&&(u=u.concat(' <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>'));let v=[];for(let t=0;t<A.value;t+=1){const S=ke.value.map(C=>{var g;return(g=C.absoluteValues[t])!=null?g:0}).reduce((C,g)=>C+g,0);v.push([e.value.table.useDefaultTimeFormat?(o=de.value[t].text)!=null?o:"-":ca.value(t+m.value.start,e.value.table.timeFormat)].concat(ke.value.map(C=>{var g,w;return ue(C.type==="line"?e.value.line.labels.formatter:C.type==="bar"?e.value.bar.labels.formatter:e.value.plot.labels.formatter,(g=C.absoluteValues[t])!=null?g:0,Ve({p:C.prefix||e.value.chart.labels.prefix,v:(w=C.absoluteValues[t])!=null?w:0,s:C.suffix||e.value.chart.labels.suffix,r:e.value.table.rounding}))})).concat(l?(S!=null?S:0).toFixed(e.value.table.rounding):[]))}const a={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint},i=[e.value.table.columnNames.period].concat(ke.value.map(t=>t.name)).concat(e.value.table.columnNames.total);return{head:u,body:v,config:a,colNames:i}});function xl(l=null){const u=[[e.value.chart.title.text],[e.value.chart.title.subtitle.text],[""]],v=["",...gt.value.head.map(t=>t.label)],a=gt.value.body,i=u.concat([v]).concat(a),o=ri(i);l?l(o):si({csvContent:o,title:e.value.chart.title.text||"vue-ui-xy"})}function ft(l,u=null){Cl.value=l;const v=ke.value.map(a=>({name:a.name,value:[null,void 0,NaN].includes(a.absoluteValues[u])?null:a.absoluteValues[u],color:a.color,type:a.type}));l?($.value=u,e.value.events.datapointEnter&&e.value.events.datapointEnter({datapoint:v,seriesIndex:u+m.value.start})):($.value=null,e.value.events.datapointLeave&&e.value.events.datapointLeave({datapoint:v,seriesIndex:u+m.value.start}))}function mt(){p.value.showTable=!p.value.showTable}function bt(){p.value.dataLabels.show=!p.value.dataLabels.show}function xt(){p.value.showTooltip=!p.value.showTooltip}function yt(l){qe.value=l,zl.value+=1}function kt(){if(!e.value.responsiveProportionalSizing){k.value.dataLabels=e.value.chart.grid.labels.fontSize,k.value.yAxis=e.value.chart.grid.labels.axis.fontSize,k.value.xAxis=e.value.chart.grid.labels.xAxisLabels.fontSize,k.value.plotLabels=e.value.chart.labels.fontSize,Ie.value.plot=e.value.plot.radius,Ie.value.line=e.value.line.radius;return}k.value.dataLabels=ha({relator:ce.value,adjuster:400,source:e.value.chart.grid.labels.fontSize,threshold:10,fallback:10}),k.value.yAxis=ha({relator:J.value,adjuster:1e3,source:e.value.chart.grid.labels.axis.fontSize,threshold:10,fallback:10}),k.value.xAxis=ha({relator:J.value,adjuster:1e3,source:e.value.chart.grid.labels.xAxisLabels.fontSize,threshold:10,fallback:10}),k.value.plotLabels=ha({relator:J.value,adjuster:800,source:e.value.chart.labels.fontSize,threshold:10,fallback:10}),Ie.value.plot=ha({relator:J.value,adjuster:800,source:e.value.plot.radius,threshold:1,fallback:1}),Ie.value.line=ha({relator:J.value,adjuster:800,source:e.value.line.radius,threshold:1,fallback:1})}function yl(){Et(f.dataset)?(Ll({componentName:"VueUiXy",type:"dataset",debug:ka.value}),Na.value=!0):f.dataset.forEach((u,v)=>{[null,void 0].includes(u.name)&&(Ll({componentName:"VueUiXy",type:"datasetSerieAttribute",property:"name (string)",index:v,debug:ka.value}),Na.value=!0)}),ka.value&&f.dataset.forEach(u=>{u.series.forEach((v,a)=>{Ua(v)||console.warn("VueUiXy has detected an unsafe value in your dataset:\n-----> The serie '".concat(u.name,"' contains the value '").concat(v,"' at index ").concat(a,".\n'").concat(v,"' was converted to null to allow the chart to display."))})}),Et(f.dataset)||(Na.value=e.value.loading),Ol.value=e.value.chart.userOptions.showOnChartHover,sl.value=e.value.chart.userOptions.keepStateOnChartLeave,Ta.value=!e.value.chart.userOptions.showOnChartHover,dl();const l=12;if(e.value.responsive){const u=Ce.value.parentNode;Re.value&&(Re.value.unobserve(ul.value),Re.value.disconnect());const{height:v,width:a}=u.getBoundingClientRect();let i=null,o=0;e.value.chart.title.show&&ga.value&&(i=ga.value,o=i.getBoundingClientRect().height);let t=null,S=0;e.value.chart.zoom.show&&Te.value>6&&cl.value&&ze.value&&ze.value.$el&&(t=ze.value.$el,S=t.getBoundingClientRect().height);let C=null,g=0;e.value.chart.legend.show&&ra.value&&(C=ra.value,g=C.getBoundingClientRect().height);let w=0;fa.value&&(w=fa.value.getBoundingClientRect().height);let N=0;ma.value&&(N=ma.value.getBoundingClientRect().height),ce.value=v-o-g-S-w-N-l,J.value=a,Ia.value="0 0 ".concat(J.value<0?10:J.value," ").concat(ce.value<0?10:ce.value),kt();const z=new ResizeObserver(E=>{for(const I of E)e.value.chart.title.show&&ga.value?o=ga.value.getBoundingClientRect().height:o=0,ze.value&&ze.value.$el?S=ze.value.$el.getBoundingClientRect().height:S=0,ra.value?g=ra.value.getBoundingClientRect().height:g=0,fa.value?w=fa.value.getBoundingClientRect().height:w=0,ma.value?N=ma.value.getBoundingClientRect().height:N=0,requestAnimationFrame(()=>{ce.value=I.contentRect.height-o-g-S-w-N-l,J.value=I.contentBoxSize[0].inlineSize,Ia.value="0 0 ".concat(J.value<0?10:J.value," ").concat(ce.value<0?10:ce.value),kt()})});Re.value=z,ul.value=u,z.observe(u)}else ce.value=e.value.chart.height,J.value=e.value.chart.width,k.value.dataLabels=e.value.chart.grid.labels.fontSize,k.value.yAxis=e.value.chart.grid.labels.axis.fontSize,k.value.xAxis=e.value.chart.grid.labels.xAxisLabels.fontSize,k.value.plotLabels=e.value.chart.labels.fontSize,Ie.value.plot=e.value.plot.radius,Ie.value.line=e.value.line.radius,Ia.value="0 0 ".concat(J.value," ").concat(ce.value)}function wt(l){ao.value={x:l.clientX,y:l.clientY}}qa(()=>{yl(),Ha(),document.addEventListener("mousemove",wt,{passive:!0}),document.addEventListener("scroll",Gl,{passive:!0})}),wl(()=>{document.removeEventListener("scroll",Gl,{passive:!0}),document.removeEventListener("mousemove",wt,{passive:!0}),Re.value&&(Re.value.unobserve(ul.value),Re.value.disconnect(),Re.value=null)}),mi({timeLabelsEls:sa,timeLabels:de,slicer:m,configRef:e,rotationPath:["chart","grid","labels","xAxisLabels","rotation"],autoRotatePath:["chart","grid","labels","xAxisLabels","autoRotate","enable"],isAutoSize:uo,height:ce,width:J,rotation:e.value.chart.grid.labels.xAxisLabels.autoRotate.angle});const Xa=x(!1),$t=x(null),Lt=x(200),To=b(()=>{var l,u;return(u=(l=$.value)!=null?l:F.value)!=null?u:0});function Oo(){const l=Math.ceil(Lt.value||200);return Math.min(Math.max(l,1),200)}function No(){const l=Oo(),u=200,v=Math.max(1,A.value),a=n.value.width/v,i=n.value.left+To.value*a+a/2-l/2-(u-l)/2,o=n.value.left-(u-l)/2,t=n.value.right-(u+l)/2,S=Math.max(o,Math.min(i,t));return B(S)}qa(()=>{let l=null,u=null;const v=o=>{cancelAnimationFrame(u),u=requestAnimationFrame(()=>{Lt.value=Math.min(Math.max(Math.ceil(o||0),1),200)})},a=new ResizeObserver(o=>{let t=o.find(S=>S.target===l)||o[0];t&&v(t.contentRect.width||200)}),i=Mt(o=>{const t=$t.value;l&&l!==t&&(a.unobserve(l),l=null),t&&t!==l&&(Ct(()=>{t.offsetParent!==null&&v(t.offsetWidth||t.getBoundingClientRect().width||200)}),a.observe(t),l=t),o(()=>{l&&(a.unobserve(l),l=null)})});wl(()=>{try{l&&a.unobserve(l),a.disconnect(),i()}catch(o){}})});const Vo=b(()=>{if([null,void 0].includes($.value)&&[null,void 0].includes(F.value))return"";const l=($.value!=null?$.value:0)||(F.value!=null?F.value:0),u=e.value.chart.timeTag.customFormat;if(Xa.value=!1,Pt(u))try{const v=u({absoluteIndex:l+m.value.start,seriesIndex:l,datapoint:Ke.value,bars:_e.value,lines:oe.value,plots:be.value,config:e.value});if(typeof v=="string")return Xa.value=!0,v}catch(v){console.warn("Custom format cannot be applied on timeTag."),Xa.value=!1}if(!Xa.value)return[null,void 0].includes(de.value[l])?"":e.value.chart.grid.labels.xAxisLabels.datetimeFormatter.enable&&!e.value.chart.timeTag.useDefaultFormat?ca.value(l+m.value.start,e.value.chart.timeTag.timeFormat):de.value[l].text});Ca(()=>f.dataset,l=>{Array.isArray(l)&&l.length>0&&(Na.value=!1),Te.value=Math.max(...fe.value.map(u=>He(u.series).length)),m.value={start:0,end:Te.value},eo.value+=1,rl.value+=1,va()},{deep:!0}),Ca(()=>f.config,l=>{se.value||(e.value=vl()),yl(),Tl.value+=1,Il.value+=1,dl(),va()},{deep:!0});const kl=x(!1);function St(){var v;const l=(v=Ce.value)==null?void 0:v.parentNode;if(!l){kl.value=!1;return}const u=l.getBoundingClientRect();kl.value=u.width>2&&u.height>2}qa(()=>{var u;St();const l=new ResizeObserver(()=>{St(),kl.value&&(yl(),va(),Ha())});(u=Ce.value)!=null&&u.parentNode&&l.observe(Ce.value.parentNode)}),Ca(e,()=>{dl()},{immediate:!0});const _a=b(()=>{const l=e.value.table.useDialog&&!e.value.showTable,u=p.value.showTable;return{component:l?Jt:wi,title:"".concat(e.value.chart.title.text).concat(e.value.chart.title.subtitle.text?": ".concat(e.value.chart.title.subtitle.text):""),props:l?{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,headerColor:e.value.table.th.color,headerBg:e.value.table.th.backgroundColor,isFullscreen:qe.value,fullscreenParent:Ce.value,forcedWidth:Math.min(800,window.innerWidth*.8)}:{hideDetails:!0,config:{open:u,maxHeight:1e4,body:{backgroundColor:e.value.chart.backgroundColor,color:e.value.chart.color},head:{backgroundColor:e.value.chart.backgroundColor,color:e.value.chart.color}}}}});Ca(()=>p.value.showTable,l=>{e.value.showTable||(l&&e.value.table.useDialog&&na.value?na.value.open():na.value&&na.value.close&&na.value.close())});function _t(){p.value.showTable=!1,il.value&&il.value.setTableIconState(!1)}const Fo=b(()=>Se.value.map(l=>{var u;return{shape:l.type==="bar"?"square":(u=l.shape)!=null?u:"circle",color:l.color,name:l.name}})),Bo=b(()=>e.value.chart.backgroundColor),Ro=b(()=>e.value.chart.legend),Ho=b(()=>e.value.chart.title),{exportSvg:Po,getSvg:Do}=fi({svg:re,title:Ho,legend:Ro,legendItems:Fo,backgroundColor:Bo});async function At({isCb:l}){if(l){const{blob:u,url:v,text:a,dataUrl:i}=await Do();e.value.chart.userOptions.callbacks.svg({blob:u,url:v,text:a,dataUrl:i})}else Po()}return jt({getData:ko,getImage:wo,generatePdf:Dl,generateImage:El,generateSvg:At,generateCsv:xl,toggleStack:Ul,toggleTable:mt,toggleLabels:bt,toggleTooltip:xt,toggleAnnotator:gl,toggleFullscreen:yt}),(l,u)=>{var v;return r(),s("div",{id:"vue-ui-xy_".concat(H.value),class:ta("vue-data-ui-component vue-ui-xy ".concat(qe.value?"vue-data-ui-wrapper-fullscreen":""," ").concat(e.value.useCssAnimation?"":"vue-ui-dna")),ref_key:"chart",ref:Ce,style:_("background:".concat(e.value.chart.backgroundColor,"; color:").concat(e.value.chart.color,";width:100%;font-family:").concat(e.value.chart.fontFamily,";").concat(e.value.responsive?"height: 100%":"")),onMouseenter:u[6]||(u[6]=()=>Xl(!0)),onMouseleave:u[7]||(u[7]=()=>Xl(!1)),onClick:ot},[e.value.chart.userOptions.buttons.annotator&&re.value?(r(),Ae(c(Qt),{key:0,svgRef:re.value,backgroundColor:e.value.chart.backgroundColor,color:e.value.chart.color,active:xa.value,onClose:gl},null,8,["svgRef","backgroundColor","color","active"])):h("",!0),Lo.value?(r(),s("div",{key:1,ref_key:"noTitle",ref:ma,class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%; background:transparent"},null,512)):h("",!0),e.value.chart.title.show?(r(),s("div",{key:2,ref_key:"chartTitle",ref:ga,class:"vue-ui-xy-title",style:_("font-family:".concat(e.value.chart.fontFamily))},[(r(),Ae(xi,{key:"title_".concat(Tl.value),config:{title:{cy:"xy-div-title",...e.value.chart.title},subtitle:{cy:"xy-div-subtitle",...e.value.chart.title.subtitle}}},null,8,["config"]))],4)):h("",!0),y("div",{id:"legend-top-".concat(H.value)},null,8,Li),e.value.chart.userOptions.show&&(sl.value||Ta.value)?(r(),Ae(c(qt),{ref_key:"userOptionsRef",ref:il,key:"user_options_".concat(zl.value),backgroundColor:e.value.chart.backgroundColor,color:e.value.chart.color,isPrinting:c(hl),isImaging:c(Pl),uid:H.value,hasTooltip:e.value.chart.userOptions.buttons.tooltip&&e.value.chart.tooltip.show,hasPdf:e.value.chart.userOptions.buttons.pdf,hasXls:e.value.chart.userOptions.buttons.csv,hasImg:e.value.chart.userOptions.buttons.img,hasSvg:e.value.chart.userOptions.buttons.svg,hasLabel:e.value.chart.userOptions.buttons.labels,hasTable:e.value.chart.userOptions.buttons.table,hasStack:Ka.dataset.length>1&&e.value.chart.userOptions.buttons.stack,hasFullscreen:e.value.chart.userOptions.buttons.fullscreen,isStacked:p.value.isStacked,isFullscreen:qe.value,chartElement:l.$refs.chart,position:e.value.chart.userOptions.position,isTooltip:p.value.showTooltip,titles:{...e.value.chart.userOptions.buttonTitles},hasAnnotator:e.value.chart.userOptions.buttons.annotator,isAnnotation:xa.value,callbacks:e.value.chart.userOptions.callbacks,tableDialog:e.value.table.useDialog,printScale:e.value.chart.userOptions.print.scale,onToggleFullscreen:yt,onGeneratePdf:c(Dl),onGenerateCsv:xl,onGenerateImage:c(El),onGenerateSvg:At,onToggleTable:mt,onToggleLabels:bt,onToggleStack:Ul,onToggleTooltip:xt,onToggleAnnotator:gl,style:_({visibility:sl.value?Ta.value?"visible":"hidden":"visible"})},zt({_:2},[l.$slots.menuIcon?{name:"menuIcon",fn:le(({isOpen:a,color:i})=>[G(l.$slots,"menuIcon",aa(la({isOpen:a,color:i})),void 0,!0)]),key:"0"}:void 0,l.$slots.optionTooltip?{name:"optionTooltip",fn:le(()=>[G(l.$slots,"optionTooltip",{},void 0,!0)]),key:"1"}:void 0,l.$slots.optionPdf?{name:"optionPdf",fn:le(()=>[G(l.$slots,"optionPdf",{},void 0,!0)]),key:"2"}:void 0,l.$slots.optionCsv?{name:"optionCsv",fn:le(()=>[G(l.$slots,"optionCsv",{},void 0,!0)]),key:"3"}:void 0,l.$slots.optionImg?{name:"optionImg",fn:le(()=>[G(l.$slots,"optionImg",{},void 0,!0)]),key:"4"}:void 0,l.$slots.optionTable?{name:"optionTable",fn:le(()=>[G(l.$slots,"optionTable",{},void 0,!0)]),key:"5"}:void 0,l.$slots.optionLabels?{name:"optionLabels",fn:le(()=>[G(l.$slots,"optionLabels",{},void 0,!0)]),key:"6"}:void 0,l.$slots.optionStack?{name:"optionStack",fn:le(()=>[G(l.$slots,"optionStack",{},void 0,!0)]),key:"7"}:void 0,l.$slots.optionFullscreen?{name:"optionFullscreen",fn:le(({toggleFullscreen:a,isFullscreen:i})=>[G(l.$slots,"optionFullscreen",aa(la({toggleFullscreen:a,isFullscreen:i})),void 0,!0)]),key:"8"}:void 0,l.$slots.optionAnnotator?{name:"optionAnnotator",fn:le(({toggleAnnotator:a,isAnnotator:i})=>[G(l.$slots,"optionAnnotator",aa(la({toggleAnnotator:a,isAnnotator:i})),void 0,!0)]),key:"9"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasTooltip","hasPdf","hasXls","hasImg","hasSvg","hasLabel","hasTable","hasStack","hasFullscreen","isStacked","isFullscreen","chartElement","position","isTooltip","titles","hasAnnotator","isAnnotation","callbacks","tableDialog","printScale","onGeneratePdf","onGenerateImage","style"])):h("",!0),(r(),s("svg",{ref_key:"svgRef",ref:re,xmlns:"http://www.w3.org/2000/svg",class:ta([{"vue-data-ui-fullscreen--on":qe.value,"vue-data-ui-fulscreen--off":!qe.value},"vue-ui-xy-svg vue-data-ui-svg"]),width:"100%",viewBox:Ia.value,style:_({background:"transparent",color:e.value.chart.color,fontFamily:e.value.chart.fontFamily}),"aria-label":$o.value,role:"img","aria-live":"polite",preserveAspectRatio:"xMidYMid",onMousemove:yo,onMouseleave:Ea,onClick:ot},[y("g",{ref_key:"G",ref:Kt,class:"vue-data-ui-g"},[da(c(Zt)),l.$slots["chart-background"]?(r(),s("foreignObject",{key:0,x:n.value.left+W.value<0?0:n.value.left+W.value,y:n.value.top,width:n.value.width-(e.value.chart.grid.position==="middle"?0:n.value.width/A.value)<0?0:n.value.width-(e.value.chart.grid.position==="middle"?0:n.value.width/A.value),height:n.value.height<0?0:n.value.height,style:{pointerEvents:"none"}},[G(l.$slots,"chart-background",{},void 0,!0)],8,_i)):h("",!0),A.value>0?(r(),s("g",Ai,[y("g",Mi,[e.value.chart.grid.labels.xAxis.showBaseline?(r(),s("line",{key:0,stroke:e.value.chart.grid.stroke,"stroke-width":"1",x1:n.value.left+W.value,x2:n.value.right-W.value,y1:c(P)(n.value.bottom),y2:c(P)(n.value.bottom),"stroke-linecap":"round",style:{animation:"none !important"}},null,8,Ci)):h("",!0),p.value.useIndividualScale?e.value.chart.grid.showHorizontalLines?(r(!0),s(d,{key:2},L(Sa.value,a=>(r(),s("g",null,[a.id===O.value&&a.yLabels.length?(r(!0),s(d,{key:0},L(a.yLabels,i=>(r(),s("line",{x1:n.value.left+W.value,x2:n.value.right-W.value,y1:c(P)(i.y),y2:c(P)(i.y),stroke:a.color,"stroke-width":.5,"stroke-linecap":"round",style:{animation:"none !important"}},null,8,Oi))),256)):a.yLabels.length?(r(!0),s(d,{key:1},L(a.yLabels,i=>(r(),s("line",{x1:n.value.left+W.value,x2:n.value.right-W.value,y1:c(P)(i.y),y2:c(P)(i.y),stroke:e.value.chart.grid.stroke,"stroke-width":.5,"stroke-linecap":"round",style:{animation:"none !important"}},null,8,Ni))),256)):h("",!0)]))),256)):h("",!0):(r(),s(d,{key:1},[e.value.chart.grid.labels.yAxis.showBaseline?(r(),s("line",{key:0,stroke:e.value.chart.grid.stroke,"stroke-width":"1",x1:n.value.left+W.value,x2:n.value.left+W.value,y1:c(P)(n.value.top),y2:c(P)(n.value.bottom),"stroke-linecap":"round",style:{animation:"none !important"}},null,8,zi)):h("",!0),e.value.chart.grid.showHorizontalLines?(r(),s("g",Ii,[(r(!0),s(d,null,L(nt.value,a=>(r(),s("line",{x1:n.value.left+W.value,x2:n.value.right,y1:c(P)(a.y),y2:c(P)(a.y),stroke:e.value.chart.grid.stroke,"stroke-width":.5,"stroke-linecap":"round",style:{animation:"none !important"}},null,8,Ti))),256))])):h("",!0)],64)),e.value.chart.grid.showVerticalLines?(r(),s("g",Vi,[y("path",{d:vo.value,"stroke-width":.5,stroke:e.value.chart.grid.stroke,"stroke-linecap":"round",style:{animation:"none !important"}},null,8,Fi)])):h("",!0),e.value.chart.grid.labels.xAxisLabels.show?(r(),s("g",Bi,[y("path",{d:co.value,stroke:e.value.chart.grid.stroke,"stroke-width":1,"stroke-linecap":"round",style:{animation:"none !important"}},null,8,Ri)])):h("",!0)]),(r(!0),s(d,null,L(_e.value,(a,i)=>(r(),s("defs",{key:"def_rect_".concat(i)},[l.$slots["bar-gradient"]?G(l.$slots,"bar-gradient",oa({key:0,ref_for:!0},{series:a,positiveId:"rectGradient_pos_".concat(i,"_").concat(H.value),negativeId:"rectGradient_neg_".concat(i,"_").concat(H.value)}),void 0,!0):(r(),s(d,{key:1},[y("linearGradient",{id:"rectGradient_pos_".concat(i,"_").concat(H.value),x2:"0%",y2:"100%"},[y("stop",{offset:"0%","stop-color":a.color},null,8,Pi),y("stop",{offset:"62%","stop-color":"".concat(c(ua)(a.color,.02))},null,8,Di),y("stop",{offset:"100%","stop-color":"".concat(c(ua)(a.color,.05))},null,8,Ei)],8,Hi),y("linearGradient",{id:"rectGradient_neg_".concat(i,"_").concat(H.value),x2:"0%",y2:"100%"},[y("stop",{offset:"0%","stop-color":"".concat(c(ua)(a.color,.05))},null,8,ji),y("stop",{offset:"38%","stop-color":"".concat(c(ua)(a.color,.02))},null,8,Gi),y("stop",{offset:"100%","stop-color":a.color},null,8,Wi)],8,Yi)],64))]))),128)),(r(!0),s(d,null,L(be.value,(a,i)=>(r(),s("defs",{key:"def_plot_".concat(i)},[y("radialGradient",{id:"plotGradient_".concat(i,"_").concat(H.value),cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},[y("stop",{offset:"0%","stop-color":"".concat(c(ua)(a.color,.05))},null,8,qi),y("stop",{offset:"100%","stop-color":a.color},null,8,Ui)],8,Xi)]))),128)),(r(!0),s(d,null,L(oe.value,(a,i)=>(r(),s("defs",{key:"def_line_".concat(a.id)},[y("radialGradient",{id:"lineGradient_".concat(i,"_").concat(H.value),cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},[y("stop",{offset:"0%","stop-color":"".concat(c(ua)(a.color,.05))},null,8,Qi),y("stop",{offset:"100%","stop-color":a.color},null,8,Ji)],8,Zi),l.$slots["area-gradient"]?G(l.$slots,"area-gradient",oa({key:0,ref_for:!0},{series:a,id:"areaGradient_".concat(i,"_").concat(H.value)}),void 0,!0):(r(),s("linearGradient",{key:1,id:"areaGradient_".concat(i,"_").concat(H.value),x1:"0%",x2:"100%",y1:"0%",y2:"0%"},[y("stop",{offset:"0%","stop-color":"".concat(c(Me)(c(ua)(a.color,.03),e.value.line.area.opacity))},null,8,eu),y("stop",{offset:"100%","stop-color":"".concat(c(Me)(a.color,e.value.line.area.opacity))},null,8,au)],8,Ki))]))),128)),(r(!0),s(d,null,L(So.value,a=>(r(),s("g",null,[a.show?(r(),s(d,{key:0},[(r(!0),s(d,null,L(a.span,(i,o)=>(r(),s("g",null,[y("rect",{style:_({transition:"none",opacity:a.from+o>=m.value.start&&a.from+o<=m.value.end-1?1:0}),x:n.value.left+n.value.width/A.value*(a.from+o-m.value.start),y:n.value.top,height:n.value.height<0?10:n.value.height,width:n.value.width/A.value<0?1e-5:n.value.width/A.value,fill:c(Me)(a.color,a.opacity)},null,12,lu)]))),256)),(r(!0),s(d,null,L(a.span,(i,o)=>(r(),s("g",null,[a.caption.text&&o===0?(r(),s("foreignObject",{key:0,x:n.value.left+n.value.width/A.value*(a.from+o-m.value.start)-(a.caption.width==="auto"?0:a.caption.width/2-n.value.width/A.value*a.span/2),y:n.value.top+a.caption.offsetY,style:_({overflow:"visible",opacity:a.to>=m.value.start&&a.from<m.value.end?1:0}),height:"1",width:a.caption.width==="auto"?n.value.width/A.value*a.span:a.caption.width},[y("div",{style:_("padding:".concat(a.caption.padding,"px;text-align:").concat(a.caption.textAlign,";font-size:").concat(a.caption.fontSize,"px;color:").concat(a.caption.color,";font-weight:").concat(a.caption.bold?"bold":"normal"))},te(a.caption.text),5)],12,tu)):h("",!0)]))),256))],64)):h("",!0)]))),256)),Wl.value?(r(),s("g",ou,[(r(!0),s(d,null,L(A.value,(a,i)=>(r(),s("g",{key:"tooltip_trap_highlighter_".concat(i)},[y("rect",{x:n.value.left+n.value.width/A.value*i,y:n.value.top,height:n.value.height<0?10:n.value.height,width:n.value.width/A.value<0?1e-5:n.value.width/A.value,fill:[F.value,$.value,Ue.value].includes(i)?c(Me)(e.value.chart.highlighter.color,e.value.chart.highlighter.opacity):"transparent",style:{transition:"none !important",animation:"none !important"}},null,8,iu)]))),128))])):h("",!0),_e.value.length?(r(!0),s(d,{key:1},L(_e.value,(a,i)=>(r(),s("g",{key:"serie_bar_".concat(a.id),class:ta("serie_bar_".concat(i)),style:_("opacity:".concat(O.value?O.value===a.groupId?1:.2:1,";transition:opacity 0.2s ease-in-out"))},[(r(!0),s(d,null,L(a.plots,(o,t)=>(r(),s("g",{key:"bar_plot_".concat(i,"_").concat(t)},[me(o.value)?(r(),s("rect",{key:0,x:Da(o)+Ga.value/2,y:p.value.useIndividualScale?lt(o):at(o),height:p.value.useIndividualScale?Math.abs(et(o)):Math.abs(Kl(o)),width:ja.value-Ga.value,rx:e.value.bar.borderRadius,fill:e.value.bar.useGradient?o.value>=0?"url(#rectGradient_pos_".concat(i,"_").concat(H.value,")"):"url(#rectGradient_neg_".concat(i,"_").concat(H.value,")"):a.color,stroke:e.value.bar.border.useSerieColor?a.color:e.value.bar.border.stroke,"stroke-width":e.value.bar.border.strokeWidth,style:_({transition:c(se)||!e.value.bar.showTransition?void 0:"all ".concat(e.value.bar.transitionDurationMs,"ms ease-in-out")})},null,12,uu)):h("",!0),me(o.value)&&l.$slots.pattern?(r(),s("rect",{key:1,x:Da(o)-Ga.value/2,y:p.value.useIndividualScale?lt(o):at(o),height:p.value.useIndividualScale?Math.abs(et(o)):Math.abs(Kl(o)),width:ja.value-Ga.value,rx:e.value.bar.borderRadius,fill:"url(#pattern_".concat(H.value,"_").concat(a.slotAbsoluteIndex,")"),stroke:e.value.bar.border.useSerieColor?a.color:e.value.bar.border.stroke,"stroke-width":e.value.bar.border.strokeWidth,style:_({transition:c(se)||!e.value.bar.showTransition?void 0:"all ".concat(e.value.bar.transitionDurationMs,"ms ease-in-out")})},null,12,ru)):h("",!0),o.comment&&e.value.chart.comments.show?(r(),s("foreignObject",{key:2,style:{overflow:"visible"},height:"12",width:ja.value/2+e.value.chart.comments.width,x:Da(o)-e.value.chart.comments.width/2+e.value.chart.comments.offsetX,y:c(B)(o.y)+e.value.chart.comments.offsetY+6},[G(l.$slots,"plot-comment",{plot:{...o,color:a.color,seriesIndex:i,datapointIndex:t}},void 0,!0)],8,su)):h("",!0)]))),128))],6))),128)):h("",!0),!p.value.useIndividualScale&&e.value.chart.grid.labels.zeroLine.show?(r(),s("line",{key:2,stroke:e.value.chart.grid.stroke,"stroke-width":"1",x1:n.value.left+W.value,x2:n.value.right,y1:c(P)(ne.value),y2:c(P)(ne.value),"stroke-linecap":"round",style:{animation:"none !important"}},null,8,nu)):h("",!0),e.value.chart.highlighter.useLine&&(![null,void 0].includes($.value)||![null,void 0].includes(F.value))?(r(),s("g",vu,[y("line",{x1:n.value.left+n.value.width/A.value*(($.value!==null?$.value:0)||(F.value!==null?F.value:0))+n.value.width/A.value/2,x2:n.value.left+n.value.width/A.value*(($.value!==null?$.value:0)||(F.value!==null?F.value:0))+n.value.width/A.value/2,y1:c(P)(n.value.top),y2:c(P)(n.value.bottom),stroke:e.value.chart.highlighter.color,"stroke-width":e.value.chart.highlighter.lineWidth,"stroke-dasharray":e.value.chart.highlighter.lineDasharray,"stroke-linecap":"round",style:{transition:"none !important",animation:"none !important","pointer-events":"none"}},null,8,cu)])):h("",!0),e.value.chart.grid.frame.show?(r(),s("rect",{key:4,style:{pointerEvents:"none",transition:"none",animation:"none !important"},x:n.value.left+W.value<0?0:n.value.left+W.value,y:n.value.top,width:n.value.width-(e.value.chart.grid.position==="middle"?0:n.value.width/A.value)<0?0:n.value.width-(e.value.chart.grid.position==="middle"?0:n.value.width/A.value),height:n.value.height<0?0:n.value.height,fill:"transparent",stroke:e.value.chart.grid.frame.stroke,"stroke-width":e.value.chart.grid.frame.strokeWidth,"stroke-linecap":e.value.chart.grid.frame.strokeLinecap,"stroke-linejoin":e.value.chart.grid.frame.strokeLinejoin,"stroke-dasharray":e.value.chart.grid.frame.strokeDasharray},null,8,du)):h("",!0),e.value.chart.grid.labels.show?(r(),s("g",{key:5,ref_key:"scaleLabels",ref:ol},[p.value.useIndividualScale?(r(),s(d,{key:0},[(r(!0),s(d,null,L(Sa.value,a=>(r(),s("g",null,[y("line",{x1:a.x+W.value-n.value.individualOffsetX,x2:a.x+W.value-n.value.individualOffsetX,y1:p.value.isStacked?c(P)(n.value.bottom-a.yOffset-a.individualHeight):c(P)(n.value.top),y2:p.value.isStacked?c(P)(n.value.bottom-a.yOffset):c(P)(n.value.bottom),stroke:a.color,"stroke-width":e.value.chart.grid.stroke,"stroke-linecap":"round",style:_("opacity:".concat(O.value?O.value===a.groupId?1:.3:1,";transition:opacity 0.2s ease-in-out; animation: none !important"))},null,12,hu)]))),256)),(r(!0),s(d,null,L(Sa.value,a=>(r(),s("g",{style:_("opacity:".concat(O.value?O.value===a.groupId?1:.3:1,";transition:opacity 0.2s ease-in-out"))},[y("text",{fill:a.color,"font-size":k.value.dataLabels*.8,"text-anchor":"middle",transform:"translate(".concat(a.x-k.value.dataLabels*.8/2+W.value,", ").concat(p.value.isStacked?n.value.bottom-a.yOffset-a.individualHeight/2:n.value.top+n.value.height/2,") rotate(-90)")},te(a.name)+" "+te(a.scaleLabel&&a.unique&&a.scaleLabel!==a.id?"-\n                                    ".concat(a.scaleLabel):""),9,pu),(r(!0),s(d,null,L(a.yLabels,(i,o)=>(r(),s(d,null,[e.value.chart.grid.labels.yAxis.showCrosshairs?(r(),s("line",{key:0,x1:a.x+3+W.value-e.value.chart.grid.labels.yAxis.crosshairSize-n.value.individualOffsetX,x2:a.x+W.value-n.value.individualOffsetX,y1:c(P)(i.y),y2:c(P)(i.y),stroke:a.color,"stroke-width":1,"stroke-linecap":"round",style:{animation:"none !important"}},null,8,gu)):h("",!0)],64))),256)),(r(!0),s(d,null,L(a.yLabels,(i,o)=>(r(),s("text",{x:a.x-5+W.value-n.value.individualOffsetX,y:c(P)(i.y)+k.value.dataLabels/3,"font-size":k.value.dataLabels,"text-anchor":"end",fill:a.color},te(c(ue)(e.value.chart.grid.labels.yAxis.formatter,i.value,c(Ve)({p:i.prefix,v:i.value,s:i.suffix,r:e.value.chart.grid.labels.yAxis.rounding}),{datapoint:i.datapoint,seriesIndex:o})),9,fu))),256))],4))),256))],64)):(r(!0),s(d,{key:1},L(nt.value,(a,i)=>(r(),s("g",{key:"yLabel_".concat(i)},[me(a)&&a.value>=Le.value.min&&a.value<=Le.value.max&&e.value.chart.grid.labels.yAxis.showCrosshairs?(r(),s("line",{key:0,x1:n.value.left+W.value,x2:n.value.left+W.value-e.value.chart.grid.labels.yAxis.crosshairSize,y1:c(P)(a.y),y2:c(P)(a.y),stroke:e.value.chart.grid.stroke,"stroke-width":"1","stroke-linecap":"round",style:{animation:"none !important"}},null,8,mu)):h("",!0),a.value>=Le.value.min&&a.value<=Le.value.max?(r(),s("text",{key:1,x:n.value.scaleLabelX-e.value.chart.grid.labels.yAxis.crosshairSize,y:c(B)(a.y+k.value.dataLabels/3),"font-size":k.value.dataLabels,"text-anchor":"end",fill:e.value.chart.grid.labels.color},te(me(a.value)?c(ue)(e.value.chart.grid.labels.yAxis.formatter,a.value,c(Ve)({p:a.prefix,v:a.value,s:a.suffix,r:e.value.chart.grid.labels.yAxis.rounding})):""),9,bu)):h("",!0)]))),128))],512)):h("",!0),(r(!0),s(d,null,L(be.value,(a,i)=>(r(),s("g",{key:"serie_plot_".concat(a.id),class:ta("serie_plot_".concat(i)),style:_("opacity:".concat(O.value?O.value===a.groupId?1:.2:1,";transition:opacity 0.2s ease-in-out"))},[(r(!0),s(d,null,L(a.plots,(o,t)=>(r(),s("g",{key:"circle_plot_".concat(i,"_").concat(t)},[o&&me(o.value)?(r(),Ae(Ja,{key:0,shape:["triangle","square","diamond","pentagon","hexagon","star"].includes(a.shape)?a.shape:"circle",color:e.value.plot.useGradient?"url(#plotGradient_".concat(i,"_").concat(H.value,")"):e.value.plot.dot.useSerieColor?a.color:e.value.plot.dot.fill,plot:{x:c(B)(o.x),y:c(B)(o.y)},radius:$.value!==null&&$.value===t||F.value!==null&&F.value===t?(Ie.value.plot||6)*1.5:Ie.value.plot||6,stroke:e.value.plot.dot.useSerieColor?e.value.chart.backgroundColor:a.color,strokeWidth:e.value.plot.dot.strokeWidth,transition:c(se)||!e.value.plot.showTransition||$.value!==null&&$.value===t||F.value!==null&&F.value===t?void 0:"all ".concat(e.value.plot.transitionDurationMs,"ms ease-in-out")},null,8,["shape","color","plot","radius","stroke","strokeWidth","transition"])):h("",!0),o.comment&&e.value.chart.comments.show?(r(),s("foreignObject",{key:1,style:{overflow:"visible"},height:"12",width:e.value.chart.comments.width,x:o.x-e.value.chart.comments.width/2+e.value.chart.comments.offsetX,y:o.y+e.value.chart.comments.offsetY+6},[y("div",yu,[G(l.$slots,"plot-comment",{plot:{...o,color:a.color,seriesIndex:i,datapointIndex:t}},void 0,!0)])],8,xu)):h("",!0)]))),128))],6))),128)),(r(!0),s(d,null,L(oe.value,(a,i)=>(r(),s("g",{key:"serie_line_".concat(a.id),class:ta("serie_line_".concat(i)),style:_("opacity:".concat(O.value?O.value===a.groupId?1:.2:1,";transition:opacity 0.2s ease-in-out"))},[a.smooth&&a.plots.length>1&&a.curve?(r(),s("path",{key:0,d:"M".concat(a.curve),stroke:e.value.chart.backgroundColor,"stroke-width":e.value.line.strokeWidth+1,"stroke-dasharray":a.dashed?e.value.line.strokeWidth*2:0,fill:"none",style:_({transition:c(se)||!e.value.line.showTransition?void 0:"all ".concat(e.value.line.transitionDurationMs,"ms ease-in-out")})},null,12,ku)):a.plots.length>1&&a.straight?(r(),s("path",{key:1,d:"M".concat(a.straight),stroke:e.value.chart.backgroundColor,"stroke-width":e.value.line.strokeWidth+1,"stroke-dasharray":a.dashed?e.value.line.strokeWidth*2:0,fill:"none","stroke-linecap":"round","stroke-linejoin":"round",style:_({transition:c(se)||!e.value.line.showTransition?void 0:"all ".concat(e.value.line.transitionDurationMs,"ms ease-in-out")})},null,12,wu)):h("",!0)],6))),128)),l.$slots.pattern?(r(),s("defs",$u,[(r(!0),s(d,null,L(Be.value,(a,i)=>G(l.$slots,"pattern",oa({key:"serie_pattern_slot_".concat(a.id)},{ref_for:!0},{...a,seriesIndex:a.slotAbsoluteIndex,patternId:"pattern_".concat(H.value,"_").concat(i)}),void 0,!0)),128))])):h("",!0),dt.value.length&&!p.value.isStacked?(r(),s("g",Lu,[(r(!0),s(d,null,L(dt.value,a=>(r(),s("path",{key:a.key,d:a.d,fill:a.color,"fill-opacity":e.value.line.interLine.fillOpacity,stroke:"none","pointer-events":"none",style:_({transition:c(se)||!e.value.line.showTransition?void 0:"all ".concat(e.value.line.transitionDurationMs,"ms ease-in-out")})},null,12,Su))),128))])):h("",!0),(r(!0),s(d,null,L(oe.value,(a,i)=>(r(),s("g",{key:"serie_line_above_".concat(a.id),class:ta("serie_line_".concat(i)),style:_("opacity:".concat(O.value?O.value===a.groupId?1:.2:1,";transition:opacity 0.2s ease-in-out"))},[a.useArea&&a.plots.length>1?(r(),s("g",_u,[a.smooth?(r(!0),s(d,{key:0},L(a.curveAreas,(o,t)=>(r(),s(d,{key:t},[o?(r(),s("path",{key:0,d:o,fill:e.value.line.area.useGradient?"url(#areaGradient_".concat(i,"_").concat(H.value,")"):c(Me)(a.color,e.value.line.area.opacity),style:_({transition:c(se)||!e.value.line.showTransition?void 0:"all ".concat(e.value.line.transitionDurationMs,"ms ease-in-out")})},null,12,Au)):h("",!0),l.$slots.pattern&&o?(r(),s("path",{key:1,d:o,fill:"url(#pattern_".concat(H.value,"_").concat(a.slotAbsoluteIndex,")"),style:_({transition:c(se)||!e.value.line.showTransition?void 0:"all ".concat(e.value.line.transitionDurationMs,"ms ease-in-out")})},null,12,Mu)):h("",!0)],64))),128)):(r(!0),s(d,{key:1},L(a.area.split(";"),(o,t)=>(r(),s(d,{key:t},[o?(r(),s("path",{key:0,d:"M".concat(o,"Z"),fill:e.value.line.area.useGradient?"url(#areaGradient_".concat(i,"_").concat(H.value,")"):c(Me)(a.color,e.value.line.area.opacity),style:_({transition:c(se)||!e.value.line.showTransition?void 0:"all ".concat(e.value.line.transitionDurationMs,"ms ease-in-out")})},null,12,Cu)):h("",!0),l.$slots.pattern&&o?(r(),s("path",{key:1,d:"M".concat(o,"Z"),fill:"url(#pattern_".concat(H.value,"_").concat(a.slotAbsoluteIndex,")"),style:_({transition:c(se)||!e.value.line.showTransition?void 0:"all ".concat(e.value.line.transitionDurationMs,"ms ease-in-out")})},null,12,zu)):h("",!0)],64))),128))])):h("",!0),a.smooth&&a.plots.length>1&&a.curve?(r(),s("path",{key:1,d:"M".concat(a.curve),stroke:a.color,"stroke-width":e.value.line.strokeWidth,"stroke-dasharray":a.dashed?e.value.line.strokeWidth*2:0,fill:"none","stroke-linecap":"round",style:_({transition:c(se)||!e.value.line.showTransition?void 0:"all ".concat(e.value.line.transitionDurationMs,"ms ease-in-out")})},null,12,Iu)):a.plots.length>1&&a.straight?(r(),s("path",{key:2,d:"M".concat(a.straight),stroke:a.color,"stroke-width":e.value.line.strokeWidth,"stroke-dasharray":a.dashed?e.value.line.strokeWidth*2:0,fill:"none","stroke-linecap":"round","stroke-linejoin":"round",style:_({transition:c(se)||!e.value.line.showTransition?void 0:"all ".concat(e.value.line.transitionDurationMs,"ms ease-in-out")})},null,12,Tu)):h("",!0),(r(!0),s(d,null,L(a.plots,(o,t)=>(r(),s(d,{key:"circle_line_".concat(i,"_").concat(t)},[!rt.value.linePlot&&o&&me(o.value)||rt.value.linePlot&&o&&me(o.value)&&($.value!==null&&$.value===t||F.value!==null&&F.value===t)||ct(a.plots,t)?(r(),Ae(Ja,{key:0,shape:["triangle","square","diamond","pentagon","hexagon","star"].includes(a.shape)?a.shape:"circle",color:e.value.line.useGradient?"url(#lineGradient_".concat(i,"_").concat(H.value,")"):e.value.line.dot.useSerieColor?a.color:e.value.line.dot.fill,plot:{x:c(B)(o.x),y:c(B)(o.y)},radius:$.value!==null&&$.value===t||F.value!==null&&F.value===t?(Ie.value.line||6)*1.5:(ct(a.plots,t),Ie.value.line||6),stroke:e.value.line.dot.useSerieColor?e.value.chart.backgroundColor:a.color,strokeWidth:e.value.line.dot.strokeWidth,transition:c(se)||!e.value.line.showTransition||$.value!==null&&$.value===t||F.value!==null&&F.value===t?void 0:"all ".concat(e.value.line.transitionDurationMs,"ms ease-in-out")},null,8,["shape","color","plot","radius","stroke","strokeWidth","transition"])):h("",!0),o.comment&&e.value.chart.comments.show?(r(),s("foreignObject",{key:1,style:{overflow:"visible"},height:"12",width:e.value.chart.comments.width,x:o.x-e.value.chart.comments.width/2+e.value.chart.comments.offsetX,y:o.y+e.value.chart.comments.offsetY+6},[y("div",Nu,[G(l.$slots,"plot-comment",{plot:{...o,color:a.color,seriesIndex:i,datapointIndex:t}},void 0,!0)])],8,Ou)):h("",!0)],64))),128))],6))),128)),(e.value.bar.labels.show||e.value.bar.serieName.show)&&p.value.dataLabels.show?(r(),s("g",Vu,[(r(!0),s(d,null,L(_e.value,(a,i)=>(r(),s(d,{key:"xLabel_bar_".concat(a.id)},[(r(!0),s(d,null,L(a.plots,(o,t)=>(r(),s(d,{key:"xLabel_bar_".concat(i,"_").concat(t)},[o&&(!Object.hasOwn(a,"dataLabels")||a.dataLabels===!0||$.value!==null&&$.value===t||F.value!==null&&F.value===t)&&e.value.bar.labels.show?(r(),s("text",{key:0,x:p.value.useIndividualScale&&p.value.isStacked?o.x+q.value.line/2:Da(o)+Pe()/2-Ya.value/2,y:c(B)(o.y)+(o.value>=0?e.value.bar.labels.offsetY:-e.value.bar.labels.offsetY*3),"text-anchor":"middle","font-size":k.value.plotLabels,fill:e.value.bar.labels.color,style:_("opacity:".concat(O.value?O.value===a.groupId?1:.2:1,";transition:opacity 0.2s ease-in-out"))},te(me(o.value)?c(ue)(e.value.bar.labels.formatter,o.value,c(Ve)({p:a.prefix||e.value.chart.labels.prefix,v:o.value,s:a.suffix||e.value.chart.labels.suffix,r:e.value.bar.labels.rounding}),{datapoint:o,serie:a}):""),13,Fu)):h("",!0),o&&e.value.bar.serieName.show?(r(),s("text",{key:1,x:p.value.useIndividualScale&&p.value.isStacked?o.x+q.value.line/2:o.x+Pe()*1.1,y:o.y+(o.value>0?e.value.bar.serieName.offsetY:-e.value.bar.serieName.offsetY*3),"text-anchor":"middle","font-size":k.value.plotLabels,fill:e.value.bar.serieName.useSerieColor?a.color:e.value.bar.serieName.color,"font-weight":e.value.bar.serieName.bold?"bold":"normal",style:_("opacity:".concat(O.value?O.value===a.groupId?1:.2:1,";transition:opacity 0.2s ease-in-out"))},te(e.value.bar.serieName.useAbbreviation?c(oi)({source:a.name,length:e.value.bar.serieName.abbreviationSize}):a.name),13,Bu)):h("",!0)],64))),128))],64))),128))])):h("",!0),e.value.plot.labels.show&&p.value.dataLabels.show?(r(),s("g",Ru,[(r(!0),s(d,null,L(be.value,(a,i)=>(r(),s(d,{key:"xLabel_plot_".concat(a.id)},[(r(!0),s(d,null,L(a.plots,(o,t)=>(r(),s(d,{key:"xLabel_plot_".concat(i,"_").concat(t)},[o&&!Object.hasOwn(a,"dataLabels")||a.dataLabels===!0||$.value!==null&&$.value===t||F.value!==null&&F.value===t?(r(),s("text",{key:0,x:o.x,y:o.y+e.value.plot.labels.offsetY,"text-anchor":"middle","font-size":k.value.plotLabels,fill:e.value.plot.labels.color,style:_("opacity:".concat(O.value?O.value===a.groupId?1:.2:1,";transition:opacity 0.2s ease-in-out"))},te(me(o.value)?c(ue)(e.value.plot.labels.formatter,o.value,c(Ve)({p:a.prefix||e.value.chart.labels.prefix,v:o.value,s:a.suffix||e.value.chart.labels.suffix,r:e.value.plot.labels.rounding}),{datapoint:o,serie:a}):""),13,Hu)):h("",!0)],64))),128))],64))),128))])):(r(),s("g",Pu,[(r(!0),s(d,null,L(be.value,(a,i)=>(r(),s(d,{key:"xLabel_plot_".concat(a.id)},[(r(!0),s(d,null,L(a.plots,(o,t)=>(r(),s(d,{key:"xLabel_plot_".concat(i,"_").concat(t)},[e.value.plot.tag.followValue?(r(),s(d,{key:1},[[F.value,$.value,Ue.value].includes(t)&&a.useTag?(r(),s("line",{key:0,class:"vue-ui-xy-tag-plot",x1:n.value.left,x2:n.value.right,y1:o.y,y2:o.y,"stroke-width":1,"stroke-linecap":"round","stroke-dasharray":"2",stroke:a.color},null,8,Gu)):h("",!0)],64)):(r(),s(d,{key:0},[o&&t===0&&a.useTag&&a.useTag==="start"?(r(),s("foreignObject",{key:0,x:o.x,y:o.y-20,height:24,width:"150",style:_("overflow: visible; opacity:".concat(O.value?O.value===a.groupId?1:.2:1,";transition:opacity 0.2s ease-in-out"))},[y("div",{style:_("padding: 3px; background:".concat(c(Me)(a.color,80),";color:").concat(c(We)(a.color),";width:fit-content;font-size:").concat(k.value.plotLabels,"px;border-radius: 2px;")),innerHTML:c(ue)(e.value.plot.tag.formatter,o.value,a.name,{datapoint:o,seriesIndex:t,serieName:a.name})},null,12,Eu)],12,Du)):h("",!0),o&&t===a.plots.length-1&&a.useTag&&a.useTag==="end"?(r(),s("foreignObject",{key:1,x:o.x-a.name.length*(k.value.plotLabels/2),y:o.y-20,height:24,width:"150",style:_("overflow: visible; opacity:".concat(O.value?O.value===a.groupId?1:.2:1,";transition:opacity 0.2s ease-in-out"))},[y("div",{style:_("padding: 3px; background:".concat(c(Me)(a.color,80),";color:").concat(c(We)(a.color),";width:fit-content;font-size:").concat(k.value.plotLabels,"px;border-radius: 2px;")),innerHTML:c(ue)(e.value.plot.tag.formatter,o.value,a.name,{datapoint:o,seriesIndex:t,serieName:a.name})},null,12,ju)],12,Yu)):h("",!0)],64))],64))),128))],64))),128))])),e.value.line.labels.show&&p.value.dataLabels.show?(r(),s("g",Wu,[(r(!0),s(d,null,L(oe.value,(a,i)=>(r(),s(d,{key:"xLabel_line_".concat(a.id)},[(r(!0),s(d,null,L(a.plots,(o,t)=>(r(),s(d,{key:"xLabel_line_".concat(i,"_").concat(t)},[o&&!Object.hasOwn(a,"dataLabels")||a.dataLabels===!0||$.value!==null&&$.value===t||F.value!==null&&F.value===t?(r(),s("text",{key:0,x:o.x,y:o.y+(o.value>=0?e.value.line.labels.offsetY:-e.value.line.labels.offsetY*3),"text-anchor":"middle","font-size":k.value.plotLabels,fill:e.value.line.labels.color,style:_("opacity:".concat(O.value?O.value===a.groupId?1:.2:1,";transition:opacity 0.2s ease-in-out"))},te(me(o.value)?c(ue)(e.value.line.labels.formatter,o.value,c(Ve)({p:a.prefix||e.value.chart.labels.prefix,v:o.value,s:a.suffix||e.value.chart.labels.suffix,r:e.value.line.labels.rounding}),{datapoint:o,serie:a}):""),13,Xu)):h("",!0)],64))),128))],64))),128))])):(r(),s("g",qu,[(r(!0),s(d,null,L(oe.value,(a,i)=>(r(),s(d,{key:"xLabel_line_".concat(a.id)},[(r(!0),s(d,null,L(a.plots,(o,t)=>(r(),s(d,{key:"xLabel_line_".concat(i,"_").concat(t)},[e.value.line.tag.followValue?(r(),s(d,{key:1},[[F.value,$.value,Ue.value].includes(t)&&a.useTag?(r(),s("line",{key:0,class:"vue-ui-xy-tag-line",x1:n.value.left,x2:n.value.right,y1:o.y,y2:o.y,"stroke-width":1,"stroke-linecap":"round","stroke-dasharray":"2",stroke:a.color},null,8,Ku)):h("",!0)],64)):(r(),s(d,{key:0},[o&&t===0&&a.useTag&&a.useTag==="start"?(r(),s("foreignObject",{key:0,x:o.x,y:o.y-20,height:24,width:"150",style:_("overflow: visible; opacity:".concat(O.value?O.value===a.groupId?1:.2:1,";transition:opacity 0.2s ease-in-out"))},[y("div",{style:_("padding: 3px; background:".concat(c(Me)(a.color,80),";color:").concat(c(We)(a.color),";width:fit-content;font-size:").concat(k.value.plotLabels,"px;border-radius: 2px;")),innerHTML:c(ue)(e.value.line.tag.formatter,o.value,a.name,{datapoint:o,seriesIndex:t,serieName:a.name})},null,12,Zu)],12,Uu)):h("",!0),o&&t===a.plots.length-1&&a.useTag&&a.useTag==="end"?(r(),s("foreignObject",{key:1,x:o.x,y:o.y-20,height:24,width:"150",style:_("overflow: visible; opacity:".concat(O.value?O.value===a.groupId?1:.2:1,";transition:opacity 0.2s ease-in-out"))},[y("div",{style:_("padding: 3px; background:".concat(c(Me)(a.color,80),";color:").concat(c(We)(a.color),";width:fit-content;font-size:").concat(k.value.plotLabels,"px;border-radius: 2px;")),innerHTML:c(ue)(e.value.line.tag.formatter,o.value,a.name,{datapoint:o,seriesIndex:t,serieName:a.name})},null,12,Ju)],12,Qu)):h("",!0)],64))],64))),128))],64))),128))])),(r(!0),s(d,null,L(oe.value,(a,i)=>(r(),s(d,{key:"xLabel_line_".concat(a.id)},[(r(!0),s(d,null,L(a.plots,(o,t)=>(r(),s(d,{key:"xLabel_line_".concat(i,"_").concat(t)},[o&&t===0&&a.showSerieName&&a.showSerieName==="start"?(r(),s("text",{key:0,x:o.x-k.value.plotLabels,y:o.y,"font-size":k.value.plotLabels,"text-anchor":"end",fill:a.color,innerHTML:c(Za)({content:a.name,fontSize:k.value.plotLabels,fill:a.color,x:o.x-k.value.plotLabels,y:o.y,maxWords:2}),style:_("opacity:".concat(O.value?O.value===a.groupId?1:.2:1,";transition:opacity 0.2s ease-in-out"))},null,12,er)):h("",!0),o&&t===a.plots.length-1&&a.showSerieName&&a.showSerieName==="end"?(r(),s("text",{key:1,x:o.x+k.value.plotLabels,y:o.y,"font-size":k.value.plotLabels,"text-anchor":"start",fill:a.color,innerHTML:c(Za)({content:a.name,fontSize:k.value.plotLabels,fill:a.color,x:o.x+k.value.plotLabels,y:o.y,maxWords:2}),style:_("opacity:".concat(O.value?O.value===a.groupId?1:.2:1,";transition:opacity 0.2s ease-in-out"))},null,12,ar)):h("",!0)],64))),128))],64))),128)),(r(!0),s(d,null,L(be.value,(a,i)=>(r(),s(d,{key:"xLabel_plot_".concat(a.id)},[(r(!0),s(d,null,L(a.plots,(o,t)=>(r(),s(d,{key:"xLabel_plot_".concat(i,"_").concat(t)},[o&&t===0&&a.showSerieName&&a.showSerieName==="start"?(r(),s("text",{key:0,x:o.x-k.value.plotLabels,y:o.y,"font-size":k.value.plotLabels,"text-anchor":"end",fill:a.color,innerHTML:c(Za)({content:a.name,fontSize:k.value.plotLabels,fill:a.color,x:o.x-k.value.plotLabels,y:o.y,maxWords:2}),style:_("opacity:".concat(O.value?O.value===a.groupId?1:.2:1,";transition:opacity 0.2s ease-in-out"))},null,12,lr)):h("",!0),o&&t===a.plots.length-1&&a.showSerieName&&a.showSerieName==="end"?(r(),s("text",{key:1,x:o.x+k.value.plotLabels,y:o.y,"font-size":k.value.plotLabels,"text-anchor":"start",fill:a.color,innerHTML:c(Za)({content:a.name,fontSize:k.value.plotLabels,fill:a.color,x:o.x+k.value.plotLabels,y:o.y,maxWords:2}),style:_("opacity:".concat(O.value?O.value===a.groupId?1:.2:1,";transition:opacity 0.2s ease-in-out"))},null,12,tr)):h("",!0)],64))),128))],64))),128)),(r(!0),s(d,null,L([...be.value,...oe.value,..._e.value],(a,i)=>(r(),s(d,{key:"progression-".concat(i)},[Object.hasOwn(a,"useProgression")&&a.useProgression===!0&&!isNaN(c(we)(a.plots).trend)?(r(),s("g",or,[y("defs",null,[y("marker",{id:"progression_arrow_".concat(i),markerWidth:"9",markerHeight:"9",viewBox:"-1 -1 9 9",markerUnits:"userSpaceOnUse",refX:"7",refY:7/2,orient:"auto",overflow:"visible"},[y("polygon",{points:"0,0 7,3.5 0,7",fill:a.color,stroke:e.value.chart.backgroundColor,"stroke-width":"1","stroke-linejoin":"round"},null,8,ur)],8,ir)]),a.plots.length>1?(r(),s("line",{key:0,x1:c(we)(a.plots).x1+(a.type==="bar"?Pe():0),x2:c(we)(a.plots).x2+(a.type==="bar"?Pe():0),y1:c(P)(c(we)(a.plots).y1),y2:c(P)(c(we)(a.plots).y2),"stroke-width":1,stroke:e.value.chart.backgroundColor,"stroke-dasharray":2,"stroke-linecap":"round","stroke-linejoin":"round","marker-end":"url(#progression_arrow_".concat(i,")")},null,8,rr)):h("",!0),a.plots.length>1?(r(),s("line",{key:1,x1:c(we)(a.plots).x1+(a.type==="bar"?Pe():0),x2:c(we)(a.plots).x2+(a.type==="bar"?Pe():0),y1:c(P)(c(we)(a.plots).y1),y2:c(P)(c(we)(a.plots).y2),"stroke-width":1,stroke:a.color,"stroke-dasharray":2,"stroke-linecap":"round","stroke-linejoin":"round","marker-end":"url(#progression_arrow_".concat(i,")")},null,8,sr)):h("",!0),a.plots.length>1?(r(),s("text",{key:2,"text-anchor":"middle",x:c(we)(a.plots).x2+(a.type==="bar"?Pe():0),y:c(we)(a.plots).y2-12,"font-size":k.value.plotLabels,fill:a.color,stroke:e.value.chart.backgroundColor,"stroke-width":4,"stroke-linecap":"round","stroke-linejoin":"round","paint-order":"stroke fill"},te(c(Ve)({v:c(we)(a.plots).trend*100,s:"%",r:2})),9,nr)):h("",!0)])):h("",!0)],64))),128)),p.value.useIndividualScale&&!p.value.isStacked?(r(),s(d,{key:13},[y("defs",null,[(r(!0),s(d,null,L(Sa.value,(a,i)=>(r(),s("linearGradient",{id:"individual_scale_gradient_".concat(H.value,"_").concat(i),x1:"0%",x2:"100%",y1:"0%",y2:"0%"},[y("stop",{offset:"0%","stop-color":e.value.chart.backgroundColor,"stop-opacity":"0"},null,8,cr),y("stop",{offset:"100%","stop-color":a.color,"stop-opacity":"0.2"},null,8,dr)],8,vr))),256))]),(r(!0),s(d,null,L(Sa.value,(a,i)=>(r(),s("rect",{x:a.x-e.value.chart.grid.labels.yAxis.labelWidth+W.value-n.value.individualOffsetX,y:n.value.top,width:e.value.chart.grid.labels.yAxis.labelWidth+n.value.individualOffsetX,height:n.value.height<0?10:n.value.height,fill:O.value===a.groupId?"url(#individual_scale_gradient_".concat(H.value,"_").concat(i,")"):"transparent",onMouseenter:o=>O.value=a.groupId,onMouseleave:u[0]||(u[0]=o=>O.value=null)},null,40,hr))),256))],64)):h("",!0),y("g",null,[e.value.chart.grid.labels.axis.yLabel&&!p.value.useIndividualScale?(r(),s("text",{key:0,ref_key:"yAxisLabel",ref:tl,"font-size":k.value.yAxis,fill:e.value.chart.grid.labels.color,transform:"translate(".concat(e.value.chart.grid.labels.axis.fontSize,", ").concat(n.value.top+n.value.height/2,") rotate(-90)"),"text-anchor":"middle",style:{transition:"none"}},te(e.value.chart.grid.labels.axis.yLabel),9,pr)):h("",!0),e.value.chart.grid.labels.axis.xLabel?(r(),s("text",{key:1,ref_key:"xAxisLabel",ref:ll,"text-anchor":"middle",x:J.value/2,y:ce.value-3,"font-size":k.value.yAxis,fill:e.value.chart.grid.labels.color},te(e.value.chart.grid.labels.axis.xLabel),9,gr)):h("",!0)]),e.value.chart.grid.labels.xAxisLabels.show?(r(),s("g",{key:14,ref_key:"timeLabelsEls",ref:sa},[l.$slots["time-label"]?(r(!0),s(d,{key:0},L(ml.value,(a,i)=>G(l.$slots,"time-label",oa({key:"time_label_".concat(a.id),ref_for:!0},{x:n.value.left+n.value.width/A.value*i+n.value.width/A.value/2,y:n.value.bottom,fontSize:k.value.xAxis,fill:e.value.chart.grid.labels.xAxisLabels.color,transform:"translate(".concat(n.value.left+n.value.width/A.value*i+n.value.width/A.value/2,", ").concat(n.value.bottom+k.value.xAxis*1.3+e.value.chart.grid.labels.xAxisLabels.yOffset,"), rotate(").concat(e.value.chart.grid.labels.xAxisLabels.rotation,")"),absoluteIndex:a.absoluteIndex,content:a.text,textAnchor:e.value.chart.grid.labels.xAxisLabels.rotation>0?"start":e.value.chart.grid.labels.xAxisLabels.rotation<0?"end":"middle",show:a&&a.text}),void 0,!0)),128)):(r(!0),s(d,{key:1},L(ml.value,(a,i)=>(r(),s("g",{key:"time_label_".concat(i)},[a&&a.text?(r(),s(d,{key:0},[String(a.text).includes("\n")?(r(),s("text",{key:1,class:"vue-data-ui-time-label","text-anchor":e.value.chart.grid.labels.xAxisLabels.rotation>0?"start":e.value.chart.grid.labels.xAxisLabels.rotation<0?"end":"middle","font-size":k.value.xAxis,fill:e.value.chart.grid.labels.xAxisLabels.color,transform:"translate(".concat(n.value.left+n.value.width/A.value*i+n.value.width/A.value/2,", ").concat(n.value.bottom+k.value.xAxis*1.5,"), rotate(").concat(e.value.chart.grid.labels.xAxisLabels.rotation,")"),style:_({cursor:jl()?"pointer":"default"}),innerHTML:c(ii)({content:String(a.text),fontSize:k.value.xAxis,fill:e.value.chart.grid.labels.xAxisLabels.color,x:0,y:0}),onClick:()=>ql(a,i)},null,12,mr)):(r(),s("text",{key:0,class:"vue-data-ui-time-label","text-anchor":e.value.chart.grid.labels.xAxisLabels.rotation>0?"start":e.value.chart.grid.labels.xAxisLabels.rotation<0?"end":"middle","font-size":k.value.xAxis,fill:e.value.chart.grid.labels.xAxisLabels.color,transform:"translate(".concat(n.value.left+n.value.width/A.value*i+n.value.width/A.value/2,", ").concat(n.value.bottom+k.value.xAxis*1.5,"), rotate(").concat(e.value.chart.grid.labels.xAxisLabels.rotation,")"),style:_({cursor:jl()?"pointer":"default"}),onClick:()=>ql(a,i)},te(a.text||""),13,fr))],64)):h("",!0)]))),128))],512)):h("",!0),vt.value.length&&!p.value.isStacked?(r(),s("g",br,[(r(!0),s(d,null,L(vt.value,a=>(r(),s("g",{key:a.uid},[a.yTop&&a.show&&isFinite(a.yTop)?(r(),s("line",{key:0,x1:a.x1,y1:a.yTop,x2:a.x2,y2:a.yTop,stroke:a.config.line.stroke,"stroke-width":a.config.line.strokeWidth,"stroke-dasharray":a.config.line.strokeDasharray,"stroke-linecap":"round",style:{animation:"none !important"}},null,8,xr)):h("",!0),a.yBottom&&a.show&&isFinite(a.yBottom)?(r(),s("line",{key:1,x1:a.x1,y1:a.yBottom,x2:a.x2,y2:a.yBottom,stroke:a.config.line.stroke,"stroke-width":a.config.line.strokeWidth,"stroke-dasharray":a.config.line.strokeDasharray,"stroke-linecap":"round",style:{animation:"none !important"}},null,8,yr)):h("",!0),a.hasArea&&a.show&&isFinite(a.yTop)&&isFinite(a.yBottom)?(r(),s("rect",{key:2,y:Math.min(a.yTop,a.yBottom),x:a.x1,width:n.value.width,height:c(B)(a.areaHeight,0),fill:c(Me)(a.config.area.fill,a.config.area.opacity),style:{animation:"none !important"}},null,8,kr)):h("",!0),a.config.label.text&&a.show&&isFinite(a._box.y)?(r(),s("rect",oa({key:3,class:"vue-ui-xy-annotation-label-box"},{ref_for:!0},a._box,{style:{animation:"none !important",transition:"none !important"}}),null,16)):h("",!0),a.config.label.text&&a.show&&isFinite(a._text.y)?(r(),s("text",{key:4,id:a.id,class:"vue-ui-xy-annotation-label",x:a._text.x,y:a._text.y,"font-size":a.config.label.fontSize,fill:a.config.label.color,"text-anchor":a.config.label.textAnchor},te(a.config.label.text),9,wr)):h("",!0)]))),128))])):h("",!0),e.value.chart.timeTag.show&&(![null,void 0].includes($.value)||![null,void 0].includes(F.value))?(r(),s("g",$r,[(r(),s("foreignObject",{x:No(),y:n.value.bottom,width:"200",height:"40",style:{overflow:"visible !important"}},[y("div",{ref_key:"timeTagEl",ref:$t,class:"vue-ui-xy-time-tag",style:_("width: fit-content;margin: 0 auto;text-align:center;padding:3px 12px;background:".concat(e.value.chart.timeTag.backgroundColor,";color:").concat(e.value.chart.timeTag.color,";font-size:").concat(e.value.chart.timeTag.fontSize,"px")),innerHTML:Vo.value},null,12,Sr)],8,Lr)),y("circle",{cx:n.value.left+n.value.width/A.value*(($.value!==null?$.value:0)||(F.value!==null?F.value:0))+n.value.width/A.value/2,cy:n.value.bottom,r:e.value.chart.timeTag.circleMarker.radius,fill:e.value.chart.timeTag.circleMarker.color},null,8,_r)])):h("",!0)])):h("",!0),Rl.value?(r(),s("rect",oa({key:2},io.value,{"data-start":m.value.start,"data-end":m.value.end}),null,16,Ar)):h("",!0),G(l.$slots,"svg",{svg:{...lo.value,data:[...oe.value,..._e.value,...be.value],drawingArea:n.value}},void 0,!0)],512)],46,Si)),l.$slots.watermark?(r(),s("div",Mr,[G(l.$slots,"watermark",aa(la({isPrinting:c(hl)||c(Pl)})),void 0,!0)])):h("",!0),(r(!0),s(d,null,L(oe.value,(a,i)=>(r(),s(d,{key:"tag_line_".concat(a.id)},[(r(!0),s(d,null,L(a.plots,(o,t)=>(r(),s(d,{key:"tag_line_".concat(i,"_").concat(t)},[[F.value,$.value,Ue.value].includes(t)&&a.useTag&&a.useTag==="end"&&e.value.line.tag.followValue?(r(),s("div",{key:0,ref_for:!0,ref:S=>Ra(i,t,S,"right","line"),class:"vue-ui-xy-tag","data-tag":"right",style:_({position:"fixed",top:c(Xe)({svgElement:re.value,x:n.value.right+e.value.line.tag.fontSize/1.5,y:o.y,element:Fe.value["".concat(i,"_").concat(t,"_right_line")],position:"right"}).top+"px",left:c(Xe)({svgElement:re.value,x:n.value.right+e.value.line.tag.fontSize/1.5,y:o.y,element:Fe.value["".concat(i,"_").concat(t,"_right_line")],position:"right"}).left+"px",height:"fit-content",width:"fit-content",background:a.color,color:c(We)(a.color),padding:"0 6px",fontSize:e.value.line.tag.fontSize+"px",opacity:1})},[(r(),s("svg",Cr,[y("path",{d:"M 0,10 10,0 10,20 Z",fill:a.color,stroke:"none"},null,8,zr)])),y("div",{class:"vue-ui-xy-tag-content",innerHTML:c(ue)(e.value.line.tag.formatter,o.value,a.name,{datapoint:o,seriesIndex:t,serieName:a.name})},null,8,Ir)],4)):h("",!0),[F.value,$.value,Ue.value].includes(t)&&a.useTag&&a.useTag==="start"&&e.value.line.tag.followValue?(r(),s("div",{key:1,ref_for:!0,ref:S=>Ra(i,t,S,"left","line"),class:"vue-ui-xy-tag","data-tag":"left",style:_({position:"fixed",top:c(Xe)({svgElement:re.value,x:n.value.left-e.value.line.tag.fontSize/1.5,y:o.y,element:Fe.value["".concat(i,"_").concat(t,"_left_line")],position:"left"}).top+"px",left:c(Xe)({svgElement:re.value,x:n.value.left-e.value.line.tag.fontSize/1.5,y:o.y,element:Fe.value["".concat(i,"_").concat(t,"_left_line")],position:"left"}).left+"px",height:"fit-content",width:"fit-content",background:a.color,color:c(We)(a.color),padding:"0 6px",fontSize:e.value.line.tag.fontSize+"px",opacity:1})},[(r(),s("svg",Tr,[y("path",{d:"M 0,0 10,10 0,20 Z",fill:a.color,stroke:"none"},null,8,Or)])),y("div",{class:"vue-ui-xy-tag-content",innerHTML:c(ue)(e.value.line.tag.formatter,o.value,a.name,{datapoint:o,seriesIndex:t,serieName:a.name})},null,8,Nr)],4)):h("",!0)],64))),128))],64))),128)),(r(!0),s(d,null,L(be.value,(a,i)=>(r(),s(d,{key:"tag_plot_".concat(a.id)},[(r(!0),s(d,null,L(a.plots,(o,t)=>(r(),s(d,{key:"tag_plot_".concat(i,"_").concat(t)},[[F.value,$.value,Ue.value].includes(t)&&a.useTag&&a.useTag==="end"&&e.value.plot.tag.followValue?(r(),s("div",{key:0,ref_for:!0,ref:S=>Ra(i,t,S,"right","plot"),class:"vue-ui-xy-tag","data-tag":"right",style:_({position:"fixed",top:c(Xe)({svgElement:re.value,x:n.value.right+e.value.plot.tag.fontSize/1.5,y:o.y,element:Fe.value["".concat(i,"_").concat(t,"_right_plot")],position:"right"}).top+"px",left:c(Xe)({svgElement:re.value,x:n.value.right+e.value.plot.tag.fontSize/1.5,y:o.y,element:Fe.value["".concat(i,"_").concat(t,"_right_plot")],position:"right"}).left+"px",height:"fit-content",width:"fit-content",background:a.color,color:c(We)(a.color),padding:"0 6px",fontSize:e.value.plot.tag.fontSize+"px",opacity:1})},[(r(),s("svg",Vr,[y("path",{d:"M 0,10 10,0 10,20 Z",fill:a.color,stroke:"none"},null,8,Fr)])),y("div",{class:"vue-ui-xy-tag-content",innerHTML:c(ue)(e.value.plot.tag.formatter,o.value,a.name,{datapoint:o,seriesIndex:t,serieName:a.name})},null,8,Br)],4)):h("",!0),[F.value,$.value,Ue.value].includes(t)&&a.useTag&&a.useTag==="start"&&e.value.plot.tag.followValue?(r(),s("div",{key:1,ref_for:!0,ref:S=>Ra(i,t,S,"left","plot"),class:"vue-ui-xy-tag","data-tag":"left",style:_({position:"fixed",top:c(Xe)({svgElement:re.value,x:n.value.left-e.value.plot.tag.fontSize/1.5,y:o.y,element:Fe.value["".concat(i,"_").concat(t,"_left_plot")],position:"left"}).top+"px",left:c(Xe)({svgElement:re.value,x:n.value.left-e.value.plot.tag.fontSize/1.5,y:o.y,element:Fe.value["".concat(i,"_").concat(t,"_left_plot")],position:"left"}).left+"px",height:"fit-content",width:"fit-content",background:a.color,color:c(We)(a.color),padding:"0 6px",fontSize:e.value.plot.tag.fontSize+"px",opacity:1})},[(r(),s("svg",Rr,[y("path",{d:"M 0,0 10,10 0,20 Z",fill:a.color,stroke:"none"},null,8,Hr)])),y("div",{class:"vue-ui-xy-tag-content",innerHTML:c(ue)(e.value.plot.tag.formatter,o.value,a.name,{datapoint:o,seriesIndex:t,serieName:a.name})},null,8,Pr)],4)):h("",!0)],64))),128))],64))),128)),e.value.chart.zoom.show&&Te.value>6&&cl.value&&Ql.value?(r(),Ae(ki,{key:5,ref_key:"chartSlicer",ref:ze,allMinimaps:zo.value,background:e.value.chart.zoom.color,borderColor:e.value.chart.backgroundColor,customFormat:e.value.chart.zoom.customFormat,cutNullValues:e.value.line.cutNullValues,enableRangeHandles:e.value.chart.zoom.enableRangeHandles,enableSelectionDrag:e.value.chart.zoom.enableSelectionDrag,end:m.value.end,focusOnDrag:e.value.chart.zoom.focusOnDrag,focusRangeRatio:e.value.chart.zoom.focusRangeRatio,fontSize:e.value.chart.zoom.fontSize,useResetSlot:e.value.chart.zoom.useResetSlot,immediate:!e.value.chart.zoom.preview.enable,inputColor:e.value.chart.zoom.color,isPreview:Rl.value,labelLeft:de.value[0]?de.value[0].text:"",labelRight:de.value.at(-1)?de.value.at(-1).text:"",max:Te.value,min:0,minimap:Co.value,minimapCompact:e.value.chart.zoom.minimap.compact,minimapFrameColor:e.value.chart.zoom.minimap.frameColor,minimapIndicatorColor:e.value.chart.zoom.minimap.indicatorColor,minimapLineColor:e.value.chart.zoom.minimap.lineColor,minimapMerged:e.value.chart.zoom.minimap.merged,minimapSelectedColor:e.value.chart.zoom.minimap.selectedColor,minimapSelectedColorOpacity:e.value.chart.zoom.minimap.selectedColorOpacity,minimapSelectedIndex:$.value,minimapSelectionRadius:e.value.chart.zoom.minimap.selectionRadius,preciseLabels:pt.value.length?pt.value:fl.value,refreshEndPoint:e.value.chart.zoom.endIndex!==null?e.value.chart.zoom.endIndex+1:Math.max(...Ka.dataset.map(a=>He(a.series).length)),refreshStartPoint:e.value.chart.zoom.startIndex!==null?e.value.chart.zoom.startIndex:0,selectColor:e.value.chart.zoom.highlightColor,selectedSeries:Ke.value,smoothMinimap:e.value.chart.zoom.minimap.smooth,start:m.value.start,textColor:e.value.chart.color,timeLabels:fl.value,usePreciseLabels:e.value.chart.grid.labels.xAxisLabels.datetimeFormatter.enable&&!e.value.chart.zoom.useDefaultFormat,valueEnd:m.value.end,valueStart:m.value.start,verticalHandles:e.value.chart.zoom.minimap.verticalHandles,onFutureEnd:u[1]||(u[1]=a=>Hl("end",a)),onFutureStart:u[2]||(u[2]=a=>Hl("start",a)),onReset:xo,onTrapMouse:go,"onUpdate:end":bo,"onUpdate:start":mo},{"reset-action":le(({reset:a})=>[G(l.$slots,"reset-action",aa(la({reset:a})),void 0,!0)]),_:3},8,["allMinimaps","background","borderColor","customFormat","cutNullValues","enableRangeHandles","enableSelectionDrag","end","focusOnDrag","focusRangeRatio","fontSize","useResetSlot","immediate","inputColor","isPreview","labelLeft","labelRight","max","minimap","minimapCompact","minimapFrameColor","minimapIndicatorColor","minimapLineColor","minimapMerged","minimapSelectedColor","minimapSelectedColorOpacity","minimapSelectedIndex","minimapSelectionRadius","preciseLabels","refreshEndPoint","refreshStartPoint","selectColor","selectedSeries","smoothMinimap","start","textColor","timeLabels","usePreciseLabels","valueEnd","valueStart","verticalHandles"])):h("",!0),y("div",{id:"legend-bottom-".concat(H.value)},null,8,Dr),Nl.value?(r(),Ae(Go,{key:6,to:e.value.chart.legend.position==="top"?"#legend-top-".concat(H.value):"#legend-bottom-".concat(H.value)},[e.value.chart.legend.show?(r(),s("div",{key:0,ref_key:"chartLegend",ref:ra,class:"vue-ui-xy-legend",style:_({fontSize:"var(--legend-font-size, ".concat((v=e.value.chart.legend.fontSize)!=null?v:14,"px)")})},[(r(!0),s(d,null,L(Se.value,(a,i)=>(r(),s("div",{key:"div_legend_item_".concat(i),onClick:o=>ut(a),class:ta({"vue-ui-xy-legend-item-alone":Se.value.length===1,"vue-ui-xy-legend-item":!0,"vue-ui-xy-legend-item-segregated":K.value.includes(a.id)})},[ba.value[a.type]==="line"?(r(),s("svg",Yr,[y("rect",{x:"0",y:"7.5",rx:"1.5",stroke:e.value.chart.backgroundColor,"stroke-width":.5,height:"3",width:"20",fill:a.color},null,8,jr),da(Ja,{plot:{x:10,y:9},radius:4,color:a.color,shape:["triangle","square","diamond","pentagon","hexagon","star"].includes(a.shape)?a.shape:"circle",stroke:e.value.chart.backgroundColor,strokeWidth:.5},null,8,["color","shape","stroke"])])):ba.value[a.type]==="bar"?(r(),s("svg",Gr,[ba.value[a.type]==="bar"&&l.$slots.pattern?(r(),s("rect",{key:0,x:"4",y:"4",rx:"1",height:"32",width:"32",stroke:"none",fill:a.color},null,8,Wr)):h("",!0),ba.value[a.type]==="bar"?(r(),s("rect",{key:1,x:"4",y:"4",rx:"1",height:"32",width:"32",stroke:"none",fill:l.$slots.pattern?"url(#pattern_".concat(H.value,"_").concat(a.slotAbsoluteIndex,")"):a.color},null,8,Xr)):h("",!0)])):(r(),s("svg",qr,[da(Ja,{plot:{x:6,y:6},radius:5,color:a.color,shape:["triangle","square","diamond","pentagon","hexagon","star"].includes(a.shape)?a.shape:"circle"},null,8,["color","shape"])])),y("span",{style:_("color:".concat(e.value.chart.legend.color))},te(a.name),5)],10,Er))),128))],4)):(r(),s("div",{key:1,ref_key:"chartLegend",ref:ra},[G(l.$slots,"legend",{legend:Se.value},void 0,!0)],512))],8,["to"])):h("",!0),l.$slots.source?(r(),s("div",{key:7,ref_key:"source",ref:fa,dir:"auto"},[G(l.$slots,"source",{},void 0,!0)],512)):h("",!0),da(c(Xt),{show:p.value.showTooltip&&Cl.value,backgroundColor:e.value.chart.tooltip.backgroundColor,color:e.value.chart.tooltip.color,fontSize:e.value.chart.tooltip.fontSize,borderRadius:e.value.chart.tooltip.borderRadius,borderColor:e.value.chart.tooltip.borderColor,borderWidth:e.value.chart.tooltip.borderWidth,backgroundOpacity:e.value.chart.tooltip.backgroundOpacity,position:e.value.chart.tooltip.position,offsetY:e.value.chart.tooltip.offsetY,parent:l.$refs.chart,content:Io.value,isFullscreen:qe.value,isCustom:e.value.chart.tooltip.customFormat&&typeof e.value.chart.tooltip.customFormat=="function",smooth:e.value.chart.tooltip.smooth,backdropFilter:e.value.chart.tooltip.backdropFilter,smoothForce:e.value.chart.tooltip.smoothForce,smoothSnapThreshold:e.value.chart.tooltip.smoothSnapThreshold},{"tooltip-before":le(()=>[G(l.$slots,"tooltip-before",aa(la({...ht.value})),void 0,!0)]),"tooltip-after":le(()=>[G(l.$slots,"tooltip-after",aa(la({...ht.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","fontSize","borderRadius","borderColor","borderWidth","backgroundOpacity","position","offsetY","parent","content","isFullscreen","isCustom","smooth","backdropFilter","smoothForce","smoothSnapThreshold"]),cl.value&&e.value.chart.userOptions.buttons.table?(r(),Ae(qo(_a.value.component),oa({key:8},_a.value.props,{ref_key:"tableUnit",ref:na,onClose:_t}),zt({content:le(()=>[y("div",{style:_("".concat(c(hl)||e.value.table.useDialog?"":"max-height:400px",";").concat(e.value.table.useDialog?"height: fit-content; ":"",";overflow:auto;width:100%;").concat(e.value.table.useDialog?"":"margin-top:48px"))},[y("div",Ur,[Wo(y("input",{type:"checkbox","onUpdate:modelValue":u[4]||(u[4]=a=>ya.value=a)},null,512),[[Xo,ya.value]]),y("div",{onClick:u[5]||(u[5]=a=>ya.value=!ya.value),style:{cursor:"pointer"}},[da(c(_l),{name:"chartLine",size:20,stroke:e.value.chart.color},null,8,["stroke"])])]),ya.value?(r(),Ae(c(Ut),{key:"sparkline_".concat(rl.value),dataset:_o.value,config:Ao.value},null,8,["dataset","config"])):(r(),Ae(c(Wt),{key:"table_".concat(Il.value),colNames:Wa.value.colNames,head:Wa.value.head,body:Wa.value.body,config:Wa.value.config,title:e.value.table.useDialog?"":_a.value.title,withCloseButton:!e.value.table.useDialog,onClose:_t},{th:le(({th:a})=>[y("div",{innerHTML:a},null,8,Zr)]),td:le(({td:a})=>[It(te(isNaN(Number(a))?a:c(Ve)({p:e.value.chart.labels.prefix,v:a,s:e.value.chart.labels.suffix,r:e.value.table.rounding})),1)]),_:1},8,["colNames","head","body","config","title","withCloseButton"]))],4)]),_:2},[e.value.table.useDialog?{name:"title",fn:le(()=>[It(te(_a.value.title),1)]),key:"0"}:void 0,e.value.table.useDialog?{name:"actions",fn:le(()=>[y("button",{tabindex:"0",class:"vue-ui-user-options-button",onClick:u[3]||(u[3]=a=>xl(e.value.chart.userOptions.callbacks.csv))},[da(c(_l),{name:"excel",stroke:_a.value.props.color},null,8,["stroke"])])]),key:"1"}:void 0]),1040)):h("",!0),c(se)?(r(),Ae(hi,{key:9})):h("",!0)],46,$i)}}},gs=Zo(Qr,[["__scopeId","data-v-a62a27be"]]);export{gs as default};
